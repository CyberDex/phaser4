!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Phaser4={})}(this,(function(t){"use strict";function e(t=document.createElement("audio")){return""!==t.canPlayType("audio/x-m4a")||""!==t.canPlayType("audio/aac")}function r(t=document.createElement("audio")){return""!==t.canPlayType('audio/mpeg; codecs="mp3"')}function i(t=document.createElement("audio")){return""!==t.canPlayType('audio/ogg; codecs="vorbis"')}function n(t=document.createElement("audio")){return""!==t.canPlayType('audio/ogg; codecs="opus"')||""!==t.canPlayType('audio/webm; codecs="opus"')}function s(t=document.createElement("audio")){return""!==t.canPlayType('audio/wav; codecs="1"')}function a(t=document.createElement("audio")){return""!==t.canPlayType('audio/webm; codecs="vorbis"')}function o(){return window.hasOwnProperty("Audio")}function h(){return window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext")}function u(){const t={audioData:o(),m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:h(),webm:!1};if(t.audioData){const o=document.createElement("audio");try{!!o.canPlayType&&(t.m4a=e(o),t.mp3=r(o),t.ogg=i(o),t.opus=n(o),t.wav=s(o),t.webm=a(o))}catch(e){t.audioData=!1}}return t}function c(){const t=/Chrome\/(\d+)/.test(navigator.userAgent);return{chrome:t,chromeVersion:t?parseInt(RegExp.$1,10):0}}function l(){return{edge:/Edge\/\d+/.test(navigator.userAgent)}}function d(){const t=/Firefox\D+(\d+)/.test(navigator.userAgent);return{firefox:t,firefoxVersion:t?parseInt(RegExp.$1,10):0}}function f(){const t=navigator.userAgent,e={iOS:!1,iOSVersion:0,iPhone:!1,iPad:!1};return/iP[ao]d|iPhone/i.test(t)&&(navigator.appVersion.match(/OS (\d+)/),e.iOS=!0,e.iOSVersion=parseInt(RegExp.$1,10),e.iPhone=-1!==t.toLowerCase().indexOf("iphone"),e.iPad=-1!==t.toLowerCase().indexOf("ipad")),e}function m(){const{iOS:t}=f();return{mobileSafari:/AppleWebKit/.test(navigator.userAgent)&&t}}function x(){const t=/MSIE (\d+\.\d+);/.test(navigator.userAgent);return{ie:t,ieVersion:t?parseInt(RegExp.$1,10):0}}function p(){return{opera:/Opera/.test(navigator.userAgent)}}function g(){const t=navigator.userAgent;return/Windows Phone/i.test(t)||/IEMobile/i.test(t)}function y(){const t=navigator.userAgent;return{safari:/Safari/.test(t)&&!g(),safariVersion:/Version\/(\d+)\./.test(t)?parseInt(RegExp.$1,10):0}}function T(){return{silk:/Silk/.test(navigator.userAgent)}}function b(){const t=/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(navigator.userAgent);return{trident:t,tridentVersion:t?parseInt(RegExp.$1,10):0,tridentIEVersion:t?parseInt(RegExp.$3,10):0}}function S(){const{chrome:t,chromeVersion:e}=c(),{edge:r}=l(),{firefox:i,firefoxVersion:n}=d();let{ie:s,ieVersion:a}=x();const{mobileSafari:o}=m(),{opera:h}=p(),{safari:u,safariVersion:f}=y(),{silk:g}=T(),{trident:S,tridentVersion:v,tridentIEVersion:w}=b();return S&&(s=!0,a=w),{chrome:t,chromeVersion:e,edge:r,firefox:i,firefoxVersion:n,ie:s,ieVersion:a,mobileSafari:o,opera:h,safari:u,safariVersion:f,silk:g,trident:S,tridentVersion:v}}function v(){return/Android/.test(navigator.userAgent)}function w(){return/CrOS/.test(navigator.userAgent)}function E(){return window.hasOwnProperty("cordova")}function A(){return/Crosswalk/.test(navigator.userAgent)}function _(){return window.hasOwnProperty("ejecta")}function M(){return"undefined"!=typeof process&&"object"==typeof process.versions&&process.versions.hasOwnProperty("node")}function R(){return M()&&!!process.versions.electron}function F(){const t=navigator.userAgent;return/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)}function C(){return/Linux/.test(navigator.userAgent)}function P(){const t=navigator.userAgent;return/Mac OS/.test(t)&&!/like Mac OS/.test(t)}function D(){return M()&&!!process.versions["node-webkit"]}function B(){return navigator.hasOwnProperty("standalone")}function I(){return/Windows/.test(navigator.userAgent)}function O(){const t=navigator.userAgent,{iOS:e,iOSVersion:r,iPad:i,iPhone:n}=f(),s={android:v(),chromeOS:w(),cordova:E(),crosswalk:A(),desktop:!1,ejecta:_(),electron:R(),iOS:e,iOSVersion:r,iPad:i,iPhone:n,kindle:F(),linux:C(),macOS:P(),node:M(),nodeWebkit:D(),pixelRatio:1,webApp:B(),windows:I(),windowsPhone:g()};s.windowsPhone&&(s.android=!1,s.iOS=!1,s.macOS=!1,s.windows=!0);const a=/Silk/.test(t);return(s.windows||s.macOS||s.linux&&!a||s.chromeOS)&&(s.desktop=!0),(s.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(s.desktop=!1),s}function z(t=document.createElement("video")){return""!==t.canPlayType('video/mp4; codecs="avc1.42E01E"')}function L(t=document.createElement("video")){return""!==t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"')}function U(t=document.createElement("video")){return""!==t.canPlayType('video/ogg; codecs="theora"')}function k(t=document.createElement("video")){return""!==t.canPlayType('video/webm; codecs="vp9"')}function V(t=document.createElement("video")){return""!==t.canPlayType('video/webm; codecs="vp8, vorbis"')}function G(){const t={h264Video:!1,hlsVideo:!1,mp4Video:!1,oggVideo:!1,vp9Video:!1,webmVideo:!1},e=document.createElement("video");try{!!e.canPlayType&&(t.h264Video=z(e),t.hlsVideo=L(e),t.oggVideo=U(e),t.vp9Video=k(e),t.webmVideo=V(e))}catch(t){}return t.mp4Video=t.hlsVideo,t}var N={Audio:Object.freeze({__proto__:null,canPlayM4A:e,canPlayMP3:r,canPlayOGG:i,canPlayOpus:n,canPlayWAV:s,canPlayWebM:a,GetAudio:u,hasAudio:o,hasWebAudio:h}),Browser:Object.freeze({__proto__:null,GetBrowser:S,isChrome:c,isEdge:l,isFirefox:d,isMobileSafari:m,isMSIE:x,isOpera:p,isSafari:y,isSilk:T,isTrident:b}),OS:Object.freeze({__proto__:null,GetOS:O,isAndroid:v,isChromeOS:w,isCordova:E,isCrosswalk:A,isEjecta:_,isElectron:R,isiOS:f,isKindle:F,isLinux:C,isMacOS:P,isNode:M,isNodeWebkit:D,isWebApp:B,isWindows:I,isWindowsPhone:g}),Video:Object.freeze({__proto__:null,canPlayH264Video:z,canPlayHLSVideo:L,canPlayOGGVideo:U,canPlayVP9Video:k,canPlayWebMVideo:V,GetVideo:G})},W=Object.freeze({__proto__:null,default:N,canPlayM4A:e,canPlayMP3:r,canPlayOGG:i,canPlayOpus:n,canPlayWAV:s,canPlayWebM:a,GetAudio:u,hasAudio:o,hasWebAudio:h,GetBrowser:S,isChrome:c,isEdge:l,isFirefox:d,isMobileSafari:m,isMSIE:x,isOpera:p,isSafari:y,isSilk:T,isTrident:b,GetOS:O,isAndroid:v,isChromeOS:w,isCordova:E,isCrosswalk:A,isEjecta:_,isElectron:R,isiOS:f,isKindle:F,isLinux:C,isMacOS:P,isNode:M,isNodeWebkit:D,isWebApp:B,isWindows:I,isWindowsPhone:g,canPlayH264Video:z,canPlayHLSVideo:L,canPlayOGGVideo:U,canPlayVP9Video:k,canPlayWebMVideo:V,GetVideo:G});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function X(t){let e;return t&&("string"==typeof t?e=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(e=t)),e||(e=document.body),e}function j(t){const e=document.readyState;if("complete"===e||"interactive"===e)return void t();const r=()=>{document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),t()};document.body?window.hasOwnProperty("cordova")?document.addEventListener("deviceready",r,!0):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */var Y=Object.freeze({__proto__:null,AddToDOM:function(t,e){return X(e).appendChild(t),t},DOMContentLoaded:j,GetElement:X,ParseXML:function(t){let e;try{return e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null}catch(t){return null}},RemoveFromDOM:function(t){t.parentNode&&t.parentNode.removeChild(t)}});class H{constructor(t,e,r=!1){this.callback=t,this.context=e,this.once=r}}class q{constructor(){this._events=new Map}on(t,e,r=this,i=!1){if("function"!=typeof e)throw new TypeError("The listener must be a function");const n=new H(e,r,i),s=this._events.get(t);return s?s.add(n):this._events.set(t,new Set([n])),this}once(t,e,r=this){return this.on(t,e,r,!0)}clearEvent(t){return this._events.delete(t),this}eventNames(){return[...this._events.keys()]}listeners(t){const e=[];return this._events.get(t).forEach(t=>{e.push(t.callback)}),e}listenerCount(t){const e=this._events.get(t);return e?e.size:0}emit(t,...e){if(!this._events.has(t))return!1;const r=this._events.get(t);for(const t of r)t.callback.apply(t.context,e),t.once&&r.delete(t);return 0===r.size&&this._events.delete(t),!0}off(t,e,r,i){if(e){const n=this._events.get(t),s=!r,a=void 0!==i;for(const t of n)t.callback===e&&s&&t.context===console&&a&&t.once===i&&n.delete(t);0===n.size&&this._events.delete(t)}else this._events.delete(t);return this}removeAllListeners(t){t?this._events.delete(t):this._events.clear()}}var $=Object.freeze({__proto__:null,EventEmitter:q});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
class K{constructor(t=0,e=0,r=0,i=0){this.set(t,e,r,i)}set(t=0,e=0,r=0,i=0){return this.x=t,this.y=e,this.width=r,this.height=i,this}contains(t,e){
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
return function(t,e,r){return!(t.width<=0||t.height<=0)&&(t.x<=e&&t.x+t.width>=e&&t.y<=r&&t.y+t.height>=r)}(this,t,e)}set right(t){t<=this.x?this.width=0:this.width=t-this.x}get right(){return this.x+this.width}set bottom(t){t<=this.y?this.height=0:this.height=t-this.y}get bottom(){return this.y+this.height}}class Z{constructor(){this.name="",this.type="GameObject",this.willRender=!0,this.willUpdate=!0,this.dirtyRender=!0,this.dirtyUpdate=!0,this.dirtyFrame=0,this.isParent=!1,this.visible=!0,this.inputEnabled=!1,this.inputEnabledChildren=!0,this.fixBounds=!1,this.bounds=new K}isRenderable(){return this.visible&&this.willRender}setDirtyRender(t=!0){this.dirtyRender=!0;const e=this.scene;return t&&e&&(this.dirtyFrame=e.game.frame),this}setDirtyUpdate(){return this.dirtyUpdate=!0,this}getBounds(t=!1){return this.bounds}setBounds(t,e,r,i){return this.bounds.set(t,e,r,i),this}update(){}updateTransform(){return this}render(){}destroy(t){this.scene=null}}var J=0,Q=1,tt=2,et=3,rt=4,it=5,nt=6,st=7,at=8;class ot{constructor(t=1,e=0,r=0,i=1,n=0,s=0){this.set(t,e,r,i,n,s)}set(t=1,e=0,r=0,i=1,n=0,s=0){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=s,this}identity(){return this.set()}toArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}fromArray(t){return this.set(t[0],t[1],t[2],t[3],t[4],t[5])}[Symbol.iterator](){return this.toArray()[Symbol.iterator]()}}function ht(t,e){return e.set(t.a,t.b,t.c,t.d,t.tx,t.ty)}class ut extends Z{constructor(t=0,e=0){super();const r=Float32Array.BYTES_PER_ELEMENT,i=new ArrayBuffer(10*r);this.transformBuffer=i,this.transformData=new Float32Array(i,0,10),this.localTransform=new ot,this.worldTransform=new ot,this.transformData.set([t,e,.5,.5,0,0,1,1,0,0]),this.width=0,this.height=0,this.updateCache()}updateCache(){const t=this.localTransform,{rotation:e,skewX:r,skewY:i,scaleX:n,scaleY:s,x:a,y:o}=this;return t.set(Math.cos(e+i)*n,Math.sin(e+i)*n,-Math.sin(e-r)*s,Math.cos(e-r)*s,a,o),this.updateTransform()}updateTransform(){this.setDirtyRender();const t=this.parent,e=this.localTransform,r=this.worldTransform;if(e.tx=this.x,e.ty=this.y,!t)return ht(e,r),this;const{a:i,b:n,c:s,d:a,tx:o,ty:h}=e,{a:u,b:c,c:l,d:d,tx:f,ty:m}=t.worldTransform;return r.set(i*u+n*l,i*c+n*d,s*u+a*l,s*c+a*d,o*u+h*l+f,o*c+h*d+m),this}setSize(t,e){return this.width=t,this.height=e,this}setOrigin(t,e=t){const r=this.transformData;return r[tt]=t,r[et]=e,this}setPosition(t,e=t){const r=this.transformData;return r[J]=t,r[Q]=e,this.updateTransform()}setRotation(t){const e=this.transformData;return t!==e[at]&&(e[at]=t,this.updateCache()),this}setScale(t,e=t){const r=this.transformData;return r[nt]=t,r[st]=e,this.updateCache()}setSkew(t,e=t){const r=this.transformData;return r[rt]=t,r[it]=e,this.updateCache()}destroy(){super.destroy(),this.localTransform=null,this.worldTransform=null,this.transformBuffer=null,this.transformData=null}set x(t){this.transformData[J]=t,this.updateTransform()}get x(){return this.transformData[J]}set y(t){this.transformData[Q]=t,this.updateTransform()}get y(){return this.transformData[Q]}get originX(){return this.transformData[tt]}set originX(t){this.transformData[tt]=t}get originY(){return this.transformData[et]}set originY(t){this.transformData[et]=t}set skewX(t){const e=this.transformData;t!==e[rt]&&(e[rt]=t,this.updateCache())}get skewX(){return this.transformData[rt]}set skewY(t){const e=this.transformData;t!==e[it]&&(e[it]=t,this.updateCache())}get skewY(){return this.transformData[it]}set scaleX(t){const e=this.transformData;t!==e[nt]&&(e[nt]=t,this.updateCache())}get scaleX(){return this.transformData[nt]}set scaleY(t){const e=this.transformData;t!==e[st]&&(e[st]=t,this.updateCache())}get scaleY(){return this.transformData[st]}set rotation(t){const e=this.transformData;t!==e[at]&&(e[at]=t,this.updateCache())}get rotation(){return this.transformData[at]}}class ct extends ut{constructor(t=0,e=0){super(t,e),this._alpha=1,this.children=[],this.isParent=!0,this.type="Container"}update(t,e){const r=this.children;for(let i=0;i<r.length;i++){let n=r[i];n&&n.willUpdate&&n.update(t,e)}}destroy(t){this.children=null,super.destroy()}get numChildren(){return this.children.length}get alpha(){return this._alpha}set alpha(t){t!==this._alpha&&(this._alpha=t,this.setDirtyRender())}}class lt{constructor(t,e,r,i,n,s){this.trimmed=!1,this.texture=t,this.key=e,this.x=r,this.y=i,this.width=n,this.height=s,this.sourceSizeWidth=n,this.sourceSizeHeight=s,this.updateUVs()}setPivot(t,e){this.pivot={x:t,y:e}}setSize(t,e){this.width=t,this.height=e,this.sourceSizeWidth=t,this.sourceSizeHeight=e,this.updateUVs()}setSourceSize(t,e){this.sourceSizeWidth=t,this.sourceSizeHeight=e}setTrim(t,e,r,i,n,s){this.trimmed=!0,this.sourceSizeWidth=t,this.sourceSizeHeight=e,this.spriteSourceSizeX=r,this.spriteSourceSizeY=i,this.spriteSourceSizeWidth=n,this.spriteSourceSizeHeight=s}updateUVs(){const{x:t,y:e,width:r,height:i}=this,n=this.texture.width,s=this.texture.height;this.u0=t/n,this.v0=e/s,this.u1=(t+r)/n,this.v1=(e+i)/s}}let dt;var ft={get:function(){return dt},set:function(t){dt=t}};function mt(t){const e=ft.get();e.isTexture(t)&&e.deleteTexture(t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function xt(t,e){return!(t<1||e<1)&&(0==(t&t-1)&&0==(e&e-1))}function pt(t,e,r,i=!0,n=!0){const s=ft.get(),a=s.createTexture();s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,a),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t?(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t),e=t.width,r=t.height):s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,r,0,s.RGBA,s.UNSIGNED_BYTE,null);const o=n?s.LINEAR:s.NEAREST;s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,o);const h=t&&xt(e,r),u=h&&i?s.REPEAT:s.CLAMP_TO_EDGE;return s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,u),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,u),h&&s.generateMipmap(s.TEXTURE_2D),a}class gt{constructor(t,e,r){this.key="",this.glIndex=0,this.glIndexCounter=-1,t&&(e=t.width,r=t.height),this.image=t,this.width=e,this.height=r,this.frames=new Map,this.data={},this.add("__BASE",0,0,e,r)}add(t,e,r,i,n){if(this.frames.has(t))return null;let s=new lt(this,t,e,r,i,n);return this.frames.set(t,s),this.firstFrame&&"__BASE"!==this.firstFrame.key||(this.firstFrame=s),s}get(t){if(!t)return this.firstFrame;t instanceof lt&&(t=t.key);let e=this.frames.get(t);return e||(console.warn("Texture.frame missing: "+t),e=this.firstFrame),e}getFrames(t){const e=[];return t.forEach(t=>{e.push(this.get(t))}),e}getFramesInRange(t,e,r,i=0,n=""){const s=[],a=e<r?1:-1;r+=a;for(let o=e;o!==r;o+=a)s.push(t+o.toString().padStart(i,"0")+n);return this.getFrames(s)}setSize(t,e){this.width=t,this.height=e,this.frames.get("__BASE").setSize(t,e)}setFilter(t){!function(t,e=!0){const r=ft.get();r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t);const i=e?r.LINEAR:r.NEAREST;r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,i)}(this.glTexture,t)}createGL(){this.glTexture&&mt(this.glTexture),this.glTexture=pt(this.image)}updateGL(){this.glTexture?function(t,e,r=!1){const i=ft.get(),n=t.width,s=t.height;n>0&&s>0&&(i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,r),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t))}(this.image,this.glTexture):this.glTexture=pt(this.image)}destroy(){this.frames.clear(),this.image=null,this.firstFrame=null,this.data=null,mt(this.glTexture),function(t){const e=ft.get();e.isFramebuffer(t)&&e.deleteFramebuffer(t)}(this.glFramebuffer)}}let yt;var Tt={get:function(){return yt},set:function(t){yt=t}};function bt(t,...e){e.forEach(e=>{let r=e.texture.get(t);if(r===e.frame)return;e.frame=r,e.setSize(r.sourceSizeWidth,r.sourceSizeHeight),e.setBounds(e.x,e.y,e.width,e.height),r.pivot&&e.setOrigin(r.pivot.x,r.pivot.y);let i=e.vertexData;i[2]=r.u0,i[3]=r.v0,i[8]=r.u0,i[9]=r.v1,i[14]=r.u1,i[15]=r.v1,i[20]=r.u1,i[21]=r.v0,e.setDirtyRender(),e.hasTexture=!0})}function St(t,e,...r){r.forEach(r=>{t&&(r.texture=t instanceof gt?t:Tt.get().textures.get(t),r.texture?(r.texture.glTexture||r.texture.createGL(),bt(e,r)):console.warn("Invalid Texture key: "+t))})}class vt extends ct{constructor(t,e,r,i){super(t,e),this.hasTexture=!1,this._tint=16777215,this._prevTextureID=-1,this.vertexData=new Float32Array(24).fill(0),this.vertexColor=new Uint32Array(4).fill(4294967295),this.vertexAlpha=new Float32Array(4).fill(1),this.vertexTint=new Uint32Array(4).fill(16777215),this.type="Sprite",this.setTexture(r,i),this.setBounds(t,e,this.width,this.height)}getBounds(t=!1){return this.dirtyRender&&this.updateVertices(),super.getBounds(t),this.bounds}setTexture(t,e){return St(t,e,this),this}setFrame(t){return bt(t,this),this}isRenderable(){return this.visible&&this.willRender&&this.hasTexture&&this.alpha>0}updateVertices(){const t=this.vertexData;this.dirtyRender=!1;const e=this.frame,r=this.originX,i=this.originY;let n,s,a,o;const[h,u,c,l,d,f]=this.worldTransform;e.trimmed?(s=e.spriteSourceSizeX-r*e.sourceSizeWidth,n=s+e.spriteSourceSizeWidth,o=e.spriteSourceSizeY-i*e.sourceSizeHeight,a=o+e.spriteSourceSizeHeight):(s=-r*e.sourceSizeWidth,n=s+e.sourceSizeWidth,o=-i*e.sourceSizeHeight,a=o+e.sourceSizeHeight);const m=s*h+o*c+d,x=s*u+o*l+f,p=s*h+a*c+d,g=s*u+a*l+f,y=n*h+a*c+d,T=n*u+a*l+f,b=n*h+o*c+d,S=n*u+o*l+f;t[0]=m,t[1]=x,t[6]=p,t[7]=g,t[12]=y,t[13]=T,t[18]=b,t[19]=S;const v=this.bounds;v.x=Math.min(m,p,y,b),v.y=Math.min(x,g,T,S),v.right=Math.max(m,p,y,b),v.bottom=Math.max(x,g,T,S)}uploadBuffers(t,e,r,i=!0){this.dirtyRender&&this.updateVertices();const n=this.vertexData,s=this.texture.glIndex;i&&s!==this._prevTextureID&&(this._prevTextureID=s,n[4]=s,n[10]=s,n[16]=s,n[22]=s),t.set(n,r);const a=this.vertexColor;e[r+5]=a[0],e[r+11]=a[2],e[r+17]=a[3],e[r+23]=a[1]}destroy(t){super.destroy(t),this.texture=null,this.frame=null,this.hasTexture=!1,this.vertexData=null,this.vertexColor=null,this.vertexAlpha=null,this.vertexTint=null}get tint(){return this._tint}set tint(t){this._tint=t}}var wt={AddAnimation:function(t,e,...r){r.forEach(r=>{r.anims.has(t)||r.anims.set(t,r.texture.getFrames(e))})},AddAnimationFromAtlas:function(t,...e){const{key:r,prefix:i="",start:n=0,end:s,zeroPad:a=0,suffix:o=""}=t;e.forEach(t=>{t.anims.has(r)||t.anims.set(r,t.texture.getFramesInRange(i,n,s,a,o))})},AnimatedSprite:class extends vt{constructor(t,e,r,i){super(t,e,r,i),this.type="AnimatedSprite",this.anims=new Map,this.animData={currentAnim:"",currentFrames:[],frameIndex:0,animSpeed:0,nextFrameTime:0,repeatCount:0,isPlaying:!1,yoyo:!1,pendingStart:!1,playingForward:!0,delay:0,repeatDelay:0,onStart:null,onRepeat:null,onComplete:null}}stop(){const t=this.animData;return t.isPlaying=!1,t.currentAnim="",t.onComplete&&t.onComplete(this,t.currentAnim),this}nextFrame(){const t=this.animData;if(t.frameIndex++,t.frameIndex===t.currentFrames.length)if(t.yoyo)t.frameIndex--,t.playingForward=!1;else{if(!(-1===t.repeatCount||t.repeatCount>0))return t.frameIndex--,this.stop();t.frameIndex=0,-1!==t.repeatCount&&t.repeatCount--,t.onRepeat&&t.onRepeat(this,t.currentAnim),t.nextFrameTime+=t.repeatDelay}return this.setFrame(t.currentFrames[t.frameIndex]),t.nextFrameTime+=t.animSpeed,this}prevFrame(){const t=this.animData;if(t.frameIndex--,-1===t.frameIndex){if(!(-1===t.repeatCount||t.repeatCount>0))return t.frameIndex=0,this.stop();t.frameIndex=0,t.playingForward=!0,-1!==t.repeatCount&&t.repeatCount--,t.onRepeat&&t.onRepeat(this,t.currentAnim),t.nextFrameTime+=t.repeatDelay}return this.setFrame(t.currentFrames[t.frameIndex]),t.nextFrameTime+=t.animSpeed,this}update(t,e){super.update(t,e);const r=this.animData;r.isPlaying&&(r.nextFrameTime-=1e3*t,r.nextFrameTime=Math.max(r.nextFrameTime,0),0===r.nextFrameTime&&(r.pendingStart?(r.onStart&&r.onStart(this,r.currentAnim),r.pendingStart=!1,r.nextFrameTime=r.animSpeed):r.playingForward?this.nextFrame():this.prevFrame()))}get isPlaying(){return this.animData.isPlaying}get isPlayingForward(){return this.animData.isPlaying&&this.animData.playingForward}get currentAnimation(){return this.animData.currentAnim}destroy(t){super.destroy(t),this.anims.clear(),this.animData=null}},ClearAnimations:function(...t){t.forEach(t=>{t.anims.clear()})},Play:function(t,e={},...r){const{speed:i=24,repeat:n=0,yoyo:s=!1,startFrame:a=0,delay:o=0,repeatDelay:h=0,onStart:u=null,onRepeat:c=null,onComplete:l=null,forceRestart:d=!1}=e;r.forEach(e=>{const r=e.animData;if(r.isPlaying)if(r.currentAnim!==t)r.isPlaying=!1,r.currentAnim="",r.onComplete&&r.onComplete(e,r.currentAnim);else if(!d)return;e.anims.has(t)&&(r.currentFrames=e.anims.get(t),r.currentAnim=t,r.frameIndex=a,r.animSpeed=1e3/i,r.nextFrameTime=r.animSpeed+o,r.isPlaying=!0,r.playingForward=!0,r.yoyo=s,r.repeatCount=n,r.delay=o,r.repeatDelay=h,r.onStart=u,r.onRepeat=c,r.onComplete=l,0===o?(e.setFrame(r.currentFrames[r.frameIndex]),u&&u(e,t)):r.pendingStart=!0)})},RemoveAnimation:function(t,...e){e.forEach(e=>{e.anims.delete(t)})},Stop:function(...t){t.forEach(t=>{const e=t.animData;e.isPlaying=!1,e.currentAnim="",e.onComplete&&e.onComplete(t,e.currentAnim)})}};function Et(t,...e){const r=t.children;e.forEach(t=>{let e=r.indexOf(t);e>-1&&(r.splice(e,1),t.parent=null)})}function At(t,...e){e.forEach(e=>{e.parent&&Et(e.parent,e),e.scene=t.scene,e.parent=t})}function _t(t,e=0,r){const i=t.children;void 0===r&&(r=i.length);const n=r-e;if(n>0&&n<=r){const t=i.splice(e,n);return t.forEach(t=>{t.parent=null}),t}return[]}function Mt(t,e){const r=t.children;if(e<0||e>r.length)throw new Error("Index out of bounds: "+e);return r[e]}function Rt(t,e){return t.children.indexOf(e)}var Ft={AddChild:function(t,...e){e.forEach(e=>{At(t,e),t.children.push(e),e.updateTransform()})},AddChildAt:function(t,e,...r){const i=t.children;e>=0&&e<=i.length&&r.reverse().forEach(r=>{At(t,r),i.splice(e,0,r),r.updateTransform()})},Container:ct,DestroyChildren:function(t,e=0,r){_t(t,e,r).forEach(t=>{t.destroy()})},GetChildAt:Mt,GetChildIndex:Rt,RemoveChild:Et,RemoveChildAt:function(t,...e){const r=t.children,i=[];return e.sort((t,e)=>t-e),e.reverse().forEach(e=>{let n=Mt(t,e);n&&(r.splice(e,1),n.parent=null,i.push(n))}),i},RemoveChildren:_t,ReparentChildren:function(t,e,r=0,i){const n=_t(t,r,i);return n.forEach(t=>{At(e,t)}),n},SetParent:At,SwapChildren:function(t,e){if(t.parent===e.parent){const r=t.parent.children,i=Rt(t.parent,t),n=Rt(e.parent,e);i!==n&&(r[i]=e,r[n]=t)}}};var Ct={GameObject:Z,SetBounds:function(t,e,r,i,...n){n.forEach(n=>{n.bounds.set(t,e,r,i)})},SetName:function(t,...e){e.forEach(e=>{e.name=t})},SetScene:function(t,...e){e.forEach(e=>{e.scene=t})},SetType:function(t,...e){e.forEach(e=>{e.type=t})},SetVisible:function(t,...e){e.forEach(e=>{e.visible=t})}};function Pt(t,e){return((255&(255*e|0))<<24|t)>>>0}function Dt(t){const e=t.vertexAlpha,r=t.vertexTint,i=t.vertexColor;return i[0]=Pt(r[0],e[0]),i[1]=Pt(r[1],e[1]),i[2]=Pt(r[2],e[2]),i[3]=Pt(r[3],e[3]),t.setDirtyRender()}var Bt={SetFrame:bt,SetQuadAlpha:function(t,e,r,i,...n){n.forEach(n=>{let s=n.vertexAlpha;s[0]=t,s[1]=e,s[2]=r,s[3]=i,Dt(n)})},SetQuadTint:function(t,e,r,i,...n){n.forEach(n=>{let s=n.vertexTint;s[0]=t,s[1]=e,s[2]=r,s[3]=i,Dt(n)})},SetTexture:St,Sprite:vt};function It(t,e){const r=document.createElement("canvas");return r.width=t,r.height=e,r.getContext("2d")}function Ot(t=32,e=32){const r=It(t,e);return new gt(r.canvas)}var zt={AnimatedSprite:wt,Container:Ft,GameObject:Ct,Sprite:Bt,Text:{SetBackgroundStyle:function(t,e,...r){r.forEach(r=>{r.backgroundStyle=t,null!==e&&(r.cornerRadius=e),r.updateText()})},SetCornerRadius:function(t,...e){e.forEach(e=>{e.cornerRadius=t,e.updateText()})},SetFillStyle:function(t,...e){e.forEach(e=>{e.fillStyle=t,e.updateText()})},SetFixedSize:function(t,e,...r){r.forEach(r=>{r.fixedWidth=t,r.fixedHeight=e,r.updateText()})},SetFont:function(t,...e){e.forEach(e=>{e.font=t,e.updateText()})},SetLineDash:function(t,...e){e.forEach(e=>{e.lineDash=t,e.updateText()})},SetLineSpacing:function(t,...e){e.forEach(e=>{e.lineSpacing=t,e.updateText()})},SetLineWidth:function(t,...e){e.forEach(e=>{e.lineWidth=t,e.updateText()})},SetPadding:function(t,e,r,i,...n){n.forEach(n=>{const s=n.padding;s.left=t,s.right=e,s.top=r,s.bottom=i,n.updateText()})},SetStrokeStyle:function(t,e,...r){r.forEach(r=>{r.strokeStyle=t,e&&(r.lineWidth=e),r.updateText()})},SetText:function(t,...e){e.forEach(e=>{e.setText(t)})},SetTextAlign:function(t,...e){e.forEach(e=>{e.textAlign=t,e.updateText()})},SetTextBaseline:function(t,...e){e.forEach(e=>{e.textBaseline=t,e.updateText()})},Text:class extends vt{constructor(t,e,r="",i,n){super(t,e,Ot()),this.splitRegExp=/(?:\r\n|\r|\n)/,this.padding={left:0,right:0,top:0,bottom:0},this.verticalAlign="ascent",this.lineSpacing=0,this.font="16px monospace",this.fillStyle="#fff",this.strokeStyle="",this.backgroundStyle="",this.cornerRadius=0,this.textAlign="left",this.textBaseline="alphabetic",this.lineWidth=0,this.lineDash=[],this.antialias=!1,this.type="Text";const s=Tt.get();this.resolution=s.renderer.resolution,this.canvas=this.texture.image,this.context=this.canvas.getContext("2d"),this.texture.glTexture=pt(this.canvas,32,32,!1,this.antialias),i&&(this.font=i),n&&(this.fillStyle=n),this.setText(r)}syncContext(t,e){this.preRenderCallback&&this.preRenderCallback(t,e),e.font=this.font,e.textBaseline=this.textBaseline,e.textAlign=this.textAlign,e.fillStyle=this.fillStyle,e.strokeStyle=this.strokeStyle,e.lineWidth=this.lineWidth,e.lineCap="round",e.lineJoin="round",e.setLineDash(this.lineDash),e.imageSmoothingEnabled=this.antialias}updateText(){const t=this.canvas,e=this.context,r=this.resolution;let i=this._text.split(this.splitRegExp);const n=this.padding,s=this.fillStyle,a=this.strokeStyle,o=this.lineWidth,h=this.lineSpacing,u=o>0?o/2:0;e.clearRect(0,0,t.width,t.height),this.syncContext(t,e),e.textAlign="start";let c=0,l=0,d=0;const f=[],m="ascent"===this.verticalAlign;let x=e.measureText("|MÉq");const p=Math.ceil(Math.abs(x.actualBoundingBoxAscent)+Math.abs(x.actualBoundingBoxDescent))+o;for(let t=0;t<i.length;t++){let r=e.measureText(i[t]),n=r.actualBoundingBoxLeft,s=r.actualBoundingBoxRight,a=r.actualBoundingBoxAscent,x=r.actualBoundingBoxDescent;(a||x)&&""!==i[t]||(a=p,x=0);let g=Math.ceil(Math.abs(n)+Math.abs(s))+o,y=Math.ceil(Math.abs(a)+Math.abs(x))+o;m?(d+=a+u,t>0&&(d+=h+u),l=d+x+u):(d=l+(y-x-u),l+=y,t<i.length-1&&(l+=h)),c=Math.max(c,g),f.push({lineWidth:g,lineHeight:y,ascent:a,descent:x,left:n,right:s,y:d})}c+=n.left+n.right,l+=n.top+n.bottom;const g=this.fixedWidth?this.fixedWidth:c,y=this.fixedHeight?this.fixedHeight:l,T=Math.ceil(g*r),b=Math.ceil(y*r);t.width===T&&t.height===b||(t.width=T,t.height=b,this.texture.setSize(g,y),this.setSize(g,y)),e.save(),e.scale(r,r),this.syncContext(t,e);const S=this.backgroundStyle;if(S){e.save(),e.fillStyle=S,e.strokeStyle=S;const t=this.cornerRadius,r=t>0?t/2:0;t&&(e.lineWidth=t,e.strokeRect(r,r,g-t,y-t)),e.fillRect(r,r,g-t,y-t),e.restore()}const v=this.textAlign,w="center"===v,E="right"===v||"end"===v,A=(y-l)/2+n.top;for(let t=0;t<i.length;t++){let r=i[t],o=f[t],h=n.left+o.left+u,c=A+o.y;w?h=g/2:E&&(h=g-u),a&&e.strokeText(r,h,c),s&&e.fillText(r,h,c)}return e.restore(),this.texture.updateGL(),this.setDirtyRender(!0),this}get text(){return this._text}set text(t){this.setText(t)}setText(t=""){return Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}destroy(t){this.texture.destroy(),this.fillStyle=null,this.strokeStyle=null,this.backgroundStyle=null,this.canvas=null,this.context=null,super.destroy(t)}}},TransformGameObject:{SetOrigin:function(t,e,...r){r.forEach(r=>{let i=r.transformData;i[tt]=t,i[et]=e})},SetPosition:function(t,e,...r){r.forEach(r=>{let i=r.transformData;i[J]=t,i[Q]=e,r.updateTransform()})},SetRotation:function(t,...e){e.forEach(e=>{let r=e.transformData;t!==r[at]&&(r[at]=t,e.updateCache())})},SetScale:function(t,e,...r){r.forEach(r=>{let i=r.transformData;i[nt]=t,i[st]=e,r.updateTransform()})},SetSize:function(t,e,...r){r.forEach(r=>{r.width=t,r.height=e})},SetSkew:function(t,e,...r){r.forEach(r=>{let i=r.transformData;i[rt]=t,i[it]=e,r.updateCache()})},TransformGameObject:ut}},Lt=Object.freeze({__proto__:null,default:zt});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var Ut={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function kt(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function Vt(t,e,r){const i=r-e;return e+((t-e)%i+i)%i}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var Gt={Between:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t,e,r,i){return Math.atan2(i-e,r-t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,BetweenPoints:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,BetweenPointsY:function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,BetweenY:function(t,e,r,i){return Math.atan2(r-t,i-e)},CounterClockwise:function(t){return t>Math.PI&&(t-=Ut.PI2),Math.abs(((t+Ut.TAU)%Ut.PI2-Ut.PI2)%Ut.PI2)},Normalize:kt,Reverse:function(t){return kt(t+Math.PI)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,RotateTo:function(t,e,r=.05){return t===e||(Math.abs(e-t)<=r||Math.abs(e-t)>=Ut.PI2-r?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=Ut.PI2:e-=Ut.PI2),e>t?t+=r:e<t&&(t-=r))),t}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,ShortestBetween:function(t,e){const r=e-t;return 0===r?0:r-360*Math.floor((r- -180)/360)},Wrap:function(t){return Vt(t,-Math.PI,Math.PI)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,WrapDegrees:function(t){return Vt(t,-180,180)}},Nt=Object.freeze({__proto__:null,default:Gt});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var Wt={Between:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t,e,r,i){const n=t-r,s=e-i;return Math.sqrt(n*n+s*s)}
/**
     * @author       samme
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,BetweenPoints:function(t,e){const r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)}
/**
     * @author       samme
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,BetweenPointsSquared:function(t,e){const r=t.x-e.x,i=t.y-e.y;return r*r+i*i}
/**
     * @author       samme
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Chebyshev:function(t,e,r,i){return Math.max(Math.abs(t-r),Math.abs(e-i))}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Power:function(t,e,r,i,n=2){return Math.sqrt(Math.pow(r-t,n)+Math.pow(i-e,n))}
/**
     * @author       samme
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Snake:function(t,e,r,i){return Math.abs(t-r)+Math.abs(e-i)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Squared:function(t,e,r,i){const n=t-r,s=e-i;return n*n+s*s}},Xt=Object.freeze({__proto__:null,default:Wt});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var jt={Ceil:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t,e=1e-4){return Math.ceil(t-e)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Equal:function(t,e,r=1e-4){return Math.abs(t-e)<r}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Floor:function(t,e=1e-4){return Math.floor(t+e)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,GreaterThan:function(t,e,r=1e-4){return t>e-r}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,LessThan:function(t,e,r=1e-4){return t<e+r}},Yt=Object.freeze({__proto__:null,default:jt});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function Ht(t){if(0===t)return 1;let e=t;for(;--t;)e*=t;return e}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */function qt(t,e){return Ht(t)/Ht(e)/Ht(t-e)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function $t(t,e,r,i,n){const s=.5*(i-e),a=.5*(n-r),o=t*t;return(2*r-2*i+s+a)*(t*o)+(-3*r+3*i-2*s-a)*o+s*t+r}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function Kt(t,e,r){return(e-t)*r+t}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function Zt(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function Jt(t,e,r){return(t=Math.max(0,Math.min(1,(t-e)/(r-e))))*t*t*(t*(6*t-15)+10)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var Qt={Bezier:function(t,e){let r=0;const i=t.length-1;for(let n=0;n<=i;n++)r+=Math.pow(1-e,i-n)*Math.pow(e,n)*t[n]*qt(i,n);return r},CatmullRom:function(t,e){const r=t.length-1;let i=r*e,n=Math.floor(i);return t[0]===t[r]?(e<0&&(n=Math.floor(i=r*(1+e))),$t(i-n,t[(n-1+r)%r],t[n],t[(n+1)%r],t[(n+2)%r])):e<0?t[0]-($t(-i,t[0],t[0],t[1],t[1])-t[0]):e>1?t[r]-($t(i-r,t[r],t[r],t[r-1],t[r-1])-t[r]):$t(i-n,t[n?n-1:0],t[n],t[r<n+1?r:n+1],t[r<n+2?r:n+2])}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,CubicBezier:function(t,e,r,i,n){return function(t,e){const r=1-t;return r*r*r*e}(t,e)+function(t,e){const r=1-t;return 3*r*r*t*e}(t,r)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,n)},Linear:function(t,e){const r=t.length-1,i=r*e,n=Math.floor(i);return e<0?Kt(t[0],t[1],i):e>1?Kt(t[r],t[r-1],r-i):Kt(t[n],t[n+1>r?r:n+1],i-n)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,QuadraticBezier:function(t,e,r,i){return function(t,e){const r=1-t;return r*r*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,r)+function(t,e){return t*t*e}(t,i)},SmoothStep:function(t,e,r){return e+(r-e)*Zt(t,0,1)},SmootherStep:function(t,e,r){return e+(r-e)*Jt(t,0,1)}},te=Object.freeze({__proto__:null,default:Qt});class ee{constructor(t=0,e=0){this.set(t,e)}set(t=0,e=0){return this.x=t,this.y=e,this}getArray(){return[this.x,this.y]}fromArray(t){return this.set(t[0],t[1])}[Symbol.iterator](){return this.getArray()[Symbol.iterator]()}}var re={Add:function(t,e){return t.a+=e.a,t.b+=e.b,t.c+=e.c,t.d+=e.d,t.tx+=e.tx,t.ty+=e.ty,t},Copy:ht,CopyToContext:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=t;return e.transform(r,i,n,s,a,o),e},Determinant:function(t){const{a:e,b:r,c:i,d:n}=t;return e*n-r*i},Frobenius:function(t){return Math.hypot(t.a,t.b,t.c,t.d,t.tx,t.ty,1)},GlobalToLocal:function(t,e,r,i=new ee){const{a:n,b:s,c:a,d:o,tx:h,ty:u}=t,c=1/(n*o+a*-s);return i.x=o*c*e+-a*c*r+(u*a-h*o)*c,i.y=n*c*r+-s*c*e+(-u*n+h*s)*c,i},Invert:function(t){const{a:e,b:r,c:i,d:n,tx:s,ty:a}=t;let o=e*n-r*i;return o&&(o=1/o,t.set(n*o,-r*o,-i*o,e*o,(i*a-n*s)*o,(r*s-e*a)*o)),t},ITRS:function(t,e,r,i,n,s){if(0===i)return t.set(1,0,0,1,e,r);{const a=Math.sin(i),o=Math.cos(i);return t.set(o*n,a*n,-a*s,o*s,e,r)}},ITRSS:function(t,e,r,i=0,n=1,s=1,a=0,o=0){if(0===i)return t.set(1,0,0,1,e,r);{const a=Math.sin(i),o=Math.cos(i);return t.set(o*n,a*n,-a*s,o*s,e,r)}},LocalToGlobal:function(t,e,r,i=new ee){const{a:n,b:s,c:a,d:o,tx:h,ty:u}=t;return i.x=n*e+a*r+h,i.y=s*e+o*r+u,i},Matrix2D:ot,Multiply:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=t,{a:h,b:u,c:c,d:l,tx:d,ty:f}=e;return t.a=r*h+n*u,t.b=i*h+s*u,t.c=r*c+n*l,t.d=i*c+s*l,t.tx=r*d+n*f+a,t.ty=i*d+s*f+o,t},MultiplyScalar:function(t,e){return t.a*=e,t.b*=e,t.c*=e,t.d*=e,t.tx*=e,t.ty*=e,t},MultiplyScalarAndAdd:function(t,e,r){const{a:i,b:n,c:s,d:a,tx:o,ty:h}=e;return t.a+=i*r,t.b+=n*r,t.c+=s*r,t.d+=a*r,t.tx+=o*r,t.ty+=h*r,t},Rotate:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=t,h=Math.sin(e),u=Math.cos(e);return t.set(r*u+n*h,i*u+s*h,r*-h+n*u,i*-h+s*u,a,o)},Scale:function(t,e,r){return t.a*=e,t.b*=e,t.c*=r,t.d*=r,t},SetToContext:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=t;return e.setTransform(r,i,n,s,a,o),e},Skew:function(t,e,r){return t.b+=Math.tan(e),t.c+=Math.tan(r),t},Subtract:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=e;return t.a-=r,t.b-=i,t.c-=n,t.d-=s,t.tx-=a,t.ty-=o,t},Translate:function(t,e,r){const{a:i,b:n,c:s,d:a,tx:o,ty:h}=t;return t.tx=i*e+s*r+o,t.ty=n*e+a*r+h,t},Zero:function(t){return t.set(0,0,0,0,0,0)}},ie=Object.freeze({__proto__:null,default:re});function ne(t,e){return t.a===e.a&&t.b===e.b&&t.c===e.c&&t.d===e.d&&t.tx===e.tx&&t.ty===e.ty}function se(t,e){const{a:r,b:i,c:n,d:s}=t,a=Math.sin(e),o=Math.cos(e);return new ot(r*o+n*a,i*o+s*a,r*-a+n*o,i*-a+s*o)}function ae(t,e,r){return new ot(t.a*e,t.b*e,t.c*r,t.d*r)}function oe(t,e,r){const{a:i,b:n,c:s,d:a,tx:o,ty:h}=t;return new ot(1,0,0,1,i*e+s*r+o,n*e+a*r+h)}var he={Add:function(t,e){return new ot(t.a+e.a,t.b+e.b,t.c+e.c,t.c+e.c,t.tx+e.tx,t.ty+e.ty)},Append:function(t,e,r=new ot){const{a:i,b:n,c:s,d:a,tx:o,ty:h}=t,{a:u,b:c,c:l,d:d,tx:f,ty:m}=e;return r.set(u*i+c*s,u*n+c*a,l*i+d*s,l*n+d*a,f*i+m*s+o,f*n+m*a+h)},Clone:function(t){return new ot(t.a,t.b,t.c,t.d,t.tx,t.ty)},Equals:function(t,e,r=1e-6){const{a:i,b:n,c:s,d:a,tx:o,ty:h}=t,{a:u,b:c,c:l,d:d,tx:f,ty:m}=e;return Math.abs(i-u)<=r*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-c)<=r*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(s-l)<=r*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(a-d)<=r*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-f)<=r*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(h-m)<=r*Math.max(1,Math.abs(h),Math.abs(m))},ExactEquals:ne,FromRotation:function(t){return se(new ot,t)},FromScaling:function(t,e=t){return ae(new ot,t,e)},FromTranslation:function(t,e){return oe(new ot,t,e)},Identity:function(){return new ot},Invert:function(t){const{a:e,b:r,c:i,d:n,tx:s,ty:a}=t;let o=e*n-r*i;return o?(o=1/o,new ot(n*o,-r*o,-i*o,e*o,(i*a-n*s)*o,(r*s-e*a)*o)):null},Multiply:function(t,e){const{a:r,b:i,c:n,d:s,tx:a,ty:o}=t,{a:h,b:u,c:c,d:l,tx:d,ty:f}=e;return new ot(r*h+n*u,i*h+s*u,r*c+n*l,i*c+s*l,r*d+n*f+a,i*d+s*f+o)},MultiplyScalar:function(t,e){return new ot(t.a*e,t.b*e,t.c*e,t.d*e,t.tx*e,t.ty*e)},MultiplyScalarAndAdd:function(t,e,r){return new ot(t.a+e.a*r,t.b+e.b*r,t.c+e.c*r,t.d+e.d*r,t.tx+e.tx*r,t.ty+e.ty*r)},Rotate:se,Scale:ae,Subtract:function(t,e){return new ot(t.a-e.a,t.b-e.b,t.c-e.c,t.c-e.c,t.tx-e.tx,t.ty-e.ty)},Translate:oe,Zero:function(){return new ot(0,0,0,0,0,0)}},ue=Object.freeze({__proto__:null,default:he});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var ce={GetNext:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,IsSize:xt,IsValue:function(t){return t>0&&0==(t&t-1)}},le=Object.freeze({__proto__:null,default:ce});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
var de={Ceil:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t,e,r=0,i=!1){return 0===e?t:(t-=r,t=e*Math.ceil(t/e),i?(r+t)/e:r+t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Floor:function(t,e,r=0,i=!1){return 0===e?t:(t-=r,t=e*Math.floor(t/e),i?(r+t)/e:r+t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,To:function(t,e,r=0,i=!1){return 0===e?t:(t-=r,t=e*Math.round(t/e),i?(r+t)/e:r+t)}},fe=Object.freeze({__proto__:null,default:de}),me={Vec2:ee},xe=Object.freeze({__proto__:null,default:me});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function pe(t,e,r){return Math.max(e,Math.min(r,t))}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */var ge=Object.freeze({__proto__:null,Angle:Nt,Distance:Xt,Fuzzy:Yt,Interpolation:te,Matrix2d:ie,Matrix2dFuncs:ue,Pow2:le,Snap:fe,Vec2:xe,Average:
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
function(t){let e=0;for(let r=0;r<t.length;r++)e+=+t[r];return e/t.length},Bernstein:qt,Between:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,CatmullRom:$t,CeilTo:function(t,e=0,r=10){const i=Math.pow(r,-e);return Math.ceil(t*i)/i},Clamp:pe,CONST:Ut,DegToRad:function(t){return t*Ut.DEG_TO_RAD}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Difference:function(t,e){return Math.abs(t-e)},Factorial:Ht,FloatBetween:function(t,e){return Math.random()*(e-t)+t}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,FloorTo:function(t,e=0,r=10){const i=Math.pow(r,-e);return Math.floor(t*i)/i}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,FromPercent:function(t,e,r){return(r-e)*(t=pe(t,0,1))}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,GetSpeed:function(t,e){return t/e/1e3}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Linear:Kt,MaxAdd:function(t,e,r){return Math.min(t+e,r)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,MinSub:function(t,e,r){return Math.max(t-e,r)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Percent:function(t,e,r,i){void 0===r&&(r=e+1);let n=(t-e)/(r-e);return n>1?void 0!==i?(n=(i-t)/(i-r),n<0&&(n=0)):n=1:n<0&&(n=0),n}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,RadToDeg:function(t){return t*Ut.RAD_TO_DEG}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,RoundAwayFromZero:function(t){return t>0?Math.ceil(t):Math.floor(t)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,RoundTo:function(t,e=0,r=10){const i=Math.pow(r,-e);return Math.round(t*i)/i}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,SinCosTableGenerator:function(t,e=1,r=1,i=1){i*=Math.PI/t;const n=[],s=[];for(let a=0;a<t;a++)e+=(r-=e*i)*i,n[a]=r,s[a]=e;return{sin:s,cos:n,length:t}}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,SmootherStep:Jt,SmoothStep:Zt,ToXY:function(t,e,r,i=new ee){let n=0,s=0;return t>0&&t<=e*r&&(t>e-1?(s=Math.floor(t/e),n=t-s*e):n=t,i.set(n,s)),i}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,TransformXY:function(t,e,r,i,n,s,a,o=new ee){const h=Math.sin(n),u=Math.cos(n),c=u*s,l=h*s,d=-h*a,f=u*a,m=1/(c*f+d*-l);return o.x=f*m*t+-d*m*e+(i*d-r*f)*m,o.y=c*m*e+-l*m*t+(-i*c+r*l)*m,o}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,Within:function(t,e,r){return Math.abs(t-e)<=r},Wrap:Vt}),ye={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},Te=Object.freeze({__proto__:null,ARNE16:ye,C64:{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},CGA:{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},JMP:{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},MSX:{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}});
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */function be(t,e){return parseInt(t.getAttribute(e),10)}var Se=Object.freeze({__proto__:null,AtlasParser:function(t,e){let r;if(Array.isArray(e.textures)?r=e.textures[0].frames:Array.isArray(e.frames)?r=e.frames:e.hasOwnProperty("frames")?r=Object.values(e.frames):console.warn("Invalid Texture Atlas JSON"),r){let e;for(let i=0;i<r.length;i++){let n=r[i];e=t.add(n.filename,n.frame.x,n.frame.y,n.frame.w,n.frame.h),n.trimmed?e.setTrim(n.sourceSize.w,n.sourceSize.h,n.spriteSourceSize.x,n.spriteSourceSize.y,n.spriteSourceSize.w,n.spriteSourceSize.h):e.setSourceSize(n.sourceSize.w,n.sourceSize.h),n.rotated,n.anchor&&e.setPivot(n.anchor.x,n.anchor.y)}}},BitmapTextParser:function(t,e,r){const i=e.getElementsByTagName("info")[0],n=e.getElementsByTagName("common")[0],s={font:i.getAttribute("face"),size:be(i,"size"),lineHeight:be(n,"lineHeight")+0,chars:{}},a=e.getElementsByTagName("char");for(let e=0;e<a.length;e++){let r=a[e],i=be(r,"id"),n=be(r,"x"),o=be(r,"y"),h=be(r,"width"),u=be(r,"height");s.chars[i]={x:n,y:o,width:h,height:u,xOffset:be(r,"xoffset"),yOffset:be(r,"yoffset"),xAdvance:be(r,"xadvance")+0,kerning:{}},t.add(i,n,o,h,u)}const o=e.getElementsByTagName("kerning");for(let t=0;t<o.length;t++){let e=o[t],r=be(e,"first"),i=be(e,"second"),n=be(e,"amount");s.chars[i].kerning[r]=n}return s},SpriteSheetParser:function(t,e,r,i,n,s){let{frameWidth:a=null,frameHeight:o=null,startFrame:h=0,endFrame:u=-1,margin:c=0,spacing:l=0}=s;if(o||(o=a),null===a)throw new Error("SpriteSheetParser: Invalid frameWidth");let d=Math.floor((i-c+l)/(a+l))*Math.floor((n-c+l)/(o+l));0===d&&console.warn("SpriteSheetParser: Frame config will result in zero frames"),(h>d||h<-d)&&(h=0),h<0&&(h=d+h),-1!==u&&(d=h+(u+1));let f=c,m=c,x=0,p=0;for(let s=0;s<d;s++){x=0,p=0;let h=f+a,u=m+o;h>i&&(x=h-i),u>n&&(p=u-n),t.add(s,e+f,r+m,a-x,o-p),f+=a+l,f+a>i&&(f=c,m+=o+l)}}});function ve(t,e,r,i){const n=t.texture;n.glIndexCounter<i&&e.requestTexture(n),r.count===r.batchSize&&r.flush(),t.uploadBuffers(r.vertexViewF32,r.vertexViewU32,r.count*r.quadElementSize),r.count++}function we(t,e,r=-1,i=1){return new Float32Array([1/-t*-2,0,0,0,0,1/e*-2,0,0,0,0,1/(r-i)*2,0,-1,1,0,1])}var Ee=Object.freeze({__proto__:null,CanvasTexture:Ot,GridTexture:function(t,e,r=32,i=32,n=2,s=2){const a=It(r,i),o=r/n,h=i/s;a.fillStyle=t,a.fillRect(0,0,r,i),a.fillStyle=e;for(let t=0;t<s;t++)for(let e=t%2;e<n;e+=2)a.fillRect(e*o,t*h,o,h);return new gt(a.canvas)}
/**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */,PixelTexture:function(t){let{data:e=[],canvas:r=null,palette:i=ye,pixelWidth:n=1,pixelHeight:s=1,resizeCanvas:a=!0,clearCanvas:o=!0,preRender:h=null,postRender:u=null}=t;const c=Math.floor(Math.abs(e[0].length*n)),l=Math.floor(Math.abs(e.length*s));r||(r=It(c,l).canvas,a=!1,o=!1),a&&(r.width=c,r.height=l);const d=r.getContext("2d");o&&d.clearRect(0,0,c,l),h&&h(r,d);for(let t=0;t<e.length;t++){const r=e[t];for(let e=0;e<r.length;e++){const a=r[e];"."!==a&&" "!==a&&(d.fillStyle=i[a],d.fillRect(e*n,t*s,n,s))}}return u&&u(r,d),new gt(r)},RenderTexture:class extends gt{constructor(t,e=256,r=e){super(null,e,r),this.renderer=t;const[i,n]=function(t,e){const r=ft.get(),i=pt(null,t,e),n=r.createFramebuffer();return r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0),r.bindFramebuffer(r.FRAMEBUFFER,null),[i,n]}(e,r);this.glTexture=i,this.glFramebuffer=n,this.projectionMatrix=we(e,r),this.cameraMatrix=new Float32Array([1,0,0,0,0,-1,0,0,0,0,1,0,0,r,0,1])}cls(){const t=this.renderer,e=t.gl;return t.reset(this.glFramebuffer,this.width,this.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.reset(),this}batchStart(){const t=this.renderer;return t.reset(this.glFramebuffer,this.width,this.height),t.shader.bind(this.projectionMatrix,this.cameraMatrix),this}batchDraw(...t){const e=this.renderer,r=e.shader;for(let i=0;i<t.length;i++)ve(t[i],e,r,e.startActiveTexture);return this}batchEnd(){const t=this.renderer;return t.shader.flush(),t.reset(),this}draw(...t){return this.batchStart(),this.batchDraw(...t),this.batchEnd(),this}},SolidColorTexture:function(t="rgba(0,0,0,0)",e=32,r=32){const i=It(e,r);return i.fillStyle=t,i.fillRect(0,0,e,r),new gt(i.canvas)}});class Ae{constructor(){this.textures=new Map,this.createDefaultTextures()}createDefaultTextures(){this.add("__BLANK",new gt(It(32,32).canvas));const t=It(32,32);t.strokeStyle="#0f0",t.moveTo(0,0),t.lineTo(32,32),t.stroke(),t.strokeRect(.5,.5,31,31),this.add("__MISSING",new gt(t.canvas))}get(t){return this.textures.has(t)?this.textures.get(t):this.textures.get("__MISSING")}has(t){return this.textures.has(t)}add(t,e){let r;return this.textures.has(t)||(r=e instanceof gt?e:new gt(e),r.key=t,r.glTexture||r.createGL(),this.textures.set(t,r)),r}}var _e=Object.freeze({__proto__:null,CreateCanvas:It,Frame:lt,Palettes:Te,Parsers:Se,Types:Ee,Texture:gt,TextureManager:Ae});const Me=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Re(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}const Fe={fragmentShader:"\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nuniform sampler2D uTexture[%count%];\n\nvoid main (void)\n{\n    vec4 color;\n    %forloop%\n\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\n}",vertexShader:"\nprecision highp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aTextureId;\nattribute vec4 aTintColor;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uCameraMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nvoid main (void)\n{\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vTintColor = aTintColor;\n\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\n}"};class Ce{constructor(t,e={}){this.attribs={aVertexPosition:0,aTextureCoord:0,aTextureId:0,aTintColor:0},this.uniforms={uProjectionMatrix:0,uCameraMatrix:0,uTexture:0},this.dataSize=4,this.indexSize=4,this.vertexElementSize=6,this.vertexByteSize=24,this.quadByteSize=96,this.quadElementSize=24,this.quadIndexSize=6,this.renderer=t,this.gl=t.gl;const{batchSize:r=4096,fragmentShader:i=Fe.fragmentShader,vertexShader:n=Fe.vertexShader}=e;this.batchSize=r,this.bufferByteSize=r*this.quadByteSize,this.createBuffers(),this.createShaders(i,n),this.count=0}createBuffers(){let t=[];for(let e=0;e<this.batchSize*this.indexSize;e+=this.indexSize)t.push(e+0,e+1,e+2,e+2,e+3,e+0);this.data=new ArrayBuffer(this.bufferByteSize),this.index=new Uint16Array(t),this.vertexViewF32=new Float32Array(this.data),this.vertexViewU32=new Uint32Array(this.data);const e=this.gl;this.vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.data,e.DYNAMIC_DRAW),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.index,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),t=[]}createShaders(t,e){const r=this.gl,i=this.renderer.maxTextures;let n="";if(i>1){for(let t=0;t<i;t++)t>0&&(n+="\nelse "),t<i-1&&(n+=`if (vTextureId < ${t}.5)`),n+="\n{",n+=`\n  color = texture2D(uTexture[${t}], vTextureCoord);`,n+="\n}";t=(t=t.replace(/%count%/gi,""+i)).replace(/%forloop%/gi,n)}else n="color = texture2D(uTexture[0], vTextureCoord);";const s=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(s,t),r.compileShader(s);const a=r.createShader(r.VERTEX_SHADER);r.shaderSource(a,e),r.compileShader(a);const o=r.createProgram();r.attachShader(o,a),r.attachShader(o,s),r.linkProgram(o),r.useProgram(o),this.program=o;for(let t of Object.keys(this.attribs)){let e=r.getAttribLocation(o,t);r.enableVertexAttribArray(e),this.attribs[t]=e}for(let t of Object.keys(this.uniforms))this.uniforms[t]=r.getUniformLocation(o,t)}bind(t,e){const r=this.gl,i=this.renderer,n=this.uniforms;r.useProgram(this.program),r.uniformMatrix4fv(n.uProjectionMatrix,!1,t),r.uniformMatrix4fv(n.uCameraMatrix,!1,e),r.uniform1iv(n.uTexture,i.textureIndex),this.bindBuffers(this.indexBuffer,this.vertexBuffer)}bindBuffers(t,e){const r=this.gl,i=this.vertexByteSize,n=this.attribs;r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t),r.bindBuffer(r.ARRAY_BUFFER,e),r.vertexAttribPointer(n.aVertexPosition,2,r.FLOAT,!1,i,0),r.vertexAttribPointer(n.aTextureCoord,2,r.FLOAT,!1,i,8),r.vertexAttribPointer(n.aTextureId,1,r.FLOAT,!1,i,16),r.vertexAttribPointer(n.aTintColor,4,r.UNSIGNED_BYTE,!0,i,20),this.count=0}draw(t){const e=this.gl,r=t*this.quadByteSize;if(r===this.bufferByteSize)e.bufferData(e.ARRAY_BUFFER,this.data,e.DYNAMIC_DRAW);else{let t=this.vertexViewF32.subarray(0,r);e.bufferSubData(e.ARRAY_BUFFER,0,t)}e.drawElements(e.TRIANGLES,t*this.quadIndexSize,e.UNSIGNED_SHORT,0)}flush(){const t=this.count;return 0!==t&&(this.draw(t),this.prevCount=t,this.count=0,this.renderer.flushTotal++,!0)}}let Pe=[];let De={alpha:!1,antialias:!1,depth:!1,premultipliedAlpha:!1};class Be{constructor(){this.clearColor=[0,0,0,1],this.flushTotal=0,this.maxTextures=0,this.currentActiveTexture=0,this.startActiveTexture=0,this.tempTextures=[],this.clearBeforeRender=!0,this.optimizeRedraw=!0,this.autoResize=!0,this.contextLost=!1,this.width=800,this.height=600,this.resolution=1,this.setBackgroundColor(0);const t=document.createElement("canvas");t.addEventListener("webglcontextlost",t=>this.onContextLost(t),!1),t.addEventListener("webglcontextrestored",()=>this.onContextRestored(),!1),this.canvas=t,this.initContext(),this.shader=new Ce(this)}initContext(){const t=this.canvas.getContext("webgl",De);ft.set(t),this.gl=t,this.elementIndexExtension=t.getExtension("OES_element_index_uint"),this.getMaxTextures(),this.shader&&(this.shader.gl=t),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),this.resize(this.width,this.height,this.resolution)}resize(t,e,r=1){this.width=t*r,this.height=e*r,this.resolution=r;const i=this.canvas;i.width=this.width,i.height=this.height,this.autoResize&&(i.style.width=this.width/r+"px",i.style.height=this.height/r+"px"),this.gl.viewport(0,0,this.width,this.height),this.projectionMatrix=we(t,e)}onContextLost(t){t.preventDefault(),this.contextLost=!0}onContextRestored(){this.contextLost=!1,this.initContext()}setBackgroundColor(t){const e=this.clearColor,r=t>>16&255,i=t>>8&255,n=255&t,s=t>16777215?t>>>24:255;return e[0]=r/255,e[1]=i/255,e[2]=n/255,e[3]=s/255,this}getMaxTextures(){const t=this.gl;let e=function(t,e){const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=Me.replace(/%forloop%/gi,Re(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),t);const r=this.tempTextures;r.length&&r.forEach(e=>{t.deleteTexture(e)});for(let i=0;i<e;i++){let e=t.createTexture();t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),r[i]=e}this.maxTextures=e,this.textureIndex=Array.from(Array(e).keys()),this.activeTextures=Array(e),this.currentActiveTexture=0}reset(t=null,e=this.width,r=this.height){const i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,t),i.viewport(0,0,e,r),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.currentActiveTexture=0,this.startActiveTexture++,this.flushTotal=0}render(t,e,r){if(this.contextLost)return;const i=this.gl;this.flushTotal;if(this.reset(),this.optimizeRedraw&&0===e&&0===r)return;const n=this.shader,s=this.clearColor;this.clearBeforeRender&&(i.clearColor(s[0],s[1],s[2],s[3]),i.clear(i.COLOR_BUFFER_BIT));const a=this.projectionMatrix;let o;for(let e=0;e<t.length;e+=2){let r=t[e],i=t[e+1];o&&ne(r.worldTransform,o.worldTransform)||(n.flush(),n.bind(a,r.matrix),o=r);for(let t=0;t<i.length;t++)ve(i[t],this,n,this.startActiveTexture)}n.flush()}resetTextures(t){const e=this.gl,r=this.activeTextures;r.fill(null),this.currentActiveTexture=0,this.startActiveTexture++,t&&(r[0]=t,e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t.glTexture),this.currentActiveTexture=1)}requestTexture(t){const e=this.gl;t.glIndexCounter=this.startActiveTexture,this.currentActiveTexture<this.maxTextures?(this.activeTextures[this.currentActiveTexture]=t,t.glIndex=this.currentActiveTexture,e.activeTexture(e.TEXTURE0+this.currentActiveTexture),e.bindTexture(e.TEXTURE_2D,t.glTexture),this.currentActiveTexture++):(this.shader.flush(),this.resetTextures(t))}}function Ie(t,e,r){return t.hasOwnProperty(e)?t[e]:r}class Oe{constructor(){this.sceneIndex=0,this.flush=!1,this.dirtyCameras=0,this.dirtyFrame=0,this.totalFrame=0,this.game=Tt.get(),this.scenes=new Map,this.renderList=[],this.game.once("boot",()=>this.boot())}boot(){Pe.forEach(t=>{this.add(t)})}add(t){const e=new t;e.willUpdate&&e.boot.call(e)}init(t,e={}){const r=this.scenes.size,i=this.sceneIndex,n=0===r;"string"==typeof e?t.key=e:(e||!e&&n)&&(t.key=Ie(e,"key","scene"+i),t.willUpdate=Ie(e,"willUpdate",n),t.willRender=Ie(e,"willRender",n)),this.scenes.has(t.key)?console.warn("Scene key already in use: "+t.key):(this.scenes.set(t.key,t),this.flush=!0,this.sceneIndex++)}update(t,e){for(const r of this.scenes.values())r.willUpdate&&(r.update.call(r,t,e),r.world.update(t,e))}render(t){const e=this.renderList;e.length=0,this.dirtyCameras=0,this.dirtyFrame=0,this.totalFrame=0;for(let r of this.scenes.values())if(r.willRender){let i=r.world;if(this.dirtyFrame+=i.render(t),this.totalFrame+=i.totalFrame,0===i.renderList.length)continue;i.camera.dirtyRender&&(this.dirtyCameras++,i.camera.dirtyRender=!1),e.push(i.camera),e.push(i.renderList)}return this.flush&&(this.dirtyFrame++,this.flush=!1),[e,this.dirtyFrame,this.dirtyCameras]}}class ze extends ut{constructor(t=0,e=0){super(t,e),this.type="Camera";const r=Tt.get();this.renderer=r.renderer,this.reset()}updateTransform(){if(!this.renderer)return this;this.dirtyRender=!0;const t=this.localTransform,e=this.worldTransform;t.tx=0-this.x,t.ty=0-this.y;const r=this.matrix,{a:i,b:n,c:s,d:a,tx:o,ty:h}=t,u=this.renderer.width*this.originX,c=this.renderer.height*this.originY;r[0]=i,r[1]=n,r[4]=s,r[5]=a;const l=i*-u+s*-c+(u+o),d=n*-u+a*-c+(c+h);return r[12]=l,r[13]=d,e.set(i,n,s,a,l,d),this.bounds.x=-1*l,this.bounds.y=-1*d,this}reset(){this.matrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);const t=this.renderer.width,e=this.renderer.height;this.setSize(t,e),this.setBounds(0,0,t,e)}destroy(){super.destroy(),this.renderer=null,this.matrix=null}}class Le{constructor(t){this.dirtyFrame=0,this.totalFrame=0,this.visibleFrame=0,this.boundsFrame=0,this.forceRefresh=!1,this.enableCameraCull=!0,this.scene=t,this.children=[],this.renderList=[],this.worldTransform=new ot,this.camera=new ze}scanChildren(t,e){const r=t.children;for(let t=0;t<r.length;t++)this.buildRenderList(r[t],e)}buildRenderList(t,e){if(t.isRenderable()){const n=this.enableCameraCull;n&&(!n||(r=t.getBounds(),i=this.camera.bounds,r.width<=0||r.height<=0||i.width<=0||i.height<=0||r.right<i.x||r.bottom<i.y||r.x>i.right||r.y>i.bottom))||(this.renderList.push(t),t.dirtyFrame>=e&&this.dirtyFrame++),this.visibleFrame++}var r,i;t.isParent&&t.visible&&this.scanChildren(t,e)}update(t,e){const r=this.children;for(let i=0;i<r.length;i++){let n=r[i];n&&n.willUpdate&&n.update(t,e)}}render(t){return this.dirtyFrame=0,this.boundsFrame=0,this.visibleFrame=0,this.renderList.length=0,this.scanChildren(this,t),this.totalFrame=this.renderList.length,this.forceRefresh&&(this.dirtyFrame++,this.forceRefresh=!1),this.dirtyFrame}shutdown(){this.renderList=[],this.camera.reset()}destroy(){this.camera.destroy(),this.camera=null,this.renderList=null}get numChildren(){return this.children.length}}class Ue{constructor(t){this.scene=t,this.renderer=t.game.renderer,this.matrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.bounds=new K,this.reset()}reset(){const t=this.renderer.width,e=this.renderer.height;this.width=t,this.height=e,this.bounds.set(0,0,t,e)}destroy(){this.scene=null,this.renderer=null,this.matrix=null,this.bounds=null}}class ke{constructor(t){this.dirtyFrame=0,this.totalFrame=0,this.visibleFrame=0,this.forceRefresh=!1,this.scene=t,this.children=[],this.renderList=[],this.worldTransform=new ot,this.camera=new Ue(t)}scanChildren(t,e){const r=t.children;for(let t=0;t<r.length;t++)this.buildRenderList(r[t],e)}buildRenderList(t,e){t.isRenderable()&&(this.renderList.push(t),t.dirtyFrame>=e&&this.dirtyFrame++,this.visibleFrame++),t.isParent&&t.visible&&this.scanChildren(t,e)}update(t,e){const r=this.children;for(let i=0;i<r.length;i++){let n=r[i];n&&n.willUpdate&&n.update(t,e)}}render(t){return this.dirtyFrame=0,this.visibleFrame=0,this.renderList.length=0,this.scanChildren(this,t),this.totalFrame=this.renderList.length,this.forceRefresh&&(this.dirtyFrame++,this.forceRefresh=!1),this.dirtyFrame}shutdown(){this.renderList=[],this.camera.reset()}destroy(){this.camera.destroy(),this.camera=null,this.renderList=null}get numChildren(){return this.children.length}}t.DOM=Y,t.Device=W,t.Events=$,t.Game=class extends q{constructor(...t){super(),this.VERSION="4.0.0-beta1",this.isPaused=!1,this.isBooted=!1,this.lifetime=0,this.elapsed=0,this.frame=0,t.forEach(t=>{t()}),this.cache={json:new Map,csv:new Map,xml:new Map},Tt.set(this),j(()=>this.boot())}pause(){this.isPaused=!0,this.emit("pause")}resume(){this.isPaused=!1,this.lastTick=Date.now(),this.emit("resume")}boot(){this.isBooted=!0,this.lastTick=Date.now();const t=new Be;this.renderer=t,this.textures=new Ae,this.scenes=new Oe,this.banner(this.VERSION),document.addEventListener("visibilitychange",()=>{this.emit("visibilitychange",document.hidden),document.hidden?this.pause():this.resume()}),this.emit("boot"),requestAnimationFrame(()=>this.step())}banner(t){console.log("%cPhaser v"+t+"%c https://phaser4.io","padding: 4px 16px; color: #fff; background: linear-gradient(#3e0081 40%, #00bcc3)","")}step(){const t=Date.now(),e=(t-this.lastTick)/1e3;this.lifetime+=e,this.elapsed=e,this.lastTick=t,this.emit("step",e,t);const r=this.scenes;this.isPaused||r.update(e,t),this.emit("update",e,t);const[i,n,s]=r.render(this.frame);this.renderer.render(i,n,s),this.emit("render",e,t),this.frame++,requestAnimationFrame(()=>this.step())}destroy(){}},t.GameObjects=Lt,t.Loader=class extends q{constructor(){super(),this.baseURL="",this.path="",this.crossOrigin="anonymous",this.maxParallelDownloads=-1,this.isLoading=!1,this.reset()}reset(){this.isLoading=!1,this.queue=new Set,this.inflight=new Set,this.completed=new Set,this.progress=0}add(...t){return t.forEach(t=>{t.loader=this,this.queue.add(t)}),this}start(t){if(!this.isLoading)return this.completed.clear(),this.progress=0,this.queue.size>0?(this.isLoading=!0,this.onComplete=t,this.emit("start"),this.nextFile()):(this.progress=1,this.emit("complete"),t()),this}nextFile(){let t=this.queue.size;if(-1!==this.maxParallelDownloads&&(t=Math.min(t,this.maxParallelDownloads)-this.inflight.size),t){const e=this.queue.values();for(;t>0;){const r=e.next().value;this.inflight.add(r),this.queue.delete(r),r.load().then(t=>this.fileComplete(t)).catch(t=>this.fileError(t)),t--}}else 0===this.inflight.size&&this.stop()}stop(){this.isLoading=!1,this.emit("complete",this.completed),this.onComplete(),this.completed.clear()}updateProgress(t){this.inflight.delete(t),this.completed.add(t);const e=this.completed.size,r=this.queue.size+this.inflight.size;e>0&&(this.progress=e/(e+r)),this.emit("progress",this.progress,e,r),this.nextFile()}fileComplete(t){this.emit("filecomplete",t),this.updateProgress(t)}fileError(t){this.emit("fileerror",t),this.updateProgress(t)}totalFilesToLoad(){return this.queue.size+this.inflight.size}setBaseURL(t=""){return""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this}setPath(t=""){return""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this}setCORS(t){return this.crossOrigin=t,this}setMaxParallelDownloads(t){return this.maxParallelDownloads=t,this}},t.Math=ge,t.Scene=class{constructor(t){this.willUpdate=!1,this.willRender=!1,this.game=Tt.get(),this.world=new Le(this),this.game.scenes.init(this,t)}boot(){}update(){}render(){}shutdown(){}destroy(){this.world.destroy(),this.world=null,this.game=null}},t.StaticScene=class{constructor(t){this.willUpdate=!1,this.willRender=!1,this.game=Tt.get(),this.world=new ke(this),this.game.scenes.init(this,t)}boot(){}update(){}render(){}shutdown(){}destroy(){this.world.destroy(),this.world=null,this.game=null}},t.Textures=_e,t.WebGLRenderer=Be,Object.defineProperty(t,"__esModule",{value:!0})}));
