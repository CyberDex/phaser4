{"version":3,"file":"Phaser4.esm.js","sources":["../src/device/audio/canPlayM4A.ts","../src/device/audio/canPlayMP3.ts","../src/device/audio/canPlayOGG.ts","../src/device/audio/canPlayOpus.ts","../src/device/audio/canPlayWAV.ts","../src/device/audio/canPlayWebM.ts","../src/device/audio/hasAudio.ts","../src/device/audio/hasWebAudio.ts","../src/device/audio/GetAudio.ts","../src/device/audio/index.ts","../src/device/browser/isChrome.ts","../src/device/browser/isEdge.ts","../src/device/browser/isFirefox.ts","../src/device/os/isiOS.ts","../src/device/browser/isMobileSafari.ts","../src/device/browser/isMSIE.ts","../src/device/browser/isOpera.ts","../src/device/os/isWindowsPhone.ts","../src/device/browser/isSafari.ts","../src/device/browser/isSilk.ts","../src/device/browser/isTrident.ts","../src/device/browser/GetBrowser.ts","../src/device/browser/index.ts","../src/device/os/isAndroid.ts","../src/device/os/isChromeOS.ts","../src/device/os/isCordova.ts","../src/device/os/isCrosswalk.ts","../src/device/os/isEjecta.ts","../src/device/os/isNode.ts","../src/device/os/isElectron.ts","../src/device/os/isKindle.ts","../src/device/os/isLinux.ts","../src/device/os/isMacOS.ts","../src/device/os/isNodeWebkit.ts","../src/device/os/isWebApp.ts","../src/device/os/isWindows.ts","../src/device/os/GetOS.ts","../src/device/os/index.ts","../src/device/video/canPlayH264Video.ts","../src/device/video/canPlayHLSVideo.ts","../src/device/video/canPlayOGGVideo.ts","../src/device/video/canPlayVP9Video.ts","../src/device/video/canPlayWebMVideo.ts","../src/device/video/GetVideo.ts","../src/device/video/index.ts","../src/device/index.ts","../src/dom/GetElement.ts","../src/dom/AddToDOM.ts","../src/dom/DOMContentLoaded.ts","../src/dom/ParseXML.ts","../src/dom/RemoveFromDOM.ts","../src/events/EventEmitter.ts","../src/gameobjects/animatedsprite/AddAnimation.ts","../src/gameobjects/animatedsprite/AddAnimationFromAtlas.ts","../src/geom/rectangle/Contains.ts","../src/geom/rectangle/Rectangle.ts","../src/gameobjects/gameobject/GameObject.ts","../src/gameobjects/transformgameobject/const.ts","../src/math/matrix2d/Matrix2D.ts","../src/math/matrix2d/Copy.ts","../src/gameobjects/transformgameobject/TransformGameObject.ts","../src/gameobjects/container/Container.ts","../src/textures/Frame.ts","../src/renderer/webgl1/GL.ts","../src/renderer/webgl1/SetGLTextureFilterMode.ts","../src/renderer/webgl1/DeleteGLTexture.ts","../src/renderer/webgl1/DeleteFramebuffer.ts","../src/math/pow2/IsSizePowerOfTwo.ts","../src/renderer/webgl1/CreateGLTexture.ts","../src/renderer/webgl1/UpdateGLTexture.ts","../src/textures/Texture.ts","../src/GameInstance.ts","../src/gameobjects/sprite/SetFrame.ts","../src/gameobjects/sprite/SetTexture.ts","../src/gameobjects/sprite/Sprite.ts","../src/gameobjects/animatedsprite/AnimatedSprite.ts","../src/gameobjects/animatedsprite/ClearAnimations.ts","../src/gameobjects/animatedsprite/Play.ts","../src/gameobjects/animatedsprite/RemoveAnimation.ts","../src/gameobjects/animatedsprite/Stop.ts","../src/gameobjects/container/RemoveChild.ts","../src/gameobjects/container/SetParent.ts","../src/gameobjects/container/AddChild.ts","../src/gameobjects/container/AddChildAt.ts","../src/gameobjects/container/RemoveChildren.ts","../src/gameobjects/container/DestroyChildren.ts","../src/gameobjects/container/GetChildAt.ts","../src/gameobjects/container/GetChildIndex.ts","../src/gameobjects/container/RemoveChildAt.ts","../src/gameobjects/container/ReparentChildren.ts","../src/gameobjects/container/SwapChildren.ts","../src/gameobjects/gameobject/SetBounds.ts","../src/gameobjects/gameobject/SetName.ts","../src/gameobjects/gameobject/SetScene.ts","../src/gameobjects/gameobject/SetType.ts","../src/gameobjects/gameobject/SetVisible.ts","../src/renderer/webgl1/PackColor.ts","../src/renderer/webgl1/PackColors.ts","../src/gameobjects/sprite/SetQuadAlpha.ts","../src/gameobjects/sprite/SetQuadTint.ts","../src/gameobjects/text/SetBackgroundStyle.ts","../src/gameobjects/text/SetCornerRadius.ts","../src/gameobjects/text/SetFillStyle.ts","../src/gameobjects/text/SetFixedSize.ts","../src/gameobjects/text/SetFont.ts","../src/gameobjects/text/SetLineDash.ts","../src/gameobjects/text/SetLineSpacing.ts","../src/gameobjects/text/SetLineWidth.ts","../src/gameobjects/text/SetPadding.ts","../src/gameobjects/text/SetStrokeStyle.ts","../src/gameobjects/text/SetText.ts","../src/gameobjects/text/SetTextAlign.ts","../src/gameobjects/text/SetTextBaseline.ts","../src/textures/CreateCanvas.ts","../src/textures/types/CanvasTexture.ts","../src/gameobjects/text/Text.ts","../src/gameobjects/transformgameobject/SetOrigin.ts","../src/gameobjects/transformgameobject/SetPosition.ts","../src/gameobjects/transformgameobject/SetRotation.ts","../src/gameobjects/transformgameobject/SetScale.ts","../src/gameobjects/transformgameobject/SetSize.ts","../src/gameobjects/transformgameobject/SetSkew.ts","../src/math/angle/Between.ts","../src/math/angle/BetweenPoints.ts","../src/math/angle/BetweenPointsY.ts","../src/math/angle/BetweenY.ts","../src/math/const.ts","../src/math/angle/CounterClockwise.ts","../src/math/angle/Normalize.ts","../src/math/angle/Reverse.ts","../src/math/angle/RotateTo.ts","../src/math/angle/ShortestBetween.ts","../src/math/Wrap.ts","../src/math/angle/Wrap.ts","../src/math/angle/WrapDegrees.ts","../src/math/angle/index.ts","../src/math/distance/DistanceBetween.ts","../src/math/distance/DistanceBetweenPoints.ts","../src/math/distance/DistanceBetweenPointsSquared.ts","../src/math/distance/DistanceChebyshev.ts","../src/math/distance/DistancePower.ts","../src/math/distance/DistanceSnake.ts","../src/math/distance/DistanceSquared.ts","../src/math/distance/index.ts","../src/math/fuzzy/Ceil.ts","../src/math/fuzzy/Equal.ts","../src/math/fuzzy/Floor.ts","../src/math/fuzzy/GreaterThan.ts","../src/math/fuzzy/LessThan.ts","../src/math/fuzzy/index.ts","../src/math/Factorial.ts","../src/math/Bernstein.ts","../src/math/interpolation/BezierInterpolation.ts","../src/math/CatmullRom.ts","../src/math/interpolation/CatmullRomInterpolation.ts","../src/math/interpolation/CubicBezierInterpolation.ts","../src/math/Linear.ts","../src/math/interpolation/LinearInterpolation.ts","../src/math/interpolation/QuadraticBezierInterpolation.ts","../src/math/SmoothStep.ts","../src/math/interpolation/SmoothStepInterpolation.ts","../src/math/SmootherStep.ts","../src/math/interpolation/SmootherStepInterpolation.ts","../src/math/interpolation/index.ts","../src/math/matrix2d/Add.ts","../src/math/matrix2d/CopyToContext.ts","../src/math/matrix2d/Determinant.ts","../src/math/matrix2d/Frobenius.ts","../src/math/vec2/Vec2.ts","../src/math/matrix2d/GlobalToLocal.ts","../src/math/matrix2d/Invert.ts","../src/math/matrix2d/ITRS.ts","../src/math/matrix2d/ITRSS.ts","../src/math/matrix2d/LocalToGlobal.ts","../src/math/matrix2d/Multiply.ts","../src/math/matrix2d/MultiplyScalar.ts","../src/math/matrix2d/MultiplyScalarAndAdd.ts","../src/math/matrix2d/Rotate.ts","../src/math/matrix2d/Scale.ts","../src/math/matrix2d/SetToContext.ts","../src/math/matrix2d/Skew.ts","../src/math/matrix2d/Subtract.ts","../src/math/matrix2d/Translate.ts","../src/math/matrix2d/Zero.ts","../src/math/matrix2d-funcs/Add.ts","../src/math/matrix2d-funcs/Append.ts","../src/math/matrix2d-funcs/Clone.ts","../src/math/matrix2d-funcs/Equals.ts","../src/math/matrix2d-funcs/ExactEquals.ts","../src/math/matrix2d-funcs/Rotate.ts","../src/math/matrix2d-funcs/FromRotation.ts","../src/math/matrix2d-funcs/Scale.ts","../src/math/matrix2d-funcs/FromScaling.ts","../src/math/matrix2d-funcs/Translate.ts","../src/math/matrix2d-funcs/FromTranslation.ts","../src/math/matrix2d-funcs/Identity.ts","../src/math/matrix2d-funcs/Invert.ts","../src/math/matrix2d-funcs/Multiply.ts","../src/math/matrix2d-funcs/MultiplyScalar.ts","../src/math/matrix2d-funcs/MultiplyScalarAndAdd.ts","../src/math/matrix2d-funcs/Subtract.ts","../src/math/matrix2d-funcs/Zero.ts","../src/math/pow2/GetPowerOfTwo.ts","../src/math/pow2/IsValuePowerOfTwo.ts","../src/math/pow2/index.ts","../src/math/snap/SnapCeil.ts","../src/math/snap/SnapFloor.ts","../src/math/snap/SnapTo.ts","../src/math/snap/index.ts","../src/math/Average.ts","../src/math/Between.ts","../src/math/CeilTo.ts","../src/math/Clamp.ts","../src/math/DegToRad.ts","../src/math/Difference.ts","../src/math/FloatBetween.ts","../src/math/FloorTo.ts","../src/math/FromPercent.ts","../src/math/GetSpeed.ts","../src/math/MaxAdd.ts","../src/math/MinSub.ts","../src/math/Percent.ts","../src/math/RadToDeg.ts","../src/math/RoundAwayFromZero.ts","../src/math/RoundTo.ts","../src/math/SinCosTableGenerator.ts","../src/math/ToXY.ts","../src/math/TransformXY.ts","../src/math/Within.ts","../src/textures/palettes/Arne16.ts","../src/textures/palettes/C64.ts","../src/textures/palettes/CGA.ts","../src/textures/palettes/JMP.ts","../src/textures/palettes/MSX.ts","../src/textures/palettes/PICO8.ts","../src/textures/palettes/index.ts","../src/textures/parsers/AtlasParser.ts","../src/textures/parsers/BitmapTextParser.ts","../src/textures/parsers/SpriteSheetParser.ts","../src/textures/types/GridTexture.ts","../src/textures/types/PixelTexture.ts","../src/gameobjects/sprite/RenderWebGL.ts","../src/renderer/webgl1/Ortho.ts","../src/renderer/webgl1/CreateFramebuffer.ts","../src/textures/types/RenderTexture.ts","../src/textures/types/SolidColorTexture.ts","../src/textures/TextureManager.ts","../src/renderer/webgl1/shaders/CheckShaderMaxIfStatements.ts","../src/renderer/webgl1/shaders/MultiTextureQuadShader.ts","../src/config/BackgroundColor.ts","../src/config/Scenes.ts","../src/config/Size.ts","../src/config/WebGLContext.ts","../src/renderer/webgl1/WebGLRenderer.ts","../src/scenes/GetConfigValue.ts","../src/scenes/SceneManager.ts","../src/Game.ts","../src/camera/Camera.ts","../src/geom/intersects/RectangleToRectangle.ts","../src/world/World.ts","../src/scenes/Scene.ts","../src/camera/StaticCamera.ts","../src/world/StaticWorld.ts","../src/scenes/StaticScene.ts","../src/loader/Loader.ts"],"sourcesContent":["export function canPlayM4A (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/x-m4a') !== '') || (audioElement.canPlayType('audio/aac') !== ''));\r\n}\r\n","export function canPlayMP3 (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/mpeg; codecs=\"mp3\"') !== '');\r\n}\r\n","export function canPlayOGG (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/ogg; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function canPlayOpus (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/ogg; codecs=\"opus\"') !== '') || (audioElement.canPlayType('audio/webm; codecs=\"opus\"') !== ''));\r\n}\r\n","export function canPlayWAV (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/wav; codecs=\"1\"') !== '');\r\n}\r\n","export function canPlayWebM (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/webm; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function hasAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('Audio'));\r\n}\r\n","export function hasWebAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('AudioContext') || window.hasOwnProperty('webkitAudioContext'));\r\n}\r\n","import { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\nimport { IDeviceAudioResult } from './IDeviceAudioResult';\r\n\r\nexport function GetAudio (): IDeviceAudioResult\r\n{\r\n    const result: IDeviceAudioResult = {\r\n        audioData: hasAudio(),\r\n        m4a: false,\r\n        mp3: false,\r\n        ogg: false,\r\n        opus: false,\r\n        wav: false,\r\n        webAudio: hasWebAudio(),\r\n        webm: false\r\n    };\r\n\r\n    if (result.audioData)\r\n    {\r\n        const audioElement: HTMLAudioElement = document.createElement('audio');\r\n\r\n        // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n        try\r\n        {\r\n            const canPlay: boolean = !!audioElement.canPlayType;\r\n\r\n            if (canPlay)\r\n            {\r\n                result.m4a = canPlayM4A(audioElement);\r\n                result.mp3 = canPlayMP3(audioElement);\r\n                result.ogg = canPlayOGG(audioElement);\r\n                result.opus = canPlayOpus(audioElement);\r\n                result.wav = canPlayWAV(audioElement);\r\n                result.webm = canPlayWebM(audioElement);\r\n            }\r\n        }\r\n        catch (error)\r\n        {\r\n            result.audioData = false;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Audio\r\n\r\nimport { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { GetAudio } from './GetAudio';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\n\r\nexport {\r\n    canPlayM4A,\r\n    canPlayMP3,\r\n    canPlayOGG,\r\n    canPlayOpus,\r\n    canPlayWAV,\r\n    canPlayWebM,\r\n    GetAudio,\r\n    hasAudio,\r\n    hasWebAudio\r\n};\r\n","export function isChrome (): { chrome: boolean, chromeVersion: number }\r\n{\r\n    const chrome = (/Chrome\\/(\\d+)/).test(navigator.userAgent);\r\n    const chromeVersion = (chrome) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        chrome,\r\n        chromeVersion\r\n    };\r\n}\r\n","export function isEdge (): { edge: boolean }\r\n{\r\n    const edge = (/Edge\\/\\d+/).test(navigator.userAgent);\r\n\r\n    return {\r\n        edge\r\n    };\r\n}\r\n","export function isFirefox (): { firefox: boolean, firefoxVersion: number }\r\n{\r\n    const firefox = (/Firefox\\D+(\\d+)/).test(navigator.userAgent);\r\n    const firefoxVersion = (firefox) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        firefox,\r\n        firefoxVersion\r\n    };\r\n}\r\n","interface IGetIOSResult {\r\n    iOS: boolean;\r\n    iOSVersion: number;\r\n    iPhone: boolean;\r\n    iPad: boolean;\r\n}\r\n\r\nexport function isiOS (): IGetIOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const result: IGetIOSResult = {\r\n        iOS: false,\r\n        iOSVersion: 0,\r\n        iPhone: false,\r\n        iPad: false\r\n    };\r\n\r\n    if (/iP[ao]d|iPhone/i.test(ua))\r\n    {\r\n        (navigator.appVersion).match(/OS (\\d+)/);\r\n\r\n        result.iOS = true;\r\n        result.iOSVersion = parseInt(RegExp.$1, 10);\r\n        result.iPhone = (ua.toLowerCase().indexOf('iphone') !== -1);\r\n        result.iPad = (ua.toLowerCase().indexOf('ipad') !== -1);\r\n    }\r\n\r\n    return result;\r\n}\r\n","import { isiOS } from '../os/isiOS';\r\n\r\nexport function isMobileSafari (): { mobileSafari: boolean }\r\n{\r\n    const { iOS } = isiOS();\r\n\r\n    const mobileSafari = ((/AppleWebKit/).test(navigator.userAgent) && iOS);\r\n\r\n    return {\r\n        mobileSafari\r\n    };\r\n}\r\n","export function isMSIE (): { ie: boolean, ieVersion: number }\r\n{\r\n    const ie = (/MSIE (\\d+\\.\\d+);/).test(navigator.userAgent);\r\n    const ieVersion = (ie) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        ie,\r\n        ieVersion\r\n    };\r\n}\r\n","export function isOpera (): { opera: boolean }\r\n{\r\n    const opera = (/Opera/).test(navigator.userAgent);\r\n\r\n    return {\r\n        opera\r\n    };\r\n}\r\n","export function isWindowsPhone (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Windows Phone/i.test(ua) || (/IEMobile/i).test(ua));\r\n}\r\n","import { isWindowsPhone } from '../os/isWindowsPhone';\r\n\r\nexport function isSafari (): { safari: boolean, safariVersion: number }\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const safari = ((/Safari/).test(ua) && !isWindowsPhone());\r\n    const safariVersion = ((/Version\\/(\\d+)\\./).test(ua)) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        safari,\r\n        safariVersion\r\n    };\r\n}\r\n","export function isSilk (): { silk: boolean }\r\n{\r\n    const silk = (/Silk/).test(navigator.userAgent);\r\n\r\n    return {\r\n        silk\r\n    };\r\n}\r\n","export function isTrident (): { trident: boolean, tridentVersion: number, tridentIEVersion: number }\r\n{\r\n    const trident = (/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/).test(navigator.userAgent);\r\n    const tridentVersion = (trident) ? parseInt(RegExp.$1, 10) : 0;\r\n    const tridentIEVersion = (trident) ? parseInt(RegExp.$3, 10) : 0;\r\n\r\n    return {\r\n        trident,\r\n        tridentVersion,\r\n        tridentIEVersion\r\n    };\r\n}\r\n","import { IDeviceBrowserResult } from './IDeviceBrowserResult';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport function GetBrowser (): IDeviceBrowserResult\r\n{\r\n    const { chrome, chromeVersion } = isChrome();\r\n    const { edge } = isEdge();\r\n    const { firefox, firefoxVersion } = isFirefox();\r\n    let { ie, ieVersion } = isMSIE();\r\n    const { mobileSafari } = isMobileSafari();\r\n    const { opera } = isOpera();\r\n    const { safari, safariVersion } = isSafari();\r\n    const { silk } = isSilk();\r\n    const { trident, tridentVersion, tridentIEVersion } = isTrident();\r\n\r\n    if (trident)\r\n    {\r\n        ie = true;\r\n        ieVersion = tridentIEVersion;\r\n    }\r\n\r\n    const result: IDeviceBrowserResult = {\r\n        chrome,\r\n        chromeVersion,\r\n        edge,\r\n        firefox,\r\n        firefoxVersion,\r\n        ie,\r\n        ieVersion,\r\n        mobileSafari,\r\n        opera,\r\n        safari,\r\n        safariVersion,\r\n        silk,\r\n        trident,\r\n        tridentVersion\r\n    };\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Browser\r\n\r\nimport { GetBrowser } from './GetBrowser';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport {\r\n    GetBrowser,\r\n    isChrome,\r\n    isEdge,\r\n    isFirefox,\r\n    isMobileSafari,\r\n    isMSIE,\r\n    isOpera,\r\n    isSafari,\r\n    isSilk,\r\n    isTrident\r\n};\r\n","export function isAndroid (): boolean\r\n{\r\n    return (/Android/.test(navigator.userAgent));\r\n}\r\n","export function isChromeOS (): boolean\r\n{\r\n    return (/CrOS/.test(navigator.userAgent));\r\n}\r\n","export function isCordova (): boolean\r\n{\r\n    return (window.hasOwnProperty('cordova'));\r\n}\r\n","export function isCrosswalk (): boolean\r\n{\r\n    return ((/Crosswalk/).test(navigator.userAgent));\r\n}\r\n","export function isEjecta (): boolean\r\n{\r\n    return (window.hasOwnProperty('ejecta'));\r\n}\r\n","export function isNode (): boolean\r\n{\r\n    return (typeof process !== 'undefined' && typeof process.versions === 'object' && process.versions.hasOwnProperty('node'));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isElectron (): boolean\r\n{\r\n    return (isNode() && !!process.versions['electron']);\r\n}\r\n","export function isKindle (): boolean\r\n{\r\n    // This will NOT detect early generations of Kindle Fire, I think there is no reliable way...\r\n    // E.g. \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-us; Silk/1.1.0-80) AppleWebKit/533.16 (KHTML, like Gecko) Version/5.0 Safari/533.16 Silk-Accelerated=true\"\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return ((/Kindle/.test(ua) || (/\\bKF[A-Z][A-Z]+/).test(ua) || (/Silk.*Mobile Safari/).test(ua)));\r\n}\r\n","export function isLinux (): boolean\r\n{\r\n    return (/Linux/.test(navigator.userAgent));\r\n}\r\n","export function isMacOS (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Mac OS/.test(ua) && !(/like Mac OS/.test(ua)));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isNodeWebkit (): boolean\r\n{\r\n    return (isNode() && !!process.versions['node-webkit']);\r\n}\r\n","export function isWebApp (): boolean\r\n{\r\n    return (navigator.hasOwnProperty('standalone'));\r\n}\r\n","export function isWindows (): boolean\r\n{\r\n    return (/Windows/.test(navigator.userAgent));\r\n}\r\n","import { IDeviceOSResult } from './IDeviceOSResult';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport function GetOS (): IDeviceOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const { iOS, iOSVersion, iPad, iPhone } = isiOS();\r\n\r\n    const result: IDeviceOSResult = {\r\n        android: isAndroid(),\r\n        chromeOS: isChromeOS(),\r\n        cordova: isCordova(),\r\n        crosswalk: isCrosswalk(),\r\n        desktop: false,\r\n        ejecta: isEjecta(),\r\n        electron: isElectron(),\r\n        iOS,\r\n        iOSVersion,\r\n        iPad,\r\n        iPhone,\r\n        kindle: isKindle(),\r\n        linux: isLinux(),\r\n        macOS: isMacOS(),\r\n        node: isNode(),\r\n        nodeWebkit: isNodeWebkit(),\r\n        pixelRatio: 1,\r\n        webApp: isWebApp(),\r\n        windows: isWindows(),\r\n        windowsPhone: isWindowsPhone()\r\n    };\r\n\r\n    if (result.windowsPhone)\r\n    {\r\n        result.android = false;\r\n        result.iOS = false;\r\n        result.macOS = false;\r\n        result.windows = true;\r\n    }\r\n\r\n    const silk: boolean = (/Silk/).test(ua);\r\n\r\n    if (result.windows || result.macOS || (result.linux && !silk) || result.chromeOS)\r\n    {\r\n        result.desktop = true;\r\n    }\r\n\r\n    //  Windows Phone / Table reset\r\n    if (result.windowsPhone || ((/Windows NT/i.test(ua)) && (/Touch/i.test(ua))))\r\n    {\r\n        result.desktop = false;\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.OS\r\n\r\nimport { GetOS } from './GetOS';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport {\r\n    GetOS,\r\n    isAndroid,\r\n    isChromeOS,\r\n    isCordova,\r\n    isCrosswalk,\r\n    isEjecta,\r\n    isElectron,\r\n    isiOS,\r\n    isKindle,\r\n    isLinux,\r\n    isMacOS,\r\n    isNode,\r\n    isNodeWebkit,\r\n    isWebApp,\r\n    isWindows,\r\n    isWindowsPhone\r\n};\r\n","export function canPlayH264Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayHLSVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('application/x-mpegURL; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayOGGVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/ogg; codecs=\"theora\"') !== '');\r\n}\r\n","export function canPlayVP9Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp9\"') !== '');\r\n}\r\n","export function canPlayWebMVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp8, vorbis\"') !== '');\r\n}\r\n","import { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { IDeviceVideoResult } from './IDeviceVideoResult';\r\n\r\nexport function GetVideo (): IDeviceVideoResult\r\n{\r\n    const result: IDeviceVideoResult = {\r\n        h264Video: false,\r\n        hlsVideo: false,\r\n        mp4Video: false,\r\n        oggVideo: false,\r\n        vp9Video: false,\r\n        webmVideo: false\r\n    };\r\n\r\n    const videoElement: HTMLVideoElement = document.createElement('video');\r\n\r\n    // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n    try\r\n    {\r\n        const canPlay: boolean = !!videoElement.canPlayType;\r\n\r\n        if (canPlay)\r\n        {\r\n            result.h264Video = canPlayH264Video(videoElement);\r\n            result.hlsVideo = canPlayHLSVideo(videoElement);\r\n            result.oggVideo = canPlayOGGVideo(videoElement);\r\n            result.vp9Video = canPlayVP9Video(videoElement);\r\n            result.webmVideo = canPlayWebMVideo(videoElement);\r\n        }\r\n    }\r\n    catch (error)\r\n    {\r\n        //  Nothing to do here\r\n    }\r\n\r\n    //  Duplicate the result for Phaser 3 compatibility\r\n    result.mp4Video = result.hlsVideo;\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Video\r\n\r\nimport { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { GetVideo } from './GetVideo';\r\n\r\nexport {\r\n    canPlayH264Video,\r\n    canPlayHLSVideo,\r\n    canPlayOGGVideo,\r\n    canPlayVP9Video,\r\n    canPlayWebMVideo,\r\n    GetVideo\r\n};\r\n","//  @namespace Phaser.Device\r\n\r\nimport * as Audio from './audio';\r\nimport * as Browser from './browser';\r\nimport * as OS from './os';\r\nimport * as Video from './video';\r\n\r\nexport default {\r\n    Audio,\r\n    Browser,\r\n    OS,\r\n    Video\r\n};\r\n\r\nexport * from './audio';\r\nexport * from './browser';\r\nexport * from './os';\r\nexport * from './video';\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Attempts to get the target DOM element based on the given value, which can be either\r\n * a string, in which case it will be looked-up by ID, or an element node. If nothing\r\n * can be found it will return a reference to the document.body.\r\n *\r\n * @function Phaser.DOM.GetElement\r\n * @since 4.0.0\r\n *\r\n * @param {(string | HTMLElement)} [target] - The DOM element to look-up.\r\n * \r\n * @returns {HTMLElement} The HTML Element that was found.\r\n */\r\nexport default function GetElement (target?: string | HTMLElement): HTMLElement\r\n{\r\n    let element: HTMLElement;\r\n\r\n    if (target)\r\n    {\r\n        if (typeof target === 'string')\r\n        {\r\n            //  Hopefully an element ID\r\n            element = document.getElementById(target);\r\n        }\r\n        else if (typeof target === 'object' && target.nodeType === 1)\r\n        {\r\n            //  Quick test for a HTMLElement\r\n            element = target;\r\n        }\r\n    }\r\n\r\n    if (!element)\r\n    {\r\n        element = document.body;\r\n    }\r\n\r\n    return element;\r\n}\r\n","import GetElement from './GetElement';\r\n\r\nexport default function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\r\n{\r\n    const target: HTMLElement = GetElement(parent);\r\n\r\n    target.appendChild(element);\r\n\r\n    return element;\r\n}\r\n","export default function DOMContentLoaded (callback: () => void)\r\n{\r\n    const readyState = document.readyState;\r\n\r\n    if (readyState === 'complete' || readyState === 'interactive')\r\n    {\r\n        callback();\r\n\r\n        return;\r\n    }\r\n\r\n    const check = () =>\r\n    {\r\n        document.removeEventListener('deviceready', check, true);\r\n        document.removeEventListener('DOMContentLoaded', check, true);\r\n        window.removeEventListener('load', check, true);\r\n\r\n        callback();\r\n    };\r\n\r\n    if (!document.body)\r\n    {\r\n        window.setTimeout(check, 20);\r\n    }\r\n    else if (window.hasOwnProperty('cordova'))\r\n    {\r\n        document.addEventListener('deviceready', check, true);\r\n    }\r\n    else\r\n    {\r\n        document.addEventListener('DOMContentLoaded', check, true);\r\n        window.addEventListener('load', check, true);\r\n    }\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Takes the given data string and parses it as XML using the native DOMParser interface.\r\n * The parsed XML object is returned, or `null` if there was an error while parsing the data.\r\n *\r\n * @function Phaser.DOM.ParseXML\r\n * @since 3.0.0\r\n *\r\n * @param {string} data - The XML source stored in a string.\r\n *\r\n * @return {?XMLDocument} The parsed XML data, or `null` if the data could not be parsed.\r\n */\r\nexport default function ParseXML (data: string): XMLDocument | null\r\n{\r\n    let xml: XMLDocument;\r\n\r\n    try \r\n    {\r\n        const parser = new DOMParser();\r\n\r\n        xml = parser.parseFromString(data, 'text/xml');\r\n\r\n        if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length)\r\n        {\r\n            return null;\r\n        }\r\n        else\r\n        {\r\n            return xml;\r\n        }\r\n    }\r\n    catch (error)\r\n    {\r\n        return null;\r\n    }\r\n}\r\n","export default function RemoveFromDOM (element: HTMLElement)\r\n{\r\n    if (element.parentNode)\r\n    {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n","class EE\r\n{\r\n    callback: Function;\r\n    context: any;\r\n    once: boolean;\r\n\r\n    constructor (callback: Function, context: any, once: boolean = false)\r\n    {\r\n        this.callback = callback;\r\n        this.context = context;\r\n        this.once = once;\r\n    }\r\n}\r\n\r\nexport default class EventEmitter\r\n{\r\n    private _events: Map<string, Set<EE>>;\r\n\r\n    constructor ()\r\n    {\r\n        this._events = new Map();\r\n    }\r\n\r\n    on (event: string, callback: Function, context: any = this, once: boolean = false)\r\n    {\r\n        if (typeof callback !== 'function')\r\n        {\r\n            throw new TypeError('The listener must be a function');\r\n        }\r\n\r\n        const listener = new EE(callback, context, once);\r\n        const listeners = this._events.get(event);\r\n\r\n        if (!listeners)\r\n        {\r\n            this._events.set(event, new Set([ listener ]));\r\n        }\r\n        else\r\n        {\r\n            listeners.add(listener);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    once (event: string, callback: Function, context: any = this)\r\n    {\r\n        return this.on(event, callback, context, true);\r\n    }\r\n\r\n    /**\r\n     * Clear an event by name.\r\n     */\r\n    clearEvent (event: string)\r\n    {\r\n        this._events.delete(event);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Return an array listing the events for which the emitter has registered listeners.\r\n     */\r\n    eventNames (): string[]\r\n    {\r\n        return [ ...this._events.keys() ];\r\n    }\r\n\r\n    /**\r\n     * Return the listeners registered for a given event.\r\n     */\r\n    listeners (event: string): Function[]\r\n    {\r\n        const out = [];\r\n\r\n        const listeners = this._events.get(event);\r\n\r\n        listeners.forEach((ee) => {\r\n\r\n            out.push(ee.callback);\r\n\r\n        });\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Return the number of listeners listening to a given event.\r\n     */\r\n    listenerCount (event: string): number\r\n    {\r\n        const listeners = this._events.get(event);\r\n\r\n        return (listeners) ? listeners.size : 0;\r\n    }\r\n\r\n    /**\r\n     * Calls each of the listeners registered for a given event.\r\n     */\r\n    emit (event: string, ...args: any[]): boolean\r\n    {\r\n        if (!this._events.has(event))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        const listeners = this._events.get(event);\r\n\r\n        for (const ee of listeners)\r\n        {\r\n            ee.callback.apply(ee.context, args);\r\n\r\n            if (ee.once)\r\n            {\r\n                listeners.delete(ee);\r\n            }\r\n        }\r\n\r\n        if (listeners.size === 0)\r\n        {\r\n            this._events.delete(event);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove the listeners of a given event.\r\n     * \r\n     * @param event \r\n     * @param callback \r\n     * @param context \r\n     * @param once \r\n     */\r\n    off (event: string, callback?: Function, context?: any, once?: boolean)\r\n    {\r\n        if (!callback)\r\n        {\r\n            //  Remove all events matching the given key\r\n            this._events.delete(event);\r\n        }\r\n        else\r\n        {\r\n            const listeners = this._events.get(event);\r\n            const hasContext: boolean = !context;\r\n            const hasOnce: boolean = (once !== undefined);\r\n\r\n            for (const ee of listeners)\r\n            {\r\n                if (ee.callback === callback && (hasContext && ee.context === console) && (hasOnce && ee.once === once))\r\n                {\r\n                    listeners.delete(ee);\r\n                }\r\n            }\r\n\r\n            if (listeners.size === 0)\r\n            {\r\n                this._events.delete(event);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove all listeners, or those of the specified event.\r\n     * \r\n     * @param event \r\n     */\r\n    removeAllListeners (event?: string)\r\n    {\r\n        if (!event)\r\n        {\r\n            this._events.clear();\r\n        }\r\n        else\r\n        {\r\n            this._events.delete(event);\r\n        }\r\n    }\r\n}\r\n","import IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport default function AddAnimation (key: string, frames: string[] | number[], ...sprite: IAnimatedSprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        if (!entity.anims.has(key))\r\n        {\r\n            entity.anims.set(key, entity.texture.getFrames(frames));\r\n        }\r\n\r\n    });\r\n}\r\n","import IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport type AtlasFrameConfig = {\r\n    key: string,\r\n    prefix?: string,\r\n    start?: number,\r\n    end: number,\r\n    zeroPad?: number,\r\n    suffix?: string\r\n};\r\n\r\nexport default function AddAnimationFromAtlas (config: AtlasFrameConfig, ...sprite: IAnimatedSprite[])\r\n{\r\n    const {\r\n        key,\r\n        prefix = '',\r\n        start = 0,\r\n        end,\r\n        zeroPad = 0,\r\n        suffix = ''\r\n    } = config;\r\n\r\n    sprite.forEach(entity => {\r\n\r\n        if (!entity.anims.has(key))\r\n        {\r\n            entity.anims.set(key, entity.texture.getFramesInRange(prefix, start, end, zeroPad, suffix));\r\n        }\r\n\r\n    });\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport IRectangle from './IRectangle';\r\n\r\n/**\r\n * Checks if a given point is inside a Rectangle's bounds.\r\n *\r\n * @function Phaser.Geom.Rectangle.Contains\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to check.\r\n * @param {number} x - The X coordinate of the point to check.\r\n * @param {number} y - The Y coordinate of the point to check.\r\n *\r\n * @return {boolean} `true` if the point is within the Rectangle's bounds, otherwise `false`.\r\n */\r\nexport default function Contains (rect: IRectangle, x: number, y: number): boolean\r\n{\r\n    if (rect.width <= 0 || rect.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return (rect.x <= x && rect.x + rect.width >= x && rect.y <= y && rect.y + rect.height >= y);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Contains from './Contains';\r\n\r\nexport default class Rectangle\r\n{\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\r\n    {\r\n        this.set(x, y, width, height);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    contains (x: number, y: number): boolean\r\n    {\r\n        return Contains(this, x, y);\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        if (value <= this.x)\r\n        {\r\n            this.width = 0;\r\n        }\r\n        else\r\n        {\r\n            this.width = value - this.x;\r\n        }\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        if (value <= this.y)\r\n        {\r\n            this.height = 0;\r\n        }\r\n        else\r\n        {\r\n            this.height = value - this.y;\r\n        }\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return this.y + this.height;\r\n    }\r\n}\r\n","import IInteractiveArea from '../../input/IInteractiveArea';\r\nimport Rectangle from '../../geom/rectangle/Rectangle';\r\nimport IParent from '../container/IParent';\r\nimport IBaseScene from '../../scenes/IBaseScene';\r\n\r\n//  The Base Game Object which all Scene entites extend\r\n\r\nexport default class GameObject\r\n{\r\n    scene: IBaseScene;\r\n    name: string = '';\r\n    type: string = 'GameObject';\r\n\r\n    willRender: boolean = true;\r\n    willUpdate: boolean = true;\r\n\r\n    dirtyRender: boolean = true;\r\n    dirtyUpdate: boolean = true;\r\n    dirtyFrame: number = 0;\r\n\r\n    parent: IParent;\r\n    isParent: boolean = false;\r\n\r\n    visible: boolean = true;\r\n\r\n    inputEnabled: boolean = false;\r\n    inputEnabledChildren: boolean = true;\r\n    inputHitArea: IInteractiveArea;\r\n\r\n    fixBounds: boolean = false;\r\n    bounds: Rectangle = new Rectangle();\r\n\r\n    constructor ()\r\n    {\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender);\r\n    }\r\n\r\n    setDirtyRender (setFrame: boolean = true)\r\n    {\r\n        this.dirtyRender = true;\r\n\r\n        const scene = this.scene;\r\n\r\n        if (setFrame && scene)\r\n        {\r\n            this.dirtyFrame = scene.game.frame;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setDirtyUpdate ()\r\n    {\r\n        this.dirtyUpdate = true;\r\n\r\n        return this;\r\n    }\r\n\r\n    getBounds (includeChildren: boolean = false): Rectangle\r\n    {\r\n        return this.bounds;\r\n    }\r\n\r\n    setBounds (x: number, y: number, width: number, height: number)\r\n    {\r\n        this.bounds.set(x, y, width, height);\r\n\r\n        return this;\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        return this;\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    destroy (reparentChildren?: IParent)\r\n    {\r\n        this.scene = null;\r\n    }\r\n}\r\n","export default {\r\n    POSITION_X: 0,\r\n    POSITION_Y: 1,\r\n    ORIGIN_X: 2,\r\n    ORIGIN_Y: 3,\r\n    SKEW_X: 4,\r\n    SKEW_Y: 5,\r\n    SCALE_X: 6,\r\n    SCALE_Y: 7,\r\n    ROTATION: 8,\r\n    ANGLE: 9\r\n}\r\n","//  A Matrix2D contains six elements in a short-form of the 3x3 Matrix, with the last column ignored.\r\n\r\n//  |----|----|----|\r\n//  | a  | b  | 0  |\r\n//  |----|----|----|\r\n//  | c  | d  | 0  |\r\n//  |----|----|----|\r\n//  | tx | ty | 1  |\r\n//  |----|----|----|\r\n\r\nexport default class Matrix2D\r\n{\r\n    a: number;\r\n    b: number;\r\n    c: number;\r\n    d: number;\r\n    tx: number;\r\n    ty: number;\r\n\r\n    /**\r\n     * Creates an instance of Matrix2D.\r\n     * \r\n     * @param {number} [a=1] - X scale.\r\n     * @param {number} [b=0] - X skew.\r\n     * @param {number} [c=0] - Y skew.\r\n     * @param {number} [d=1] - Y scale.\r\n     * @param {number} [tx=0] - X translation\r\n     * @param {number} [ty=0] - Y translation\r\n     * @memberof Matrix2D\r\n     */\r\n    constructor (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0)\r\n    {\r\n        this.set(a, b, c, d, tx, ty);\r\n    }\r\n\r\n    set (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0): Matrix2D\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n\r\n        return this;\r\n    }\r\n\r\n    identity (): Matrix2D\r\n    {\r\n        return this.set();\r\n    }\r\n\r\n    toArray (): number[]\r\n    {\r\n        return [ this.a, this.b, this.c, this.d, this.tx, this.ty ];\r\n    }\r\n\r\n    fromArray (src: number[]): Matrix2D\r\n    {\r\n        return this.set(src[0], src[1], src[2], src[3], src[4], src[5]);\r\n    }\r\n\r\n    [Symbol.iterator] ()\r\n    {\r\n        const data = this.toArray();\r\n\r\n        return data[Symbol.iterator]();\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Copy the values from the src Matrix to the target Matrix and return the target Matrix.\r\n\r\nexport default function Copy (src: IMatrix2D, target: IMatrix2D): IMatrix2D\r\n{\r\n    return target.set(src.a, src.b, src.c, src.d, src.tx, src.ty);\r\n}\r\n","import GameObject from '../gameobject/GameObject';\r\nimport CONST from './const';\r\nimport Matrix2D from '../../math/matrix2d/Matrix2D';\r\nimport Copy from '../../math/matrix2d/Copy';\r\n\r\nexport default class TransformGameObject extends GameObject\r\n{\r\n    private transformBuffer: ArrayBuffer;\r\n\r\n    transformData: Float32Array;\r\n    localTransform: Matrix2D;\r\n    worldTransform: Matrix2D;\r\n\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super();\r\n\r\n        const byte = Float32Array.BYTES_PER_ELEMENT;\r\n\r\n        const buffer = new ArrayBuffer(10 * byte);\r\n\r\n        this.transformBuffer = buffer;\r\n\r\n        /**\r\n         * transformData:\r\n         * 0 = position x\r\n         * 1 = position y\r\n         * 2 = origin x\r\n         * 3 = origin y\r\n         * 4 = skew x\r\n         * 5 = skew y\r\n         * 6 = scale x\r\n         * 7 = scale y\r\n         * 8 = rotation\r\n         * 9 = angle\r\n         */\r\n        this.transformData = new Float32Array(buffer, 0, 10);\r\n        this.localTransform = new Matrix2D();\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.transformData.set([ x, y, 0.5, 0.5, 0, 0, 1, 1, 0, 0 ]);\r\n\r\n        this.width = 0;\r\n        this.height = 0;\r\n\r\n        this.updateCache();\r\n    }\r\n\r\n    updateCache ()\r\n    {\r\n        const transform = this.localTransform;\r\n\r\n        const { rotation, skewX, skewY, scaleX, scaleY, x, y } = this;\r\n\r\n        transform.set(\r\n            Math.cos(rotation + skewY) * scaleX,\r\n            Math.sin(rotation + skewY) * scaleX,\r\n            -Math.sin(rotation - skewX) * scaleY,\r\n            Math.cos(rotation - skewX) * scaleY,\r\n            x,\r\n            y\r\n        );\r\n\r\n        return this.updateTransform();\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        this.setDirtyRender();\r\n\r\n        const parent = this.parent;\r\n\r\n        const lt = this.localTransform;\r\n        const wt = this.worldTransform;\r\n\r\n        lt.tx = this.x;\r\n        lt.ty = this.y;\r\n\r\n        if (!parent)\r\n        {\r\n            Copy(lt, wt);\r\n\r\n            return this;\r\n        }\r\n\r\n        const { a, b, c, d, tx, ty } = lt;\r\n        const { a: pa, b: pb, c: pc, d: pd, tx: ptx, ty: pty } = parent.worldTransform;\r\n\r\n        wt.set(\r\n            a  * pa + b  * pc,\r\n            a  * pb + b  * pd,\r\n            c  * pa + d  * pc,\r\n            c  * pb + d  * pd,\r\n            tx * pa + ty * pc + ptx,\r\n            tx * pb + ty * pd + pty\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    setOrigin (originX: number, originY: number = originX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.ORIGIN_X] = originX;\r\n        data[CONST.ORIGIN_Y] = originY;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPosition (x: number, y: number = x)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.POSITION_X] = x;\r\n        data[CONST.POSITION_Y] = y;\r\n\r\n        return this.updateTransform();\r\n    }\r\n\r\n    setRotation (rotation: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (rotation !== data[CONST.ROTATION])\r\n        {\r\n            data[CONST.ROTATION] = rotation;\r\n\r\n            this.updateCache();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setScale (scaleX: number, scaleY: number = scaleX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.SCALE_X] = scaleX;\r\n        data[CONST.SCALE_Y] = scaleY;\r\n\r\n        return this.updateCache();\r\n    }\r\n\r\n    setSkew (skewX: number, skewY: number = skewX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.SKEW_X] = skewX;\r\n        data[CONST.SKEW_Y] = skewY;\r\n\r\n        return this.updateCache();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        super.destroy();\r\n\r\n        this.localTransform = null;\r\n        this.worldTransform = null;\r\n        this.transformBuffer = null;\r\n        this.transformData = null;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        this.transformData[CONST.POSITION_X] = value;\r\n\r\n        this.updateTransform();\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this.transformData[CONST.POSITION_X];\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        this.transformData[CONST.POSITION_Y] = value;\r\n\r\n        this.updateTransform();\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this.transformData[CONST.POSITION_Y];\r\n    }\r\n\r\n    get originX (): number\r\n    {\r\n        return this.transformData[CONST.ORIGIN_X];\r\n    }\r\n\r\n    set originX (value: number)\r\n    {\r\n        this.transformData[CONST.ORIGIN_X] = value;\r\n    }\r\n\r\n    get originY (): number\r\n    {\r\n        return this.transformData[CONST.ORIGIN_Y];\r\n    }\r\n\r\n    set originY (value: number)\r\n    {\r\n        this.transformData[CONST.ORIGIN_Y] = value;\r\n    }\r\n\r\n    set skewX (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SKEW_X])\r\n        {\r\n            data[CONST.SKEW_X] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get skewX (): number\r\n    {\r\n        return this.transformData[CONST.SKEW_X];\r\n    }\r\n\r\n    set skewY (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SKEW_Y])\r\n        {\r\n            data[CONST.SKEW_Y] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get skewY (): number\r\n    {\r\n        return this.transformData[CONST.SKEW_Y];\r\n    }\r\n\r\n    set scaleX (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SCALE_X])\r\n        {\r\n            data[CONST.SCALE_X] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get scaleX (): number\r\n    {\r\n        return this.transformData[CONST.SCALE_X];\r\n    }\r\n\r\n    set scaleY (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SCALE_Y])\r\n        {\r\n            data[CONST.SCALE_Y] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get scaleY (): number\r\n    {\r\n        return this.transformData[CONST.SCALE_Y];\r\n    }\r\n\r\n    set rotation (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.ROTATION])\r\n        {\r\n            data[CONST.ROTATION] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get rotation (): number\r\n    {\r\n        return this.transformData[CONST.ROTATION];\r\n    }\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport TransformGameObject from '../transformgameobject/TransformGameObject';\r\nimport IParent from './IParent';\r\n\r\nexport default class Container extends TransformGameObject\r\n{\r\n    children: IGameObject[];\r\n\r\n    private _alpha: number = 1;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.children = [];\r\n        this.isParent = true;\r\n        this.type = 'Container';\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy (reparentChildren?: IParent)\r\n    {\r\n        // if (reparentChildren)\r\n        // {\r\n        //     this.reparentChildren(reparentChildren);\r\n        // }\r\n        // else\r\n        // {\r\n        //     this.destroyChildren();\r\n        // }\r\n\r\n        this.children = null;\r\n\r\n        super.destroy();\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n\r\n    get alpha (): number\r\n    {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha (value: number)\r\n    {\r\n        if (value !== this._alpha)\r\n        {\r\n            this._alpha = value;\r\n\r\n            this.setDirtyRender();\r\n        }\r\n    }\r\n}\r\n","import Texture from './Texture';\r\n\r\nexport default class Frame\r\n{\r\n    texture: Texture;\r\n    key: string | number;\r\n\r\n    //  This is the actual area of the texture to draw to canvas / webgl, including any extruded data.\r\n    //  This is the same as the 'trimmed' + 'extruded' area from an atlas.\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    trimmed: boolean = false;\r\n\r\n    //  Original size of the image before being trimmed or added to an atlas (which can add extrude data to it).\r\n    sourceSizeWidth: number;\r\n    sourceSizeHeight: number;\r\n\r\n    //  The size of the image having been trimmed, before being added to the atlas (i.e. doesn't have any extrusion values in it)\r\n    spriteSourceSizeX: number;\r\n    spriteSourceSizeY: number;\r\n    spriteSourceSizeWidth: number;\r\n    spriteSourceSizeHeight: number;\r\n\r\n    pivot: { x: number, y: number };\r\n\r\n    u0: number;\r\n    v0: number;\r\n    u1: number;\r\n    v1: number;\r\n\r\n    constructor (texture: Texture, key: string | number, x: number, y: number, width: number, height: number)\r\n    {\r\n        this.texture = texture;\r\n        this.key = key;\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setPivot (x: number, y: number)\r\n    {\r\n        this.pivot = { x, y };\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setSourceSize (width: number, height: number)\r\n    {\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n    }\r\n\r\n    setTrim (width: number, height: number, x: number, y: number, w: number, h: number)\r\n    {\r\n        this.trimmed = true;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.spriteSourceSizeX = x;\r\n        this.spriteSourceSizeY = y;\r\n        this.spriteSourceSizeWidth = w;\r\n        this.spriteSourceSizeHeight = h;\r\n    }\r\n\r\n    updateUVs ()\r\n    {\r\n        const { x, y, width, height } = this;\r\n\r\n        const baseTextureWidth = this.texture.width;\r\n        const baseTextureHeight = this.texture.height;\r\n\r\n        this.u0 = x / baseTextureWidth;\r\n        this.v0 = y / baseTextureHeight;\r\n\r\n        this.u1 = (x + width) / baseTextureWidth;\r\n        this.v1 = (y + height) / baseTextureHeight;\r\n    }\r\n}\r\n","let gl: WebGLRenderingContext;\r\n\r\nfunction get ()\r\n{\r\n    return gl;\r\n}\r\n\r\nfunction set (context: WebGLRenderingContext)\r\n{\r\n    gl = context;\r\n}\r\n\r\nexport default {\r\n    get,\r\n    set\r\n}\r\n","import GL from './GL';\r\n\r\nexport default function SetGLTextureFilterMode (texture: WebGLTexture, linear: boolean = true)\r\n{\r\n    const gl = GL.get();\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\r\n}\r\n","import GL from './GL';\r\n\r\nexport default function DeleteGLTexture (texture: WebGLTexture)\r\n{\r\n    const gl = GL.get();\r\n\r\n    if (gl.isTexture(texture))\r\n    {\r\n        gl.deleteTexture(texture);\r\n    }\r\n}\r\n","import GL from './GL';\r\n\r\nexport default function DeleteFramebuffer (framebuffer: WebGLFramebuffer)\r\n{\r\n    const gl = GL.get();\r\n\r\n    if (gl.isFramebuffer(framebuffer))\r\n    {\r\n        gl.deleteFramebuffer(framebuffer);\r\n    }\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Checks if the given `width` and `height` are a power of two.\r\n * Useful for checking texture dimensions.\r\n *\r\n * @function Phaser.Math.Pow2.IsSize\r\n * @since 3.0.0\r\n *\r\n * @param {number} width - The width.\r\n * @param {number} height - The height.\r\n *\r\n * @return {boolean} `true` if `width` and `height` are a power of two, otherwise `false`.\r\n */\r\nexport default function IsSizePowerOfTwo (width: number, height: number): boolean\r\n{\r\n    if (width < 1 || height < 1)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return ((width & (width - 1)) === 0) && ((height & (height - 1)) === 0);\r\n}\r\n","import GL from './GL';\r\nimport IsSizePowerOfTwo from '../../math/pow2/IsSizePowerOfTwo';\r\n\r\nexport default function CreateGLTexture (source?: TexImageSource, width?: number, height?: number, potClamp: boolean = true, linear: boolean = true): WebGLTexture\r\n{\r\n    const gl = GL.get();\r\n    const glTexture: WebGLTexture = gl.createTexture();\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, glTexture);\r\n\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\r\n\r\n    if (source)\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n\r\n        width = source.width;\r\n        height = source.height;\r\n    }\r\n    else\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    }\r\n\r\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\r\n\r\n    const pot = (source && IsSizePowerOfTwo(width, height));\r\n\r\n    const wrap = (pot && potClamp) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\r\n\r\n    if (pot)\r\n    {\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n\r\n    return glTexture;\r\n}\r\n","import GL from './GL';\r\n\r\nexport default function UpdateGLTexture (source: TexImageSource, dstTexture: WebGLTexture, flipY: boolean = false)\r\n{\r\n    const gl = GL.get();\r\n    const width = source.width;\r\n    const height = source.height;\r\n\r\n    if (width > 0 && height > 0)\r\n    {\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, dstTexture);\r\n\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n    }\r\n}\r\n","import Frame from './Frame';\r\nimport SetGLTextureFilterMode from '../renderer/webgl1/SetGLTextureFilterMode';\r\nimport DeleteGLTexture from '../renderer/webgl1/DeleteGLTexture';\r\nimport DeleteFramebuffer from '../renderer/webgl1/DeleteFramebuffer';\r\nimport CreateGLTexture from '../renderer/webgl1/CreateGLTexture';\r\nimport UpdateGLTexture from '../renderer/webgl1/UpdateGLTexture';\r\n\r\nexport default class Texture\r\n{\r\n    //  Unique identifier of this Texture, if stored in the Texture Manager\r\n    key: string = '';\r\n\r\n    width: number;\r\n    height: number;\r\n\r\n    image: TexImageSource;\r\n\r\n    glTexture: WebGLTexture;\r\n    glIndex: number = 0;\r\n    glIndexCounter: number = -1;\r\n    glFramebuffer: WebGLFramebuffer;\r\n\r\n    firstFrame: Frame;\r\n\r\n    frames: Map<string | number, Frame>;\r\n\r\n    data: any;\r\n\r\n    constructor (image?: TexImageSource, width?: number, height?: number)\r\n    {\r\n        if (image)\r\n        {\r\n            width = image.width;\r\n            height = image.height;\r\n        }\r\n\r\n        this.image = image;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.frames = new Map();\r\n\r\n        this.data = {};\r\n\r\n        this.add('__BASE', 0, 0, width, height);\r\n    }\r\n\r\n    add (key: string | number, x: number, y: number, width: number, height: number): Frame\r\n    {\r\n        if (this.frames.has(key))\r\n        {\r\n            return null;\r\n        }\r\n\r\n        let frame = new Frame(this, key, x, y, width, height);\r\n\r\n        this.frames.set(key, frame);\r\n\r\n        if (!this.firstFrame || this.firstFrame.key === '__BASE')\r\n        {\r\n            this.firstFrame = frame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    get (key?: string | number | Frame)\r\n    {\r\n        //  null, undefined, empty string, zero\r\n        if (!key)\r\n        {\r\n            return this.firstFrame;\r\n        }\r\n\r\n        if (key instanceof Frame)\r\n        {\r\n            key = key.key;\r\n        }\r\n\r\n        let frame: Frame = this.frames.get(key);\r\n\r\n        if (!frame)\r\n        {\r\n            console.warn('Texture.frame missing: ' + key);\r\n\r\n            frame = this.firstFrame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    getFrames (frames: string[] | number[]): Frame[]\r\n    {\r\n        const output: Frame[] = [];\r\n\r\n        frames.forEach((key: string | number) => {\r\n\r\n            output.push(this.get(key));\r\n\r\n        });\r\n\r\n        return output;\r\n    }\r\n\r\n    getFramesInRange (prefix: string, start: number, end: number, zeroPad: number = 0, suffix: string = ''): Frame[]\r\n    {\r\n        const frameKeys = [];\r\n\r\n        const diff: number = (start < end) ? 1 : -1;\r\n\r\n        //  Adjust because we use i !== end in the for loop\r\n        end += diff;\r\n\r\n        for (let i: number = start; i !== end; i += diff)\r\n        {\r\n            frameKeys.push(prefix + i.toString().padStart(zeroPad, '0') + suffix);\r\n        }\r\n\r\n        return this.getFrames(frameKeys);\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        const frame = this.frames.get('__BASE');\r\n\r\n        frame.setSize(width, height);\r\n    }\r\n\r\n    setFilter (linear: boolean)\r\n    {\r\n        SetGLTextureFilterMode(this.glTexture, linear);\r\n    }\r\n    \r\n    createGL ()\r\n    {\r\n        if (this.glTexture)\r\n        {\r\n            DeleteGLTexture(this.glTexture);\r\n        }\r\n\r\n        this.glTexture = CreateGLTexture(this.image);\r\n    }\r\n\r\n    updateGL ()\r\n    {\r\n        if (!this.glTexture)\r\n        {\r\n            this.glTexture = CreateGLTexture(this.image);\r\n        }\r\n        else\r\n        {\r\n            UpdateGLTexture(this.image, this.glTexture);\r\n        }\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.frames.clear();\r\n\r\n        this.image = null;\r\n        this.firstFrame = null;\r\n        this.data = null;\r\n\r\n        DeleteGLTexture(this.glTexture);\r\n        DeleteFramebuffer(this.glFramebuffer);\r\n    }\r\n}\r\n","import Game from './Game';\r\n\r\nlet gameInstance: Game;\r\n\r\nfunction get ()\r\n{\r\n    return gameInstance;\r\n}\r\n\r\nfunction set (game: Game | null)\r\n{\r\n    gameInstance = game;\r\n}\r\n\r\nexport default {\r\n    get,\r\n    set\r\n}\r\n","import ISprite from './ISprite';\r\nimport Frame from '../../textures/Frame';\r\n\r\nexport default function SetFrame (key?: string | number | Frame, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        let frame: Frame = entity.texture.get(key);\r\n\r\n        if (frame === entity.frame)\r\n        {\r\n            return;\r\n        }\r\n    \r\n        entity.frame = frame;\r\n    \r\n        entity.setSize(frame.sourceSizeWidth, frame.sourceSizeHeight);\r\n        entity.setBounds(entity.x, entity.y, entity.width, entity.height);\r\n    \r\n        if (frame.pivot)\r\n        {\r\n            entity.setOrigin(frame.pivot.x, frame.pivot.y);\r\n        }\r\n    \r\n        let data = entity.vertexData;\r\n    \r\n        //  This rarely changes, so we'll set it here, rather than every game step:\r\n    \r\n        data[2] = frame.u0;\r\n        data[3] = frame.v0;\r\n    \r\n        data[8] = frame.u0;\r\n        data[9] = frame.v1;\r\n    \r\n        data[14] = frame.u1;\r\n        data[15] = frame.v1;\r\n    \r\n        data[20] = frame.u1;\r\n        data[21] = frame.v0;\r\n    \r\n        entity.setDirtyRender();\r\n    \r\n        entity.hasTexture = true;\r\n\r\n    });\r\n}\r\n","import ISprite from './ISprite';\r\nimport Texture from '../../textures/Texture';\r\nimport Frame from '../../textures/Frame';\r\nimport GameInstance from '../../GameInstance';\r\nimport SetFrame from './SetFrame';\r\n\r\nexport default function SetTexture (key: string | Texture, frame: string | number | Frame, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        if (!key)\r\n        {\r\n            return;\r\n        }\r\n    \r\n        if (key instanceof Texture)\r\n        {\r\n            entity.texture = key;\r\n        }\r\n        else\r\n        {\r\n            entity.texture = GameInstance.get().textures.get(key);\r\n        }\r\n    \r\n        if (!entity.texture)\r\n        {\r\n            console.warn('Invalid Texture key: ' + key);\r\n        }\r\n        else\r\n        {\r\n            if (!entity.texture.glTexture)\r\n            {\r\n                entity.texture.createGL();\r\n            }\r\n\r\n            SetFrame(frame, entity);\r\n        }\r\n\r\n    });\r\n}\r\n","import Container from '../container/Container';\r\nimport Texture from '../../textures/Texture';\r\nimport Frame from '../../textures/Frame';\r\nimport IContainer from '../container/IContainer';\r\nimport Rectangle from '../../geom/rectangle/Rectangle';\r\nimport SetTexture from './SetTexture';\r\nimport SetFrame from './SetFrame';\r\n\r\nexport default class Sprite extends Container\r\n{\r\n    texture: Texture;\r\n    frame: Frame;\r\n    hasTexture: boolean = false;\r\n\r\n    vertexData: Float32Array;\r\n    vertexColor: Uint32Array;\r\n\r\n    vertexAlpha: Float32Array;\r\n    vertexTint: Uint32Array;\r\n\r\n    private _tint: number = 0xffffff;\r\n    private _prevTextureID: number = -1;\r\n\r\n    constructor (x: number, y: number, texture: string | Texture, frame?: string | number)\r\n    {\r\n        super(x, y);\r\n\r\n        this.vertexData = new Float32Array(24).fill(0);\r\n        this.vertexColor = new Uint32Array(4).fill(4294967295);\r\n\r\n        this.vertexAlpha = new Float32Array(4).fill(1);\r\n        this.vertexTint = new Uint32Array(4).fill(0xffffff);\r\n\r\n        this.type = 'Sprite';\r\n        this.setTexture(texture, frame);\r\n        this.setBounds(x, y, this.width, this.height);\r\n    }\r\n\r\n    getBounds (includeChildren: boolean = false): Rectangle\r\n    {\r\n        if (this.dirtyRender)\r\n        {\r\n            this.updateVertices();\r\n        }\r\n\r\n        super.getBounds(includeChildren);\r\n\r\n        return this.bounds;\r\n    }\r\n\r\n    setTexture (key: string | Texture, frame?: string | number)\r\n    {\r\n        SetTexture(key, frame, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    setFrame (key?: string | number | Frame)\r\n    {\r\n        SetFrame(key, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender && this.hasTexture && this.alpha > 0);\r\n    }\r\n\r\n    updateVertices ()\r\n    {\r\n        const data = this.vertexData;\r\n\r\n        this.dirtyRender = false;\r\n\r\n        const frame = this.frame;\r\n        const originX = this.originX;\r\n        const originY = this.originY;\r\n\r\n        let w0: number;\r\n        let w1: number;\r\n        let h0: number;\r\n        let h1: number;\r\n\r\n        const [ a, b, c, d, tx, ty ] = this.worldTransform;\r\n\r\n        if (frame.trimmed)\r\n        {\r\n            w1 = frame.spriteSourceSizeX - (originX * frame.sourceSizeWidth);\r\n            w0 = w1 + frame.spriteSourceSizeWidth;\r\n\r\n            h1 = frame.spriteSourceSizeY - (originY * frame.sourceSizeHeight);\r\n            h0 = h1 + frame.spriteSourceSizeHeight;\r\n        }\r\n        else\r\n        {\r\n            w1 = -originX * frame.sourceSizeWidth;\r\n            w0 = w1 + frame.sourceSizeWidth;\r\n\r\n            h1 = -originY * frame.sourceSizeHeight;\r\n            h0 = h1 + frame.sourceSizeHeight;\r\n        }\r\n\r\n        const x0 = (w1 * a) + (h1 * c) + tx;\r\n        const y0 = (w1 * b) + (h1 * d) + ty;\r\n\r\n        const x1 = (w1 * a) + (h0 * c) + tx;\r\n        const y1 = (w1 * b) + (h0 * d) + ty;\r\n\r\n        const x2 = (w0 * a) + (h0 * c) + tx;\r\n        const y2 = (w0 * b) + (h0 * d) + ty;\r\n\r\n        const x3 = (w0 * a) + (h1 * c) + tx;\r\n        const y3 = (w0 * b) + (h1 * d) + ty;\r\n\r\n        //  top left\r\n        data[0] = x0;\r\n        data[1] = y0;\r\n\r\n        //  bottom left\r\n        data[6] = x1;\r\n        data[7] = y1;\r\n\r\n        //  bottom right\r\n        data[12] = x2;\r\n        data[13] = y2;\r\n\r\n        //  top right\r\n        data[18] = x3;\r\n        data[19] = y3;\r\n\r\n        const bounds = this.bounds;\r\n\r\n        bounds.x = Math.min(x0, x1, x2, x3);\r\n        bounds.y = Math.min(y0, y1, y2, y3);\r\n        bounds.right = Math.max(x0, x1, x2, x3);\r\n        bounds.bottom = Math.max(y0, y1, y2, y3);\r\n    }\r\n\r\n    uploadBuffers (F32: Float32Array, U32: Uint32Array, offset: number, setTexture: boolean = true)\r\n    {\r\n        //  Skip all of this if not dirty\r\n        if (this.dirtyRender)\r\n        {\r\n            this.updateVertices();\r\n        }\r\n\r\n        const data = this.vertexData;\r\n        const textureIndex = this.texture.glIndex;\r\n\r\n        //  Do we have a different texture ID?\r\n        if (setTexture && textureIndex !== this._prevTextureID)\r\n        {\r\n            this._prevTextureID = textureIndex;\r\n\r\n            data[4] = textureIndex;\r\n            data[10] = textureIndex;\r\n            data[16] = textureIndex;\r\n            data[22] = textureIndex;\r\n        }\r\n\r\n        //  Copy the data to the array buffer\r\n        F32.set(data, offset);\r\n\r\n        const color = this.vertexColor;\r\n\r\n        //  Copy the vertex colors to the Uint32 view (as the data copy above overwrites them)\r\n        U32[offset + 5] = color[0];\r\n        U32[offset + 11] = color[2];\r\n        U32[offset + 17] = color[3];\r\n        U32[offset + 23] = color[1];\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer)\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.texture = null;\r\n        this.frame = null;\r\n        this.hasTexture = false;\r\n        this.vertexData = null;\r\n        this.vertexColor = null;\r\n        this.vertexAlpha = null;\r\n        this.vertexTint = null;\r\n    }\r\n\r\n    get tint (): number\r\n    {\r\n        return this._tint;\r\n    }\r\n\r\n    set tint (value: number)\r\n    {\r\n        this._tint = value;\r\n\r\n        // this.setTint(value);\r\n    }\r\n}\r\n\r\n/*\r\n    vertexData array structure:\r\n\r\n    0 = topLeft.x\r\n    1 = topLeft.y\r\n    2 = frame.u0\r\n    3 = frame.v0\r\n    4 = textureIndex\r\n    5 = topLeft.packedColor\r\n\r\n    6 = bottomLeft.x\r\n    7 = bottomLeft.y\r\n    8 = frame.u0\r\n    9 = frame.v1\r\n    10 = textureIndex\r\n    11 = bottomLeft.packedColor\r\n\r\n    12 = bottomRight.x\r\n    13 = bottomRight.y\r\n    14 = frame.u1\r\n    15 = frame.v1\r\n    16 = textureIndex\r\n    17 = bottomRight.packedColor\r\n\r\n    18 = topRight.x\r\n    19 = topRight.y\r\n    20 = frame.u1\r\n    21 = frame.v0\r\n    22 = textureIndex\r\n    23 = topRight.packedColor\r\n*/\r\n","import Sprite from '../sprite/Sprite';\r\nimport IAnimationData from './IAnimationData';\r\nimport Frame from '../../textures/Frame';\r\nimport IContainer from '../container/IContainer';\r\n\r\nexport default class AnimatedSprite extends Sprite\r\n{\r\n    anims: Map<string, Frame[]>;\r\n    animData: IAnimationData;\r\n\r\n    constructor (x: number, y: number, texture: string, frame?: string | number)\r\n    {\r\n        super(x, y, texture, frame);\r\n\r\n        this.type = 'AnimatedSprite';\r\n\r\n        this.anims = new Map();\r\n    \r\n        //  Holds all the data for the current animation only\r\n        this.animData = {\r\n            currentAnim: '',\r\n            currentFrames: [],\r\n            frameIndex: 0,\r\n            animSpeed: 0,\r\n            nextFrameTime: 0,\r\n            repeatCount: 0,\r\n            isPlaying: false,\r\n            yoyo: false,\r\n            pendingStart: false,\r\n            playingForward: true,\r\n            delay: 0,\r\n            repeatDelay: 0,\r\n            onStart: null,\r\n            onRepeat: null,\r\n            onComplete: null\r\n        };\r\n    }\r\n\r\n    private stop ()\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.isPlaying = false;\r\n        data.currentAnim = '';\r\n\r\n        if (data.onComplete)\r\n        {\r\n            data.onComplete(this, data.currentAnim);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    nextFrame ()\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.frameIndex++;\r\n\r\n        //  There are no more frames, do we yoyo or repeat or end?\r\n        if (data.frameIndex === data.currentFrames.length)\r\n        {\r\n            if (data.yoyo)\r\n            {\r\n                data.frameIndex--;\r\n                data.playingForward = false;\r\n            }\r\n            else if (data.repeatCount === -1 || data.repeatCount > 0)\r\n            {\r\n                data.frameIndex = 0;\r\n\r\n                if (data.repeatCount !== -1)\r\n                {\r\n                    data.repeatCount--;\r\n                }\r\n\r\n                if (data.onRepeat)\r\n                {\r\n                    data.onRepeat(this, data.currentAnim);\r\n                }\r\n\r\n                data.nextFrameTime += data.repeatDelay;\r\n            }\r\n            else\r\n            {\r\n                data.frameIndex--;\r\n\r\n                return this.stop();\r\n            }\r\n        }\r\n\r\n        this.setFrame(data.currentFrames[data.frameIndex]);\r\n\r\n        data.nextFrameTime += data.animSpeed;\r\n\r\n        return this;\r\n    }\r\n\r\n    prevFrame ()\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.frameIndex--;\r\n\r\n        //  There are no more frames, do we repeat or end?\r\n        if (data.frameIndex === -1)\r\n        {\r\n            if (data.repeatCount === -1 || data.repeatCount > 0)\r\n            {\r\n                data.frameIndex = 0;\r\n                data.playingForward = true;\r\n\r\n                if (data.repeatCount !== -1)\r\n                {\r\n                    data.repeatCount--;\r\n                }\r\n\r\n                if (data.onRepeat)\r\n                {\r\n                    data.onRepeat(this, data.currentAnim);\r\n                }\r\n\r\n                data.nextFrameTime += data.repeatDelay;\r\n            }\r\n            else\r\n            {\r\n                data.frameIndex = 0;\r\n\r\n                return this.stop();\r\n            }\r\n        }\r\n\r\n        this.setFrame(data.currentFrames[data.frameIndex]);\r\n\r\n        data.nextFrameTime += data.animSpeed;\r\n\r\n        return this;\r\n    }\r\n\r\n    update (delta: number, now: number)\r\n    {\r\n        super.update(delta, now);\r\n\r\n        const data = this.animData;\r\n\r\n        if (!data.isPlaying)\r\n        {\r\n            return;\r\n        }\r\n\r\n        data.nextFrameTime -= delta * 1000;\r\n        \r\n        //  Clamp to zero, otherwise a huge delta could cause animation playback issues\r\n        data.nextFrameTime = Math.max(data.nextFrameTime, 0);\r\n\r\n        //  It's time for a new frame\r\n        if (data.nextFrameTime === 0)\r\n        {\r\n            //  Is this the start of our animation?\r\n            if (data.pendingStart)\r\n            {\r\n                if (data.onStart)\r\n                {\r\n                    data.onStart(this, data.currentAnim);\r\n                }\r\n\r\n                data.pendingStart = false;\r\n                data.nextFrameTime = data.animSpeed;\r\n            }\r\n            else if (data.playingForward)\r\n            {\r\n                this.nextFrame();\r\n            }\r\n            else\r\n            {\r\n                this.prevFrame();\r\n            }\r\n        }\r\n    }\r\n\r\n    get isPlaying (): boolean\r\n    {\r\n        return this.animData.isPlaying;\r\n    }\r\n\r\n    get isPlayingForward (): boolean\r\n    {\r\n        return (this.animData.isPlaying && this.animData.playingForward);\r\n    }\r\n\r\n    get currentAnimation (): string\r\n    {\r\n        return this.animData.currentAnim;\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer)\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.anims.clear();\r\n        this.animData = null;\r\n    }\r\n}\r\n","import IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport default function ClearAnimations (...sprite: IAnimatedSprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        entity.anims.clear();\r\n\r\n    });\r\n}\r\n","import IAnimationPlayConfig from './IAnimationPlayConfig';\r\nimport IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport default function Play (key: string, config: IAnimationPlayConfig = {}, ...sprite: IAnimatedSprite[])\r\n{\r\n    const {\r\n        speed = 24,\r\n        repeat = 0,\r\n        yoyo = false,\r\n        startFrame = 0,\r\n        delay = 0,\r\n        repeatDelay = 0,\r\n        onStart = null,\r\n        onRepeat = null,\r\n        onComplete = null,\r\n        forceRestart = false\r\n    } = config;\r\n\r\n    sprite.forEach(entity => {\r\n\r\n        const data = entity.animData;\r\n\r\n        if (data.isPlaying)\r\n        {\r\n            if (data.currentAnim !== key)\r\n            {\r\n                //  Stop\r\n                data.isPlaying = false;\r\n                data.currentAnim = '';\r\n            \r\n                if (data.onComplete)\r\n                {\r\n                    data.onComplete(entity, data.currentAnim);\r\n                }\r\n            }\r\n            else if (!forceRestart)\r\n            {\r\n                //  This animation is already playing? Just return then.\r\n                return;\r\n            }\r\n        }\r\n    \r\n        if (entity.anims.has(key))\r\n        {\r\n            data.currentFrames = entity.anims.get(key);\r\n            data.currentAnim = key;\r\n            data.frameIndex = startFrame;\r\n            data.animSpeed = 1000 / speed;\r\n            data.nextFrameTime = data.animSpeed + delay;\r\n            data.isPlaying = true;\r\n            data.playingForward = true;\r\n            data.yoyo = yoyo;\r\n            data.repeatCount = repeat;\r\n            data.delay = delay;\r\n            data.repeatDelay = repeatDelay;\r\n            data.onStart = onStart;\r\n            data.onRepeat = onRepeat;\r\n            data.onComplete = onComplete;\r\n    \r\n            //  If there is no start delay, we set the first frame immediately\r\n            if (delay === 0)\r\n            {\r\n                entity.setFrame(data.currentFrames[data.frameIndex]);\r\n    \r\n                if (onStart)\r\n                {\r\n                    onStart(entity, key);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                data.pendingStart = true;\r\n            }\r\n        }\r\n\r\n    });\r\n}\r\n","import IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport default function RemoveAnimation (key: string, ...sprite: IAnimatedSprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        entity.anims.delete(key);\r\n\r\n    });\r\n}\r\n","import IAnimatedSprite from './IAnimatedSprite';\r\n\r\nexport default function Stop (...sprite: IAnimatedSprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        const data = entity.animData;\r\n\r\n        data.isPlaying = false;\r\n        data.currentAnim = '';\r\n    \r\n        if (data.onComplete)\r\n        {\r\n            data.onComplete(entity, data.currentAnim);\r\n        }\r\n    \r\n    });\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport IParent from './IParent';\r\n\r\nexport default function RemoveChild (parent: IParent, ...child: IGameObject[])\r\n{\r\n    const children = parent.children;\r\n\r\n    child.forEach(entity => {\r\n\r\n        let index: number = children.indexOf(entity);\r\n\r\n        if (index > -1)\r\n        {\r\n            children.splice(index, 1);\r\n\r\n            entity.parent = null;\r\n        }\r\n\r\n    });\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport IParent from './IParent';\r\nimport RemoveChild from './RemoveChild';\r\n\r\nexport default function SetParent (parent: IParent, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        if (entity.parent)\r\n        {\r\n            RemoveChild(entity.parent, entity);\r\n        }\r\n\r\n        entity.scene = parent.scene;\r\n        entity.parent = parent;\r\n\r\n    });\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport IParent from './IParent';\r\nimport SetParent from './SetParent';\r\n\r\nexport default function AddChild (parent: IParent, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        SetParent(parent, entity);\r\n\r\n        parent.children.push(entity);\r\n\r\n        entity.updateTransform();\r\n\r\n    });\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport IParent from './IParent';\r\nimport SetParent from './SetParent';\r\n\r\nexport default function AddChildAt (parent: IParent, index: number, ...child: IGameObject[])\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index >= 0 && index <= children.length)\r\n    {\r\n        child.reverse().forEach(entity => {\r\n\r\n            SetParent(parent, entity);\r\n\r\n            children.splice(index, 0, entity);\r\n\r\n            entity.updateTransform();\r\n    \r\n        });\r\n    }\r\n}\r\n","import IParent from './IParent';\r\nimport IGameObject from '../gameobject/IGameObject';\r\n\r\nexport default function RemoveChildren (parent: IParent, beginIndex: number = 0, endIndex?: number): IGameObject[]\r\n{\r\n    const children = parent.children;\r\n\r\n    if (endIndex === undefined)\r\n    {\r\n        endIndex = children.length;\r\n    }\r\n\r\n    const range = endIndex - beginIndex;\r\n\r\n    if (range > 0 && range <= endIndex)\r\n    {\r\n        const removed = children.splice(beginIndex, range);\r\n\r\n        removed.forEach(child => {\r\n\r\n            child.parent = null;\r\n\r\n        });\r\n\r\n        return removed;\r\n    }\r\n    else\r\n    {\r\n        return [];\r\n    }\r\n}\r\n","import IParent from './IParent';\r\nimport RemoveChildren from './RemoveChildren';\r\n\r\nexport default function DestroyChildren (parent: IParent, beginIndex: number = 0, endIndex?: number)\r\n{\r\n    const removed = RemoveChildren(parent, beginIndex, endIndex);\r\n\r\n    removed.forEach(child => {\r\n\r\n        child.destroy();\r\n\r\n    });\r\n}\r\n","import IParent from './IParent';\r\nimport IGameObject from '../gameobject/IGameObject';\r\n\r\nexport default function GetChildAt (parent: IParent, index: number): IGameObject\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index < 0 || index > children.length)\r\n    {\r\n        throw new Error('Index out of bounds: ' + index);\r\n    }\r\n\r\n    return children[index];\r\n}\r\n","import IParent from './IParent';\r\nimport IGameObject from '../gameobject/IGameObject';\r\n\r\nexport default function GetChildIndex (parent: IParent, child: IGameObject): number\r\n{\r\n    return parent.children.indexOf(child);\r\n}\r\n","import IParent from './IParent';\r\nimport GetChildAt from './GetChildAt';\r\nimport IGameObject from '../gameobject/IGameObject';\r\n\r\nexport default function RemoveChildAt (parent: IParent, ...index: number[]): IGameObject[]\r\n{\r\n    const children = parent.children;\r\n    const removed: IGameObject[] = [];\r\n    \r\n    //  Sort into numeric order\r\n    index.sort((a, b) => a - b);\r\n\r\n    //  Work through the array in reverse\r\n    index.reverse().forEach(entity => {\r\n\r\n        let child = GetChildAt(parent, entity);\r\n\r\n        if (child)\r\n        {\r\n            children.splice(entity, 1);\r\n\r\n            child.parent = null;\r\n\r\n            removed.push(child);\r\n        }\r\n\r\n    });\r\n\r\n    return removed;\r\n}\r\n","import IParent from './IParent';\r\nimport IGameObject from '../gameobject/IGameObject';\r\nimport RemoveChildren from './RemoveChildren';\r\nimport SetParent from './SetParent';\r\n\r\nexport default function ReparentChildren (parent: IParent, newParent: IParent, beginIndex: number = 0, endIndex?: number): IGameObject[]\r\n{\r\n    const moved = RemoveChildren(parent, beginIndex, endIndex);\r\n\r\n    moved.forEach(child => {\r\n\r\n        SetParent(newParent, child);\r\n\r\n    });\r\n\r\n    return moved;\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport GetChildIndex from './GetChildIndex';\r\n\r\nexport default function SwapChildren (child1: IGameObject, child2: IGameObject)\r\n{\r\n    if (child1.parent === child2.parent)\r\n    {\r\n        const children = child1.parent.children;\r\n\r\n        const index1 = GetChildIndex(child1.parent, child1);\r\n        const index2 = GetChildIndex(child2.parent, child2);\r\n\r\n        if (index1 !== index2)\r\n        {\r\n            children[index1] = child2;\r\n            children[index2] = child1;\r\n        }\r\n    }\r\n}\r\n","import IGameObject from './IGameObject';\r\n\r\nexport default function SetBounds (x: number, y: number, width: number, height: number, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.bounds.set(x, y, width, height);\r\n\r\n    });\r\n}\r\n","import IGameObject from './IGameObject';\r\n\r\nexport default function SetName (name: string, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.name = name;\r\n\r\n    });\r\n}\r\n","import IGameObject from './IGameObject';\r\nimport IBaseScene from '../../scenes/IBaseScene';\r\n\r\nexport default function SetScene (scene: IBaseScene, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.scene = scene;\r\n\r\n    });\r\n}\r\n","import IGameObject from './IGameObject';\r\n\r\nexport default function SetType (type: string, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.type = type;\r\n\r\n    });\r\n}\r\n","import IGameObject from './IGameObject';\r\n\r\nexport default function SetVisible (visible: boolean, ...child: IGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.visible = visible;\r\n\r\n    });\r\n}\r\n","export default function PackColor (rgb: number, alpha: number): number\r\n{\r\n    let ua = ((alpha * 255) | 0) & 0xFF;\r\n\r\n    return ((ua << 24) | rgb) >>> 0;\r\n}\r\n","import ISprite from '../../gameobjects/sprite/ISprite';\r\nimport PackColor from './PackColor';\r\n\r\nexport default function PackColors (sprite: ISprite)\r\n{\r\n    const alpha = sprite.vertexAlpha;\r\n    const tint = sprite.vertexTint;\r\n    const color = sprite.vertexColor;\r\n\r\n    //  In lots of cases, this *never* changes, so cache it here:\r\n    color[0] = PackColor(tint[0], alpha[0]);\r\n    color[1] = PackColor(tint[1], alpha[1]);\r\n    color[2] = PackColor(tint[2], alpha[2]);\r\n    color[3] = PackColor(tint[3], alpha[3]);\r\n\r\n    return sprite.setDirtyRender();\r\n}\r\n","import PackColors from '../../renderer/webgl1/PackColors';\r\nimport ISprite from './ISprite';\r\n\r\nexport default function SetQuadAlpha (topLeft: number, topRight: number, bottomLeft: number, bottomRight: number, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        let alpha = entity.vertexAlpha;\r\n\r\n        alpha[0] = topLeft;\r\n        alpha[1] = topRight;\r\n        alpha[2] = bottomLeft;\r\n        alpha[3] = bottomRight;\r\n    \r\n        PackColors(entity);\r\n    \r\n    });\r\n}\r\n","import PackColors from '../../renderer/webgl1/PackColors';\r\nimport ISprite from './ISprite';\r\n\r\nexport default function SetQuadTint (topLeft: number, topRight: number, bottomLeft: number, bottomRight: number, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        let tint = entity.vertexTint;\r\n\r\n        tint[0] = topLeft;\r\n        tint[1] = topRight;\r\n        tint[2] = bottomLeft;\r\n        tint[3] = bottomRight;\r\n    \r\n        PackColors(entity);\r\n    \r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetBackgroundStyle (style: string | CanvasGradient | CanvasPattern, cornerRadius: number | null, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.backgroundStyle = style;\r\n\r\n        if (cornerRadius !== null)\r\n        {\r\n            entity.cornerRadius = cornerRadius;\r\n        }\r\n\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetCornerRadius (cornerRadius: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.cornerRadius = cornerRadius;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetFillStyle (style: string | CanvasGradient | CanvasPattern, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.fillStyle = style;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetFixedSize (width: number, height: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.fixedWidth = width;\r\n        entity.fixedHeight = height;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetFont (font: string, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.font = font;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetLineDash (segments: number[], ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.lineDash = segments;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetLineSpacing (spacing: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.lineSpacing = spacing;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetLineWidth (width: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.lineWidth = width;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetPadding (left: number, right: number, top: number, bottom: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        const padding = entity.padding;\r\n\r\n        padding.left = left;\r\n        padding.right = right;\r\n        padding.top = top;\r\n        padding.bottom = bottom;\r\n\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetStrokeStyle (style: string | CanvasGradient | CanvasPattern, lineWidth: number, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.strokeStyle = style;\r\n\r\n        if (lineWidth)\r\n        {\r\n            entity.lineWidth = lineWidth;\r\n        }\r\n\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetText (value: string | string[], ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.setText(value);\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetTextAlign (align: CanvasTextAlign, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.textAlign = align;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","import IText from './IText';\r\n\r\nexport default function SetTextBaseline (baseline: CanvasTextBaseline, ...text: IText[])\r\n{\r\n    text.forEach(entity => {\r\n\r\n        entity.textBaseline = baseline;\r\n        entity.updateText();\r\n\r\n    });\r\n}\r\n","export default function CreateCanvas (width: number, height: number): CanvasRenderingContext2D\r\n{\r\n    const canvas = document.createElement('canvas');\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    return canvas.getContext('2d');\r\n}\r\n","import CreateCanvas from '../CreateCanvas';\r\nimport Texture from '../Texture';\r\n\r\nexport default function CanvasTexture (width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","import Sprite from '../sprite/Sprite';\r\nimport CreateGLTexture from '../../renderer/webgl1/CreateGLTexture';\r\nimport IContainer from '../container/IContainer';\r\nimport CanvasTexture from '../../textures/types/CanvasTexture';\r\nimport GameInstance from '../../GameInstance';\r\n\r\nexport type VerticalTextAlignment = 'ascent' | 'lineheight';\r\n\r\nexport default class Text extends Sprite\r\n{\r\n    private _text: string;\r\n\r\n    preRenderCallback: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void;\r\n    wordWrapCallback: (text: string) => string;\r\n   \r\n    canvas: HTMLCanvasElement;\r\n    context: CanvasRenderingContext2D;\r\n    splitRegExp: RegExp = /(?:\\r\\n|\\r|\\n)/;\r\n    padding = { left: 0, right: 0, top: 0, bottom: 0 };\r\n    verticalAlign: VerticalTextAlignment = 'ascent';\r\n    lineSpacing: number = 0;\r\n    resolution: number;\r\n    font: string = '16px monospace';\r\n    fillStyle: string | CanvasGradient | CanvasPattern = '#fff';\r\n    strokeStyle: string | CanvasGradient | CanvasPattern = '';\r\n    backgroundStyle: string | CanvasGradient | CanvasPattern = '';\r\n    cornerRadius: number = 0;\r\n    textAlign: CanvasTextAlign = 'left';\r\n    textBaseline: CanvasTextBaseline = 'alphabetic';\r\n    lineWidth: number = 0;\r\n    lineDash: number[] = [];\r\n    fixedWidth: number;\r\n    fixedHeight: number;\r\n    antialias: boolean = false;\r\n\r\n    constructor (x: number, y: number, text: string | string[] = '', font?: string, fillStyle?: string | CanvasGradient | CanvasPattern)\r\n    {\r\n        super(x, y, CanvasTexture());\r\n\r\n        this.type = 'Text';\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.resolution = game.renderer.resolution;\r\n\r\n        this.canvas = this.texture.image as HTMLCanvasElement;\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        this.texture.glTexture = CreateGLTexture(this.canvas, 32, 32, false, this.antialias);\r\n\r\n        if (font)\r\n        {\r\n            this.font = font;\r\n        }\r\n\r\n        if (fillStyle)\r\n        {\r\n            this.fillStyle = fillStyle;\r\n        }\r\n\r\n        this.setText(text);\r\n    }\r\n\r\n    private syncContext (canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D)\r\n    {\r\n        if (this.preRenderCallback)\r\n        {\r\n            this.preRenderCallback(canvas, ctx);\r\n        }\r\n\r\n        ctx.font = this.font;\r\n        ctx.textBaseline = this.textBaseline;\r\n        ctx.textAlign = this.textAlign;\r\n        ctx.fillStyle = this.fillStyle;\r\n        ctx.strokeStyle = this.strokeStyle;\r\n        ctx.lineWidth = this.lineWidth;\r\n        ctx.lineCap = 'round';\r\n        ctx.lineJoin = 'round';\r\n        ctx.setLineDash(this.lineDash);\r\n        ctx.imageSmoothingEnabled = this.antialias;\r\n\r\n        //  TODO Shadows\r\n    }\r\n\r\n    updateText (): this\r\n    {\r\n        const canvas = this.canvas;\r\n        const ctx = this.context;\r\n        const resolution = this.resolution;\r\n\r\n        let lines = this._text.split(this.splitRegExp);\r\n\r\n        const padding = this.padding;\r\n        const fillStyle = this.fillStyle;\r\n        const strokeStyle = this.strokeStyle;\r\n        const strokeWidth = this.lineWidth;\r\n        const lineSpacing = this.lineSpacing;\r\n        const strokeWidthHalf = (strokeWidth > 0) ? strokeWidth / 2 : 0;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        this.syncContext(canvas, ctx);\r\n\r\n        //  Use specifically for measureText\r\n        ctx.textAlign = 'start';\r\n\r\n        //  Measure each line and add them together (note: measure text excludes stroke style!)\r\n\r\n        let maxWidth: number = 0;\r\n        let maxHeight: number = 0;\r\n        let y: number = 0;\r\n\r\n        const lineMetrics = [];\r\n\r\n        const vAlignAscent: boolean = (this.verticalAlign === 'ascent');\r\n\r\n        //  Work out an average line height for this font\r\n        let metrics = ctx.measureText('|MÉq');\r\n\r\n        const averageLineHeight: number = Math.ceil(Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent)) + strokeWidth;\r\n\r\n        for (let i: number = 0; i < lines.length; i++)\r\n        {\r\n            let metrics = ctx.measureText(lines[i]);\r\n\r\n            let left = metrics.actualBoundingBoxLeft;\r\n            let right = metrics.actualBoundingBoxRight;\r\n            let ascent = metrics.actualBoundingBoxAscent;\r\n            let descent = metrics.actualBoundingBoxDescent;\r\n\r\n            //  Zero for a carriage-return, but we still need to add in the space\r\n            if ((!ascent && !descent) || lines[i] === '')\r\n            {\r\n                ascent = averageLineHeight;\r\n                descent = 0;\r\n            }\r\n\r\n            let lineWidth = Math.ceil(Math.abs(left) + Math.abs(right)) + strokeWidth;\r\n            let lineHeight = Math.ceil(Math.abs(ascent) + Math.abs(descent)) + strokeWidth;\r\n\r\n            if (vAlignAscent)\r\n            {\r\n                y += ascent + strokeWidthHalf;\r\n\r\n                if (i > 0)\r\n                {\r\n                    y += lineSpacing + strokeWidthHalf;\r\n                }\r\n\r\n                maxHeight = y + descent + strokeWidthHalf;\r\n            }\r\n            else\r\n            {\r\n                y = maxHeight + ((lineHeight - descent) - strokeWidthHalf);\r\n\r\n                maxHeight += lineHeight;\r\n\r\n                if (i < lines.length - 1)\r\n                {\r\n                    maxHeight += lineSpacing;\r\n                }\r\n            }\r\n\r\n            maxWidth = Math.max(maxWidth, lineWidth);\r\n\r\n            lineMetrics.push({ lineWidth, lineHeight, ascent, descent, left, right, y });\r\n        }\r\n\r\n        //  Account for lineSpacing + padding\r\n        maxWidth += padding.left + padding.right;\r\n        maxHeight += padding.top + padding.bottom;\r\n\r\n        const displayWidth = (this.fixedWidth) ? this.fixedWidth : maxWidth;\r\n        const displayHeight = (this.fixedHeight) ? this.fixedHeight : maxHeight;\r\n\r\n        const canvasWidth = Math.ceil(displayWidth * resolution);\r\n        const canvasHeight = Math.ceil(displayHeight * resolution);\r\n\r\n        if (canvas.width !== canvasWidth || canvas.height !== canvasHeight)\r\n        {\r\n            canvas.width = canvasWidth;\r\n            canvas.height = canvasHeight;\r\n    \r\n            this.texture.setSize(displayWidth, displayHeight);\r\n            this.setSize(displayWidth, displayHeight);\r\n        }\r\n\r\n        ctx.save();\r\n        ctx.scale(resolution, resolution);\r\n\r\n        this.syncContext(canvas, ctx);\r\n\r\n        const backgroundStyle = this.backgroundStyle;\r\n\r\n        if (backgroundStyle)\r\n        {\r\n            ctx.save();\r\n\r\n            ctx.fillStyle = backgroundStyle;\r\n            ctx.strokeStyle = backgroundStyle;\r\n\r\n            const cornerRadius = this.cornerRadius;\r\n            const halfRadius = (cornerRadius > 0) ? cornerRadius / 2 : 0;\r\n\r\n            if (cornerRadius)\r\n            {\r\n                ctx.lineWidth = cornerRadius;\r\n                \r\n                ctx.strokeRect(halfRadius, halfRadius, displayWidth - cornerRadius, displayHeight - cornerRadius);\r\n            }\r\n\r\n            ctx.fillRect(halfRadius, halfRadius, displayWidth - cornerRadius, displayHeight - cornerRadius);\r\n\r\n            ctx.restore();\r\n        }\r\n\r\n        //  Text Alignment\r\n        const textAlign = this.textAlign;\r\n        const isCenter: boolean = (textAlign === 'center');\r\n        const isRight: boolean = (textAlign === 'right' || textAlign === 'end');\r\n\r\n        const yOffset = ((displayHeight - maxHeight) / 2) + padding.top;\r\n\r\n        for (let i: number = 0; i < lines.length; i++)\r\n        {\r\n            let line = lines[i];\r\n            let metrics = lineMetrics[i];\r\n\r\n            let tx = padding.left + metrics.left + strokeWidthHalf;\r\n            let ty = yOffset + metrics.y;\r\n\r\n            if (isCenter)\r\n            {\r\n                tx = displayWidth / 2;\r\n            }\r\n            else if (isRight)\r\n            {\r\n                tx = displayWidth - strokeWidthHalf;\r\n            }\r\n\r\n            if (strokeStyle)\r\n            {\r\n                ctx.strokeText(line, tx, ty);\r\n            }\r\n\r\n            if (fillStyle)\r\n            {\r\n                ctx.fillText(line, tx, ty);\r\n            }\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n        this.texture.updateGL();\r\n\r\n        this.setDirtyRender(true);\r\n\r\n        return this;\r\n    }\r\n\r\n    get text (): string | string[]\r\n    {\r\n        return this._text;\r\n    }\r\n\r\n    set text (value: string | string[])\r\n    {\r\n        this.setText(value);\r\n    }\r\n\r\n    setText (value: string | string[] = ''): this\r\n    {\r\n        if (Array.isArray(value))\r\n        {\r\n            value = value.join('\\n');\r\n        }\r\n\r\n        if (value !== this._text)\r\n        {\r\n            this._text = value.toString();\r\n\r\n            this.updateText();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer)\r\n    {\r\n        this.texture.destroy();\r\n\r\n        this.fillStyle = null;\r\n        this.strokeStyle = null;\r\n        this.backgroundStyle = null;\r\n\r\n        this.canvas = null;\r\n        this.context = null;\r\n\r\n        super.destroy(reparentChildren);\r\n    }\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\nimport CONST from './const';\r\n\r\nexport default function SetOrigin (originX: number, originY: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        let data = entity.transformData;\r\n\r\n        data[CONST.ORIGIN_X] = originX;\r\n        data[CONST.ORIGIN_Y] = originY;\r\n    });\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\nimport CONST from './const';\r\n\r\nexport default function SetPosition (x: number, y: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        let data = entity.transformData;\r\n\r\n        data[CONST.POSITION_X] = x;\r\n        data[CONST.POSITION_Y] = y;\r\n\r\n        entity.updateTransform();\r\n\r\n    });\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\nimport CONST from './const';\r\n\r\nexport default function SetRotation (rotation: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        let data = entity.transformData;\r\n\r\n        if (rotation !== data[CONST.ROTATION])\r\n        {\r\n            data[CONST.ROTATION] = rotation;\r\n\r\n            entity.updateCache();\r\n        }\r\n\r\n    });\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\nimport CONST from './const';\r\n\r\nexport default function SetScale (scaleX: number, scaleY: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        let data = entity.transformData;\r\n\r\n        data[CONST.SCALE_X] = scaleX;\r\n        data[CONST.SCALE_Y] = scaleY;\r\n\r\n        entity.updateTransform();\r\n\r\n    });\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\n\r\nexport default function SetSize (width: number, height: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        entity.width = width;\r\n        entity.height = height;\r\n\r\n    });\r\n}\r\n","import ITransformGameObject from './ITransformGameObject';\r\nimport CONST from './const';\r\n\r\nexport default function SetSkew (skewX: number, skewY: number, ...child: ITransformGameObject[])\r\n{\r\n    child.forEach(entity => {\r\n\r\n        let data = entity.transformData;\r\n\r\n        data[CONST.SKEW_X] = skewX;\r\n        data[CONST.SKEW_Y] = skewY;\r\n\r\n        entity.updateCache();\r\n\r\n    });\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\r\n *\r\n * @function Phaser.Math.Angle.Between\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport default function Between (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.atan2(y2 - y1, x2 - x1);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport IVec2 from '../vec2/IVec2';\r\n\r\n/**\r\n * Find the angle of a segment from (point1.x, point1.y) -> (point2.x, point2.y).\r\n *\r\n * Calculates the angle of the vector from the first point to the second point.\r\n *\r\n * @function Phaser.Math.Angle.BetweenPoints\r\n * @since 3.0.0\r\n *\r\n * @param {IVec2} point1 - The first point.\r\n * @param {IVec2} point2 - The second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport default function BetweenPoints (point1: IVec2, point2: IVec2): number\r\n{\r\n    return Math.atan2(point2.y - point1.y, point2.x - point1.x);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport IVec2 from '../vec2/IVec2';\r\n\r\n/**\r\n * Find the angle of a segment from (point1.x, point1.y) -> (point2.x, point2.y).\r\n *\r\n * The difference between this method and {@link Phaser.Math.Angle.BetweenPoints} is that this assumes the y coordinate\r\n * travels down the screen.\r\n *\r\n * @function Phaser.Math.Angle.BetweenPointsY\r\n * @since 3.0.0\r\n *\r\n * @param {IVec2} point1 - The first point.\r\n * @param {IVec2} point2 - The second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport default function BetweenPointsY (point1: IVec2, point2: IVec2): number\r\n{\r\n    return Math.atan2(point2.x - point1.x, point2.y - point1.y);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\r\n *\r\n * The difference between this method and {@link Phaser.Math.Angle.Between} is that this assumes the y coordinate\r\n * travels down the screen.\r\n *\r\n * @function Phaser.Math.Angle.BetweenY\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport default function BetweenY (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.atan2(x2 - x1, y2 - y1);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nexport default {\r\n\r\n    /**\r\n     * The value of PI * 2.\r\n     * \r\n     * @name Phaser.Math.PI2\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    PI2: Math.PI * 2,\r\n\r\n    /**\r\n     * The value of PI * 0.5.\r\n     * \r\n     * @name Phaser.Math.TAU\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    TAU: Math.PI * 0.5,\r\n\r\n    /**\r\n     * An epsilon value (1.0e-6)\r\n     * \r\n     * @name Phaser.Math.EPSILON\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    EPSILON: 1.0e-6,\r\n\r\n    /**\r\n     * For converting degrees to radians (PI / 180)\r\n     * \r\n     * @name Phaser.Math.DEG_TO_RAD\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    DEG_TO_RAD: Math.PI / 180,\r\n\r\n    /**\r\n     * For converting radians to degrees (180 / PI)\r\n     * \r\n     * @name Phaser.Math.RAD_TO_DEG\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    RAD_TO_DEG: 180 / Math.PI,\r\n\r\n    /**\r\n     * The minimum safe integer this browser supports.\r\n     * We use a const for backward compatibility with Internet Explorer.\r\n     * \r\n     * @name Phaser.Math.MIN_SAFE_INTEGER\r\n     * @type {number}\r\n     * @since 3.21.0\r\n     */\r\n    MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991,\r\n\r\n    /**\r\n     * The maximum safe integer this browser supports.\r\n     * We use a const for backward compatibility with Internet Explorer.\r\n     * \r\n     * @name Phaser.Math.MAX_SAFE_INTEGER\r\n     * @type {number}\r\n     * @since 3.21.0\r\n     */\r\n    MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991\r\n\r\n};\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport CONST from '../const';\r\n\r\n/**\r\n * Takes an angle in Phasers default clockwise format and converts it so that\r\n * 0 is North, 90 is West, 180 is South and 270 is East,\r\n * therefore running counter-clockwise instead of clockwise.\r\n * \r\n * You can pass in the angle from a Game Object using:\r\n * \r\n * ```javascript\r\n * var converted = CounterClockwise(gameobject.rotation);\r\n * ```\r\n * \r\n * All values for this function are in radians.\r\n *\r\n * @function Phaser.Math.Angle.CounterClockwise\r\n * @since 3.16.0\r\n *\r\n * @param {number} angle - The angle to convert, in radians.\r\n *\r\n * @return {number} The converted angle, in radians.\r\n */\r\nexport default function CounterClockwise (angle: number): number\r\n{\r\n    if (angle > Math.PI)\r\n    {\r\n        angle -= CONST.PI2;\r\n    }\r\n\r\n    return Math.abs((((angle + CONST.TAU) % CONST.PI2) - CONST.PI2) % CONST.PI2);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Normalize an angle to the [0, 2pi] range.\r\n *\r\n * @function Phaser.Math.Angle.Normalize\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to normalize, in radians.\r\n *\r\n * @return {number} The normalized angle, in radians.\r\n */\r\nexport default function Normalize (angle: number): number\r\n{\r\n    angle = angle % (2 * Math.PI);\r\n\r\n    if (angle >= 0)\r\n    {\r\n        return angle;\r\n    }\r\n    else\r\n    {\r\n        return angle + 2 * Math.PI;\r\n    }\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Normalize from './Normalize';\r\n\r\n/**\r\n * Reverse the given angle.\r\n *\r\n * @function Phaser.Math.Angle.Reverse\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to reverse, in radians.\r\n *\r\n * @return {number} The reversed angle, in radians.\r\n */\r\nexport default function Reverse (angle: number): number\r\n{\r\n    return Normalize(angle + Math.PI);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport MATH_CONST from '../const';\r\n\r\n/**\r\n * Rotates `currentAngle` towards `targetAngle`, taking the shortest rotation distance. The `lerp` argument is the amount to rotate by in this call.\r\n *\r\n * @function Phaser.Math.Angle.RotateTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} currentAngle - The current angle, in radians.\r\n * @param {number} targetAngle - The target angle to rotate to, in radians.\r\n * @param {number} [lerp=0.05] - The lerp value to add to the current angle.\r\n *\r\n * @return {number} The adjusted angle.\r\n */\r\nexport default function RotateTo (currentAngle: number, targetAngle: number, lerp: number = 0.05): number\r\n{\r\n    if (currentAngle === targetAngle)\r\n    {\r\n        return currentAngle;\r\n    }\r\n\r\n    if (Math.abs(targetAngle - currentAngle) <= lerp || Math.abs(targetAngle - currentAngle) >= (MATH_CONST.PI2 - lerp))\r\n    {\r\n        currentAngle = targetAngle;\r\n    }\r\n    else\r\n    {\r\n        if (Math.abs(targetAngle - currentAngle) > Math.PI)\r\n        {\r\n            if (targetAngle < currentAngle)\r\n            {\r\n                targetAngle += MATH_CONST.PI2;\r\n            }\r\n            else\r\n            {\r\n                targetAngle -= MATH_CONST.PI2;\r\n            }\r\n        }\r\n\r\n        if (targetAngle > currentAngle)\r\n        {\r\n            currentAngle += lerp;\r\n        }\r\n        else if (targetAngle < currentAngle)\r\n        {\r\n            currentAngle -= lerp;\r\n        }\r\n    }\r\n\r\n    return currentAngle;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Gets the shortest angle between `angle1` and `angle2`.\r\n *\r\n * Both angles must be in the range -180 to 180, which is the same clamped\r\n * range that `sprite.angle` uses, so you can pass in two sprite angles to\r\n * this method and get the shortest angle back between the two of them.\r\n *\r\n * The angle returned will be in the same range. If the returned angle is\r\n * greater than 0 then it's a counter-clockwise rotation, if < 0 then it's\r\n * a clockwise rotation.\r\n *\r\n * TODO: Wrap the angles in this function?\r\n *\r\n * @function Phaser.Math.Angle.ShortestBetween\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle1 - The first angle in the range -180 to 180.\r\n * @param {number} angle2 - The second angle in the range -180 to 180.\r\n *\r\n * @return {number} The shortest angle, in degrees. If greater than zero it's a counter-clockwise rotation.\r\n */\r\nexport default function ShortestBetween (angle1: number, angle2: number): number\r\n{\r\n    const difference = angle2 - angle1;\r\n\r\n    if (difference === 0)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    const times = Math.floor((difference - (-180)) / 360);\r\n\r\n    return difference - (times * 360);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Wrap the given `value` between `min` and `max.\r\n *\r\n * @function Phaser.Math.Wrap\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to wrap.\r\n * @param {number} min - The minimum value.\r\n * @param {number} max - The maximum value.\r\n *\r\n * @return {number} The wrapped value.\r\n */\r\nexport default function Wrap (value: number, min: number, max: number): number\r\n{\r\n    const range = max - min;\r\n\r\n    return (min + ((((value - min) % range) + range) % range));\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport MathWrap from '../Wrap';\r\n\r\n/**\r\n * Wrap an angle.\r\n *\r\n * Wraps the angle to a value in the range of -PI to PI.\r\n *\r\n * @function Phaser.Math.Angle.Wrap\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to wrap, in radians.\r\n *\r\n * @return {number} The wrapped angle, in radians.\r\n */\r\nexport default function Wrap (angle: number): number\r\n{\r\n    return MathWrap(angle, -Math.PI, Math.PI);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Wrap from '../Wrap';\r\n\r\n/**\r\n * Wrap an angle in degrees.\r\n *\r\n * Wraps the angle to a value in the range of -180 to 180.\r\n *\r\n * @function Phaser.Math.Angle.WrapDegrees\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to wrap, in degrees.\r\n *\r\n * @return {number} The wrapped angle, in degrees.\r\n */\r\nexport default function WrapDegrees (angle: number): number\r\n{\r\n    return Wrap(angle, -180, 180);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Between from './Between';\r\nimport BetweenPoints from './BetweenPoints';\r\nimport BetweenPointsY from './BetweenPointsY';\r\nimport BetweenY from './BetweenY';\r\nimport CounterClockwise from './CounterClockwise';\r\nimport Normalize from './Normalize';\r\nimport Reverse from './Reverse';\r\nimport RotateTo from './RotateTo';\r\nimport ShortestBetween from './ShortestBetween';\r\nimport Wrap from './Wrap';\r\nimport WrapDegrees from './WrapDegrees';\r\n\r\n/**\r\n * @namespace Phaser.Math.Angle\r\n */\r\n\r\nexport {\r\n    Between,\r\n    BetweenPoints,\r\n    BetweenPointsY,\r\n    BetweenY,\r\n    CounterClockwise,\r\n    Normalize,\r\n    Reverse,\r\n    RotateTo,\r\n    ShortestBetween,\r\n    Wrap,\r\n    WrapDegrees\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the distance between two sets of coordinates (points).\r\n *\r\n * @function Phaser.Math.Distance.Between\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The distance between each point.\r\n */\r\nexport default function DistanceBetween (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    const dx = x1 - x2;\r\n    const dy = y1 - y2;\r\n\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n","/**\r\n * @author       samme\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport IVec2 from '../vec2/IVec2';\r\n\r\n/**\r\n * Calculate the distance between two points.\r\n *\r\n * @function Phaser.Math.Distance.BetweenPoints\r\n * @since 3.22.0\r\n *\r\n * @param {IVec2} a - The first point.\r\n * @param {IVec2} b - The second point.\r\n *\r\n * @return {number} The distance between the points.\r\n */\r\nexport default function DistanceBetweenPoints (a: IVec2, b: IVec2): number\r\n{\r\n    const dx = a.x - b.x;\r\n    const dy = a.y - b.y;\r\n\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n","/**\r\n * @author       samme\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport IVec2 from '../vec2/IVec2';\r\n\r\n/**\r\n * Calculate the squared distance between two points.\r\n *\r\n * @function Phaser.Math.Distance.BetweenPointsSquared\r\n * @since 3.22.0\r\n *\r\n * @param {IVec2} a - The first point.\r\n * @param {IVec2} b - The second point.\r\n *\r\n * @return {number} The squared distance between the points.\r\n */\r\nexport default function DistanceBetweenPointsSquared (a: IVec2, b: IVec2): number\r\n{\r\n    const dx = a.x - b.x;\r\n    const dy = a.y - b.y;\r\n\r\n    return dx * dx + dy * dy;\r\n}\r\n","/**\r\n * @author       samme\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the Chebyshev distance between two sets of coordinates (points).\r\n *\r\n * Chebyshev distance (or chessboard distance) is the maximum of the horizontal and vertical distances.\r\n * It's the effective distance when movement can be horizontal, vertical, or diagonal.\r\n *\r\n * @function Phaser.Math.Distance.Chebyshev\r\n * @since 3.22.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The distance between each point.\r\n */\r\nexport default function ChebyshevDistance (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.max(Math.abs(x1 - x2), Math.abs(y1 - y2));\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the distance between two sets of coordinates (points) to the power of `pow`.\r\n *\r\n * @function Phaser.Math.Distance.Power\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n * @param {number} [pow=2] - The exponent.\r\n *\r\n * @return {number} The distance between each point.\r\n */\r\nexport default function DistancePower (x1: number, y1: number, x2: number, y2: number, pow: number = 2): number\r\n{\r\n    return Math.sqrt(Math.pow(x2 - x1, pow) + Math.pow(y2 - y1, pow));\r\n}\r\n","/**\r\n * @author       samme\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the snake distance between two sets of coordinates (points).\r\n *\r\n * Snake distance (rectilinear distance, Manhattan distance) is the sum of the horizontal and vertical distances.\r\n * It's the effective distance when movement is allowed only horizontally or vertically (but not both).\r\n *\r\n * @function Phaser.Math.Distance.Snake\r\n * @since 3.22.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The distance between each point.\r\n */\r\nexport default function SnakeDistance (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.abs(x1 - x2) + Math.abs(y1 - y2);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the distance between two sets of coordinates (points), squared.\r\n *\r\n * @function Phaser.Math.Distance.Squared\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The distance between each point, squared.\r\n */\r\nexport default function DistanceSquared (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    const dx = x1 - x2;\r\n    const dy = y1 - y2;\r\n\r\n    return dx * dx + dy * dy;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Between from './DistanceBetween';\r\nimport BetweenPoints from './DistanceBetweenPoints';\r\nimport BetweenPointsSquared from './DistanceBetweenPointsSquared';\r\nimport Chebyshev from './DistanceChebyshev';\r\nimport Power from './DistancePower';\r\nimport Snake from './DistanceSnake';\r\nimport Squared from './DistanceSquared';\r\n\r\n/**\r\n * @namespace Phaser.Math.Distance\r\n */\r\n\r\nexport {\r\n    Between,\r\n    BetweenPoints,\r\n    BetweenPointsSquared,\r\n    Chebyshev,\r\n    Power,\r\n    Snake,\r\n    Squared\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the fuzzy ceiling of the given value.\r\n *\r\n * @function Phaser.Math.Fuzzy.Ceil\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {number} The fuzzy ceiling of the value.\r\n */\r\nexport default function Ceil (value: number, epsilon: number = 0.0001): number\r\n{\r\n    return Math.ceil(value - epsilon);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether the given values are fuzzily equal.\r\n *\r\n * Two numbers are fuzzily equal if their difference is less than `epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.Equal\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if the values are fuzzily equal, otherwise `false`.\r\n */\r\nexport default function Equal (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return Math.abs(a - b) < epsilon;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the fuzzy floor of the given value.\r\n *\r\n * @function Phaser.Math.Fuzzy.Floor\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {number} The floor of the value.\r\n */\r\nexport default function Floor (value: number, epsilon: number = 0.0001): number\r\n{\r\n    return Math.floor(value + epsilon);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether `a` is fuzzily greater than `b`.\r\n *\r\n * `a` is fuzzily greater than `b` if it is more than `b - epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.GreaterThan\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if `a` is fuzzily greater than than `b`, otherwise `false`.\r\n */\r\nexport default function GreaterThan (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return a > b - epsilon;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether `a` is fuzzily less than `b`.\r\n *\r\n * `a` is fuzzily less than `b` if it is less than `b + epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.LessThan\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if `a` is fuzzily less than `b`, otherwise `false`.\r\n */\r\nexport default function LessThan (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return a < b + epsilon;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Ceil from './Ceil';\r\nimport Equal from './Equal';\r\nimport Floor from './Floor';\r\nimport GreaterThan from './GreaterThan';\r\nimport LessThan from './LessThan';\r\n\r\n/**\r\n * @namespace Phaser.Math.Fuzzy\r\n */\r\n\r\nexport {\r\n    Ceil,\r\n    Equal,\r\n    Floor,\r\n    GreaterThan,\r\n    LessThan\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates the factorial of a given number for integer values greater than 0.\r\n *\r\n * @function Phaser.Math.Factorial\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - A positive integer to calculate the factorial of.\r\n *\r\n * @return {number} The factorial of the given number.\r\n */\r\nexport default function Factorial (value: number): number\r\n{\r\n    if (value === 0)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    let res = value;\r\n\r\n    while (--value)\r\n    {\r\n        res *= value;\r\n    }\r\n\r\n    return res;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Factorial from './Factorial';\r\n\r\n/**\r\n * Calculates the Bernstein basis from the three factorial coefficients.\r\n *\r\n * @function Phaser.Math.Bernstein\r\n * @since 3.0.0\r\n *\r\n * @param {number} n - The first value.\r\n * @param {number} i - The second value.\r\n *\r\n * @return {number} The Bernstein basis of Factorial(n) / Factorial(i) / Factorial(n - i)\r\n */\r\nexport default function Bernstein (n: number, i: number): number\r\n{\r\n    return Factorial(n) / Factorial(i) / Factorial(n - i);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Bernstein from '../Bernstein';\r\n\r\n/**\r\n * A bezier interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.Bezier\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function BezierInterpolation (v: number[], k: number): number\r\n{\r\n    let b = 0;\r\n    const n = v.length - 1;\r\n\r\n    for (let i = 0; i <= n; i++)\r\n    {\r\n        b += Math.pow(1 - k, n - i) * Math.pow(k, i) * v[i] * Bernstein(n, i);\r\n    }\r\n\r\n    return b;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates a Catmull-Rom value from the given points, based on an alpha of 0.5.\r\n *\r\n * @function Phaser.Math.CatmullRom\r\n * @since 3.0.0\r\n *\r\n * @param {number} t - The amount to interpolate by.\r\n * @param {number} p0 - The first control point.\r\n * @param {number} p1 - The second control point.\r\n * @param {number} p2 - The third control point.\r\n * @param {number} p3 - The fourth control point.\r\n *\r\n * @return {number} The Catmull-Rom value.\r\n */\r\nexport default function CatmullRom (t: number, p0: number, p1: number, p2: number, p3: number): number\r\n{\r\n    const v0 = (p2 - p0) * 0.5;\r\n    const v1 = (p3 - p1) * 0.5;\r\n    const t2 = t * t;\r\n    const t3 = t * t2;\r\n\r\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport CatmullRom from '../CatmullRom';\r\n\r\n/**\r\n * A Catmull-Rom interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.CatmullRom\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function CatmullRomInterpolation (v: number[], k: number): number\r\n{\r\n    const m = v.length - 1;\r\n    let f = m * k;\r\n    let i = Math.floor(f);\r\n\r\n    if (v[0] === v[m])\r\n    {\r\n        if (k < 0)\r\n        {\r\n            i = Math.floor(f = m * (1 + k));\r\n        }\r\n\r\n        return CatmullRom(f - i, v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m]);\r\n    }\r\n    else\r\n    {\r\n        if (k < 0)\r\n        {\r\n            return v[0] - (CatmullRom(-f, v[0], v[0], v[1], v[1]) - v[0]);\r\n        }\r\n\r\n        if (k > 1)\r\n        {\r\n            return v[m] - (CatmullRom(f - m, v[m], v[m], v[m - 1], v[m - 1]) - v[m]);\r\n        }\r\n\r\n        return CatmullRom(f - i, v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2]);\r\n    }\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P0 (t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * k * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P1 (t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return 3 * k * k * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P2 (t: number, p: number)\r\n{\r\n    return 3 * (1 - t) * t * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P3 (t: number, p: number)\r\n{\r\n    return t * t * t * p;\r\n}\r\n\r\n/**\r\n * A cubic bezier interpolation method.\r\n *\r\n * https://medium.com/@adrian_cooney/bezier-interpolation-13b68563313a\r\n *\r\n * @function Phaser.Math.Interpolation.CubicBezier\r\n * @since 3.0.0\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} p0 - The start point.\r\n * @param {number} p1 - The first control point.\r\n * @param {number} p2 - The second control point.\r\n * @param {number} p3 - The end point.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function CubicBezierInterpolation (t: number, p0: number, p1: number, p2: number, p3: number): number\r\n{\r\n    return P0(t, p0) + P1(t, p1) + P2(t, p2) + P3(t, p3);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates a linear (interpolation) value over t.\r\n *\r\n * @function Phaser.Math.Linear\r\n * @since 3.0.0\r\n *\r\n * @param {number} p0 - The first point.\r\n * @param {number} p1 - The second point.\r\n * @param {number} t - The percentage between p0 and p1 to return, represented as a number between 0 and 1.\r\n *\r\n * @return {number} The step t% of the way between p0 and p1.\r\n */\r\nexport default function Linear (p0: number, p1: number, t: number): number\r\n{\r\n    return (p1 - p0) * t + p0;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Linear from '../Linear';\r\n\r\n/**\r\n * A linear interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.Linear\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Linear_interpolation}\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {!number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {!number} The interpolated value.\r\n */\r\nexport default function LinearInterpolation (v: number[], k: number): number\r\n{\r\n    const m = v.length - 1;\r\n    const f = m * k;\r\n    const i = Math.floor(f);\r\n\r\n    if (k < 0)\r\n    {\r\n        return Linear(v[0], v[1], f);\r\n    }\r\n    else if (k > 1)\r\n    {\r\n        return Linear(v[m], v[m - 1], m - f);\r\n    }\r\n    else\r\n    {\r\n        return Linear(v[i], v[(i + 1 > m) ? m : i + 1], f - i);\r\n    }\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P0 (t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P1 (t: number, p: number)\r\n{\r\n    return 2 * (1 - t) * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P2 (t: number, p: number)\r\n{\r\n    return t * t * p;\r\n}\r\n\r\n// https://github.com/mrdoob/three.js/blob/master/src/extras/core/Interpolations.js\r\n\r\n/**\r\n * A quadratic bezier interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.QuadraticBezier\r\n * @since 3.2.0\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} p0 - The start point.\r\n * @param {number} p1 - The control point.\r\n * @param {number} p2 - The end point.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function QuadraticBezierInterpolation (t: number, p0: number, p1: number, p2: number): number\r\n{\r\n    return P0(t, p0) + P1(t, p1) + P2(t, p2);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a smooth interpolation percentage of `x` between `min` and `max`.\r\n *\r\n * The function receives the number `x` as an argument and returns 0 if `x` is less than or equal to the left edge,\r\n * 1 if `x` is greater than or equal to the right edge, and smoothly interpolates, using a Hermite polynomial,\r\n * between 0 and 1 otherwise.\r\n *\r\n * @function Phaser.Math.SmoothStep\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep}\r\n *\r\n * @param {number} x - The input value.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The percentage of interpolation, between 0 and 1.\r\n */\r\nexport default function SmoothStep (x: number, min: number, max: number): number\r\n{\r\n    if (x <= min)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    if (x >= max)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    x = (x - min) / (max - min);\r\n\r\n    return x * x * (3 - 2 * x);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport SmoothStep from '../SmoothStep';\r\n\r\n/**\r\n * A Smooth Step interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.SmoothStep\r\n * @since 3.9.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep}\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function SmoothStepInterpolation (t: number, min: number, max: number): number\r\n{\r\n    return min + (max - min) * SmoothStep(t, 0, 1);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a smoother interpolation percentage of `x` between `min` and `max`.\r\n *\r\n * The function receives the number `x` as an argument and returns 0 if `x` is less than or equal to the left edge,\r\n * 1 if `x` is greater than or equal to the right edge, and smoothly interpolates, using a Hermite polynomial,\r\n * between 0 and 1 otherwise.\r\n *\r\n * Produces an even smoother interpolation than {@link Phaser.Math.SmoothStep}.\r\n *\r\n * @function Phaser.Math.SmootherStep\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep#Variations}\r\n *\r\n * @param {number} x - The input value.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The percentage of interpolation, between 0 and 1.\r\n */\r\nexport default function SmootherStep (x: number, min: number, max: number): number\r\n{\r\n    x = Math.max(0, Math.min(1, (x - min) / (max - min)));\r\n\r\n    return x * x * x * (x * (x * 6 - 15) + 10);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport SmootherStep from '../SmootherStep';\r\n\r\n/**\r\n * A Smoother Step interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.SmootherStep\r\n * @since 3.9.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep#Variations}\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport default function SmootherStepInterpolation (t: number, min: number, max: number): number\r\n{\r\n    return min + (max - min) * SmootherStep(t, 0, 1);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Bezier from './BezierInterpolation';\r\nimport CatmullRom from './CatmullRomInterpolation';\r\nimport CubicBezier from './CubicBezierInterpolation';\r\nimport Linear from './LinearInterpolation';\r\nimport QuadraticBezier from './QuadraticBezierInterpolation';\r\nimport SmoothStep from './SmoothStepInterpolation';\r\nimport SmootherStep from './SmootherStepInterpolation';\r\n\r\n/**\r\n * @namespace Phaser.Math.Interpolation\r\n */\r\n\r\nexport {\r\n    Bezier,\r\n    CatmullRom,\r\n    CubicBezier,\r\n    Linear,\r\n    QuadraticBezier,\r\n    SmoothStep,\r\n    SmootherStep\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Adds the src Matrix to the target Matrix and returns the target.\r\n\r\nexport default function Add (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    target.a += src.a;\r\n    target.b += src.b;\r\n    target.c += src.c;\r\n    target.d += src.d;\r\n    target.tx += src.tx;\r\n    target.ty += src.ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n// Copy the values from src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.transform method.\r\n\r\nexport default function CopyToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.transform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Return the determinant for the src Matrix.\r\n\r\nexport default function Determinant (src: IMatrix2D): number\r\n{\r\n    const { a, b, c, d } = src;\r\n\r\n    return (a * d) - (b * c);\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\nexport default function Frobenius (src: IMatrix2D): number\r\n{\r\n    return(Math.hypot(src.a, src.b, src.c, src.d, src.tx, src.ty, 1));\r\n}\r\n","export default class Vec2\r\n{\r\n    /**\r\n     * X component\r\n     *\r\n     * @type {number}\r\n     * @memberof Vec2\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * Y component\r\n     *\r\n     * @type {number}\r\n     * @memberof Vec2\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * Creates an instance of a Vector2.\r\n     * \r\n     * @param {number} [x=0] - X component\r\n     * @param {number} [y=0] - Y component\r\n     * @memberof Vec2\r\n     */\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        this.set(x, y);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns a new array containg the Vector2 component values.\r\n     *\r\n     * @returns {number[]}\r\n     * @memberof Vec2\r\n     */\r\n    getArray (): number[]\r\n    {\r\n        return [ this.x, this.y ];\r\n    }\r\n\r\n    /**\r\n     * Sets the values of this Vector2 based on the given array, or array-like object, such as a Float32.\r\n     * \r\n     * The source must have 2 elements, starting from index 0 through to index 1.\r\n     *\r\n     * @param {number[]} src - The source array to copy the values from.\r\n     * @returns {Vec2}\r\n     * @memberof Vec2\r\n     */\r\n    fromArray (src: number[]): Vec2\r\n    {\r\n        return this.set(src[0], src[1]);\r\n    }\r\n\r\n    [Symbol.iterator] ()\r\n    {\r\n        const data = this.getArray();\r\n\r\n        return data[Symbol.iterator]();\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\nimport Vec2 from '../vec2/Vec2';\r\n\r\nexport default function GlobalToLocal (mat: IMatrix2D, x: number, y: number, outPoint: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    const id: number = 1 / ((a * d) + (c * -b));\r\n\r\n    outPoint.x = (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id);\r\n    outPoint.y = (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id);\r\n\r\n    return outPoint;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Inverts the target Matrix and then returns it\r\n\r\nexport default function Invert (target: IMatrix2D): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    let determinant: number = a * d - b * c;\r\n\r\n    if (determinant)\r\n    {\r\n        determinant = 1 / determinant;\r\n  \r\n        target.set(\r\n            d * determinant,\r\n            -b * determinant,\r\n            -c * determinant,\r\n            a * determinant,\r\n            (c * ty - d * tx) * determinant,\r\n            (b * tx - a * ty) * determinant\r\n        );\r\n    }\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Apply the identity, translate, rotate and scale operations on the target Matrix then returns it.\r\n\r\nexport default function ITRS (target: IMatrix2D, x: number, y: number, angle: number, scaleX: number, scaleY: number): IMatrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        const sin = Math.sin(angle);\r\n        const cos = Math.cos(angle);\r\n\r\n        return target.set(\r\n            cos * scaleX,\r\n            sin * scaleX,\r\n            -sin * scaleY,\r\n            cos * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Apply the identity, translate, rotate, scale and skew operations on the target Matrix then returns it.\r\n\r\nexport default function ITRSS (target: IMatrix2D, x: number, y: number, angle: number = 0, scaleX: number = 1, scaleY: number = 1, skewX: number = 0, skewY: number = 0): IMatrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        const sin = Math.sin(angle);\r\n        const cos = Math.cos(angle);\r\n\r\n        return target.set(\r\n            cos * scaleX,\r\n            sin * scaleX,\r\n            -sin * scaleY,\r\n            cos * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\nimport Vec2 from '../vec2/Vec2';\r\n\r\nexport default function LocalToGlobal (mat: IMatrix2D, x: number, y: number, outPoint: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    outPoint.x = (a * x) + (c * y) + tx;\r\n    outPoint.y = (b * x) + (d * y) + ty;\r\n\r\n    return outPoint;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the src Matrix and returns the target.\r\n\r\nexport default function Multiply (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = target;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = src;\r\n    \r\n    target.a = a0 * a1 + c0 * b1;\r\n    target.b = b0 * a1 + d0 * b1;\r\n    target.c = a0 * c1 + c0 * d1;\r\n    target.d = b0 * c1 + d0 * d1;\r\n    target.tx = a0 * tx1 + c0 * ty1 + tx0;\r\n    target.ty = b0 * tx1 + d0 * ty1 + ty0;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport default function MultiplyScalar (target: IMatrix2D, scale: number): IMatrix2D\r\n{\r\n    target.a *= scale;\r\n    target.b *= scale;\r\n    target.c *= scale;\r\n    target.d *= scale;\r\n    target.tx *= scale;\r\n    target.ty *= scale;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport default function MultiplyScalarAndAdd (target: IMatrix2D, src: IMatrix2D, scale: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    target.a += (a * scale);\r\n    target.b += (b * scale);\r\n    target.c += (c * scale);\r\n    target.d += (d * scale);\r\n    target.tx += (tx * scale);\r\n    target.ty += (ty * scale);\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Rotates the target Matrix by the angle (in radians), then returns the target Matrix.\r\n\r\nexport default function Rotate (target: IMatrix2D, angle: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    return target.set(\r\n        (a * cos) + (c * sin),\r\n        (b * cos) + (d * sin),\r\n        (a * -sin) + (c * cos),\r\n        (b * -sin) + (d * cos),\r\n        tx,\r\n        ty\r\n    );\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Scales the target Matrix by the given amounts, then returns the target Matrix.\r\n\r\nexport default function Scale (target: IMatrix2D, scaleX: number, scaleY: number): IMatrix2D\r\n{\r\n    target.a *= scaleX;\r\n    target.b *= scaleX;\r\n    target.c *= scaleY;\r\n    target.d *= scaleY;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n// Copy the values from the src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.setTransform method.\r\n\r\nexport default function SetToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.setTransform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Skews the target Matrix by the given angles (in radians), then returns the target Matrix\r\n\r\nexport default function Skew (target: IMatrix2D, angleX: number, angleY: number): IMatrix2D\r\n{\r\n    target.b += Math.tan(angleX);\r\n    target.c += Math.tan(angleY);\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Subtracts the src Matrix from the target Matrix and returns the target.\r\n\r\nexport default function Subtract (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    target.a -= a;\r\n    target.b -= b;\r\n    target.c -= c;\r\n    target.d -= d;\r\n    target.tx -= tx;\r\n    target.ty -= ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Translates the target Matrix and returns the target\r\n\r\nexport default function Translate (target: IMatrix2D, x: number, y: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    target.tx = (a * x) + (c * y) + tx;\r\n    target.ty = (b * x) + (d * y) + ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Zeroes the target Matrix and returns the target\r\n\r\nexport default function Zero (target: IMatrix2D): IMatrix2D\r\n{\r\n    return target.set(0, 0, 0, 0, 0, 0);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Adds a to b and returns the values in a new Matrix2D\r\n\r\nexport default function Add (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a + b.a,\r\n        a.b + b.b,\r\n        a.c + b.c,\r\n        a.c + b.c,\r\n        a.tx + b.tx,\r\n        a.ty + b.ty\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Append (mat1: IMatrix2D, mat2: IMatrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = mat1;\r\n    const { a: a2, b: b2, c: c2, d: d2, tx: tx2, ty: ty2 } = mat2;\r\n\r\n    return out.set(\r\n        (a2 * a1) + (b2 * c1),\r\n        (a2 * b1) + (b2 * d1),\r\n        (c2 * a1) + (d2 * c1),\r\n        (c2 * b1) + (d2 * d1),\r\n        (tx2 * a1) + (ty2 * c1) + tx1,\r\n        (tx2 * b1) + (ty2 * d1) + ty1\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Clones the src matrix to a new Matrix2D.\r\n\r\nexport default function Clone (src: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(src.a, src.b, src.c, src.d, src.tx, src.ty);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal, based on the epsilon.\r\n\r\nexport default function Equals (a: IMatrix2D, b: IMatrix2D, epsilon: number = 0.000001): boolean\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = a;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = b;\r\n\r\n    return (\r\n        Math.abs(a0 - a1) <= epsilon * Math.max(1, Math.abs(a0), Math.abs(a1)) &&\r\n        Math.abs(b0 - b1) <= epsilon * Math.max(1, Math.abs(b0), Math.abs(b1)) &&\r\n        Math.abs(c0 - c1) <= epsilon * Math.max(1, Math.abs(c0), Math.abs(c1)) &&\r\n        Math.abs(d0 - d1) <= epsilon * Math.max(1, Math.abs(d0), Math.abs(d1)) &&\r\n        Math.abs(tx0 - tx1) <= epsilon * Math.max(1, Math.abs(tx0), Math.abs(tx1)) &&\r\n        Math.abs(ty0 - ty1) <= epsilon * Math.max(1, Math.abs(ty0), Math.abs(ty1))\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal.\r\n\r\nexport default function ExactEquals (a: IMatrix2D, b: IMatrix2D): boolean\r\n{\r\n    return (\r\n        a.a === b.a &&\r\n        a.b === b.b &&\r\n        a.c === b.c &&\r\n        a.d === b.d &&\r\n        a.tx === b.tx &&\r\n        a.ty === b.ty\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Rotate (src: IMatrix2D, angle: number): Matrix2D\r\n{\r\n    const { a, b, c, d } = src;\r\n\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    return new Matrix2D(\r\n        a * cos + c * sin,\r\n        b * cos + d * sin,\r\n        a * -sin + c * cos,\r\n        b * -sin + d * cos\r\n    );\r\n}\r\n","import Rotate from './Rotate';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromRotation (angle: number): Matrix2D\r\n{\r\n    return Rotate(new Matrix2D(), angle);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Scale (src: IMatrix2D, scaleX: number, scaleY: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        src.a * scaleX,\r\n        src.b * scaleX,\r\n        src.c * scaleY,\r\n        src.d * scaleY\r\n    );\r\n}\r\n","import Scale from './Scale';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromScaling (scaleX: number, scaleY: number = scaleX): Matrix2D\r\n{\r\n    return Scale(new Matrix2D(), scaleX, scaleY);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Translate (src: IMatrix2D, x: number, y: number): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    const dtx = a * x + c * y + tx;\r\n    const dty = b * x + d * y + ty;\r\n\r\n    return new Matrix2D(1, 0, 0, 1, dtx, dty);\r\n}\r\n","import Translate from './Translate';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromTranslation (x: number, y: number): Matrix2D\r\n{\r\n    return Translate(new Matrix2D(), x, y);\r\n}\r\n","import Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Identity (): Matrix2D\r\n{\r\n    return new Matrix2D();\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Inverts the src Matrix and returns the result in a new Matrix, or null.\r\n\r\nexport default function Invert (src: IMatrix2D): Matrix2D | null\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    let determinant: number = (a * d) - (b * c);\r\n\r\n    if (!determinant)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    determinant = 1 / determinant;\r\n  \r\n    return new Matrix2D(\r\n        d * determinant,\r\n        -b * determinant,\r\n        -c * determinant,\r\n        a * determinant,\r\n        (c * ty - d * tx) * determinant,\r\n        (b * tx - a * ty) * determinant\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Multiplies matrix a by b and returns the result in a new Matrix2D.\r\n\r\nexport default function Multiply (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = a;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = b;\r\n    \r\n    return new Matrix2D(\r\n        a0 * a1 + c0 * b1,\r\n        b0 * a1 + d0 * b1,\r\n        a0 * c1 + c0 * d1,\r\n        b0 * c1 + d0 * d1,\r\n        a0 * tx1 + c0 * ty1 + tx0,\r\n        b0 * tx1 + d0 * ty1 + ty0\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function MultiplyScalar (src: IMatrix2D, scale: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        src.a * scale,\r\n        src.b * scale,\r\n        src.c * scale,\r\n        src.d * scale,\r\n        src.tx * scale,\r\n        src.ty * scale\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function MultiplyScalarAndAdd (a: IMatrix2D, b: IMatrix2D, scale: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a + (b.a * scale),\r\n        a.b + (b.b * scale),\r\n        a.c + (b.c * scale),\r\n        a.d + (b.d * scale),\r\n        a.tx + (b.tx * scale),\r\n        a.ty + (b.ty * scale),\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Subtract (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a - b.a,\r\n        a.b - b.b,\r\n        a.c - b.c,\r\n        a.c - b.c,\r\n        a.tx - b.tx,\r\n        a.ty - b.ty\r\n    );\r\n}\r\n","import Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Zero (): Matrix2D\r\n{\r\n    return new Matrix2D(0, 0, 0, 0, 0, 0);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Returns the nearest power of 2 to the given `value`.\r\n *\r\n * @function Phaser.Math.Pow2.GetNext\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n *\r\n * @return {number} The nearest power of 2 to `value`.\r\n */\r\nexport default function GetPowerOfTwo (value: number): number\r\n{\r\n    var index = Math.log(value) / 0.6931471805599453;\r\n\r\n    return (1 << Math.ceil(index));\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Tests the value and returns `true` if it is a power of two.\r\n *\r\n * @function Phaser.Math.Pow2.IsValue\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to check if it's a power of two.\r\n *\r\n * @return {boolean} Returns `true` if `value` is a power of two, otherwise `false`.\r\n */\r\nexport default function IsValuePowerOfTwo (value: number): boolean\r\n{\r\n    return (value > 0 && (value & (value - 1)) === 0);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport GetNext from './GetPowerOfTwo';\r\nimport IsSize from './IsSizePowerOfTwo';\r\nimport IsValue from './IsValuePowerOfTwo';\r\n\r\n/**\r\n * @namespace Phaser.Math.Pow2\r\n */\r\n\r\nexport {\r\n    GetNext,\r\n    IsSize,\r\n    IsValue\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using ceil.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `15`.\r\n * As will `14` snap to `15`... but `16` will snap to `20`.\r\n *\r\n * @function Phaser.Math.Snap.Ceil\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport default function SnapCeil (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.ceil(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using floor.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `10`.\r\n * As will `14` snap to `10`... but `16` will snap to `15`.\r\n *\r\n * @function Phaser.Math.Snap.Floor\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport default function SnapFloor (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.floor(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using rounding.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `10` whereas `14` will snap to `15`.\r\n *\r\n * @function Phaser.Math.Snap.To\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport default function SnapTo (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.round(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Ceil from './SnapCeil';\r\nimport Floor from './SnapFloor';\r\nimport To from './SnapTo';\r\n\r\n/**\r\n * @namespace Phaser.Math.Snap\r\n */\r\n\r\nexport {\r\n    Ceil,\r\n    Floor,\r\n    To\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the mean average of the given values.\r\n *\r\n * @function Phaser.Math.Average\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} values - The values to average.\r\n *\r\n * @return {number} The average value.\r\n */\r\nexport default function Average (values: number[]): number\r\n{\r\n    let sum = 0;\r\n\r\n    for (let i = 0; i < values.length; i++)\r\n    {\r\n        sum += (+values[i]);\r\n    }\r\n\r\n    return sum / values.length;\r\n}\r\n","export default function Between (min: number, max: number): number\r\n{\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Ceils to some place comparative to a `base`, default is 10 for decimal place.\r\n *\r\n * The `place` is represented by the power applied to `base` to get that place.\r\n *\r\n * @function Phaser.Math.CeilTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport default function CeilTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.ceil(value * p) / p;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Force a value within the boundaries by clamping it to the range `min`, `max`.\r\n *\r\n * @function Phaser.Math.Clamp\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to be clamped.\r\n * @param {number} min - The minimum bounds.\r\n * @param {number} max - The maximum bounds.\r\n *\r\n * @return {number} The clamped value.\r\n */\r\nexport default function Clamp (value: number, min: number, max: number): number\r\n{\r\n    return Math.max(min, Math.min(max, value));\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport CONST from './const';\r\n\r\n/**\r\n * Convert the given angle from degrees, to the equivalent angle in radians.\r\n *\r\n * @function Phaser.Math.DegToRad\r\n * @since 3.0.0\r\n *\r\n * @param {number} degrees - The angle (in degrees) to convert to radians.\r\n *\r\n * @return {number} The given angle converted to radians.\r\n */\r\nexport default function DegToRad (degrees: number): number\r\n{\r\n    return degrees * CONST.DEG_TO_RAD;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates the positive difference of two given numbers.\r\n *\r\n * @function Phaser.Math.Difference\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first number in the calculation.\r\n * @param {number} b - The second number in the calculation.\r\n *\r\n * @return {number} The positive difference of the two given numbers.\r\n */\r\nexport default function Difference (a: number, b: number): number\r\n{\r\n    return Math.abs(a - b);\r\n}\r\n","export default function FloatBetween (min: number, max: number): number\r\n{\r\n    return Math.random() * (max - min) + min;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Floors to some place comparative to a `base`, default is 10 for decimal place.\r\n *\r\n * The `place` is represented by the power applied to `base` to get that place.\r\n *\r\n * @function Phaser.Math.FloorTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport default function FloorTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.floor(value * p) / p;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Clamp from './Clamp';\r\n\r\n/**\r\n * Return a value based on the range between `min` and `max` and the percentage given.\r\n *\r\n * @function Phaser.Math.FromPercent\r\n * @since 3.0.0\r\n *\r\n * @param {number} percent - A value between 0 and 1 representing the percentage.\r\n * @param {number} min - The minimum value.\r\n * @param {number} [max] - The maximum value.\r\n *\r\n * @return {number} The value that is `percent` percent between `min` and `max`.\r\n */\r\nexport default function FromPercent (percent: number, min: number, max?: number): number\r\n{\r\n    percent = Clamp(percent, 0, 1);\r\n\r\n    return (max - min) * percent;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a per-ms speed from a distance and time (given in seconds).\r\n *\r\n * @function Phaser.Math.GetSpeed\r\n * @since 3.0.0\r\n *\r\n * @param {number} distance - The distance.\r\n * @param {number} time - The time, in seconds.\r\n *\r\n * @return {number} The speed, in distance per ms.\r\n */\r\nexport default function GetSpeed (distance: number, time: number): number\r\n{\r\n    return (distance / time) / 1000;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Add an `amount` to a `value`, limiting the maximum result to `max`.\r\n *\r\n * @function Phaser.Math.MaxAdd\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to add to.\r\n * @param {number} amount - The amount to add.\r\n * @param {number} max - The maximum value to return.\r\n *\r\n * @return {number} The resulting value.\r\n */\r\nexport default function MaxAdd (value: number, amount: number, max: number): number\r\n{\r\n    return Math.min(value + amount, max);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Subtract an `amount` from `value`, limiting the minimum result to `min`.\r\n *\r\n * @function Phaser.Math.MinSub\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to subtract from.\r\n * @param {number} amount - The amount to subtract.\r\n * @param {number} min - The minimum value to return.\r\n *\r\n * @return {number} The resulting value.\r\n */\r\nexport default function MinSub (value: number, amount: number, min: number): number\r\n{\r\n    return Math.max(value - amount, min);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Work out what percentage `value` is of the range between `min` and `max`.\r\n * If `max` isn't given then it will return the percentage of `value` to `min`.\r\n *\r\n * You can optionally specify an `upperMax` value, which is a mid-way point in the range that represents 100%, after which the % starts to go down to zero again.\r\n *\r\n * @function Phaser.Math.Percent\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to determine the percentage of.\r\n * @param {number} min - The minimum value.\r\n * @param {number} [max] - The maximum value.\r\n * @param {number} [upperMax] - The mid-way point in the range that represents 100%.\r\n *\r\n * @return {number} A value between 0 and 1 representing the percentage.\r\n */\r\nexport default function Percent (value: number, min: number, max?: number, upperMax?: number): number\r\n{\r\n    if (max === undefined) { max = min + 1; }\r\n\r\n    let percentage = (value - min) / (max - min);\r\n\r\n    if (percentage > 1)\r\n    {\r\n        if (upperMax !== undefined)\r\n        {\r\n            percentage = ((upperMax - value)) / (upperMax - max);\r\n\r\n            if (percentage < 0)\r\n            {\r\n                percentage = 0;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            percentage = 1;\r\n        }\r\n    }\r\n    else if (percentage < 0)\r\n    {\r\n        percentage = 0;\r\n    }\r\n\r\n    return percentage;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport CONST from './const';\r\n\r\n/**\r\n * Convert the given angle in radians, to the equivalent angle in degrees.\r\n *\r\n * @function Phaser.Math.RadToDeg\r\n * @since 3.0.0\r\n *\r\n * @param {number} radians - The angle in radians to convert ot degrees.\r\n *\r\n * @return {number} The given angle converted to degrees.\r\n */\r\nexport default function RadToDeg (radians: number): number\r\n{\r\n    return radians * CONST.RAD_TO_DEG;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Round a given number so it is further away from zero. That is, positive numbers are rounded up, and negative numbers are rounded down.\r\n *\r\n * @function Phaser.Math.RoundAwayFromZero\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The number to round.\r\n *\r\n * @return {number} The rounded number, rounded away from zero.\r\n */\r\nexport default function RoundAwayFromZero (value: number): number\r\n{\r\n    // \"Opposite\" of truncate.\r\n    return (value > 0) ? Math.ceil(value) : Math.floor(value);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Round a value to the given precision.\r\n * \r\n * For example:\r\n * \r\n * ```javascript\r\n * RoundTo(123.456, 0) = 123\r\n * RoundTo(123.456, 1) = 120\r\n * RoundTo(123.456, 2) = 100\r\n * ```\r\n * \r\n * To round the decimal, i.e. to round to precision, pass in a negative `place`:\r\n * \r\n * ```javascript\r\n * RoundTo(123.456789, 0) = 123\r\n * RoundTo(123.456789, -1) = 123.5\r\n * RoundTo(123.456789, -2) = 123.46\r\n * RoundTo(123.456789, -3) = 123.457\r\n * ```\r\n *\r\n * @function Phaser.Math.RoundTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to. Positive to round the units, negative to round the decimal.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport default function RoundTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.round(value * p) / p;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n /**\r\n * @typedef {object} Phaser.Types.Math.SinCosTable\r\n * @since 3.0.0\r\n *\r\n * @property {number[]} sin - The sine values.\r\n * @property {number[]} cos - The cosine values.\r\n * @property {number} length - The length.\r\n */\r\n\r\ntype SinCosTable = { sin: number[], cos: number[], length: number };\r\n\r\n/**\r\n * Generate a series of sine and cosine values.\r\n *\r\n * @function Phaser.Math.SinCosTableGenerator\r\n * @since 3.0.0\r\n *\r\n * @param {number} length - The number of values to generate.\r\n * @param {number} [sinAmp=1] - The sine value amplitude.\r\n * @param {number} [cosAmp=1] - The cosine value amplitude.\r\n * @param {number} [frequency=1] - The frequency of the values.\r\n *\r\n * @return {SinCosTable} The generated values.\r\n */\r\nexport default function SinCosTableGenerator (length: number, sinAmp: number = 1, cosAmp: number = 1, frequency: number = 1): SinCosTable\r\n{\r\n    frequency *= Math.PI / length;\r\n\r\n    const cos = [];\r\n    const sin = [];\r\n\r\n    for (let c = 0; c < length; c++)\r\n    {\r\n        cosAmp -= sinAmp * frequency;\r\n        sinAmp += cosAmp * frequency;\r\n\r\n        cos[c] = cosAmp;\r\n        sin[c] = sinAmp;\r\n    }\r\n\r\n    return {\r\n        sin,\r\n        cos,\r\n        length\r\n    };\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Vec2 from './vec2/Vec2';\r\n\r\n/**\r\n * Returns a Vector2 containing the x and y position of the given index in a `width` x `height` sized grid.\r\n * \r\n * For example, in a 6 x 4 grid, index 16 would equal x: 4 y: 2.\r\n * \r\n * If the given index is out of range an empty Vector2 is returned.\r\n *\r\n * @function Phaser.Math.ToXY\r\n * @since 3.19.0\r\n *\r\n * @param {number} index - The position within the grid to get the x/y value for.\r\n * @param {number} width - The width of the grid.\r\n * @param {number} height - The height of the grid.\r\n * @param {Vec2} [out] - An optional Vector2 to store the result in. If not given, a new Vector2 instance will be created.\r\n *\r\n * @return {Vec2} A Vector2 where the x and y properties contain the given grid index.\r\n */\r\nexport default function ToXY (index: number, width: number, height: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    let x = 0;\r\n    let y = 0;\r\n    const total = width * height;\r\n\r\n    if (index > 0 && index <= total)\r\n    {\r\n        if (index > width - 1)\r\n        {\r\n            y = Math.floor(index / width);\r\n            x = index - (y * width);\r\n        }\r\n        else\r\n        {\r\n            x = index;\r\n        }\r\n\r\n        out.set(x, y);\r\n    }\r\n\r\n    return out;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Vec2 from './vec2/Vec2';\r\n\r\n/**\r\n * Takes the `x` and `y` coordinates and transforms them into the same space as\r\n * defined by the position, rotation and scale values.\r\n *\r\n * @function Phaser.Math.TransformXY\r\n * @since 3.0.0\r\n *\r\n * @param {number} x - The x coordinate to be transformed.\r\n * @param {number} y - The y coordinate to be transformed.\r\n * @param {number} positionX - Horizontal position of the transform point.\r\n * @param {number} positionY - Vertical position of the transform point.\r\n * @param {number} rotation - Rotation of the transform point, in radians.\r\n * @param {number} scaleX - Horizontal scale of the transform point.\r\n * @param {number} scaleY - Vertical scale of the transform point.\r\n * @param {Vec2} [output] - The output vector, point or object for the translated coordinates.\r\n *\r\n * @return {Vec2} The translated point.\r\n */\r\nexport default function TransformXY (x: number, y: number, positionX: number, positionY: number, rotation: number, scaleX: number, scaleY: number, output: Vec2 = new Vec2()): Vec2\r\n{\r\n    const radianSin = Math.sin(rotation);\r\n    const radianCos = Math.cos(rotation);\r\n\r\n    // Rotate and Scale\r\n    const a = radianCos * scaleX;\r\n    const b = radianSin * scaleX;\r\n    const c = -radianSin * scaleY;\r\n    const d = radianCos * scaleY;\r\n\r\n    //  Invert\r\n    const id = 1 / ((a * d) + (c * -b));\r\n\r\n    output.x = (d * id * x) + (-c * id * y) + (((positionY * c) - (positionX * d)) * id);\r\n    output.y = (a * id * y) + (-b * id * x) + (((-positionY * a) + (positionX * b)) * id);\r\n\r\n    return output;\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Checks if the two values are within the given `tolerance` of each other.\r\n *\r\n * @function Phaser.Math.Within\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value to use in the calculation.\r\n * @param {number} b - The second value to use in the calculation.\r\n * @param {number} tolerance - The tolerance. Anything equal to or less than this value is considered as being within range.\r\n *\r\n * @return {boolean} Returns `true` if `a` is less than or equal to the tolerance of `b`.\r\n */\r\nexport default function Within (a: number, b: number, tolerance: number): boolean\r\n{\r\n    return (Math.abs(a - b) <= tolerance);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n *\r\n * @name Phaser.Create.Palettes.ARNE16\r\n * @since 3.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#9D9D9D',\r\n    2: '#FFF',\r\n    3: '#BE2633',\r\n    4: '#E06F8B',\r\n    5: '#493C2B',\r\n    6: '#A46422',\r\n    7: '#EB8931',\r\n    8: '#F7E26B',\r\n    9: '#2F484E',\r\n    A: '#44891A',\r\n    B: '#A3CE27',\r\n    C: '#1B2632',\r\n    D: '#005784',\r\n    E: '#31A2F2',\r\n    F: '#B2DCEF'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette inspired by the Commodore 64.\r\n *\r\n * @name Phaser.Create.Palettes.C64\r\n * @since 3.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#fff',\r\n    2: '#8b4131',\r\n    3: '#7bbdc5',\r\n    4: '#8b41ac',\r\n    5: '#6aac41',\r\n    6: '#3931a4',\r\n    7: '#d5de73',\r\n    8: '#945a20',\r\n    9: '#5a4100',\r\n    A: '#bd736a',\r\n    B: '#525252',\r\n    C: '#838383',\r\n    D: '#acee8b',\r\n    E: '#7b73de',\r\n    F: '#acacac'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color CGA inspired palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n *\r\n * @name Phaser.Create.Palettes.CGA\r\n * @since 3.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#2234d1',\r\n    2: '#0c7e45',\r\n    3: '#44aacc',\r\n    4: '#8a3622',\r\n    5: '#5c2e78',\r\n    6: '#aa5c3d',\r\n    7: '#b5b5b5',\r\n    8: '#5e606e',\r\n    9: '#4c81fb',\r\n    A: '#6cd947',\r\n    B: '#7be2f9',\r\n    C: '#eb8a60',\r\n    D: '#e23d69',\r\n    E: '#ffd93f',\r\n    F: '#fff'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color JMP palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n *\r\n * @name Phaser.Create.Palettes.JMP\r\n * @since 3.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#191028',\r\n    2: '#46af45',\r\n    3: '#a1d685',\r\n    4: '#453e78',\r\n    5: '#7664fe',\r\n    6: '#833129',\r\n    7: '#9ec2e8',\r\n    8: '#dc534b',\r\n    9: '#e18d79',\r\n    A: '#d6b97b',\r\n    B: '#e9d8a1',\r\n    C: '#216c4b',\r\n    D: '#d365c8',\r\n    E: '#afaab9',\r\n    F: '#f5f4eb'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette inspired by Japanese computers like the MSX.\r\n *\r\n * @name Phaser.Create.Palettes.MSX\r\n * @since 3.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#191028',\r\n    2: '#46af45',\r\n    3: '#a1d685',\r\n    4: '#453e78',\r\n    5: '#7664fe',\r\n    6: '#833129',\r\n    7: '#9ec2e8',\r\n    8: '#dc534b',\r\n    9: '#e18d79',\r\n    A: '#d6b97b',\r\n    B: '#e9d8a1',\r\n    C: '#216c4b',\r\n    D: '#d365c8',\r\n    E: '#afaab9',\r\n    F: '#fff'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette as used in Pico8.\r\n *\r\n * @name Phaser.Create.Palettes.PICO8\r\n * @since 4.0.0\r\n *\r\n * @type {Phaser.Types.Create.Palette}\r\n */\r\nexport default {\r\n    0: '#000',\r\n    1: '#1D2B53',\r\n    2: '#7E2553',\r\n    3: '#008751',\r\n    4: '#AB5236',\r\n    5: '#5F574F',\r\n    6: '#C2C3C7',\r\n    7: '#FFF1E8',\r\n    8: '#FF004D',\r\n    9: '#FFA300',\r\n    A: '#FFEC27',\r\n    B: '#00E436',\r\n    C: '#29ADFF',\r\n    D: '#83769C',\r\n    E: '#FF77A8',\r\n    F: '#FFCCAA'\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport ARNE16 from './Arne16';\r\nimport C64 from './C64';\r\nimport CGA from './CGA';\r\nimport JMP from './JMP';\r\nimport MSX from './MSX';\r\nimport PICO8 from './PICO8';\r\n\r\n/**\r\n * @namespace Phaser.Create.Palettes\r\n */\r\n\r\nexport {\r\n    ARNE16,\r\n    C64,\r\n    CGA,\r\n    JMP,\r\n    MSX,\r\n    PICO8\r\n}\r\n","import Texture from '../Texture';\r\nimport Frame from '../Frame';\r\n\r\nexport default function AtlasParser (texture: Texture, data: any)\r\n{\r\n    let frames;\r\n\r\n    if (Array.isArray(data.textures))\r\n    {\r\n        //  TP3 Format\r\n        frames = data.textures[0].frames;\r\n    }\r\n    else if (Array.isArray(data.frames))\r\n    {\r\n        //  TP2 Format Array\r\n        frames = data.frames;\r\n    }\r\n    else if (data.hasOwnProperty('frames'))\r\n    {\r\n        //  TP2 Format Hash\r\n        frames = Object.values(data.frames);\r\n    }\r\n    else\r\n    {\r\n        console.warn('Invalid Texture Atlas JSON');\r\n    }\r\n\r\n    if (frames)\r\n    {\r\n        let newFrame: Frame;\r\n\r\n        for (let i = 0; i < frames.length; i++)\r\n        {\r\n            let src = frames[i];\r\n\r\n            //  The frame values are the exact coordinates to cut the frame out of the atlas from\r\n            newFrame = texture.add(src.filename, src.frame.x, src.frame.y, src.frame.w, src.frame.h)\r\n\r\n            //  These are the original (non-trimmed) sprite values\r\n            if (src.trimmed)\r\n            {\r\n                newFrame.setTrim(\r\n                    src.sourceSize.w,\r\n                    src.sourceSize.h,\r\n                    src.spriteSourceSize.x,\r\n                    src.spriteSourceSize.y,\r\n                    src.spriteSourceSize.w,\r\n                    src.spriteSourceSize.h\r\n                );\r\n            }\r\n            else\r\n            {\r\n                newFrame.setSourceSize(src.sourceSize.w, src.sourceSize.h);\r\n            }\r\n\r\n            if (src.rotated)\r\n            {\r\n                // newFrame.rotated = true;\r\n                // newFrame.updateUVsInverted();\r\n            }\r\n\r\n            if (src.anchor)\r\n            {\r\n                newFrame.setPivot(src.anchor.x, src.anchor.y);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import Texture from '../Texture';\r\nimport Frame from '../Frame';\r\n\r\n/**\r\n * Read an integer value from an XML Node.\r\n *\r\n * @function getValue\r\n * @since 3.0.0\r\n * @private\r\n *\r\n * @param {Node} node - The XML Node.\r\n * @param {string} attribute - The attribute to read.\r\n *\r\n * @return {integer} The parsed value.\r\n */\r\nfunction getValue (node: any, attribute: string): number\r\n{\r\n    return parseInt(node.getAttribute(attribute), 10);\r\n}\r\n\r\nexport default function BitmapTextParser (texture: Texture, xml: XMLDocument, frame?: Frame)\r\n{\r\n    const xSpacing = 0;\r\n    const ySpacing = 0;\r\n\r\n    const info = xml.getElementsByTagName('info')[0];\r\n    const common = xml.getElementsByTagName('common')[0];\r\n\r\n    const data = {\r\n        font: info.getAttribute('face'),\r\n        size: getValue(info, 'size'),\r\n        lineHeight: getValue(common, 'lineHeight') + ySpacing,\r\n        chars: {}\r\n    };\r\n\r\n    const letters = xml.getElementsByTagName('char');\r\n\r\n    // var adjustForTrim = (frame !== undefined && frame.trimmed);\r\n\r\n    // if (adjustForTrim)\r\n    // {\r\n    //     var top = frame.height;\r\n    //     var left = frame.width;\r\n    // }\r\n\r\n    for (let i: number = 0; i < letters.length; i++)\r\n    {\r\n        let node = letters[i];\r\n\r\n        let charCode = getValue(node, 'id');\r\n        let x = getValue(node, 'x');\r\n        let y = getValue(node, 'y');\r\n        let width = getValue(node, 'width');\r\n        let height = getValue(node, 'height');\r\n\r\n        //  Handle frame trim issues\r\n\r\n        // if (adjustForTrim)\r\n        // {\r\n        //     if (gx < left)\r\n        //     {\r\n        //         left = gx;\r\n        //     }\r\n\r\n        //     if (gy < top)\r\n        //     {\r\n        //         top = gy;\r\n        //     }\r\n        // }\r\n\r\n        data.chars[charCode] =\r\n        {\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n            // centerX: Math.floor(width / 2),\r\n            // centerY: Math.floor(height / 2),\r\n            xOffset: getValue(node, 'xoffset'),\r\n            yOffset: getValue(node, 'yoffset'),\r\n            xAdvance: getValue(node, 'xadvance') + xSpacing,\r\n            // data: {},\r\n            kerning: {}\r\n        };\r\n\r\n        texture.add(charCode, x, y, width, height);\r\n    }\r\n\r\n    /*\r\n    if (adjustForTrim && top !== 0 && left !== 0)\r\n    {\r\n        //  Now we know the top and left coordinates of the glyphs in the original data\r\n        //  so we can work out how much to adjust the glyphs by\r\n\r\n        for (var code in data.chars)\r\n        {\r\n            var glyph = data.chars[code];\r\n\r\n            glyph.x -= frame.x;\r\n            glyph.y -= frame.y;\r\n        }\r\n    }\r\n    */\r\n\r\n    const kernings = xml.getElementsByTagName('kerning');\r\n\r\n    for (let i: number = 0; i < kernings.length; i++)\r\n    {\r\n        let kern = kernings[i];\r\n\r\n        let first = getValue(kern, 'first');\r\n        let second = getValue(kern, 'second');\r\n        let amount = getValue(kern, 'amount');\r\n\r\n        data.chars[second].kerning[first] = amount;\r\n    }\r\n\r\n    return data;\r\n}\r\n","import IFrameConfig from '../IFrameConfig';\r\nimport Texture from '../Texture';\r\n\r\nexport default function (texture: Texture, x: number, y: number, width: number, height: number, frameConfig: IFrameConfig)\r\n{\r\n    let {\r\n        frameWidth = null,\r\n        frameHeight = null,\r\n        startFrame = 0,\r\n        endFrame = -1,\r\n        margin = 0,\r\n        spacing = 0\r\n    } = frameConfig;\r\n\r\n    if (!frameHeight)\r\n    {\r\n        frameHeight = frameWidth;\r\n    }\r\n\r\n    //  If missing we can't proceed\r\n    if (frameWidth === null)\r\n    {\r\n        throw new Error('SpriteSheetParser: Invalid frameWidth');\r\n    }\r\n\r\n    const row: number = Math.floor((width - margin + spacing) / (frameWidth + spacing));\r\n    const column: number = Math.floor((height - margin + spacing) / (frameHeight + spacing));\r\n    let total: number = row * column;\r\n\r\n    if (total === 0)\r\n    {\r\n        console.warn('SpriteSheetParser: Frame config will result in zero frames');\r\n    }\r\n\r\n    if (startFrame > total || startFrame < -total)\r\n    {\r\n        startFrame = 0;\r\n    }\r\n\r\n    if (startFrame < 0)\r\n    {\r\n        //  Allow negative skipframes.\r\n        startFrame = total + startFrame;\r\n    }\r\n\r\n    if (endFrame !== -1)\r\n    {\r\n        total = startFrame + (endFrame + 1);\r\n    }\r\n\r\n    let fx: number = margin;\r\n    let fy: number = margin;\r\n    let ax: number = 0;\r\n    let ay: number = 0;\r\n\r\n    for (let i: number = 0; i < total; i++)\r\n    {\r\n        ax = 0;\r\n        ay = 0;\r\n\r\n        let w: number = fx + frameWidth;\r\n        let h: number = fy + frameHeight;\r\n\r\n        if (w > width)\r\n        {\r\n            ax = w - width;\r\n        }\r\n\r\n        if (h > height)\r\n        {\r\n            ay = h - height;\r\n        }\r\n\r\n        texture.add(i, x + fx, y + fy, frameWidth - ax, frameHeight - ay);\r\n\r\n        fx += frameWidth + spacing;\r\n\r\n        if (fx + frameWidth > width)\r\n        {\r\n            fx = margin;\r\n            fy += frameHeight + spacing;\r\n        }\r\n    }\r\n}\r\n","import CreateCanvas from '../CreateCanvas';\r\nimport Texture from '../Texture';\r\n\r\nexport default function GridTexture (color1: string, color2: string, width: number = 32, height: number = 32, cols: number = 2, rows: number = 2): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    const colWidth = width / cols;\r\n    const rowHeight = height / rows;\r\n\r\n    ctx.fillStyle = color1;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    ctx.fillStyle = color2;\r\n\r\n    for (let y: number = 0; y < rows; y++)\r\n    {\r\n        for (let x: number = (y % 2); x < cols; x += 2)\r\n        {\r\n            ctx.fillRect(x * colWidth, y * rowHeight, colWidth, rowHeight);\r\n        }\r\n    }\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport Arne16 from '../palettes/Arne16';\r\nimport CreateCanvas from '../CreateCanvas';\r\nimport Texture from '../Texture';\r\n\r\n/**\r\n * @callback Phaser.Types.Create.GenerateTextureCallback\r\n * @since 3.0.0\r\n *\r\n * @param {HTMLCanvasElement} canvas - The HTML Canvas element to operate on.\r\n * @param {CanvasRenderingContext2D} context - The context of the HTML Canvas element.\r\n */\r\n\r\n/**\r\n * @typedef {object} Phaser.Types.Create.GenerateTextureConfig\r\n * @since 3.0.0\r\n *\r\n * @property {array} [data=[]] - An array of data, where each row is a string of single values 0-9A-F, or the period character.\r\n * @property {HTMLCanvasElement} [canvas=null] - The HTML Canvas to draw the texture to.\r\n * @property {Phaser.Types.Create.Palette} [palette=Arne16] - The indexed palette that the data cell values map to.\r\n * @property {number} [pixelWidth=1] - The width of each 'pixel' in the generated texture.\r\n * @property {number} [pixelHeight=1] - The height of each 'pixel' in the generated texture.\r\n * @property {boolean} [resizeCanvas=true] - Should the canvas be resized before the texture is drawn?\r\n * @property {boolean} [clearCanvas=true] - Should the canvas be cleared before the texture is drawn?\r\n * @property {Phaser.Types.Create.GenerateTextureCallback} [preRender] - A callback to send the canvas to prior to the texture being drawn.\r\n * @property {Phaser.Types.Create.GenerateTextureCallback} [postRender] - A callback to send the canvas to after the texture has been drawn.\r\n */\r\n\r\nexport type PixelTextureConfig = {\r\n    data: string[],\r\n    canvas?: HTMLCanvasElement,\r\n    palette?: any,\r\n    pixelWidth?: number,\r\n    pixelHeight?: number,\r\n    resizeCanvas?: boolean,\r\n    clearCanvas?: boolean,\r\n    preRender?: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void,\r\n    postRender?: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void\r\n}\r\n\r\n/**\r\n * Generates a texture based on the given Create configuration object.\r\n * \r\n * The texture is drawn using a fixed-size indexed palette of 16 colors, where the hex value in the\r\n * data cells map to a single color. For example, if the texture config looked like this:\r\n *\r\n * ```javascript\r\n * var star = [\r\n *   '.....828.....',\r\n *   '....72227....',\r\n *   '....82228....',\r\n *   '...7222227...',\r\n *   '2222222222222',\r\n *   '8222222222228',\r\n *   '.72222222227.',\r\n *   '..787777787..',\r\n *   '..877777778..',\r\n *   '.78778887787.',\r\n *   '.27887.78872.',\r\n *   '.787.....787.'\r\n * ];\r\n * \r\n * this.textures.generate('star', { data: star, pixelWidth: 4 });\r\n * ```\r\n * \r\n * Then it would generate a texture that is 52 x 48 pixels in size, because each cell of the data array\r\n * represents 1 pixel multiplied by the `pixelWidth` value. The cell values, such as `8`, maps to color\r\n * number 8 in the palette. If a cell contains a period character `.` then it is transparent.\r\n * \r\n * The default palette is Arne16, but you can specify your own using the `palette` property.\r\n *\r\n * @function Phaser.Create.GenerateTexture\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Types.Create.GenerateTextureConfig} config - The Generate Texture Configuration object.\r\n *\r\n * @return {Texture} An HTMLCanvasElement which contains the generated texture drawn to it.\r\n */\r\nexport default function PixelTexture (config: PixelTextureConfig): Texture\r\n{\r\n    let {\r\n        data = [],\r\n        canvas = null,\r\n        palette = Arne16,\r\n        pixelWidth = 1,\r\n        pixelHeight = 1,\r\n        resizeCanvas = true,\r\n        clearCanvas = true,\r\n        preRender = null,\r\n        postRender = null\r\n    } = config;\r\n\r\n    const width = Math.floor(Math.abs(data[0].length * pixelWidth));\r\n    const height = Math.floor(Math.abs(data.length * pixelHeight));\r\n\r\n    if (!canvas)\r\n    {\r\n        canvas = CreateCanvas(width, height).canvas;\r\n        resizeCanvas = false;\r\n        clearCanvas = false;\r\n    }\r\n\r\n    if (resizeCanvas)\r\n    {\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n    }\r\n\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    if (clearCanvas)\r\n    {\r\n        ctx.clearRect(0, 0, width, height);\r\n    }\r\n\r\n    //  preRender Callback?\r\n    if (preRender)\r\n    {\r\n        preRender(canvas, ctx);\r\n    }\r\n\r\n    //  Draw it\r\n    for (let y = 0; y < data.length; y++)\r\n    {\r\n        const row = data[y];\r\n\r\n        for (let x = 0; x < row.length; x++)\r\n        {\r\n            const d = row[x];\r\n\r\n            if (d !== '.' && d !== ' ')\r\n            {\r\n                ctx.fillStyle = palette[d];\r\n                ctx.fillRect(x * pixelWidth, y * pixelHeight, pixelWidth, pixelHeight);\r\n            }\r\n        }\r\n    }\r\n\r\n    //  postRender Callback?\r\n    if (postRender)\r\n    {\r\n        postRender(canvas, ctx);\r\n    }\r\n\r\n    return new Texture(canvas);\r\n}\r\n","import ISprite from './ISprite';\r\nimport WebGLRenderer from '../../renderer/webgl1/WebGLRenderer';\r\nimport IShader from '../../renderer/webgl1/shaders/IShader';\r\n\r\nexport default function RenderWebGL (sprite: ISprite, renderer: WebGLRenderer, shader: IShader, startActiveTexture: number)\r\n{\r\n    const texture = sprite.texture;\r\n\r\n    if (texture.glIndexCounter < startActiveTexture)\r\n    {\r\n        renderer.requestTexture(texture);\r\n    }\r\n\r\n    if (shader.count === shader.batchSize)\r\n    {\r\n        shader.flush();\r\n    }\r\n\r\n    sprite.uploadBuffers(shader.vertexViewF32, shader.vertexViewU32, shader.count * shader.quadElementSize);\r\n\r\n    shader.count++;\r\n}\r\n","export default function Ortho (width: number, height: number, near: number = -1, far: number = 1): Float32Array\r\n{\r\n    const m00: number = -2 * (1 / -width);\r\n    const m11: number = -2 * (1 / height);\r\n    const m22: number = 2 * (1 / (near - far));\r\n\r\n    return new Float32Array([ m00, 0, 0, 0, 0, m11, 0, 0, 0, 0, m22, 0, -1, 1, 0, 1 ]);\r\n}\r\n","import GL from './GL';\r\nimport CreateGLTexture from './CreateGLTexture';\r\n\r\nexport default function CreateFramebuffer (width: number, height: number): [ WebGLTexture, WebGLFramebuffer ]\r\n{\r\n    const gl = GL.get();\r\n    const texture = CreateGLTexture(null, width, height);\r\n    const framebuffer = gl.createFramebuffer();\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n    return [ texture, framebuffer ];\r\n}\r\n","import Texture from '../Texture';\r\nimport ISprite from '../../gameobjects/sprite/ISprite';\r\nimport SpriteRenderWebGL from '../../gameobjects/sprite/RenderWebGL';\r\nimport WebGLRenderer from '../../renderer/webgl1/WebGLRenderer';\r\nimport Ortho from '../../renderer/webgl1/Ortho';\r\nimport CreateFramebuffer from '../../renderer/webgl1/CreateFramebuffer';\r\n\r\nexport default class RenderTexture extends Texture\r\n{\r\n    renderer: WebGLRenderer;\r\n    cameraMatrix: Float32Array;\r\n    projectionMatrix: Float32Array;\r\n\r\n    constructor (renderer: WebGLRenderer, width: number = 256, height: number = width)\r\n    {\r\n        super(null, width, height);\r\n\r\n        this.renderer = renderer;\r\n\r\n        const [ texture, framebuffer ] = CreateFramebuffer(width, height);\r\n\r\n        this.glTexture = texture;\r\n        this.glFramebuffer = framebuffer;\r\n\r\n        this.projectionMatrix = Ortho(width, height);\r\n        this.cameraMatrix = new Float32Array([ 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, height, 0, 1 ]);\r\n    }\r\n\r\n    cls (): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const gl = renderer.gl;\r\n\r\n        renderer.reset(this.glFramebuffer, this.width, this.height);\r\n\r\n        gl.clearColor(0, 0, 0, 0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n        renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    batchStart (): this\r\n    {\r\n        const renderer = this.renderer;\r\n\r\n        renderer.reset(this.glFramebuffer, this.width, this.height);\r\n\r\n        renderer.shader.bind(this.projectionMatrix, this.cameraMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    batchDraw (...sprites: ISprite[]): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const shader = renderer.shader;\r\n\r\n        for (let i: number = 0; i < sprites.length; i++)\r\n        {\r\n            SpriteRenderWebGL(sprites[i], renderer, shader, renderer.startActiveTexture);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    batchEnd (): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const shader = renderer.shader;\r\n\r\n        shader.flush();\r\n\r\n        renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    draw (...sprites: ISprite[]): this\r\n    {\r\n        this.batchStart();\r\n        this.batchDraw(...sprites);\r\n        this.batchEnd();\r\n\r\n        return this;\r\n    }\r\n}\r\n","import CreateCanvas from '../CreateCanvas';\r\nimport Texture from '../Texture';\r\n\r\nexport default function SolidColorTexture (color: string = 'rgba(0,0,0,0)', width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","import Texture from './Texture';\r\nimport CreateCanvas from './CreateCanvas';\r\n\r\nexport default class TextureManager\r\n{\r\n    textures: Map<string, Texture>;\r\n\r\n    constructor ()\r\n    {\r\n        this.textures = new Map();\r\n\r\n        this.createDefaultTextures();\r\n    }\r\n\r\n    private createDefaultTextures ()\r\n    {\r\n        this.add('__BLANK', new Texture(CreateCanvas(32, 32).canvas));\r\n\r\n        const missing = CreateCanvas(32, 32);\r\n\r\n        missing.strokeStyle = '#0f0';\r\n        missing.moveTo(0, 0);\r\n        missing.lineTo(32, 32);\r\n        missing.stroke();\r\n        missing.strokeRect(0.5, 0.5, 31, 31);\r\n\r\n        this.add('__MISSING', new Texture(missing.canvas));\r\n    }\r\n\r\n    get (key: string): Texture\r\n    {\r\n        if (this.textures.has(key))\r\n        {\r\n            return this.textures.get(key);\r\n        }\r\n        else\r\n        {\r\n            return this.textures.get('__MISSING');\r\n        }\r\n    }\r\n\r\n    has (key: string): boolean\r\n    {\r\n        return this.textures.has(key);\r\n    }\r\n\r\n    add (key: string, source: Texture | HTMLImageElement)\r\n    {\r\n        let texture: Texture;\r\n\r\n        if (!this.textures.has(key))\r\n        {\r\n            if (source instanceof Texture)\r\n            {\r\n                texture = source;\r\n            }\r\n            else\r\n            {\r\n                texture = new Texture(source);\r\n            }\r\n\r\n            texture.key = key;\r\n\r\n            if (!texture.glTexture)\r\n            {\r\n                texture.createGL();\r\n            }\r\n\r\n            this.textures.set(key, texture);\r\n        }\r\n\r\n        return texture;\r\n    }\r\n}","//  From Pixi v5\r\n\r\nconst fragTemplate = [\r\n    'precision mediump float;',\r\n    'void main(void){',\r\n    'float test = 0.1;',\r\n    '%forloop%',\r\n    'gl_FragColor = vec4(0.0);',\r\n    '}',\r\n].join('\\n');\r\n\r\nfunction generateSrc (maxIfs: number): string\r\n{\r\n    let src = '';\r\n\r\n    for (let i = 0; i < maxIfs; ++i)\r\n    {\r\n        if (i > 0)\r\n        {\r\n            src += '\\nelse ';\r\n        }\r\n\r\n        if (i < maxIfs - 1)\r\n        {\r\n            src += `if(test == ${i}.0){}`;\r\n        }\r\n    }\r\n\r\n    return src;\r\n}\r\n\r\nexport default function CheckShaderMaxIfStatements (maxIfs: number, gl: WebGLRenderingContext): number\r\n{\r\n    const shader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\r\n    while (true)\r\n    {\r\n        const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateSrc(maxIfs));\r\n\r\n        gl.shaderSource(shader, fragmentSrc);\r\n        gl.compileShader(shader);\r\n\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n        {\r\n            maxIfs = (maxIfs / 2) | 0;\r\n        }\r\n        else\r\n        {\r\n            // valid!\r\n            break;\r\n        }\r\n    }\r\n\r\n    return maxIfs;\r\n}\r\n","import WebGLRenderer from '../WebGLRenderer';\r\nimport IShaderConfig from './IShaderConfig';\r\n\r\nconst shaderSource = {\r\n\r\n    fragmentShader: `\r\nprecision highp float;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\n\r\nuniform sampler2D uTexture[%count%];\r\n\r\nvoid main (void)\r\n{\r\n    vec4 color;\r\n    %forloop%\r\n\r\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\r\n}`,\r\n    \r\n    vertexShader: `\r\nprecision highp float;\r\n\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nattribute float aTextureId;\r\nattribute vec4 aTintColor;\r\n\r\nuniform mat4 uProjectionMatrix;\r\nuniform mat4 uCameraMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\n\r\nvoid main (void)\r\n{\r\n    vTextureCoord = aTextureCoord;\r\n    vTextureId = aTextureId;\r\n    vTintColor = aTintColor;\r\n\r\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\r\n}`\r\n}\r\n\r\nexport default class MultiTextureQuadShader\r\n{\r\n    renderer: WebGLRenderer;\r\n    gl: WebGLRenderingContext;\r\n\r\n    program: WebGLProgram;\r\n\r\n    attribs: { aVertexPosition: number; aTextureCoord: number; aTextureId: number; aTintColor: number } = { aVertexPosition: 0, aTextureCoord: 0, aTextureId: 0, aTintColor: 0 };\r\n    uniforms: { uProjectionMatrix: WebGLUniformLocation; uCameraMatrix: WebGLUniformLocation; uTexture: WebGLUniformLocation; } = { uProjectionMatrix: 0, uCameraMatrix: 0, uTexture: 0 };\r\n\r\n    /**\r\n     * Maximum number of quads per batch before a flush takes place.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    batchSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, per entry in the array buffer.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    dataSize: number = 4;\r\n\r\n    /**\r\n     * The size, in bytes, per entry in the element index array.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    indexSize: number = 4;\r\n\r\n    /**\r\n     * The amount of elements / floats a single vertex consists of.\r\n     * \r\n     * The default is 6:\r\n     * \r\n     * position (x,y - 2 floats)\r\n     * texture coord (x,y - 2 floats)\r\n     * texture index (float)\r\n     * packed color (vec4)\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexElementSize: number = 6;\r\n\r\n    /**\r\n     * The size, in bytes, of a single vertex in the array buffer.\r\n     * \r\n     * This is `vertexElementSize * dataSize`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexByteSize: number = 6 * 4;\r\n\r\n    /**\r\n     * The size, in bytes, of a single quad in the array buffer.\r\n     * \r\n     * This is `vertexByteSize * 4`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadByteSize: number = (6 * 4) * 4;\r\n\r\n    /**\r\n     * The size, in quantity of elements, of a single quad in the element index array.\r\n     * \r\n     * This is `vertexElementSize * 4`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadElementSize: number = 6 * 4;\r\n\r\n    /**\r\n     * The total number of entries per quad in the element index array.\r\n     * \r\n     * The IBO contains 6 entries per quad:\r\n     * \r\n     * 0, 1, 2\r\n     * 2, 3, 0\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadIndexSize: number = 6;\r\n\r\n    /**\r\n     * The size, in bytes, of the Array Buffer.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    bufferByteSize: number;\r\n\r\n    /**\r\n     * The Array Buffer.\r\n     *\r\n     * @type {ArrayBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    data: ArrayBuffer;\r\n\r\n    /**\r\n     * Float32 View of the Array Buffer.\r\n     *\r\n     * @type {Float32Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexViewF32: Float32Array;\r\n\r\n    /**\r\n     * Uint32 View of the Array Buffer.\r\n     *\r\n     * @type {Uint32Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexViewU32: Uint32Array;\r\n\r\n    /**\r\n     * The Element Array Buffer.\r\n     *\r\n     * @type {Uint16Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    index: Uint16Array;\r\n\r\n    /**\r\n     * The data array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexBuffer: WebGLBuffer;\r\n\r\n    /**\r\n     * The element array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    indexBuffer: WebGLBuffer;\r\n\r\n    /**\r\n     * The total number of quads added to the batch so far.\r\n     * Reset every bind and flush.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    count: number;\r\n\r\n    //  The number of quads previously flushed\r\n    prevCount: number;\r\n\r\n    constructor (renderer: WebGLRenderer, config: IShaderConfig = {})\r\n    {\r\n        this.renderer = renderer;\r\n        this.gl = renderer.gl;\r\n\r\n        const {\r\n            batchSize = 4096,\r\n            fragmentShader = shaderSource.fragmentShader,\r\n            vertexShader = shaderSource.vertexShader\r\n        } = config;\r\n\r\n        this.batchSize = batchSize;\r\n        this.bufferByteSize = batchSize * this.quadByteSize;\r\n\r\n        this.createBuffers();\r\n        this.createShaders(fragmentShader, vertexShader);\r\n\r\n        this.count = 0;\r\n    }\r\n\r\n    createBuffers ()\r\n    {\r\n        let ibo: number[] = [];\r\n        \r\n        //  Seed the index buffer\r\n        for (let i: number = 0; i < (this.batchSize * this.indexSize); i += this.indexSize)\r\n        {\r\n            ibo.push(i + 0, i + 1, i + 2, i + 2, i + 3, i + 0);\r\n        }\r\n        \r\n        this.data = new ArrayBuffer(this.bufferByteSize);\r\n        this.index = new Uint16Array(ibo);\r\n\r\n        this.vertexViewF32 = new Float32Array(this.data);\r\n        this.vertexViewU32 = new Uint32Array(this.data);\r\n\r\n        const gl = this.gl;\r\n\r\n        this.vertexBuffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.DYNAMIC_DRAW);\r\n       \r\n        this.indexBuffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\r\n\r\n        //  Tidy-up\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        ibo = [];\r\n    }\r\n\r\n    createShaders (fragmentShaderSource: string, vertexShaderSource: string)\r\n    {\r\n        const gl = this.gl;\r\n        const maxTextures = this.renderer.maxTextures;\r\n\r\n        let src: string = '';\r\n\r\n        if (maxTextures > 1)\r\n        {\r\n            for (let i: number = 0; i < maxTextures; i++)\r\n            {\r\n                if (i > 0)\r\n                {\r\n                    src += '\\nelse ';\r\n                }\r\n        \r\n                if (i < maxTextures - 1)\r\n                {\r\n                    src += `if (vTextureId < ${i}.5)`;\r\n                }\r\n        \r\n                src += '\\n{';\r\n                src += `\\n  color = texture2D(uTexture[${i}], vTextureCoord);`;\r\n                src += '\\n}';\r\n            }\r\n    \r\n            fragmentShaderSource = fragmentShaderSource.replace(/%count%/gi, `${maxTextures}`);\r\n            fragmentShaderSource = fragmentShaderSource.replace(/%forloop%/gi, src);\r\n        }\r\n        else\r\n        {\r\n            src = 'color = texture2D(uTexture[0], vTextureCoord);';\r\n        }\r\n\r\n        //  Create the shaders\r\n\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n        \r\n        gl.shaderSource(fragmentShader, fragmentShaderSource);\r\n        gl.compileShader(fragmentShader);\r\n        \r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        \r\n        gl.shaderSource(vertexShader, vertexShaderSource);\r\n        gl.compileShader(vertexShader);\r\n        \r\n        const program = gl.createProgram();\r\n        \r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n\r\n        gl.useProgram(program);\r\n\r\n        this.program = program;\r\n        \r\n        for (let key of Object.keys(this.attribs))\r\n        {\r\n            let location = gl.getAttribLocation(program, key);\r\n\r\n            gl.enableVertexAttribArray(location);\r\n\r\n            this.attribs[key] = location;\r\n        }\r\n\r\n        for (let key of Object.keys(this.uniforms))\r\n        {\r\n            this.uniforms[key] = gl.getUniformLocation(program, key);\r\n        }\r\n    }\r\n\r\n    bind (projectionMatrix: Float32Array, cameraMatrix: Float32Array)\r\n    {\r\n        const gl = this.gl;\r\n        const renderer = this.renderer;\r\n        const uniforms = this.uniforms;\r\n\r\n        gl.useProgram(this.program);\r\n\r\n        gl.uniformMatrix4fv(uniforms.uProjectionMatrix, false, projectionMatrix);\r\n        gl.uniformMatrix4fv(uniforms.uCameraMatrix, false, cameraMatrix);\r\n        gl.uniform1iv(uniforms.uTexture, renderer.textureIndex);\r\n\r\n        this.bindBuffers(this.indexBuffer, this.vertexBuffer);\r\n    }\r\n\r\n    bindBuffers (indexBuffer: WebGLBuffer, vertexBuffer: WebGLBuffer)\r\n    {\r\n        const gl = this.gl;\r\n        const stride = this.vertexByteSize;\r\n        const attribs = this.attribs;\r\n\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\r\n        //  attributes must be reset whenever you change buffers\r\n\r\n        gl.vertexAttribPointer(attribs.aVertexPosition, 2, gl.FLOAT, false, stride, 0);     // size = 8\r\n        gl.vertexAttribPointer(attribs.aTextureCoord, 2, gl.FLOAT, false, stride, 8);       // size = 8, offset = position\r\n        gl.vertexAttribPointer(attribs.aTextureId, 1, gl.FLOAT, false, stride, 16);         // size = 4, offset = position + tex coord\r\n        gl.vertexAttribPointer(attribs.aTintColor, 4, gl.UNSIGNED_BYTE, true, stride, 20);  // size = 4, offset = position + tex coord + index\r\n\r\n        this.count = 0;\r\n    }\r\n\r\n    draw (count: number)\r\n    {\r\n        const gl = this.gl;\r\n        const offset = count * this.quadByteSize;\r\n\r\n        if (offset === this.bufferByteSize)\r\n        {\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.DYNAMIC_DRAW);\r\n        }\r\n        else\r\n        {\r\n            let view = this.vertexViewF32.subarray(0, offset);\r\n\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);\r\n        }\r\n\r\n        gl.drawElements(gl.TRIANGLES, count * this.quadIndexSize, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n\r\n    flush (): boolean\r\n    {\r\n        const count = this.count;\r\n\r\n        if (count === 0)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.draw(count);\r\n\r\n        this.prevCount = count;\r\n\r\n        this.count = 0;\r\n\r\n        this.renderer.flushTotal++;\r\n\r\n        return true;\r\n    }\r\n}\r\n","let _bgColor: number = 0;\r\n\r\nfunction BackgroundColor (color: number = 0)\r\n{\r\n    return () => {\r\n\r\n        _bgColor = color;\r\n    \r\n    };\r\n}\r\n\r\nfunction GetBackgroundColor (): number\r\n{\r\n    return _bgColor;\r\n}\r\n\r\nexport {\r\n    BackgroundColor,\r\n    GetBackgroundColor\r\n}\r\n","import IBaseScene from '../scenes/IBaseScene';\r\n\r\nlet _scenes: any[] = [];\r\n\r\nfunction Scenes (scenes?: IBaseScene | IBaseScene[] | any | any[])\r\n{\r\n    return () => {\r\n\r\n        _scenes = [].concat(scenes);\r\n\r\n    };\r\n}\r\n\r\nfunction GetScenes (): any[]\r\n{\r\n    return _scenes;\r\n}\r\n\r\nexport {\r\n    Scenes,\r\n    GetScenes\r\n}\r\n","let _width: number = 800;\r\nlet _height: number = 600;\r\nlet _resolution: number = 1;\r\n\r\nfunction Size (width: number = 800, height: number = 600, resolution: number = 1)\r\n{\r\n    if (resolution === 0)\r\n    {\r\n        resolution = window.devicePixelRatio;\r\n    }\r\n\r\n    return () => {\r\n\r\n        _width = width;\r\n        _height = height;\r\n        _resolution = resolution;\r\n    \r\n    };\r\n}\r\n\r\nfunction GetWidth (): number\r\n{\r\n    return _width;\r\n}\r\n\r\nfunction GetHeight (): number\r\n{\r\n    return _height;\r\n}\r\n\r\nfunction GetResolution (): number\r\n{\r\n    return _resolution;\r\n}\r\n\r\nexport {\r\n    Size,\r\n    GetWidth,\r\n    GetHeight,\r\n    GetResolution\r\n}\r\n","let _contextAttributes: WebGLContextAttributes = {\r\n    alpha: false,\r\n    antialias: false,\r\n    depth: false,\r\n    premultipliedAlpha: false\r\n};\r\n\r\nfunction WebGLContext (contextAttributes: WebGLContextAttributes)\r\n{\r\n    return () => {\r\n\r\n        _contextAttributes = contextAttributes;\r\n    \r\n    };\r\n}\r\n\r\nfunction GetWebGLContext (): WebGLContextAttributes\r\n{\r\n    return _contextAttributes;\r\n}\r\n\r\nexport {\r\n    WebGLContext,\r\n    GetWebGLContext\r\n}\r\n","import CheckShaderMaxIfStatements from './shaders/CheckShaderMaxIfStatements';\r\nimport MultiTextureQuadShader from './shaders/MultiTextureQuadShader';\r\nimport Texture from '../../textures/Texture';\r\nimport Matrix2dEqual from '../../math/matrix2d-funcs/ExactEquals';\r\nimport ICamera from '../../camera/ICamera';\r\nimport Ortho from './Ortho';\r\nimport GL from './GL';\r\nimport IGameObject from '../../gameobjects/gameobject/IGameObject';\r\nimport SpriteRenderWebGL from '../../gameobjects/sprite/RenderWebGL';\r\nimport ISprite from '../../gameobjects/sprite/ISprite';\r\nimport IShader from './shaders/IShader';\r\nimport { GetWidth, GetHeight, GetResolution, GetBackgroundColor, GetWebGLContext } from '../../config';\r\n\r\nexport default class WebGLRenderer\r\n{\r\n    canvas: HTMLCanvasElement;\r\n    gl: WebGLRenderingContext;\r\n\r\n    clearColor = [ 0, 0, 0, 1 ];\r\n\r\n    shader: IShader;\r\n\r\n    width: number;\r\n    height: number;\r\n    resolution: number;\r\n    \r\n    projectionMatrix: Float32Array;\r\n    textureIndex: number[];\r\n    flushTotal: number = 0;\r\n    \r\n    maxTextures: number = 0;\r\n    activeTextures: Texture[];\r\n    currentActiveTexture: number = 0;\r\n    startActiveTexture: number = 0;\r\n    tempTextures: WebGLTexture[] = [];\r\n\r\n    clearBeforeRender: boolean = true;\r\n    optimizeRedraw: boolean = true;\r\n    autoResize: boolean = true;\r\n\r\n    contextLost: boolean = false;\r\n    elementIndexExtension: OES_element_index_uint;\r\n\r\n    constructor ()\r\n    {\r\n        this.width = GetWidth();\r\n        this.height = GetHeight();\r\n        this.resolution = GetResolution();\r\n\r\n        this.setBackgroundColor(GetBackgroundColor());\r\n\r\n        const canvas = document.createElement('canvas');\r\n\r\n        canvas.addEventListener('webglcontextlost', (event) => this.onContextLost(event), false);\r\n        canvas.addEventListener('webglcontextrestored', () => this.onContextRestored(), false);\r\n\r\n        this.canvas = canvas;\r\n\r\n        this.initContext();\r\n\r\n        this.shader = new MultiTextureQuadShader(this);\r\n    }\r\n\r\n    initContext ()\r\n    {\r\n        const gl = this.canvas.getContext('webgl', GetWebGLContext());\r\n\r\n        GL.set(gl);\r\n\r\n        this.gl = gl;\r\n\r\n        this.elementIndexExtension = gl.getExtension('OES_element_index_uint');\r\n\r\n        this.getMaxTextures();\r\n\r\n        if (this.shader)\r\n        {\r\n            this.shader.gl = gl;\r\n        }\r\n\r\n        gl.disable(gl.DEPTH_TEST);\r\n        gl.disable(gl.CULL_FACE);\r\n\r\n        this.resize(this.width, this.height, this.resolution);\r\n    }\r\n\r\n    resize (width: number, height: number, resolution: number = 1)\r\n    {\r\n        this.width = width * resolution;\r\n        this.height = height * resolution;\r\n        this.resolution = resolution;\r\n    \r\n        const canvas = this.canvas;\r\n\r\n        canvas.width = this.width;\r\n        canvas.height = this.height;\r\n    \r\n        if (this.autoResize)\r\n        {\r\n            canvas.style.width = this.width / resolution + 'px';\r\n            canvas.style.height = this.height / resolution + 'px';\r\n        }\r\n    \r\n        this.gl.viewport(0, 0, this.width, this.height);\r\n\r\n        this.projectionMatrix = Ortho(width, height);\r\n    }\r\n\r\n    onContextLost (event)\r\n    {\r\n        event.preventDefault();\r\n\r\n        this.contextLost = true;\r\n    }\r\n\r\n    onContextRestored ()\r\n    {\r\n        this.contextLost = false;\r\n\r\n        this.initContext();\r\n    }\r\n\r\n    setBackgroundColor (color: number)\r\n    {\r\n        const clearColor = this.clearColor;\r\n\r\n        const r: number = color >> 16 & 0xFF;\r\n        const g: number = color >> 8 & 0xFF;\r\n        const b: number = color & 0xFF;\r\n        const a: number = (color > 16777215) ? color >>> 24 : 255;\r\n    \r\n        clearColor[0] = r / 255;\r\n        clearColor[1] = g / 255;\r\n        clearColor[2] = b / 255;\r\n        clearColor[3] = a / 255;\r\n\r\n        return this;\r\n    }\r\n\r\n    private getMaxTextures ()\r\n    {\r\n        const gl = this.gl;\r\n\r\n        let maxTextures: number = CheckShaderMaxIfStatements(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), gl);\r\n\r\n        const tempTextures = this.tempTextures;\r\n\r\n        if (tempTextures.length)\r\n        {\r\n            tempTextures.forEach(texture => {\r\n\r\n                gl.deleteTexture(texture);\r\n\r\n            });\r\n        }\r\n\r\n        //  Create temp textures to stop WebGL errors on mac os\r\n        for (let i: number = 0; i < maxTextures; i++)\r\n        {\r\n            let tempTexture = gl.createTexture();\r\n    \r\n            gl.activeTexture(gl.TEXTURE0 + i);\r\n    \r\n            gl.bindTexture(gl.TEXTURE_2D, tempTexture);\r\n    \r\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([ 0, 0, 255, 255 ]));\r\n\r\n            tempTextures[i] = tempTexture;\r\n        }\r\n\r\n        this.maxTextures = maxTextures;\r\n        \r\n        this.textureIndex = Array.from(Array(maxTextures).keys());\r\n        this.activeTextures = Array(maxTextures);\r\n\r\n        this.currentActiveTexture = 0;\r\n    }\r\n\r\n    reset (framebuffer: WebGLFramebuffer = null, width: number = this.width, height: number = this.height)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n        gl.viewport(0, 0, width, height);\r\n\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n        this.currentActiveTexture = 0;\r\n        this.startActiveTexture++;\r\n        this.flushTotal = 0;\r\n    }\r\n\r\n    render (sceneList: any[], dirtyFrame: number, dirtyCameras: number)\r\n    {\r\n        if (this.contextLost)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const gl = this.gl;\r\n        const flushTotal = this.flushTotal;\r\n\r\n        //  This is only here because if we don't do _something_ with the context, GL Spector can't see it.\r\n        //  Technically, we could move it below the dirty bail-out below.\r\n        this.reset();\r\n\r\n        //  Cache 1 - Nothing dirty? Display the previous frame\r\n        if (this.optimizeRedraw && dirtyFrame === 0 && dirtyCameras === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const shader = this.shader;\r\n        const cls = this.clearColor;\r\n\r\n        if (this.clearBeforeRender)\r\n        {\r\n            gl.clearColor(cls[0], cls[1], cls[2], cls[3]);\r\n            gl.clear(gl.COLOR_BUFFER_BIT);\r\n        }\r\n\r\n        const projectionMatrix = this.projectionMatrix;\r\n\r\n        //  Cache 2 - Only one dirty camera and one flush? We can re-use the buffers\r\n        /*\r\n        if (dirtyCameras === 1 && dirtyFrame === 0 && flushTotal === 1)\r\n        {\r\n            //  Total items rendered in the previous frame\r\n            const count = shader.prevCount;\r\n\r\n            shader.bind(projectionMatrix, sceneList[0].matrix);\r\n\r\n            shader.draw(count);\r\n\r\n            shader.prevCount = count;\r\n\r\n            this.flushTotal = 1;\r\n\r\n            return;\r\n        }\r\n        */\r\n\r\n        let prevCamera: ICamera;\r\n\r\n        for (let c: number = 0; c < sceneList.length; c += 2)\r\n        {\r\n            let camera: ICamera = sceneList[c];\r\n            let list: IGameObject[] = sceneList[c + 1];\r\n\r\n            //  This only needs rebinding if the camera matrix is different to before\r\n            if (!prevCamera || !Matrix2dEqual(camera.worldTransform, prevCamera.worldTransform))\r\n            {\r\n                shader.flush();\r\n\r\n                shader.bind(projectionMatrix, camera.matrix);\r\n\r\n                prevCamera = camera;\r\n            }\r\n\r\n            //  Process the render list\r\n            for (let i: number = 0; i < list.length; i++)\r\n            {\r\n                SpriteRenderWebGL(list[i] as ISprite, this, shader, this.startActiveTexture);\r\n            }\r\n        }\r\n\r\n        //  One final sweep\r\n        shader.flush();\r\n    }\r\n\r\n    resetTextures (texture?: Texture)\r\n    {\r\n        const gl = this.gl;\r\n        const active = this.activeTextures;\r\n\r\n        active.fill(null);\r\n\r\n        this.currentActiveTexture = 0;\r\n        this.startActiveTexture++;\r\n\r\n        if (texture)\r\n        {\r\n            //  Set this texture as texture0\r\n            active[0] = texture;\r\n\r\n            gl.activeTexture(gl.TEXTURE0);\r\n            gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n\r\n            this.currentActiveTexture = 1;\r\n        }\r\n    }\r\n\r\n    requestTexture (texture: Texture)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        texture.glIndexCounter = this.startActiveTexture;\r\n\r\n        if (this.currentActiveTexture < this.maxTextures)\r\n        {\r\n            //  Make this texture active\r\n            this.activeTextures[this.currentActiveTexture] = texture;\r\n\r\n            texture.glIndex = this.currentActiveTexture;\r\n\r\n            gl.activeTexture(gl.TEXTURE0 + this.currentActiveTexture);\r\n            gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n\r\n            this.currentActiveTexture++;\r\n        }\r\n        else\r\n        {\r\n            //  We're out of textures, so flush the batch and reset them all\r\n            this.shader.flush();\r\n\r\n            this.resetTextures(texture);\r\n        }\r\n    }\r\n}\r\n","import ISceneConfig from './ISceneConfig';\r\n\r\nexport default function GetConfigValue (config: ISceneConfig, property: string, defaultValue: any): any\r\n{\r\n    if (config.hasOwnProperty(property))\r\n    {\r\n        return config[property];\r\n    }\r\n    else\r\n    {\r\n        return defaultValue;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport IBaseScene from './IBaseScene';\r\nimport ISceneConfig from './ISceneConfig';\r\nimport GetConfigValue from './GetConfigValue';\r\nimport IBaseSceneConstructor from './IBaseSceneConstructor';\r\nimport { GetScenes } from '../config';\r\nimport GameInstance from '../GameInstance';\r\n\r\nexport default class SceneManager\r\n{\r\n    game: Game;\r\n\r\n    scenes: Map<string, IBaseScene>;\r\n\r\n    sceneIndex: number = 0;\r\n\r\n    //  Flush the cache\r\n    flush: boolean = false;\r\n\r\n    //  How many Cameras were made dirty this frame across all Scenes?\r\n    dirtyCameras: number = 0;\r\n\r\n    //  How many Game Objects were made dirty this frame across all Scenes?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects were processed this frame across all Scenes?\r\n    totalFrame: number = 0;\r\n\r\n    renderList: any[];\r\n    \r\n    constructor ()\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        this.scenes = new Map();\r\n\r\n        this.renderList = [];\r\n\r\n        this.game.once('boot', () => this.boot());\r\n    }\r\n\r\n    boot ()\r\n    {\r\n        const scenes = GetScenes();\r\n\r\n        scenes.forEach(scene => {\r\n\r\n            this.add(scene);\r\n\r\n        });\r\n    }\r\n\r\n    add (scene: IBaseSceneConstructor)\r\n    {\r\n        const instance = new scene();\r\n\r\n        //  At this point the act of creating a new instance of the Scene\r\n        //  will have invoked the init method below, so we can now safely\r\n        //  add the Scene into our Map\r\n\r\n        if (instance.willUpdate)\r\n        {\r\n            instance.boot.call(instance);\r\n        }\r\n    }\r\n\r\n    init (scene: IBaseScene, config: string | ISceneConfig = {})\r\n    {\r\n        const size = this.scenes.size;\r\n        const sceneIndex = this.sceneIndex;\r\n        const firstScene: boolean = (size === 0);\r\n\r\n        if (typeof config === 'string')\r\n        {\r\n            scene.key = config;\r\n        }\r\n        else if (config || (!config && firstScene))\r\n        {\r\n            scene.key = GetConfigValue(config, 'key', 'scene' + sceneIndex) as string;\r\n            scene.willUpdate = GetConfigValue(config, 'willUpdate', firstScene) as boolean;\r\n            scene.willRender = GetConfigValue(config, 'willRender', firstScene) as boolean;\r\n        }\r\n\r\n        if (this.scenes.has(scene.key))\r\n        {\r\n            console.warn('Scene key already in use: ' + scene.key);\r\n        }\r\n        else\r\n        {\r\n            this.scenes.set(scene.key, scene);\r\n\r\n            this.flush = true;\r\n\r\n            this.sceneIndex++;\r\n        }\r\n    }\r\n\r\n    update (delta: number, now: number)\r\n    {\r\n        for (const scene of this.scenes.values())\r\n        {\r\n            if (scene.willUpdate)\r\n            {\r\n                scene.update.call(scene, delta, now);\r\n\r\n                scene.world.update(delta, now);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): [ any[], number, number ]\r\n    {\r\n        const renderList = this.renderList;\r\n\r\n        renderList.length = 0;\r\n\r\n        this.dirtyCameras = 0;\r\n        this.dirtyFrame = 0;\r\n        this.totalFrame = 0;\r\n\r\n        for (let scene of this.scenes.values())\r\n        {\r\n            if (scene.willRender)\r\n            {\r\n                let world = scene.world;\r\n\r\n                this.dirtyFrame += world.render(gameFrame);\r\n                this.totalFrame += world.totalFrame;\r\n\r\n                if (world.renderList.length === 0)\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                if (world.camera.dirtyRender)\r\n                {\r\n                    this.dirtyCameras++;\r\n\r\n                    world.camera.dirtyRender = false;\r\n                }\r\n    \r\n                renderList.push(world.camera);\r\n                renderList.push(world.renderList);\r\n            }\r\n        }\r\n\r\n        if (this.flush)\r\n        {\r\n            //  Invalidate the renderer cache\r\n            this.dirtyFrame++;\r\n\r\n            //  And reset\r\n            this.flush = false;\r\n        }\r\n\r\n        return [ renderList, this.dirtyFrame, this.dirtyCameras ];\r\n    }\r\n}\r\n","import { AddToDOM, DOMContentLoaded } from './dom';\r\nimport WebGLRenderer from './renderer/webgl1/WebGLRenderer';\r\nimport SceneManager from './scenes/SceneManager';\r\nimport TextureManager from './textures/TextureManager';\r\nimport EventEmitter from './events/EventEmitter';\r\nimport GameInstance from './GameInstance';\r\nimport { GetParent } from './config';\r\n\r\nexport default class Game extends EventEmitter\r\n{\r\n    VERSION: string = '4.0.0-beta1';\r\n\r\n    isPaused: boolean = false;\r\n    isBooted: boolean = false;\r\n\r\n    scenes: SceneManager;\r\n    textures: TextureManager;\r\n    renderer: WebGLRenderer;\r\n    cache: { json: Map<string, any>; csv: Map<string, any>; xml: Map<string, any>; };\r\n\r\n    private lastTick: number;\r\n    lifetime: number = 0;\r\n    elapsed: number = 0;\r\n\r\n    //  The current game frame\r\n    frame: number = 0;\r\n\r\n    constructor (...settings: { (): void }[])\r\n    {\r\n        super();\r\n\r\n        settings.forEach(setting => {\r\n\r\n            setting();\r\n\r\n        });\r\n\r\n        this.cache = {\r\n            json: new Map(),\r\n            csv: new Map(),\r\n            xml: new Map()\r\n        };\r\n\r\n        GameInstance.set(this);\r\n\r\n        DOMContentLoaded(() => this.boot());\r\n    }\r\n\r\n    boot ()\r\n    {\r\n        this.isBooted = true;\r\n        this.lastTick = Date.now();\r\n\r\n        const renderer = new WebGLRenderer();\r\n\r\n        //  Only add to the DOM if they either didn't set a Parent, or expressly set it to be non-null\r\n        //  Otherwise we'll let them add the canvas to the DOM themselves\r\n        if (GetParent())\r\n        {\r\n            AddToDOM(renderer.canvas, GetParent());\r\n        }\r\n\r\n        this.renderer = renderer;\r\n        this.textures = new TextureManager();\r\n        this.scenes = new SceneManager();\r\n\r\n        this.banner(this.VERSION);\r\n\r\n        //  Visibility API\r\n        document.addEventListener('visibilitychange', () => {\r\n\r\n            this.emit('visibilitychange', document.hidden);\r\n\r\n            if (document.hidden)\r\n            {\r\n                this.pause();\r\n            }\r\n            else\r\n            {\r\n                this.resume();\r\n            }\r\n\r\n        });\r\n\r\n        // window.addEventListener('blur', () => this.pause());\r\n        // window.addEventListener('focus', () => this.resume());\r\n\r\n        this.emit('boot');\r\n\r\n        requestAnimationFrame(() => this.step());\r\n    }\r\n\r\n    pause ()\r\n    {\r\n        this.isPaused = true;\r\n\r\n        this.emit('pause');\r\n    }\r\n\r\n    resume ()\r\n    {\r\n        this.isPaused = false;\r\n\r\n        this.lastTick = Date.now();\r\n\r\n        this.emit('resume');\r\n    }\r\n\r\n    banner (version: string)\r\n    {\r\n        console.log(\r\n            '%cPhaser v' + version + '%c https://phaser4.io',\r\n            'padding: 4px 16px; color: #fff; background: linear-gradient(#3e0081 40%, #00bcc3)',\r\n            ''\r\n        );\r\n    }\r\n\r\n    step ()\r\n    {\r\n        const now = Date.now();\r\n        const delta = now - this.lastTick;\r\n\r\n        const dt = delta / 1000;\r\n\r\n        this.lifetime += dt;\r\n        this.elapsed = dt;\r\n        this.lastTick = now;\r\n    \r\n        this.emit('step', dt, now);\r\n\r\n        const sceneManager = this.scenes;\r\n\r\n        if (!this.isPaused)\r\n        {\r\n            sceneManager.update(dt, now);\r\n        }\r\n\r\n        this.emit('update', dt, now);\r\n\r\n        //  TODO: Optimize to remove const and array creation here:\r\n        const [ renderList, dirtyFrame, dirtyCameras ] = sceneManager.render(this.frame);\r\n\r\n        this.renderer.render(renderList, dirtyFrame, dirtyCameras);\r\n\r\n        this.emit('render', dt, now);\r\n\r\n        //  The frame always advances by 1 each step (even when paused)\r\n        this.frame++;\r\n\r\n        requestAnimationFrame(() => this.step());\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        //  TODO\r\n    }\r\n}\r\n","import TransformGameObject from '../gameobjects/transformgameobject/TransformGameObject';\r\nimport WebGLRenderer from '../renderer/webgl1/WebGLRenderer';\r\nimport GameInstance from '../GameInstance';\r\n\r\nexport default class Camera extends TransformGameObject\r\n{\r\n    matrix: Float32Array;\r\n    renderer: WebGLRenderer;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.type = 'Camera';\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.renderer = game.renderer;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        if (!this.renderer)\r\n        {\r\n            return this;\r\n        }\r\n\r\n        this.dirtyRender = true;\r\n\r\n        const lt = this.localTransform;\r\n        const wt = this.worldTransform;\r\n\r\n        lt.tx = 0 - this.x;\r\n        lt.ty = 0 - this.y;\r\n\r\n        const mat = this.matrix;\r\n        const { a, b, c, d, tx, ty } = lt;\r\n\r\n        const viewportW = this.renderer.width * this.originX;\r\n        const viewportH = this.renderer.height * this.originY;\r\n\r\n        mat[0] = a;\r\n        mat[1] = b;\r\n        mat[4] = c;\r\n        mat[5] = d;\r\n\r\n        //  combines viewport translation + scrollX/Y\r\n\r\n        const worldX = (a * -viewportW) + (c * -viewportH) + (viewportW + tx);\r\n        const worldY = (b * -viewportW) + (d * -viewportH) + (viewportH + ty);\r\n\r\n        mat[12] = worldX;\r\n        mat[13] = worldY;\r\n\r\n        //  Store in worldTransform\r\n        wt.set(\r\n            a, b, c, d, worldX, worldY\r\n        );\r\n\r\n        // mat[12] = viewportW + tx; // combines translation to center of viewport + scrollX\r\n        // mat[13] = viewportH + ty; // combines translation to center of viewport + scrollY\r\n        // this.translate(-viewportW, -viewportH);\r\n        // console.log(mat);\r\n\r\n        this.bounds.x = worldX * -1;\r\n        this.bounds.y = worldY * -1;\r\n\r\n        return this;\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        this.matrix = new Float32Array([ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]);\r\n\r\n        const width = this.renderer.width;\r\n        const height = this.renderer.height;\r\n\r\n        this.setSize(width, height);\r\n        this.setBounds(0, 0, width, height);\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        super.destroy();\r\n\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n    }\r\n}\r\n","import IRectangle from '../rectangle/IRectangle';\r\n\r\nexport default function RectangleToRectangle (rectA: IRectangle, rectB: IRectangle): boolean\r\n{\r\n    if (rectA.width <= 0 || rectA.height <= 0 || rectB.width <= 0 || rectB.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return !(rectA.right < rectB.x || rectA.bottom < rectB.y || rectA.x > rectB.right || rectA.y > rectB.bottom);\r\n}\r\n","import Camera from '../camera/Camera';\r\nimport Scene from '../scenes/Scene';\r\nimport RectangleToRectangle from '../geom/intersects/RectangleToRectangle';\r\nimport IGameObject from '../gameobjects/gameobject/IGameObject';\r\nimport IContainer from '../gameobjects/container/IContainer';\r\nimport Matrix2D from '../math/matrix2d/Matrix2D';\r\n\r\nexport default class World\r\n{\r\n    scene: Scene;\r\n\r\n    children: IGameObject[];\r\n\r\n    camera: Camera;\r\n\r\n    //  How many Game Objects were made dirty this frame?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects will be rendered this frame? (are in-bounds)\r\n    totalFrame: number = 0;\r\n\r\n    //  How many Game Objects passed `willRender` this frame? (but may not have been in bounds)\r\n    visibleFrame: number = 0;\r\n\r\n    //  How many Game Objects were out of bounds this frame?\r\n    boundsFrame: number = 0;\r\n\r\n    //  A list of Game Objects that will be rendered in the next pass\r\n    private renderList: IGameObject[];\r\n\r\n    forceRefresh: boolean = false;\r\n\r\n    enableCameraCull: boolean = true;\r\n\r\n    worldTransform: Matrix2D;\r\n\r\n    constructor (scene: Scene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.children = [];\r\n        this.renderList = [];\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.camera = new Camera();\r\n    }\r\n\r\n    private scanChildren (root: IContainer | World, gameFrame: number)\r\n    {\r\n        const children = root.children;\r\n\r\n        for (let i: number = 0; i < children.length; i++)\r\n        {\r\n            this.buildRenderList(children[i], gameFrame);\r\n        }\r\n    }\r\n\r\n    private buildRenderList (root: IGameObject, gameFrame: number)\r\n    {\r\n        if (root.isRenderable())\r\n        {\r\n            const cull = this.enableCameraCull;\r\n\r\n            if (!cull || (cull && RectangleToRectangle(root.getBounds(), this.camera.bounds)))\r\n            {\r\n                this.renderList.push(root);\r\n\r\n                if (root.dirtyFrame >= gameFrame)\r\n                {\r\n                    this.dirtyFrame++;\r\n                }\r\n            }\r\n\r\n            this.visibleFrame++;\r\n        }\r\n\r\n        if (root.isParent && root.visible)\r\n        {\r\n            this.scanChildren(root as IContainer, gameFrame);\r\n        }\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): number\r\n    {\r\n        this.dirtyFrame = 0;\r\n        this.boundsFrame = 0;\r\n        this.visibleFrame = 0;\r\n        this.renderList.length = 0;\r\n\r\n        this.scanChildren(this, gameFrame);\r\n\r\n        this.totalFrame = this.renderList.length;\r\n\r\n        if (this.forceRefresh)\r\n        {\r\n            this.dirtyFrame++;\r\n            this.forceRefresh = false;\r\n        }\r\n\r\n        return this.dirtyFrame;\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        // this.removeChildren();\r\n\r\n        this.renderList = [];\r\n\r\n        this.camera.reset();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.camera.destroy();\r\n\r\n        this.camera = null;\r\n        this.renderList = null;\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport GameInstance from '../GameInstance';\r\nimport World from '../world/World';\r\nimport ISceneConfig from './ISceneConfig';\r\n\r\nexport default class Scene\r\n{\r\n    key: string;\r\n    willUpdate: boolean = false;\r\n    willRender: boolean = false;\r\n    game: Game;\r\n    world: World;\r\n\r\n    constructor (config?: string | ISceneConfig)\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        this.world = new World(this);\r\n\r\n        this.game.scenes.init(this, config);\r\n    }\r\n\r\n    boot ()\r\n    {\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.world.destroy();\r\n\r\n        this.world = null;\r\n        this.game = null;\r\n    }\r\n}\r\n","import WebGLRenderer from '../renderer/webgl1/WebGLRenderer';\r\nimport Rectangle from '../geom/rectangle/Rectangle';\r\nimport IBaseScene from '../scenes/IBaseScene';\r\n\r\nexport default class StaticCamera\r\n{\r\n    scene: IBaseScene;\r\n    matrix: Float32Array;\r\n    renderer: WebGLRenderer;\r\n\r\n    width: number;\r\n    height: number;\r\n    bounds: Rectangle;\r\n\r\n    constructor (scene: IBaseScene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.renderer = scene.game.renderer;\r\n\r\n        this.matrix = new Float32Array([ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]);\r\n\r\n        this.bounds = new Rectangle();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        const width = this.renderer.width;\r\n        const height = this.renderer.height;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.bounds.set(0, 0, width, height);\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.scene = null;\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n        this.bounds = null;\r\n    }\r\n}\r\n","import IGameObject from '../gameobjects/gameobject/IGameObject';\r\nimport StaticCamera from '../camera/StaticCamera';\r\nimport IContainer from '../gameobjects/container/IContainer';\r\nimport StaticScene from '../scenes/StaticScene';\r\nimport Matrix2D from '../math/matrix2d/Matrix2D';\r\n\r\n//  A Static World is designed specifically to have a bounds of a fixed size\r\n//  and a camera that doesn't move at all (no scrolling, rotation, etc)\r\n//  Because it has a fixed size, there is no camera culling enabled.\r\n//  Games that use this kind of world include Pacman, Bejeweled and 2048.\r\n\r\nexport default class StaticWorld\r\n{\r\n    scene: StaticScene;\r\n\r\n    children: IGameObject[];\r\n\r\n    camera: StaticCamera;\r\n\r\n    //  How many Game Objects were made dirty this frame?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects will be rendered this frame? (are in-bounds)\r\n    totalFrame: number = 0;\r\n\r\n    //  How many Game Objects passed `willRender` this frame? (but may not have been in bounds)\r\n    visibleFrame: number = 0;\r\n\r\n    //  A list of Game Objects that will be rendered in the next pass\r\n    private renderList: IGameObject[];\r\n\r\n    forceRefresh: boolean = false;\r\n\r\n    worldTransform: Matrix2D;\r\n\r\n    constructor (scene: StaticScene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.children = [];\r\n        this.renderList = [];\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.camera = new StaticCamera(scene);\r\n    }\r\n\r\n    private scanChildren (root: IContainer | StaticWorld, gameFrame: number)\r\n    {\r\n        const children = root.children;\r\n\r\n        for (let i: number = 0; i < children.length; i++)\r\n        {\r\n            this.buildRenderList(children[i], gameFrame);\r\n        }\r\n    }\r\n\r\n    private buildRenderList (root: IGameObject, gameFrame: number)\r\n    {\r\n        if (root.isRenderable())\r\n        {\r\n            this.renderList.push(root);\r\n\r\n            if (root.dirtyFrame >= gameFrame)\r\n            {\r\n                this.dirtyFrame++;\r\n            }\r\n\r\n            this.visibleFrame++;\r\n        }\r\n\r\n        if (root.isParent && root.visible)\r\n        {\r\n            this.scanChildren(root as IContainer, gameFrame);\r\n        }\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): number\r\n    {\r\n        this.dirtyFrame = 0;\r\n        this.visibleFrame = 0;\r\n        this.renderList.length = 0;\r\n\r\n        this.scanChildren(this, gameFrame);\r\n\r\n        this.totalFrame = this.renderList.length;\r\n\r\n        if (this.forceRefresh)\r\n        {\r\n            this.dirtyFrame++;\r\n            this.forceRefresh = false;\r\n        }\r\n\r\n        return this.dirtyFrame;\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        // this.removeChildren();\r\n\r\n        this.renderList = [];\r\n\r\n        this.camera.reset();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.camera.destroy();\r\n\r\n        this.camera = null;\r\n        this.renderList = null;\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport GameInstance from '../GameInstance';\r\nimport ISceneConfig from './ISceneConfig';\r\nimport StaticWorld from '../world/StaticWorld';\r\n\r\nexport default class StaticScene\r\n{\r\n    key: string;\r\n    willUpdate: boolean = false;\r\n    willRender: boolean = false;\r\n    game: Game;\r\n    world: StaticWorld;\r\n\r\n    constructor (config?: string | ISceneConfig)\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        this.world = new StaticWorld(this);\r\n\r\n        this.game.scenes.init(this, config);\r\n    }\r\n\r\n    boot ()\r\n    {\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n    }\r\n    \r\n    destroy ()\r\n    {\r\n        this.world.destroy();\r\n\r\n        this.world = null;\r\n        this.game = null;\r\n    }\r\n}\r\n","import File from './File';\r\nimport EventEmitter from '../events/EventEmitter';\r\n\r\nexport default class Loader extends EventEmitter\r\n{\r\n    baseURL: string = '';\r\n    path: string = '';\r\n    crossOrigin: string = 'anonymous';\r\n\r\n    //  -1 means load everything at once (only recommended on http/2 servers)\r\n    maxParallelDownloads: number = -1;\r\n\r\n    isLoading: boolean = false;\r\n    progress: number;\r\n\r\n    queue: Set<File>;\r\n    inflight: Set<File>;\r\n    completed: Set<File>;\r\n\r\n    onComplete: Function;\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        this.isLoading = false;\r\n\r\n        this.queue = new Set();\r\n        this.inflight = new Set();\r\n        this.completed = new Set();\r\n\r\n        this.progress = 0;\r\n    }\r\n\r\n    add (...file: File[]): this\r\n    {\r\n        file.forEach(entity => {\r\n\r\n            entity.loader = this;\r\n\r\n            this.queue.add(entity);\r\n    \r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    start (onComplete: Function): this\r\n    {\r\n        if (this.isLoading)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.completed.clear();\r\n        this.progress = 0;\r\n\r\n        if (this.queue.size > 0)\r\n        {\r\n            this.isLoading = true;\r\n\r\n            this.onComplete = onComplete;\r\n\r\n            this.emit('start');\r\n\r\n            this.nextFile();\r\n        }\r\n        else\r\n        {\r\n            this.progress = 1;\r\n\r\n            this.emit('complete');\r\n\r\n            onComplete();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    nextFile ()\r\n    {\r\n        let limit = this.queue.size;\r\n\r\n        if (this.maxParallelDownloads !== -1)\r\n        {\r\n            limit = Math.min(limit, this.maxParallelDownloads) - this.inflight.size;\r\n        }\r\n\r\n        if (limit)\r\n        {\r\n            // console.log('Batching', limit, 'files to download');\r\n\r\n            const iterator = this.queue.values();\r\n\r\n            while (limit > 0)\r\n            {\r\n                const file = iterator.next().value;\r\n\r\n                // console.log('Loader.nextFile', file.key, '=>', file.url);\r\n    \r\n                this.inflight.add(file);\r\n    \r\n                this.queue.delete(file);\r\n    \r\n                file.load().then((file: File) => this.fileComplete(file)).catch((file: File) => this.fileError(file));\r\n\r\n                limit--;\r\n            }\r\n        }\r\n        else if (this.inflight.size === 0)\r\n        {\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    stop ()\r\n    {\r\n        this.isLoading = false;\r\n\r\n        this.emit('complete', this.completed);\r\n\r\n        this.onComplete();\r\n\r\n        this.completed.clear();\r\n    }\r\n\r\n    private updateProgress (file: File)\r\n    {\r\n        this.inflight.delete(file);\r\n        this.completed.add(file);\r\n\r\n        const totalCompleted = this.completed.size;\r\n        const totalQueued = this.queue.size + this.inflight.size;\r\n\r\n        if (totalCompleted > 0)\r\n        {\r\n            this.progress = totalCompleted / (totalCompleted + totalQueued);\r\n        }\r\n\r\n        this.emit('progress', this.progress, totalCompleted, totalQueued);\r\n\r\n        this.nextFile();\r\n    }\r\n\r\n    private fileComplete (file: File)\r\n    {\r\n        this.emit('filecomplete', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    private fileError (file: File)\r\n    {\r\n        this.emit('fileerror', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    totalFilesToLoad (): number\r\n    {\r\n        return this.queue.size + this.inflight.size;\r\n    }\r\n\r\n    setBaseURL (url: string = ''): this\r\n    {\r\n        if (url !== '' && url.substr(-1) !== '/')\r\n        {\r\n            url = url.concat('/');\r\n        }\r\n\r\n        this.baseURL = url;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPath (path: string = ''): this\r\n    {\r\n        if (path !== '' && path.substr(-1) !== '/')\r\n        {\r\n            path = path.concat('/');\r\n        }\r\n\r\n        this.path = path;\r\n\r\n        return this;\r\n    }\r\n\r\n    setCORS (crossOrigin: string): this\r\n    {\r\n        this.crossOrigin = crossOrigin;\r\n\r\n        return this;\r\n    }\r\n\r\n    setMaxParallelDownloads (max: number): this\r\n    {\r\n        this.maxParallelDownloads = max;\r\n\r\n        return this;\r\n    }\r\n}\r\n"],"names":["get","set","CONST","MATH_CONST","Wrap","MathWrap","P0","P1","P2","Add","Rotate","Scale","Translate","Invert","Multiply","MultiplyScalar","MultiplyScalarAndAdd","Subtract","Zero","Between","SpriteRenderWebGL","Matrix2dEqual"],"mappings":"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"}