{"version":3,"file":"Phaser4.esm.js","sources":["../src/device/audio/canPlayM4A.ts","../src/device/audio/canPlayMP3.ts","../src/device/audio/canPlayOGG.ts","../src/device/audio/canPlayOpus.ts","../src/device/audio/canPlayWAV.ts","../src/device/audio/canPlayWebM.ts","../src/device/audio/hasAudio.ts","../src/device/audio/hasWebAudio.ts","../src/device/audio/GetAudio.ts","../src/device/audio/index.ts","../src/device/browser/isChrome.ts","../src/device/browser/isEdge.ts","../src/device/browser/isFirefox.ts","../src/device/os/isiOS.ts","../src/device/browser/isMobileSafari.ts","../src/device/browser/isMSIE.ts","../src/device/browser/isOpera.ts","../src/device/os/isWindowsPhone.ts","../src/device/browser/isSafari.ts","../src/device/browser/isSilk.ts","../src/device/browser/isTrident.ts","../src/device/browser/GetBrowser.ts","../src/device/browser/index.ts","../src/device/os/isAndroid.ts","../src/device/os/isChromeOS.ts","../src/device/os/isCordova.ts","../src/device/os/isCrosswalk.ts","../src/device/os/isEjecta.ts","../src/device/os/isNode.ts","../src/device/os/isElectron.ts","../src/device/os/isKindle.ts","../src/device/os/isLinux.ts","../src/device/os/isMacOS.ts","../src/device/os/isNodeWebkit.ts","../src/device/os/isWebApp.ts","../src/device/os/isWindows.ts","../src/device/os/GetOS.ts","../src/device/os/index.ts","../src/device/video/canPlayH264Video.ts","../src/device/video/canPlayHLSVideo.ts","../src/device/video/canPlayOGGVideo.ts","../src/device/video/canPlayVP9Video.ts","../src/device/video/canPlayWebMVideo.ts","../src/device/video/GetVideo.ts","../src/device/video/index.ts","../src/device/index.ts","../src/dom/AddToDOM.ts","../src/dom/DOMContentLoaded.ts","../src/dom/RemoveFromDOM.ts","../src/dom/index.ts","../src/geom/Rectangle.ts","../src/gameobjects/gameobject/GameObject.ts","../src/gameobjects/transformgameobject/const.ts","../src/math/matrix2d/Matrix2D.ts","../src/math/matrix2d/Copy.ts","../src/gameobjects/transformgameobject/TransformGameObject.ts","../src/gameobjects/container/Container.ts","../src/textures/Frame.ts","../src/renderer/GL.ts","../src/renderer/SetGLTextureFilterMode.ts","../src/renderer/DeleteGLTexture.ts","../src/renderer/DeleteFramebuffer.ts","../src/math/IsPowerOfTwo.ts","../src/renderer/CreateGLTexture.ts","../src/renderer/UpdateGLTexture.ts","../src/textures/Texture.ts","../src/GameInstance.ts","../src/gameobjects/sprite/SetFrame.ts","../src/gameobjects/sprite/SetTexture.ts","../src/gameobjects/sprite/Sprite.ts","../src/gameobjects/index.ts","../src/math/Between.ts","../src/math/FloatBetween.ts","../src/math/matrix2d/Add.ts","../src/math/matrix2d/CopyToContext.ts","../src/math/matrix2d/Determinant.ts","../src/math/matrix2d/Frobenius.ts","../src/math/vec2/Vec2.ts","../src/math/matrix2d/GlobalToLocal.ts","../src/math/matrix2d/Invert.ts","../src/math/matrix2d/ITRS.ts","../src/math/matrix2d/ITRSS.ts","../src/math/matrix2d/LocalToGlobal.ts","../src/math/matrix2d/Multiply.ts","../src/math/matrix2d/MultiplyScalar.ts","../src/math/matrix2d/MultiplyScalarAndAdd.ts","../src/math/matrix2d/Rotate.ts","../src/math/matrix2d/Scale.ts","../src/math/matrix2d/SetToContext.ts","../src/math/matrix2d/Skew.ts","../src/math/matrix2d/Subtract.ts","../src/math/matrix2d/Translate.ts","../src/math/matrix2d/Zero.ts","../src/math/matrix2d/index.ts","../src/math/matrix2d-funcs/Add.ts","../src/math/matrix2d-funcs/Append.ts","../src/math/matrix2d-funcs/Clone.ts","../src/math/matrix2d-funcs/Equals.ts","../src/math/matrix2d-funcs/ExactEquals.ts","../src/math/matrix2d-funcs/Rotate.ts","../src/math/matrix2d-funcs/FromRotation.ts","../src/math/matrix2d-funcs/Scale.ts","../src/math/matrix2d-funcs/FromScaling.ts","../src/math/matrix2d-funcs/Translate.ts","../src/math/matrix2d-funcs/FromTranslation.ts","../src/math/matrix2d-funcs/Identity.ts","../src/math/matrix2d-funcs/Invert.ts","../src/math/matrix2d-funcs/Multiply.ts","../src/math/matrix2d-funcs/MultiplyScalar.ts","../src/math/matrix2d-funcs/MultiplyScalarAndAdd.ts","../src/math/matrix2d-funcs/Subtract.ts","../src/math/matrix2d-funcs/Zero.ts","../src/math/matrix2d-funcs/index.ts","../src/math/vec2/index.ts","../src/math/index.ts","../src/textures/AtlasParser.ts","../src/textures/CreateCanvas.ts","../src/textures/CanvasTexture.ts","../src/textures/GridTexture.ts","../src/gameobjects/sprite/RenderWebGL.ts","../src/renderer/Ortho.ts","../src/renderer/CreateFramebuffer.ts","../src/textures/RenderTexture.ts","../src/textures/SolidColorTexture.ts","../src/textures/SpriteSheetParser.ts","../src/textures/TextureManager.ts","../src/textures/index.ts","../src/renderer/CheckShaderMaxIfStatements.ts","../src/renderer/MultiTextureQuadShader.ts","../src/renderer/WebGLRenderer.ts","../src/scenes/GetConfigValue.ts","../src/scenes/SceneManager.ts","../src/core/EventEmitter.ts","../src/Game.ts","../src/camera/Camera.ts","../src/geom/intersection/RectangleToRectangle.ts","../src/world/World.ts","../src/scenes/Scene.ts","../src/camera/StaticCamera.ts","../src/world/StaticWorld.ts","../src/scenes/StaticScene.ts","../src/loader/Loader.ts"],"sourcesContent":["export function canPlayM4A (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/x-m4a') !== '') || (audioElement.canPlayType('audio/aac') !== ''));\r\n}\r\n","export function canPlayMP3 (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/mpeg; codecs=\"mp3\"') !== '');\r\n}\r\n","export function canPlayOGG (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/ogg; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function canPlayOpus (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/ogg; codecs=\"opus\"') !== '') || (audioElement.canPlayType('audio/webm; codecs=\"opus\"') !== ''));\r\n}\r\n","export function canPlayWAV (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/wav; codecs=\"1\"') !== '');\r\n}\r\n","export function canPlayWebM (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/webm; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function hasAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('Audio'));\r\n}\r\n","export function hasWebAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('AudioContext') || window.hasOwnProperty('webkitAudioContext'));\r\n}\r\n","import { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\nimport { IDeviceAudioResult } from './IDeviceAudioResult';\r\n\r\nexport function GetAudio (): IDeviceAudioResult\r\n{\r\n    const result: IDeviceAudioResult = {\r\n        audioData: hasAudio(),\r\n        m4a: false,\r\n        mp3: false,\r\n        ogg: false,\r\n        opus: false,\r\n        wav: false,\r\n        webAudio: hasWebAudio(),\r\n        webm: false\r\n    };\r\n\r\n    if (result.audioData)\r\n    {\r\n        const audioElement: HTMLAudioElement = document.createElement('audio');\r\n\r\n        // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n        try\r\n        {\r\n            const canPlay: boolean = !!audioElement.canPlayType;\r\n\r\n            if (canPlay)\r\n            {\r\n                result.m4a = canPlayM4A(audioElement);\r\n                result.mp3 = canPlayMP3(audioElement);\r\n                result.ogg = canPlayOGG(audioElement);\r\n                result.opus = canPlayOpus(audioElement);\r\n                result.wav = canPlayWAV(audioElement);\r\n                result.webm = canPlayWebM(audioElement);\r\n            }\r\n        }\r\n        catch (error)\r\n        {\r\n            result.audioData = false;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Audio\r\n\r\nimport { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { GetAudio } from './GetAudio';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\n\r\nexport {\r\n    canPlayM4A,\r\n    canPlayMP3,\r\n    canPlayOGG,\r\n    canPlayOpus,\r\n    canPlayWAV,\r\n    canPlayWebM,\r\n    GetAudio,\r\n    hasAudio,\r\n    hasWebAudio\r\n};\r\n","export function isChrome (): { chrome: boolean, chromeVersion: number }\r\n{\r\n    const chrome = (/Chrome\\/(\\d+)/).test(navigator.userAgent);\r\n    const chromeVersion = (chrome) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        chrome,\r\n        chromeVersion\r\n    };\r\n}\r\n","export function isEdge (): { edge: boolean }\r\n{\r\n    const edge = (/Edge\\/\\d+/).test(navigator.userAgent);\r\n\r\n    return {\r\n        edge\r\n    };\r\n}\r\n","export function isFirefox (): { firefox: boolean, firefoxVersion: number }\r\n{\r\n    const firefox = (/Firefox\\D+(\\d+)/).test(navigator.userAgent);\r\n    const firefoxVersion = (firefox) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        firefox,\r\n        firefoxVersion\r\n    };\r\n}\r\n","interface IGetIOSResult {\r\n    iOS: boolean;\r\n    iOSVersion: number;\r\n    iPhone: boolean;\r\n    iPad: boolean;\r\n}\r\n\r\nexport function isiOS (): IGetIOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const result: IGetIOSResult = {\r\n        iOS: false,\r\n        iOSVersion: 0,\r\n        iPhone: false,\r\n        iPad: false\r\n    };\r\n\r\n    if (/iP[ao]d|iPhone/i.test(ua))\r\n    {\r\n        (navigator.appVersion).match(/OS (\\d+)/);\r\n\r\n        result.iOS = true;\r\n        result.iOSVersion = parseInt(RegExp.$1, 10);\r\n        result.iPhone = (ua.toLowerCase().indexOf('iphone') !== -1);\r\n        result.iPad = (ua.toLowerCase().indexOf('ipad') !== -1);\r\n    }\r\n\r\n    return result;\r\n}\r\n","import { isiOS } from '../os/isiOS';\r\n\r\nexport function isMobileSafari (): { mobileSafari: boolean }\r\n{\r\n    const { iOS } = isiOS();\r\n\r\n    const mobileSafari = ((/AppleWebKit/).test(navigator.userAgent) && iOS);\r\n\r\n    return {\r\n        mobileSafari\r\n    };\r\n}\r\n","export function isMSIE (): { ie: boolean, ieVersion: number }\r\n{\r\n    const ie = (/MSIE (\\d+\\.\\d+);/).test(navigator.userAgent);\r\n    const ieVersion = (ie) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        ie,\r\n        ieVersion\r\n    };\r\n}\r\n","export function isOpera (): { opera: boolean }\r\n{\r\n    const opera = (/Opera/).test(navigator.userAgent);\r\n\r\n    return {\r\n        opera\r\n    };\r\n}\r\n","export function isWindowsPhone (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Windows Phone/i.test(ua) || (/IEMobile/i).test(ua));\r\n}\r\n","import { isWindowsPhone } from '../os/isWindowsPhone';\r\n\r\nexport function isSafari (): { safari: boolean, safariVersion: number }\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const safari = ((/Safari/).test(ua) && !isWindowsPhone());\r\n    const safariVersion = ((/Version\\/(\\d+)\\./).test(ua)) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        safari,\r\n        safariVersion\r\n    };\r\n}\r\n","export function isSilk (): { silk: boolean }\r\n{\r\n    const silk = (/Silk/).test(navigator.userAgent);\r\n\r\n    return {\r\n        silk\r\n    };\r\n}\r\n","export function isTrident (): { trident: boolean, tridentVersion: number, tridentIEVersion: number }\r\n{\r\n    const trident = (/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/).test(navigator.userAgent);\r\n    const tridentVersion = (trident) ? parseInt(RegExp.$1, 10) : 0;\r\n    const tridentIEVersion = (trident) ? parseInt(RegExp.$3, 10) : 0;\r\n\r\n    return {\r\n        trident,\r\n        tridentVersion,\r\n        tridentIEVersion\r\n    };\r\n}\r\n","import { IDeviceBrowserResult } from './IDeviceBrowserResult';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport function GetBrowser (): IDeviceBrowserResult\r\n{\r\n    const { chrome, chromeVersion } = isChrome();\r\n    const { edge } = isEdge();\r\n    const { firefox, firefoxVersion } = isFirefox();\r\n    let { ie, ieVersion } = isMSIE();\r\n    const { mobileSafari } = isMobileSafari();\r\n    const { opera } = isOpera();\r\n    const { safari, safariVersion } = isSafari();\r\n    const { silk } = isSilk();\r\n    const { trident, tridentVersion, tridentIEVersion } = isTrident();\r\n\r\n    if (trident)\r\n    {\r\n        ie = true;\r\n        ieVersion = tridentIEVersion;\r\n    }\r\n\r\n    const result: IDeviceBrowserResult = {\r\n        chrome,\r\n        chromeVersion,\r\n        edge,\r\n        firefox,\r\n        firefoxVersion,\r\n        ie,\r\n        ieVersion,\r\n        mobileSafari,\r\n        opera,\r\n        safari,\r\n        safariVersion,\r\n        silk,\r\n        trident,\r\n        tridentVersion\r\n    };\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Browser\r\n\r\nimport { GetBrowser } from './GetBrowser';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport {\r\n    GetBrowser,\r\n    isChrome,\r\n    isEdge,\r\n    isFirefox,\r\n    isMobileSafari,\r\n    isMSIE,\r\n    isOpera,\r\n    isSafari,\r\n    isSilk,\r\n    isTrident\r\n};\r\n","export function isAndroid (): boolean\r\n{\r\n    return (/Android/.test(navigator.userAgent));\r\n}\r\n","export function isChromeOS (): boolean\r\n{\r\n    return (/CrOS/.test(navigator.userAgent));\r\n}\r\n","export function isCordova (): boolean\r\n{\r\n    return (window.hasOwnProperty('cordova'));\r\n}\r\n","export function isCrosswalk (): boolean\r\n{\r\n    return ((/Crosswalk/).test(navigator.userAgent));\r\n}\r\n","export function isEjecta (): boolean\r\n{\r\n    return (window.hasOwnProperty('ejecta'));\r\n}\r\n","export function isNode (): boolean\r\n{\r\n    return (typeof process !== 'undefined' && typeof process.versions === 'object' && process.versions.hasOwnProperty('node'));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isElectron (): boolean\r\n{\r\n    return (isNode() && !!process.versions['electron']);\r\n}\r\n","export function isKindle (): boolean\r\n{\r\n    // This will NOT detect early generations of Kindle Fire, I think there is no reliable way...\r\n    // E.g. \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-us; Silk/1.1.0-80) AppleWebKit/533.16 (KHTML, like Gecko) Version/5.0 Safari/533.16 Silk-Accelerated=true\"\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return ((/Kindle/.test(ua) || (/\\bKF[A-Z][A-Z]+/).test(ua) || (/Silk.*Mobile Safari/).test(ua)));\r\n}\r\n","export function isLinux (): boolean\r\n{\r\n    return (/Linux/.test(navigator.userAgent));\r\n}\r\n","export function isMacOS (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Mac OS/.test(ua) && !(/like Mac OS/.test(ua)));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isNodeWebkit (): boolean\r\n{\r\n    return (isNode() && !!process.versions['node-webkit']);\r\n}\r\n","export function isWebApp (): boolean\r\n{\r\n    return (navigator.hasOwnProperty('standalone'));\r\n}\r\n","export function isWindows (): boolean\r\n{\r\n    return (/Windows/.test(navigator.userAgent));\r\n}\r\n","import { IDeviceOSResult } from './IDeviceOSResult';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport function GetOS (): IDeviceOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const { iOS, iOSVersion, iPad, iPhone } = isiOS();\r\n\r\n    const result: IDeviceOSResult = {\r\n        android: isAndroid(),\r\n        chromeOS: isChromeOS(),\r\n        cordova: isCordova(),\r\n        crosswalk: isCrosswalk(),\r\n        desktop: false,\r\n        ejecta: isEjecta(),\r\n        electron: isElectron(),\r\n        iOS,\r\n        iOSVersion,\r\n        iPad,\r\n        iPhone,\r\n        kindle: isKindle(),\r\n        linux: isLinux(),\r\n        macOS: isMacOS(),\r\n        node: isNode(),\r\n        nodeWebkit: isNodeWebkit(),\r\n        pixelRatio: 1,\r\n        webApp: isWebApp(),\r\n        windows: isWindows(),\r\n        windowsPhone: isWindowsPhone()\r\n    };\r\n\r\n    if (result.windowsPhone)\r\n    {\r\n        result.android = false;\r\n        result.iOS = false;\r\n        result.macOS = false;\r\n        result.windows = true;\r\n    }\r\n\r\n    const silk: boolean = (/Silk/).test(ua);\r\n\r\n    if (result.windows || result.macOS || (result.linux && !silk) || result.chromeOS)\r\n    {\r\n        result.desktop = true;\r\n    }\r\n\r\n    //  Windows Phone / Table reset\r\n    if (result.windowsPhone || ((/Windows NT/i.test(ua)) && (/Touch/i.test(ua))))\r\n    {\r\n        result.desktop = false;\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.OS\r\n\r\nimport { GetOS } from './GetOS';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport {\r\n    GetOS,\r\n    isAndroid,\r\n    isChromeOS,\r\n    isCordova,\r\n    isCrosswalk,\r\n    isEjecta,\r\n    isElectron,\r\n    isiOS,\r\n    isKindle,\r\n    isLinux,\r\n    isMacOS,\r\n    isNode,\r\n    isNodeWebkit,\r\n    isWebApp,\r\n    isWindows,\r\n    isWindowsPhone\r\n};\r\n","export function canPlayH264Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayHLSVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('application/x-mpegURL; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayOGGVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/ogg; codecs=\"theora\"') !== '');\r\n}\r\n","export function canPlayVP9Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp9\"') !== '');\r\n}\r\n","export function canPlayWebMVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp8, vorbis\"') !== '');\r\n}\r\n","import { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { IDeviceVideoResult } from './IDeviceVideoResult';\r\n\r\nexport function GetVideo (): IDeviceVideoResult\r\n{\r\n    const result: IDeviceVideoResult = {\r\n        h264Video: false,\r\n        hlsVideo: false,\r\n        mp4Video: false,\r\n        oggVideo: false,\r\n        vp9Video: false,\r\n        webmVideo: false\r\n    };\r\n\r\n    const videoElement: HTMLVideoElement = document.createElement('video');\r\n\r\n    // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n    try\r\n    {\r\n        const canPlay: boolean = !!videoElement.canPlayType;\r\n\r\n        if (canPlay)\r\n        {\r\n            result.h264Video = canPlayH264Video(videoElement);\r\n            result.hlsVideo = canPlayHLSVideo(videoElement);\r\n            result.oggVideo = canPlayOGGVideo(videoElement);\r\n            result.vp9Video = canPlayVP9Video(videoElement);\r\n            result.webmVideo = canPlayWebMVideo(videoElement);\r\n        }\r\n    }\r\n    catch (error)\r\n    {\r\n        //  Nothing to do here\r\n    }\r\n\r\n    //  Duplicate the result for Phaser 3 compatibility\r\n    result.mp4Video = result.hlsVideo;\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Video\r\n\r\nimport { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { GetVideo } from './GetVideo';\r\n\r\nexport {\r\n    canPlayH264Video,\r\n    canPlayHLSVideo,\r\n    canPlayOGGVideo,\r\n    canPlayVP9Video,\r\n    canPlayWebMVideo,\r\n    GetVideo\r\n};\r\n","//  @namespace Phaser.Device\r\n\r\nimport * as Audio from './audio';\r\nimport * as Browser from './browser';\r\nimport * as OS from './os';\r\nimport * as Video from './video';\r\n\r\nexport default {\r\n    Audio,\r\n    Browser,\r\n    OS,\r\n    Video\r\n};\r\n\r\nexport * from './audio';\r\nexport * from './browser';\r\nexport * from './os';\r\nexport * from './video';\r\n","export default function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\r\n{\r\n    let target: HTMLElement;\r\n\r\n    if (parent)\r\n    {\r\n        if (typeof parent === 'string')\r\n        {\r\n            //  Hopefully an element ID\r\n            target = document.getElementById(parent);\r\n        }\r\n        else if (typeof parent === 'object' && parent.nodeType === 1)\r\n        {\r\n            //  Quick test for a HTMLElement\r\n            target = parent;\r\n        }\r\n    }\r\n    else if (element.parentElement)\r\n    {\r\n        return element;\r\n    }\r\n\r\n    //  Fallback, covers an invalid ID and a non HTMLElement object\r\n    if (!target)\r\n    {\r\n        target = document.body;\r\n    }\r\n\r\n    target.appendChild(element);\r\n\r\n    return element;\r\n}\r\n","export default function DOMContentLoaded (callback: () => void)\r\n{\r\n    const readyState = document.readyState;\r\n\r\n    if (readyState === 'complete' || readyState === 'interactive')\r\n    {\r\n        callback();\r\n\r\n        return;\r\n    }\r\n\r\n    const check = () =>\r\n    {\r\n        document.removeEventListener('deviceready', check, true);\r\n        document.removeEventListener('DOMContentLoaded', check, true);\r\n        window.removeEventListener('load', check, true);\r\n\r\n        callback();\r\n    };\r\n\r\n    if (!document.body)\r\n    {\r\n        window.setTimeout(check, 20);\r\n    }\r\n    else if (window.hasOwnProperty('cordova'))\r\n    {\r\n        document.addEventListener('deviceready', check, true);\r\n    }\r\n    else\r\n    {\r\n        document.addEventListener('DOMContentLoaded', check, true);\r\n        window.addEventListener('load', check, true);\r\n    }\r\n}\r\n","export default function RemoveFromDOM (element: HTMLElement)\r\n{\r\n    if (element.parentNode)\r\n    {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n","//  @namespace Phaser.DOM\r\n\r\nimport AddToDOM from './AddToDOM';\r\nimport DOMContentLoaded from './DOMContentLoaded';\r\nimport RemoveFromDOM from './RemoveFromDOM';\r\n\r\nexport {\r\n    AddToDOM,\r\n    DOMContentLoaded,\r\n    RemoveFromDOM\r\n};\r\n","export default class Rectangle\r\n{\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\r\n    {\r\n        this.set(x, y, width, height);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0): Rectangle\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        if (value <= this.x)\r\n        {\r\n            this.width = 0;\r\n        }\r\n        else\r\n        {\r\n            this.width = value - this.x;\r\n        }\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        if (value <= this.y)\r\n        {\r\n            this.height = 0;\r\n        }\r\n        else\r\n        {\r\n            this.height = value - this.y;\r\n        }\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return this.y + this.height;\r\n    }\r\n\r\n    contains (px: number, py: number): boolean\r\n    {\r\n        const { x, y, width, height } = this;\r\n\r\n        if (width <= 0 || height <= 0)\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        return (x <= px && x + width >= px && y <= py && y + height >= py);\r\n    }\r\n}","import IInteractiveArea from '../../input/IInteractiveArea';\r\nimport Rectangle from '../../geom/Rectangle';\r\nimport IParent from '../container/IParent';\r\nimport IBaseScene from '../../scenes/IBaseScene';\r\n\r\n//  The Base Game Object which all Scene entites extend\r\n\r\nexport default class GameObject\r\n{\r\n    scene: IBaseScene;\r\n    name: string = '';\r\n    type: string = 'GameObject';\r\n\r\n    willRender: boolean = true;\r\n    willUpdate: boolean = true;\r\n\r\n    dirtyRender: boolean = true;\r\n    dirtyUpdate: boolean = true;\r\n    dirtyFrame: number = 0;\r\n\r\n    parent: IParent;\r\n    isParent: boolean = false;\r\n\r\n    visible: boolean = true;\r\n\r\n    inputEnabled: boolean = false;\r\n    inputEnabledChildren: boolean = true;\r\n    inputHitArea: IInteractiveArea;\r\n\r\n    fixBounds: boolean = false;\r\n    bounds: Rectangle = new Rectangle();\r\n\r\n    constructor ()\r\n    {\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender);\r\n    }\r\n\r\n    setDirtyRender (setFrame: boolean = true)\r\n    {\r\n        this.dirtyRender = true;\r\n\r\n        const scene = this.scene;\r\n\r\n        if (setFrame && scene)\r\n        {\r\n            this.dirtyFrame = scene.game.frame;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setDirtyUpdate ()\r\n    {\r\n        this.dirtyUpdate = true;\r\n\r\n        return this;\r\n    }\r\n\r\n    getBounds (includeChildren: boolean = false): Rectangle\r\n    {\r\n        return this.bounds;\r\n    }\r\n\r\n    setBounds (x: number, y: number, width: number, height: number)\r\n    {\r\n        this.bounds.set(x, y, width, height);\r\n\r\n        return this;\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        return this;\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    destroy (reparentChildren?: IParent)\r\n    {\r\n        this.scene = null;\r\n    }\r\n}\r\n","export default {\r\n    POSITION_X: 0,\r\n    POSITION_Y: 1,\r\n    ORIGIN_X: 2,\r\n    ORIGIN_Y: 3,\r\n    SKEW_X: 4,\r\n    SKEW_Y: 5,\r\n    SCALE_X: 6,\r\n    SCALE_Y: 7,\r\n    ROTATION: 8,\r\n    ANGLE: 9\r\n}\r\n","//  A Matrix2D contains six elements in a short-form of the 3x3 Matrix, with the last column ignored.\r\n\r\n//  |----|----|----|\r\n//  | a  | b  | 0  |\r\n//  |----|----|----|\r\n//  | c  | d  | 0  |\r\n//  |----|----|----|\r\n//  | tx | ty | 1  |\r\n//  |----|----|----|\r\n\r\nexport default class Matrix2D\r\n{\r\n    a: number;\r\n    b: number;\r\n    c: number;\r\n    d: number;\r\n    tx: number;\r\n    ty: number;\r\n\r\n    /**\r\n     * Creates an instance of Matrix2D.\r\n     * \r\n     * @param {number} [a=1] - X scale.\r\n     * @param {number} [b=0] - X skew.\r\n     * @param {number} [c=0] - Y skew.\r\n     * @param {number} [d=1] - Y scale.\r\n     * @param {number} [tx=0] - X translation\r\n     * @param {number} [ty=0] - Y translation\r\n     * @memberof Matrix2D\r\n     */\r\n    constructor (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0)\r\n    {\r\n        this.set(a, b, c, d, tx, ty);\r\n    }\r\n\r\n    set (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0): Matrix2D\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n\r\n        return this;\r\n    }\r\n\r\n    identity (): Matrix2D\r\n    {\r\n        return this.set();\r\n    }\r\n\r\n    toArray (): number[]\r\n    {\r\n        return [ this.a, this.b, this.c, this.d, this.tx, this.ty ];\r\n    }\r\n\r\n    fromArray (src: number[]): Matrix2D\r\n    {\r\n        return this.set(src[0], src[1], src[2], src[3], src[4], src[5]);\r\n    }\r\n\r\n    [Symbol.iterator] ()\r\n    {\r\n        const data = this.toArray();\r\n\r\n        return data[Symbol.iterator]();\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Copy the values from the src Matrix to the target Matrix and return the target Matrix.\r\n\r\nexport default function Copy (src: IMatrix2D, target: IMatrix2D): IMatrix2D\r\n{\r\n    return target.set(src.a, src.b, src.c, src.d, src.tx, src.ty);\r\n}\r\n","import GameObject from '../gameobject/GameObject';\r\nimport CONST from './const';\r\nimport Matrix2D from '../../math/matrix2d/Matrix2D';\r\nimport Copy from '../../math/matrix2d/Copy';\r\n\r\nexport default class TransformGameObject extends GameObject\r\n{\r\n    private transformBuffer: ArrayBuffer;\r\n\r\n    transformData: Float32Array;\r\n    localTransform: Matrix2D;\r\n    worldTransform: Matrix2D;\r\n\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super();\r\n\r\n        const byte = Float32Array.BYTES_PER_ELEMENT;\r\n\r\n        const buffer = new ArrayBuffer(9 * byte);\r\n\r\n        this.transformBuffer = buffer;\r\n\r\n        /**\r\n         * transformData:\r\n         * 0 = position x\r\n         * 1 = position y\r\n         * 2 = origin x\r\n         * 3 = origin y\r\n         * 4 = skew x\r\n         * 5 = skew y\r\n         * 6 = scale x\r\n         * 7 = scale y\r\n         * 8 = rotation\r\n         * 9 = angle\r\n         */\r\n        this.transformData = new Float32Array(buffer, 0, 10);\r\n        this.localTransform = new Matrix2D();\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.transformData.set([ x, y, 0.5, 0.5, 0, 0, 1, 1, 0, 0 ]);\r\n\r\n        this.width = 0;\r\n        this.height = 0;\r\n\r\n        this.updateCache();\r\n    }\r\n\r\n    updateCache ()\r\n    {\r\n        const transform = this.localTransform;\r\n\r\n        const { rotation, skewX, skewY, scaleX, scaleY, x, y } = this;\r\n\r\n        transform.set(\r\n            Math.cos(rotation + skewY) * scaleX,\r\n            Math.sin(rotation + skewY) * scaleX,\r\n            -Math.sin(rotation - skewX) * scaleY,\r\n            Math.cos(rotation - skewX) * scaleY,\r\n            x,\r\n            y\r\n        );\r\n\r\n        return this.updateTransform();\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        this.setDirtyRender();\r\n\r\n        const parent = this.parent;\r\n\r\n        const lt = this.localTransform;\r\n        const wt = this.worldTransform;\r\n\r\n        lt.tx = this.x;\r\n        lt.ty = this.y;\r\n\r\n        if (!parent)\r\n        {\r\n            Copy(lt, wt);\r\n\r\n            return this;\r\n        }\r\n\r\n        const { a, b, c, d, tx, ty } = lt;\r\n        const { a: pa, b: pb, c: pc, d: pd, tx: ptx, ty: pty } = parent.worldTransform;\r\n\r\n        wt.set(\r\n            a  * pa + b  * pc,\r\n            a  * pb + b  * pd,\r\n            c  * pa + d  * pc,\r\n            c  * pb + d  * pd,\r\n            tx * pa + ty * pc + ptx,\r\n            tx * pb + ty * pd + pty\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    setOrigin (originX: number, originY: number = originX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.ORIGIN_X] = originX;\r\n        data[CONST.ORIGIN_Y] = originY;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPosition (x: number, y: number = x)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.POSITION_X] = x;\r\n        data[CONST.POSITION_Y] = y;\r\n\r\n        return this.updateTransform();\r\n    }\r\n\r\n    setRotation (rotation: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (rotation !== data[CONST.ROTATION])\r\n        {\r\n            data[CONST.ROTATION] = rotation;\r\n\r\n            this.updateCache();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setScale (scaleX: number, scaleY: number = scaleX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.SCALE_X] = scaleX;\r\n        data[CONST.SCALE_Y] = scaleY;\r\n\r\n        return this.updateCache();\r\n    }\r\n\r\n    setSkew (skewX: number, skewY: number = skewX)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        data[CONST.SKEW_X] = skewX;\r\n        data[CONST.SKEW_Y] = skewY;\r\n\r\n        return this.updateCache();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        super.destroy();\r\n\r\n        this.localTransform = null;\r\n        this.worldTransform = null;\r\n        this.transformBuffer = null;\r\n        this.transformData = null;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        this.transformData[CONST.POSITION_X] = value;\r\n\r\n        this.updateTransform();\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this.transformData[CONST.POSITION_X];\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        this.transformData[CONST.POSITION_Y] = value;\r\n\r\n        this.updateTransform();\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this.transformData[CONST.POSITION_Y];\r\n    }\r\n\r\n    get originX (): number\r\n    {\r\n        return this.transformData[CONST.ORIGIN_X];\r\n    }\r\n\r\n    set originX (value: number)\r\n    {\r\n        this.transformData[CONST.ORIGIN_X] = value;\r\n    }\r\n\r\n    get originY (): number\r\n    {\r\n        return this.transformData[CONST.ORIGIN_Y];\r\n    }\r\n\r\n    set originY (value: number)\r\n    {\r\n        this.transformData[CONST.ORIGIN_Y] = value;\r\n    }\r\n\r\n    set skewX (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SKEW_X])\r\n        {\r\n            data[CONST.SKEW_X] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get skewX (): number\r\n    {\r\n        return this.transformData[CONST.SKEW_X];\r\n    }\r\n\r\n    set skewY (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SKEW_Y])\r\n        {\r\n            data[CONST.SKEW_Y] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get skewY (): number\r\n    {\r\n        return this.transformData[CONST.SKEW_Y];\r\n    }\r\n\r\n    set scaleX (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SCALE_X])\r\n        {\r\n            data[CONST.SCALE_X] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get scaleX (): number\r\n    {\r\n        return this.transformData[CONST.SCALE_X];\r\n    }\r\n\r\n    set scaleY (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.SCALE_Y])\r\n        {\r\n            data[CONST.SCALE_Y] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get scaleY (): number\r\n    {\r\n        return this.transformData[CONST.SCALE_Y];\r\n    }\r\n\r\n    set rotation (value: number)\r\n    {\r\n        const data = this.transformData;\r\n\r\n        if (value !== data[CONST.ROTATION])\r\n        {\r\n            data[CONST.ROTATION] = value;\r\n\r\n            this.updateCache();\r\n        }\r\n    }\r\n\r\n    get rotation (): number\r\n    {\r\n        return this.transformData[CONST.ROTATION];\r\n    }\r\n}\r\n","import IGameObject from '../gameobject/IGameObject';\r\nimport TransformGameObject from '../transformgameobject/TransformGameObject';\r\nimport IParent from './IParent';\r\n\r\nexport default class Container extends TransformGameObject\r\n{\r\n    children: IGameObject[];\r\n\r\n    private _alpha: number = 1;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.children = [];\r\n        this.isParent = true;\r\n        this.type = 'Container';\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy (reparentChildren?: IParent)\r\n    {\r\n        // if (reparentChildren)\r\n        // {\r\n        //     this.reparentChildren(reparentChildren);\r\n        // }\r\n        // else\r\n        // {\r\n        //     this.destroyChildren();\r\n        // }\r\n\r\n        this.children = null;\r\n\r\n        super.destroy();\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n\r\n    get alpha (): number\r\n    {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha (value: number)\r\n    {\r\n        if (value !== this._alpha)\r\n        {\r\n            this._alpha = value;\r\n\r\n            this.setDirtyRender();\r\n        }\r\n    }\r\n}\r\n","import Texture from './Texture';\r\n\r\nexport default class Frame\r\n{\r\n    texture: Texture;\r\n    key: string | number;\r\n\r\n    //  This is the actual area of the texture to draw to canvas / webgl, including any extruded data.\r\n    //  This is the same as the 'trimmed' + 'extruded' area from an atlas.\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    trimmed: boolean = false;\r\n\r\n    //  Original size of the image before being trimmed or added to an atlas (which can add extrude data to it).\r\n    sourceSizeWidth: number;\r\n    sourceSizeHeight: number;\r\n\r\n    //  The size of the image having been trimmed, before being added to the atlas (i.e. doesn't have any extrusion values in it)\r\n    spriteSourceSizeX: number;\r\n    spriteSourceSizeY: number;\r\n    spriteSourceSizeWidth: number;\r\n    spriteSourceSizeHeight: number;\r\n\r\n    pivot: { x: number, y: number };\r\n\r\n    u0: number;\r\n    v0: number;\r\n    u1: number;\r\n    v1: number;\r\n\r\n    constructor (texture: Texture, key: string | number, x: number, y: number, width: number, height: number)\r\n    {\r\n        this.texture = texture;\r\n        this.key = key;\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setPivot (x: number, y: number)\r\n    {\r\n        this.pivot = { x, y };\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setSourceSize (width: number, height: number)\r\n    {\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n    }\r\n\r\n    setTrim (width: number, height: number, x: number, y: number, w: number, h: number)\r\n    {\r\n        this.trimmed = true;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.spriteSourceSizeX = x;\r\n        this.spriteSourceSizeY = y;\r\n        this.spriteSourceSizeWidth = w;\r\n        this.spriteSourceSizeHeight = h;\r\n    }\r\n\r\n    updateUVs ()\r\n    {\r\n        const { x, y, width, height } = this;\r\n\r\n        const baseTextureWidth = this.texture.width;\r\n        const baseTextureHeight = this.texture.height;\r\n\r\n        this.u0 = x / baseTextureWidth;\r\n        this.v0 = y / baseTextureHeight;\r\n\r\n        this.u1 = (x + width) / baseTextureWidth;\r\n        this.v1 = (y + height) / baseTextureHeight;\r\n    }\r\n}\r\n","let gl: WebGLRenderingContext;\r\n\r\nfunction get ()\r\n{\r\n    return gl;\r\n}\r\n\r\nfunction set (context: WebGLRenderingContext)\r\n{\r\n    gl = context;\r\n}\r\n\r\nexport default {\r\n    get,\r\n    set\r\n}\r\n","import GL from '../renderer/GL';\r\n\r\nexport default function SetGLTextureFilterMode (texture: WebGLTexture, linear: boolean = true)\r\n{\r\n    const gl = GL.get();\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\r\n}\r\n","import GL from '../renderer/GL';\r\n\r\nexport default function DeleteGLTexture (texture: WebGLTexture)\r\n{\r\n    const gl = GL.get();\r\n\r\n    if (gl.isTexture(texture))\r\n    {\r\n        gl.deleteTexture(texture);\r\n    }\r\n}\r\n","import GL from '../renderer/GL';\r\n\r\nexport default function DeleteFramebuffer (framebuffer: WebGLFramebuffer)\r\n{\r\n    const gl = GL.get();\r\n\r\n    if (gl.isFramebuffer(framebuffer))\r\n    {\r\n        gl.deleteFramebuffer(framebuffer);\r\n    }\r\n}\r\n","export default function IsPowerOfTwo (width: number, height: number): boolean\r\n{\r\n    if (width < 1 || height < 1)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return ((width & (width - 1)) === 0) && ((height & (height - 1)) === 0);\r\n}\r\n","import GL from '../renderer/GL';\r\nimport IsPowerOfTwo from '../math/IsPowerOfTwo';\r\n\r\nexport default function CreateGLTexture (source?: TexImageSource, width?: number, height?: number, potClamp: boolean = true, linear: boolean = true): WebGLTexture\r\n{\r\n    const gl = GL.get();\r\n    const glTexture: WebGLTexture = gl.createTexture();\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, glTexture);\r\n\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\r\n\r\n    if (source)\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n\r\n        width = source.width;\r\n        height = source.height;\r\n    }\r\n    else\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    }\r\n\r\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\r\n\r\n    const pot = (source && IsPowerOfTwo(width, height));\r\n\r\n    const wrap = (pot && potClamp) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\r\n\r\n    if (pot)\r\n    {\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n\r\n    return glTexture;\r\n}\r\n","import GL from '../renderer/GL';\r\n\r\nexport default function UpdateGLTexture (source: TexImageSource, dstTexture: WebGLTexture, flipY: boolean = false)\r\n{\r\n    const gl = GL.get();\r\n    const width = source.width;\r\n    const height = source.height;\r\n\r\n    if (width > 0 && height > 0)\r\n    {\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, dstTexture);\r\n\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n    }\r\n}\r\n","import Frame from './Frame';\r\nimport SetGLTextureFilterMode from '../renderer/SetGLTextureFilterMode';\r\nimport DeleteGLTexture from '../renderer/DeleteGLTexture';\r\nimport DeleteFramebuffer from '../renderer/DeleteFramebuffer';\r\nimport CreateGLTexture from '../renderer/CreateGLTexture';\r\nimport UpdateGLTexture from '../renderer/UpdateGLTexture';\r\n\r\nexport default class Texture\r\n{\r\n    //  Unique identifier of this Texture, if stored in the Texture Manager\r\n    key: string = '';\r\n\r\n    width: number;\r\n    height: number;\r\n\r\n    image: TexImageSource;\r\n\r\n    glTexture: WebGLTexture;\r\n    glIndex: number = 0;\r\n    glIndexCounter: number = -1;\r\n    glFramebuffer: WebGLFramebuffer;\r\n\r\n    firstFrame: Frame;\r\n\r\n    frames: Map<string | number, Frame>;\r\n\r\n    data: any;\r\n\r\n    constructor (image?: TexImageSource, width?: number, height?: number)\r\n    {\r\n        if (image)\r\n        {\r\n            width = image.width;\r\n            height = image.height;\r\n        }\r\n\r\n        this.image = image;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.frames = new Map();\r\n\r\n        this.data = {};\r\n\r\n        this.add('__BASE', 0, 0, width, height);\r\n    }\r\n\r\n    add (key: string | number, x: number, y: number, width: number, height: number): Frame\r\n    {\r\n        if (this.frames.has(key))\r\n        {\r\n            return null;\r\n        }\r\n\r\n        let frame = new Frame(this, key, x, y, width, height);\r\n\r\n        this.frames.set(key, frame);\r\n\r\n        if (!this.firstFrame || this.firstFrame.key === '__BASE')\r\n        {\r\n            this.firstFrame = frame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    get (key?: string | number | Frame)\r\n    {\r\n        //  null, undefined, empty string, zero\r\n        if (!key)\r\n        {\r\n            return this.firstFrame;\r\n        }\r\n\r\n        if (key instanceof Frame)\r\n        {\r\n            key = key.key;\r\n        }\r\n\r\n        let frame: Frame = this.frames.get(key);\r\n\r\n        if (!frame)\r\n        {\r\n            console.warn('Texture.frame missing: ' + key);\r\n\r\n            frame = this.firstFrame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    getFrames (frames: string[] | number[]): Frame[]\r\n    {\r\n        const output: Frame[] = [];\r\n\r\n        frames.forEach((key: string | number) => {\r\n\r\n            output.push(this.get(key));\r\n\r\n        });\r\n\r\n        return output;\r\n    }\r\n\r\n    getFramesInRange (prefix: string, start: number, end: number, zeroPad: number = 0, suffix: string = ''): Frame[]\r\n    {\r\n        const frameKeys = [];\r\n\r\n        const diff: number = (start < end) ? 1 : -1;\r\n\r\n        //  Adjust because we use i !== end in the for loop\r\n        end += diff;\r\n\r\n        for (let i: number = start; i !== end; i += diff)\r\n        {\r\n            frameKeys.push(prefix + i.toString().padStart(zeroPad, '0') + suffix);\r\n        }\r\n\r\n        return this.getFrames(frameKeys);\r\n    }\r\n\r\n    setSize (width: number, height: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        const frame = this.frames.get('__BASE');\r\n\r\n        frame.setSize(width, height);\r\n    }\r\n\r\n    setFilter (linear: boolean)\r\n    {\r\n        SetGLTextureFilterMode(this.glTexture, linear);\r\n    }\r\n    \r\n    createGL ()\r\n    {\r\n        if (this.glTexture)\r\n        {\r\n            DeleteGLTexture(this.glTexture);\r\n        }\r\n\r\n        this.glTexture = CreateGLTexture(this.image);\r\n    }\r\n\r\n    updateGL ()\r\n    {\r\n        if (!this.glTexture)\r\n        {\r\n            this.glTexture = CreateGLTexture(this.image);\r\n        }\r\n        else\r\n        {\r\n            UpdateGLTexture(this.image, this.glTexture);\r\n        }\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.frames.clear();\r\n\r\n        this.image = null;\r\n        this.firstFrame = null;\r\n        this.data = null;\r\n\r\n        DeleteGLTexture(this.glTexture);\r\n        DeleteFramebuffer(this.glFramebuffer);\r\n    }\r\n}\r\n","import Game from './Game';\r\n\r\nlet gameInstance: Game;\r\n\r\nfunction get ()\r\n{\r\n    return gameInstance;\r\n}\r\n\r\nfunction set (game: Game | null)\r\n{\r\n    gameInstance = game;\r\n}\r\n\r\nexport default {\r\n    get,\r\n    set\r\n}\r\n","import ISprite from './ISprite';\r\nimport Frame from '../../textures/Frame';\r\n\r\nexport default function SetFrame (key?: string | number | Frame, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        let frame: Frame = entity.texture.get(key);\r\n\r\n        if (frame === entity.frame)\r\n        {\r\n            return;\r\n        }\r\n    \r\n        entity.frame = frame;\r\n    \r\n        entity.setSize(frame.sourceSizeWidth, frame.sourceSizeHeight);\r\n        entity.setBounds(entity.x, entity.y, entity.width, entity.height);\r\n    \r\n        if (frame.pivot)\r\n        {\r\n            entity.setOrigin(frame.pivot.x, frame.pivot.y);\r\n        }\r\n    \r\n        let data = entity.vertexData;\r\n    \r\n        //  This rarely changes, so we'll set it here, rather than every game step:\r\n    \r\n        data[2] = frame.u0;\r\n        data[3] = frame.v0;\r\n    \r\n        data[8] = frame.u0;\r\n        data[9] = frame.v1;\r\n    \r\n        data[14] = frame.u1;\r\n        data[15] = frame.v1;\r\n    \r\n        data[20] = frame.u1;\r\n        data[21] = frame.v0;\r\n    \r\n        entity.setDirtyRender();\r\n    \r\n        entity.hasTexture = true;\r\n\r\n    });\r\n}\r\n","import ISprite from './ISprite';\r\nimport Texture from '../../textures/Texture';\r\nimport Frame from '../../textures/Frame';\r\nimport GameInstance from '../../GameInstance';\r\nimport SetFrame from './SetFrame';\r\n\r\nexport default function SetTexture (key: string | Texture, frame: string | number | Frame, ...sprite: ISprite[])\r\n{\r\n    sprite.forEach(entity => {\r\n\r\n        if (!key)\r\n        {\r\n            return;\r\n        }\r\n    \r\n        if (key instanceof Texture)\r\n        {\r\n            entity.texture = key;\r\n        }\r\n        else\r\n        {\r\n            entity.texture = GameInstance.get().textures.get(key);\r\n        }\r\n    \r\n        if (!entity.texture)\r\n        {\r\n            console.warn('Invalid Texture key: ' + key);\r\n        }\r\n        else\r\n        {\r\n            SetFrame(frame, entity);\r\n        }\r\n\r\n    });\r\n}\r\n","import Container from '../container/Container';\r\nimport Texture from '../../textures/Texture';\r\nimport Frame from '../../textures/Frame';\r\nimport IContainer from '../container/IContainer';\r\nimport Rectangle from '../../geom/Rectangle';\r\nimport SetTexture from './SetTexture';\r\nimport SetFrame from './SetFrame';\r\n\r\nexport default class Sprite extends Container\r\n{\r\n    texture: Texture;\r\n    frame: Frame;\r\n    hasTexture: boolean = false;\r\n\r\n    vertexData: Float32Array;\r\n    vertexColor: Uint32Array;\r\n\r\n    vertexAlpha: Float32Array;\r\n    vertexTint: Uint32Array;\r\n\r\n    private _tint: number = 0xffffff;\r\n    private _prevTextureID: number = -1;\r\n\r\n    constructor (x: number, y: number, texture: string | Texture, frame?: string | number)\r\n    {\r\n        super(x, y);\r\n\r\n        this.vertexData = new Float32Array(24).fill(0);\r\n        this.vertexColor = new Uint32Array(4).fill(4294967295);\r\n\r\n        this.vertexAlpha = new Float32Array(4).fill(1);\r\n        this.vertexTint = new Uint32Array(4).fill(0xffffff);\r\n\r\n        this.type = 'Sprite';\r\n        this.setTexture(texture, frame);\r\n        this.setBounds(x, y, this.width, this.height);\r\n    }\r\n\r\n    getBounds (includeChildren: boolean = false): Rectangle\r\n    {\r\n        if (this.dirtyRender)\r\n        {\r\n            this.updateVertices();\r\n        }\r\n\r\n        super.getBounds(includeChildren);\r\n\r\n        return this.bounds;\r\n    }\r\n\r\n    setTexture (key: string | Texture, frame?: string | number)\r\n    {\r\n        SetTexture(key, frame, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    setFrame (key?: string | number | Frame)\r\n    {\r\n        SetFrame(key, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender && this.hasTexture && this.alpha > 0);\r\n    }\r\n\r\n    updateVertices ()\r\n    {\r\n        const data = this.vertexData;\r\n\r\n        this.dirtyRender = false;\r\n\r\n        const frame = this.frame;\r\n        const originX = this.originX;\r\n        const originY = this.originY;\r\n\r\n        let w0: number;\r\n        let w1: number;\r\n        let h0: number;\r\n        let h1: number;\r\n\r\n        const [ a, b, c, d, tx, ty ] = this.worldTransform;\r\n\r\n        if (frame.trimmed)\r\n        {\r\n            w1 = frame.spriteSourceSizeX - (originX * frame.sourceSizeWidth);\r\n            w0 = w1 + frame.spriteSourceSizeWidth;\r\n\r\n            h1 = frame.spriteSourceSizeY - (originY * frame.sourceSizeHeight);\r\n            h0 = h1 + frame.spriteSourceSizeHeight;\r\n        }\r\n        else\r\n        {\r\n            w1 = -originX * frame.sourceSizeWidth;\r\n            w0 = w1 + frame.sourceSizeWidth;\r\n\r\n            h1 = -originY * frame.sourceSizeHeight;\r\n            h0 = h1 + frame.sourceSizeHeight;\r\n        }\r\n\r\n        const x0 = (w1 * a) + (h1 * c) + tx;\r\n        const y0 = (w1 * b) + (h1 * d) + ty;\r\n\r\n        const x1 = (w1 * a) + (h0 * c) + tx;\r\n        const y1 = (w1 * b) + (h0 * d) + ty;\r\n\r\n        const x2 = (w0 * a) + (h0 * c) + tx;\r\n        const y2 = (w0 * b) + (h0 * d) + ty;\r\n\r\n        const x3 = (w0 * a) + (h1 * c) + tx;\r\n        const y3 = (w0 * b) + (h1 * d) + ty;\r\n\r\n        //  top left\r\n        data[0] = x0;\r\n        data[1] = y0;\r\n\r\n        //  bottom left\r\n        data[6] = x1;\r\n        data[7] = y1;\r\n\r\n        //  bottom right\r\n        data[12] = x2;\r\n        data[13] = y2;\r\n\r\n        //  top right\r\n        data[18] = x3;\r\n        data[19] = y3;\r\n\r\n        const bounds = this.bounds;\r\n\r\n        bounds.x = Math.min(x0, x1, x2, x3);\r\n        bounds.y = Math.min(y0, y1, y2, y3);\r\n        bounds.right = Math.max(x0, x1, x2, x3);\r\n        bounds.bottom = Math.max(y0, y1, y2, y3);\r\n    }\r\n\r\n    uploadBuffers (F32: Float32Array, U32: Uint32Array, offset: number, setTexture: boolean = true)\r\n    {\r\n        //  Skip all of this if not dirty\r\n        if (this.dirtyRender)\r\n        {\r\n            this.updateVertices();\r\n        }\r\n\r\n        const data = this.vertexData;\r\n        const textureIndex = this.texture.glIndex;\r\n\r\n        //  Do we have a different texture ID?\r\n        if (setTexture && textureIndex !== this._prevTextureID)\r\n        {\r\n            this._prevTextureID = textureIndex;\r\n\r\n            data[4] = textureIndex;\r\n            data[10] = textureIndex;\r\n            data[16] = textureIndex;\r\n            data[22] = textureIndex;\r\n        }\r\n\r\n        //  Copy the data to the array buffer\r\n        F32.set(data, offset);\r\n\r\n        const color = this.vertexColor;\r\n\r\n        //  Copy the vertex colors to the Uint32 view (as the data copy above overwrites them)\r\n        U32[offset + 5] = color[0];\r\n        U32[offset + 11] = color[2];\r\n        U32[offset + 17] = color[3];\r\n        U32[offset + 23] = color[1];\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer)\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.texture = null;\r\n        this.frame = null;\r\n        this.hasTexture = false;\r\n        this.vertexData = null;\r\n        this.vertexColor = null;\r\n        this.vertexAlpha = null;\r\n        this.vertexTint = null;\r\n    }\r\n\r\n    get tint (): number\r\n    {\r\n        return this._tint;\r\n    }\r\n\r\n    set tint (value: number)\r\n    {\r\n        this._tint = value;\r\n\r\n        // this.setTint(value);\r\n    }\r\n}\r\n\r\n/*\r\n    vertexData array structure:\r\n\r\n    0 = topLeft.x\r\n    1 = topLeft.y\r\n    2 = frame.u0\r\n    3 = frame.v0\r\n    4 = textureIndex\r\n    5 = topLeft.packedColor\r\n\r\n    6 = bottomLeft.x\r\n    7 = bottomLeft.y\r\n    8 = frame.u0\r\n    9 = frame.v1\r\n    10 = textureIndex\r\n    11 = bottomLeft.packedColor\r\n\r\n    12 = bottomRight.x\r\n    13 = bottomRight.y\r\n    14 = frame.u1\r\n    15 = frame.v1\r\n    16 = textureIndex\r\n    17 = bottomRight.packedColor\r\n\r\n    18 = topRight.x\r\n    19 = topRight.y\r\n    20 = frame.u1\r\n    21 = frame.v0\r\n    22 = textureIndex\r\n    23 = topRight.packedColor\r\n*/\r\n","// import AnimatedSprite from './animatedsprite/AnimatedSprite';\r\nimport Container from './container/Container';\r\nimport GameObject from './gameobject/GameObject';\r\nimport Sprite from './sprite/Sprite';\r\n// import SpriteBuffer from './spritebuffer/SpriteBuffer';\r\n// import Text from './text/Text';\r\n\r\nexport default {\r\n    Container,\r\n    GameObject,\r\n    Sprite\r\n}\r\n","export default function Between (min: number, max: number): number\r\n{\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n","export default function FloatBetween (min: number, max: number): number\r\n{\r\n    return Math.random() * (max - min) + min;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Adds the src Matrix to the target Matrix and returns the target.\r\n\r\nexport default function Add (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    target.a += src.a;\r\n    target.b += src.b;\r\n    target.c += src.c;\r\n    target.d += src.d;\r\n    target.tx += src.tx;\r\n    target.ty += src.ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n// Copy the values from src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.transform method.\r\n\r\nexport default function CopyToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.transform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Return the determinant for the src Matrix.\r\n\r\nexport default function Determinant (src: IMatrix2D): number\r\n{\r\n    const { a, b, c, d } = src;\r\n\r\n    return (a * d) - (b * c);\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\nexport default function Frobenius (src: IMatrix2D): number\r\n{\r\n    return(Math.hypot(src.a, src.b, src.c, src.d, src.tx, src.ty, 1));\r\n}\r\n","export default class Vec2\r\n{\r\n    /**\r\n     * X component\r\n     *\r\n     * @type {number}\r\n     * @memberof Vec2\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * Y component\r\n     *\r\n     * @type {number}\r\n     * @memberof Vec2\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * Creates an instance of a Vector2.\r\n     * \r\n     * @param {number} [x=0] - X component\r\n     * @param {number} [y=0] - Y component\r\n     * @memberof Vec2\r\n     */\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        this.set(x, y);\r\n    }\r\n\r\n    /**\r\n     * Sets the components of this Vector2.\r\n     * \r\n     * @param {number} [x=0] - X component\r\n     * @param {number} [y=0] - Y component\r\n     * @returns {Vec2}\r\n     * @memberof Vec2\r\n     */\r\n    set (x: number = 0, y: number = 0): Vec2\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Sets all components of this Vector2 to zero.\r\n     *\r\n     * @returns {Vec2}\r\n     * @memberof Vec2\r\n     */\r\n    zero (): Vec2\r\n    {\r\n        return this.set();\r\n    }\r\n\r\n    /**\r\n     * Returns a new array containg the Vector2 component values.\r\n     *\r\n     * @returns {number[]}\r\n     * @memberof Vec2\r\n     */\r\n    getArray (): number[]\r\n    {\r\n        return [ this.x, this.y ];\r\n    }\r\n\r\n    /**\r\n     * Sets the values of this Vector2 based on the given array, or array-like object, such as a Float32.\r\n     * \r\n     * The source must have 2 elements, starting from index 0 through to index 1.\r\n     *\r\n     * @param {number[]} src - The source array to copy the values from.\r\n     * @returns {Vec2}\r\n     * @memberof Vec2\r\n     */\r\n    fromArray (src: number[]): Vec2\r\n    {\r\n        return this.set(src[0], src[1]);\r\n    }\r\n\r\n    [Symbol.iterator] ()\r\n    {\r\n        const data = this.getArray();\r\n\r\n        return data[Symbol.iterator]();\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\nimport Vec2 from '../vec2/Vec2';\r\n\r\nexport default function GlobalToLocal (mat: IMatrix2D, x: number, y: number, outPoint: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    const id: number = 1 / ((a * d) + (c * -b));\r\n\r\n    outPoint.x = (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id);\r\n    outPoint.y = (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id);\r\n\r\n    return outPoint;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Inverts the target Matrix and then returns it\r\n\r\nexport default function Invert (target: IMatrix2D): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    let determinant: number = a * d - b * c;\r\n\r\n    if (determinant)\r\n    {\r\n        determinant = 1 / determinant;\r\n  \r\n        target.set(\r\n            d * determinant,\r\n            -b * determinant,\r\n            -c * determinant,\r\n            a * determinant,\r\n            (c * ty - d * tx) * determinant,\r\n            (b * tx - a * ty) * determinant\r\n        );\r\n    }\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Apply the identity, translate, rotate and scale operations on the target Matrix then returns it.\r\n\r\nexport default function ITRS (target: IMatrix2D, x: number, y: number, angle: number, scaleX: number, scaleY: number): IMatrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        const sin = Math.sin(angle);\r\n        const cos = Math.cos(angle);\r\n\r\n        return target.set(\r\n            cos * scaleX,\r\n            sin * scaleX,\r\n            -sin * scaleY,\r\n            cos * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Apply the identity, translate, rotate, scale and skew operations on the target Matrix then returns it.\r\n\r\nexport default function ITRSS (target: IMatrix2D, x: number, y: number, angle: number = 0, scaleX: number = 1, scaleY: number = 1, skewX: number = 0, skewY: number = 0): IMatrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        const sin = Math.sin(angle);\r\n        const cos = Math.cos(angle);\r\n\r\n        return target.set(\r\n            cos * scaleX,\r\n            sin * scaleX,\r\n            -sin * scaleY,\r\n            cos * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\nimport Vec2 from '../vec2/Vec2';\r\n\r\nexport default function LocalToGlobal (mat: IMatrix2D, x: number, y: number, outPoint: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    outPoint.x = (a * x) + (c * y) + tx;\r\n    outPoint.y = (b * x) + (d * y) + ty;\r\n\r\n    return outPoint;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the src Matrix and returns the target.\r\n\r\nexport default function Multiply (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = target;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = src;\r\n    \r\n    target.a = a0 * a1 + c0 * b1;\r\n    target.b = b0 * a1 + d0 * b1;\r\n    target.c = a0 * c1 + c0 * d1;\r\n    target.d = b0 * c1 + d0 * d1;\r\n    target.tx = a0 * tx1 + c0 * ty1 + tx0;\r\n    target.ty = b0 * tx1 + d0 * ty1 + ty0;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport default function MultiplyScalar (target: IMatrix2D, scale: number): IMatrix2D\r\n{\r\n    target.a *= scale;\r\n    target.b *= scale;\r\n    target.c *= scale;\r\n    target.d *= scale;\r\n    target.tx *= scale;\r\n    target.ty *= scale;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport default function MultiplyScalarAndAdd (target: IMatrix2D, src: IMatrix2D, scale: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    target.a += (a * scale);\r\n    target.b += (b * scale);\r\n    target.c += (c * scale);\r\n    target.d += (d * scale);\r\n    target.tx += (tx * scale);\r\n    target.ty += (ty * scale);\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Rotates the target Matrix by the angle (in radians), then returns the target Matrix.\r\n\r\nexport default function Rotate (target: IMatrix2D, angle: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    return target.set(\r\n        (a * cos) + (c * sin),\r\n        (b * cos) + (d * sin),\r\n        (a * -sin) + (c * cos),\r\n        (b * -sin) + (d * cos),\r\n        tx,\r\n        ty\r\n    );\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Scales the target Matrix by the given amounts, then returns the target Matrix.\r\n\r\nexport default function Scale (target: IMatrix2D, scaleX: number, scaleY: number): IMatrix2D\r\n{\r\n    target.a *= scaleX;\r\n    target.b *= scaleX;\r\n    target.c *= scaleY;\r\n    target.d *= scaleY;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n// Copy the values from the src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.setTransform method.\r\n\r\nexport default function SetToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.setTransform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Skews the target Matrix by the given angles (in radians), then returns the target Matrix\r\n\r\nexport default function Skew (target: IMatrix2D, angleX: number, angleY: number): IMatrix2D\r\n{\r\n    target.b += Math.tan(angleX);\r\n    target.c += Math.tan(angleY);\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Subtracts the src Matrix from the target Matrix and returns the target.\r\n\r\nexport default function Subtract (target: IMatrix2D, src: IMatrix2D): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    target.a -= a;\r\n    target.b -= b;\r\n    target.c -= c;\r\n    target.d -= d;\r\n    target.tx -= tx;\r\n    target.ty -= ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Translates the target Matrix and returns the target\r\n\r\nexport default function Translate (target: IMatrix2D, x: number, y: number): IMatrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    target.tx = (a * x) + (c * y) + tx;\r\n    target.ty = (b * x) + (d * y) + ty;\r\n\r\n    return target;\r\n}\r\n","import IMatrix2D from './IMatrix2D';\r\n\r\n//  Zeroes the target Matrix and returns the target\r\n\r\nexport default function Zero (target: IMatrix2D): IMatrix2D\r\n{\r\n    return target.set(0, 0, 0, 0, 0, 0);\r\n}\r\n","import Add from './Add';\r\nimport Copy from './Copy';\r\nimport CopyToContext from './CopyToContext';\r\nimport Determinant from './Determinant';\r\nimport Frobenius from './Frobenius';\r\nimport GlobalToLocal from './GlobalToLocal';\r\nimport Invert from './Invert';\r\nimport ITRS from './ITRS';\r\nimport ITRSS from './ITRSS';\r\nimport LocalToGlobal from './LocalToGlobal';\r\nimport Matrix2D from './Matrix2D';\r\nimport Multiply from './Multiply';\r\nimport MultiplyScalar from './MultiplyScalar';\r\nimport MultiplyScalarAndAdd from './MultiplyScalarAndAdd';\r\nimport Rotate from './Rotate';\r\nimport Scale from './Scale';\r\nimport SetToContext from './SetToContext';\r\nimport Skew from './Skew';\r\nimport Subtract from './Subtract';\r\nimport Translate from './Translate';\r\nimport Zero from './Zero';\r\n\r\n//  Phaser.Math.Matrix2d\r\n\r\nexport default {\r\n    Add,\r\n    Copy,\r\n    CopyToContext,\r\n    Determinant,\r\n    Frobenius,\r\n    GlobalToLocal,\r\n    Invert,\r\n    ITRS,\r\n    ITRSS,\r\n    LocalToGlobal,\r\n    Matrix2D,\r\n    Multiply,\r\n    MultiplyScalar,\r\n    MultiplyScalarAndAdd,\r\n    Rotate,\r\n    Scale,\r\n    SetToContext,\r\n    Skew,\r\n    Subtract,\r\n    Translate,\r\n    Zero\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Adds a to b and returns the values in a new Matrix2D\r\n\r\nexport default function Add (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a + b.a,\r\n        a.b + b.b,\r\n        a.c + b.c,\r\n        a.c + b.c,\r\n        a.tx + b.tx,\r\n        a.ty + b.ty\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Append (mat1: IMatrix2D, mat2: IMatrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = mat1;\r\n    const { a: a2, b: b2, c: c2, d: d2, tx: tx2, ty: ty2 } = mat2;\r\n\r\n    return out.set(\r\n        (a2 * a1) + (b2 * c1),\r\n        (a2 * b1) + (b2 * d1),\r\n        (c2 * a1) + (d2 * c1),\r\n        (c2 * b1) + (d2 * d1),\r\n        (tx2 * a1) + (ty2 * c1) + tx1,\r\n        (tx2 * b1) + (ty2 * d1) + ty1\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Clones the src matrix to a new Matrix2D.\r\n\r\nexport default function Clone (src: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(src.a, src.b, src.c, src.d, src.tx, src.ty);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal, based on the epsilon.\r\n\r\nexport default function Equals (a: IMatrix2D, b: IMatrix2D, epsilon: number = 0.000001): boolean\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = a;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = b;\r\n\r\n    return (\r\n        Math.abs(a0 - a1) <= epsilon * Math.max(1, Math.abs(a0), Math.abs(a1)) &&\r\n        Math.abs(b0 - b1) <= epsilon * Math.max(1, Math.abs(b0), Math.abs(b1)) &&\r\n        Math.abs(c0 - c1) <= epsilon * Math.max(1, Math.abs(c0), Math.abs(c1)) &&\r\n        Math.abs(d0 - d1) <= epsilon * Math.max(1, Math.abs(d0), Math.abs(d1)) &&\r\n        Math.abs(tx0 - tx1) <= epsilon * Math.max(1, Math.abs(tx0), Math.abs(tx1)) &&\r\n        Math.abs(ty0 - ty1) <= epsilon * Math.max(1, Math.abs(ty0), Math.abs(ty1))\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal.\r\n\r\nexport default function ExactEquals (a: IMatrix2D, b: IMatrix2D): boolean\r\n{\r\n    return (\r\n        a.a === b.a &&\r\n        a.b === b.b &&\r\n        a.c === b.c &&\r\n        a.d === b.d &&\r\n        a.tx === b.tx &&\r\n        a.ty === b.ty\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Rotate (src: IMatrix2D, angle: number): Matrix2D\r\n{\r\n    const { a, b, c, d } = src;\r\n\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    return new Matrix2D(\r\n        a * cos + c * sin,\r\n        b * cos + d * sin,\r\n        a * -sin + c * cos,\r\n        b * -sin + d * cos\r\n    );\r\n}\r\n","import Rotate from './Rotate';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromRotation (angle: number): Matrix2D\r\n{\r\n    return Rotate(new Matrix2D(), angle);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Scale (src: IMatrix2D, scaleX: number, scaleY: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        src.a * scaleX,\r\n        src.b * scaleX,\r\n        src.c * scaleY,\r\n        src.d * scaleY\r\n    );\r\n}\r\n","import Scale from './Scale';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromScaling (scaleX: number, scaleY: number = scaleX): Matrix2D\r\n{\r\n    return Scale(new Matrix2D(), scaleX, scaleY);\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Translate (src: IMatrix2D, x: number, y: number): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    const dtx = a * x + c * y + tx;\r\n    const dty = b * x + d * y + ty;\r\n\r\n    return new Matrix2D(1, 0, 0, 1, dtx, dty);\r\n}\r\n","import Translate from './Translate';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function FromTranslation (x: number, y: number): Matrix2D\r\n{\r\n    return Translate(new Matrix2D(), x, y);\r\n}\r\n","import Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Identity (): Matrix2D\r\n{\r\n    return new Matrix2D();\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Inverts the src Matrix and returns the result in a new Matrix, or null.\r\n\r\nexport default function Invert (src: IMatrix2D): Matrix2D | null\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    let determinant: number = (a * d) - (b * c);\r\n\r\n    if (!determinant)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    determinant = 1 / determinant;\r\n  \r\n    return new Matrix2D(\r\n        d * determinant,\r\n        -b * determinant,\r\n        -c * determinant,\r\n        a * determinant,\r\n        (c * ty - d * tx) * determinant,\r\n        (b * tx - a * ty) * determinant\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\n//  Multiplies matrix a by b and returns the result in a new Matrix2D.\r\n\r\nexport default function Multiply (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = a;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = b;\r\n    \r\n    return new Matrix2D(\r\n        a0 * a1 + c0 * b1,\r\n        b0 * a1 + d0 * b1,\r\n        a0 * c1 + c0 * d1,\r\n        b0 * c1 + d0 * d1,\r\n        a0 * tx1 + c0 * ty1 + tx0,\r\n        b0 * tx1 + d0 * ty1 + ty0\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function MultiplyScalar (src: IMatrix2D, scale: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        src.a * scale,\r\n        src.b * scale,\r\n        src.c * scale,\r\n        src.d * scale,\r\n        src.tx * scale,\r\n        src.ty * scale\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function MultiplyScalarAndAdd (a: IMatrix2D, b: IMatrix2D, scale: number): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a + (b.a * scale),\r\n        a.b + (b.b * scale),\r\n        a.c + (b.c * scale),\r\n        a.d + (b.d * scale),\r\n        a.tx + (b.tx * scale),\r\n        a.ty + (b.ty * scale),\r\n    );\r\n}\r\n","import IMatrix2D from '../matrix2d/IMatrix2D';\r\nimport Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Subtract (a: IMatrix2D, b: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(\r\n        a.a - b.a,\r\n        a.b - b.b,\r\n        a.c - b.c,\r\n        a.c - b.c,\r\n        a.tx - b.tx,\r\n        a.ty - b.ty\r\n    );\r\n}\r\n","import Matrix2D from '../matrix2d/Matrix2D';\r\n\r\nexport default function Zero (): Matrix2D\r\n{\r\n    return new Matrix2D(0, 0, 0, 0, 0, 0);\r\n}\r\n","import Add from './Add';\r\nimport Append from './Append';\r\nimport Clone from './Clone';\r\nimport Equals from './Equals';\r\nimport ExactEquals from './ExactEquals';\r\nimport FromRotation from './FromRotation';\r\nimport FromScaling from './FromScaling';\r\nimport FromTranslation from './FromTranslation';\r\nimport Identity from './Identity';\r\nimport Invert from './Invert';\r\nimport Multiply from './Multiply';\r\nimport MultiplyScalar from './MultiplyScalar';\r\nimport MultiplyScalarAndAdd from './MultiplyScalarAndAdd';\r\nimport Rotate from './Rotate';\r\nimport Scale from './Scale';\r\nimport Subtract from './Subtract';\r\nimport Translate from './Translate';\r\nimport Zero from './Zero';\r\n\r\n//  Phaser.Math.Matrix2dFuncs\r\n\r\nexport default {\r\n    Add,\r\n    Append,\r\n    Clone,\r\n    Equals,\r\n    ExactEquals,\r\n    FromRotation,\r\n    FromScaling,\r\n    FromTranslation,\r\n    Identity,\r\n    Invert,\r\n    Multiply,\r\n    MultiplyScalar,\r\n    MultiplyScalarAndAdd,\r\n    Rotate,\r\n    Scale,\r\n    Subtract,\r\n    Translate,\r\n    Zero\r\n}\r\n","import Vec2 from './Vec2';\r\n\r\nexport default {\r\n    Vec2\r\n}\r\n","import Between from './Between';\r\nimport FloatBetween from './FloatBetween';\r\nimport * as Matrix2d from './matrix2d';\r\nimport * as Matrix2dFuncs from './matrix2d-funcs';\r\nimport * as Vec2 from './vec2';\r\n\r\n//  Phaser.Math\r\n\r\nexport default {\r\n    Between,\r\n    FloatBetween,\r\n    Matrix2d,\r\n    Matrix2dFuncs,\r\n    Vec2\r\n}\r\n","import Texture from './Texture';\r\nimport Frame from './Frame';\r\n\r\nexport default function AtlasParser (texture: Texture, data: any)\r\n{\r\n    let frames;\r\n\r\n    if (Array.isArray(data.textures))\r\n    {\r\n        //  TP3 Format\r\n        frames = data.textures[0].frames;\r\n    }\r\n    else if (Array.isArray(data.frames))\r\n    {\r\n        //  TP2 Format Array\r\n        frames = data.frames;\r\n    }\r\n    else if (data.hasOwnProperty('frames'))\r\n    {\r\n        //  TP2 Format Hash\r\n        frames = Object.values(data.frames);\r\n    }\r\n    else\r\n    {\r\n        console.warn('Invalid Texture Atlas JSON');\r\n    }\r\n\r\n    if (frames)\r\n    {\r\n        let newFrame: Frame;\r\n\r\n        for (let i = 0; i < frames.length; i++)\r\n        {\r\n            let src = frames[i];\r\n\r\n            //  The frame values are the exact coordinates to cut the frame out of the atlas from\r\n            newFrame = texture.add(src.filename, src.frame.x, src.frame.y, src.frame.w, src.frame.h)\r\n\r\n            //  These are the original (non-trimmed) sprite values\r\n            if (src.trimmed)\r\n            {\r\n                newFrame.setTrim(\r\n                    src.sourceSize.w,\r\n                    src.sourceSize.h,\r\n                    src.spriteSourceSize.x,\r\n                    src.spriteSourceSize.y,\r\n                    src.spriteSourceSize.w,\r\n                    src.spriteSourceSize.h\r\n                );\r\n            }\r\n            else\r\n            {\r\n                newFrame.setSourceSize(src.sourceSize.w, src.sourceSize.h);\r\n            }\r\n\r\n            if (src.rotated)\r\n            {\r\n                // newFrame.rotated = true;\r\n                // newFrame.updateUVsInverted();\r\n            }\r\n\r\n            if (src.anchor)\r\n            {\r\n                newFrame.setPivot(src.anchor.x, src.anchor.y);\r\n            }\r\n        }\r\n    }\r\n}\r\n","export default function CreateCanvas (width: number, height: number): CanvasRenderingContext2D\r\n{\r\n    const canvas = document.createElement('canvas');\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    return canvas.getContext('2d');\r\n}\r\n","import CreateCanvas from './CreateCanvas';\r\nimport Texture from './Texture';\r\n\r\nexport default function CanvasTexture (width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","import CreateCanvas from './CreateCanvas';\r\nimport Texture from './Texture';\r\n\r\nexport default function GridTexture (color1: string, color2: string, width: number = 32, height: number = 32, cols: number = 2, rows: number = 2): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    const colWidth = width / cols;\r\n    const rowHeight = height / rows;\r\n\r\n    ctx.fillStyle = color1;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    ctx.fillStyle = color2;\r\n\r\n    for (let y: number = 0; y < rows; y++)\r\n    {\r\n        for (let x: number = (y % 2); x < cols; x += 2)\r\n        {\r\n            ctx.fillRect(x * colWidth, y * rowHeight, colWidth, rowHeight);\r\n        }\r\n    }\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","import ISprite from './ISprite';\r\nimport WebGLRenderer from '../../renderer/WebGLRenderer';\r\nimport MultiTextureQuadShader from '../../renderer/MultiTextureQuadShader';\r\n\r\nexport default function RenderWebGL (sprite: ISprite, renderer: WebGLRenderer, shader: MultiTextureQuadShader, startActiveTexture: number)\r\n{\r\n    const texture = sprite.texture;\r\n\r\n    if (texture.glIndexCounter < startActiveTexture)\r\n    {\r\n        renderer.requestTexture(texture);\r\n    }\r\n\r\n    if (shader.count === shader.batchSize)\r\n    {\r\n        shader.flush();\r\n    }\r\n\r\n    sprite.uploadBuffers(shader.vertexViewF32, shader.vertexViewU32, shader.count * shader.quadElementSize);\r\n\r\n    shader.count++;\r\n}\r\n","export default function Ortho (width: number, height: number, near: number = -1, far: number = 1): Float32Array\r\n{\r\n    const m00: number = -2 * (1 / -width);\r\n    const m11: number = -2 * (1 / height);\r\n    const m22: number = 2 * (1 / (near - far));\r\n\r\n    return new Float32Array([ m00, 0, 0, 0, 0, m11, 0, 0, 0, 0, m22, 0, -1, 1, 0, 1 ]);\r\n}\r\n","import GL from '../renderer/GL';\r\nimport CreateGLTexture from './CreateGLTexture';\r\n\r\nexport default function CreateFramebuffer (width: number, height: number): [ WebGLTexture, WebGLFramebuffer ]\r\n{\r\n    const gl = GL.get();\r\n    const texture = CreateGLTexture(null, width, height);\r\n    const framebuffer = gl.createFramebuffer();\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n    return [ texture, framebuffer ];\r\n}\r\n","import Texture from './Texture';\r\nimport ISprite from '../gameobjects/sprite/ISprite';\r\nimport SpriteRenderWebGL from '../gameobjects/sprite/RenderWebGL';\r\nimport WebGLRenderer from '../renderer/WebGLRenderer';\r\nimport Ortho from '../renderer/Ortho';\r\nimport CreateFramebuffer from '../renderer/CreateFramebuffer';\r\n\r\nexport default class RenderTexture extends Texture\r\n{\r\n    renderer: WebGLRenderer;\r\n    cameraMatrix: Float32Array;\r\n    projectionMatrix: Float32Array;\r\n\r\n    constructor (renderer: WebGLRenderer, width: number = 256, height: number = width)\r\n    {\r\n        super(null, width, height);\r\n\r\n        this.renderer = renderer;\r\n\r\n        const [ texture, framebuffer ] = CreateFramebuffer(width, height);\r\n\r\n        this.glTexture = texture;\r\n        this.glFramebuffer = framebuffer;\r\n\r\n        this.projectionMatrix = Ortho(width, height);\r\n        this.cameraMatrix = new Float32Array([ 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, height, 0, 1 ]);\r\n    }\r\n\r\n    cls (): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const gl = renderer.gl;\r\n\r\n        renderer.reset(this.glFramebuffer, this.width, this.height);\r\n\r\n        gl.clearColor(0, 0, 0, 0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n        renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    batchStart (): this\r\n    {\r\n        const renderer = this.renderer;\r\n\r\n        renderer.reset(this.glFramebuffer, this.width, this.height);\r\n\r\n        renderer.shader.bind(this.projectionMatrix, this.cameraMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    batchDraw (...sprites: ISprite[]): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const shader = renderer.shader;\r\n\r\n        for (let i: number = 0; i < sprites.length; i++)\r\n        {\r\n            SpriteRenderWebGL(sprites[i], renderer, shader, renderer.startActiveTexture);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    batchEnd (): this\r\n    {\r\n        const renderer = this.renderer;\r\n        const shader = renderer.shader;\r\n\r\n        shader.flush();\r\n\r\n        renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    draw (...sprites: ISprite[]): this\r\n    {\r\n        this.batchStart();\r\n        this.batchDraw(...sprites);\r\n        this.batchEnd();\r\n\r\n        return this;\r\n    }\r\n}\r\n","import CreateCanvas from './CreateCanvas';\r\nimport Texture from './Texture';\r\n\r\nexport default function SolidColorTexture (color: string = 'rgba(0,0,0,0)', width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n","import IFrameConfig from './IFrameConfig';\r\nimport Texture from './Texture';\r\n\r\nexport default function (texture: Texture, x: number, y: number, width: number, height: number, frameConfig: IFrameConfig)\r\n{\r\n    let {\r\n        frameWidth = null,\r\n        frameHeight = null,\r\n        startFrame = 0,\r\n        endFrame = -1,\r\n        margin = 0,\r\n        spacing = 0\r\n    } = frameConfig;\r\n\r\n    if (!frameHeight)\r\n    {\r\n        frameHeight = frameWidth;\r\n    }\r\n\r\n    //  If missing we can't proceed\r\n    if (frameWidth === null)\r\n    {\r\n        throw new Error('SpriteSheetParser: Invalid frameWidth');\r\n    }\r\n\r\n    const row: number = Math.floor((width - margin + spacing) / (frameWidth + spacing));\r\n    const column: number = Math.floor((height - margin + spacing) / (frameHeight + spacing));\r\n    let total: number = row * column;\r\n\r\n    if (total === 0)\r\n    {\r\n        console.warn('SpriteSheetParser: Frame config will result in zero frames');\r\n    }\r\n\r\n    if (startFrame > total || startFrame < -total)\r\n    {\r\n        startFrame = 0;\r\n    }\r\n\r\n    if (startFrame < 0)\r\n    {\r\n        //  Allow negative skipframes.\r\n        startFrame = total + startFrame;\r\n    }\r\n\r\n    if (endFrame !== -1)\r\n    {\r\n        total = startFrame + (endFrame + 1);\r\n    }\r\n\r\n    let fx: number = margin;\r\n    let fy: number = margin;\r\n    let ax: number = 0;\r\n    let ay: number = 0;\r\n\r\n    for (let i: number = 0; i < total; i++)\r\n    {\r\n        ax = 0;\r\n        ay = 0;\r\n\r\n        let w: number = fx + frameWidth;\r\n        let h: number = fy + frameHeight;\r\n\r\n        if (w > width)\r\n        {\r\n            ax = w - width;\r\n        }\r\n\r\n        if (h > height)\r\n        {\r\n            ay = h - height;\r\n        }\r\n\r\n        texture.add(i, x + fx, y + fy, frameWidth - ax, frameHeight - ay);\r\n\r\n        fx += frameWidth + spacing;\r\n\r\n        if (fx + frameWidth > width)\r\n        {\r\n            fx = margin;\r\n            fy += frameHeight + spacing;\r\n        }\r\n    }\r\n}\r\n","import Texture from './Texture';\r\nimport CreateCanvas from './CreateCanvas';\r\n\r\nexport default class TextureManager\r\n{\r\n    textures: Map<string, Texture>;\r\n\r\n    constructor ()\r\n    {\r\n        this.textures = new Map();\r\n\r\n        this.createDefaultTextures();\r\n    }\r\n\r\n    private createDefaultTextures ()\r\n    {\r\n        this.add('__BLANK', new Texture(CreateCanvas(32, 32).canvas));\r\n\r\n        const missing = CreateCanvas(32, 32);\r\n\r\n        missing.strokeStyle = '#0f0';\r\n        missing.moveTo(0, 0);\r\n        missing.lineTo(32, 32);\r\n        missing.stroke();\r\n        missing.strokeRect(0.5, 0.5, 31, 31);\r\n\r\n        this.add('__MISSING', new Texture(missing.canvas));\r\n    }\r\n\r\n    get (key: string): Texture\r\n    {\r\n        if (this.textures.has(key))\r\n        {\r\n            return this.textures.get(key);\r\n        }\r\n        else\r\n        {\r\n            return this.textures.get('__MISSING');\r\n        }\r\n    }\r\n\r\n    has (key: string): boolean\r\n    {\r\n        return this.textures.has(key);\r\n    }\r\n\r\n    add (key: string, source: Texture | HTMLImageElement)\r\n    {\r\n        let texture: Texture;\r\n\r\n        if (!this.textures.has(key))\r\n        {\r\n            if (source instanceof Texture)\r\n            {\r\n                texture = source;\r\n            }\r\n            else\r\n            {\r\n                texture = new Texture(source);\r\n            }\r\n\r\n            texture.key = key;\r\n\r\n            if (!texture.glTexture)\r\n            {\r\n                texture.createGL();\r\n            }\r\n\r\n            this.textures.set(key, texture);\r\n        }\r\n\r\n        return texture;\r\n    }\r\n}","import AtlasParser from './AtlasParser';\r\nimport CanvasTexture from './CanvasTexture';\r\nimport CreateCanvas from './CreateCanvas';\r\nimport Frame from './Frame';\r\nimport GridTexture from './GridTexture';\r\nimport RenderTexture from './RenderTexture';\r\nimport SolidColorTexture from './SolidColorTexture';\r\nimport SpriteSheetParser from './SpriteSheetParser';\r\nimport Texture from './Texture';\r\nimport TextureManager from './TextureManager';\r\n\r\nexport default {\r\n    AtlasParser,\r\n    CanvasTexture,\r\n    CreateCanvas,\r\n    Frame,\r\n    GridTexture,\r\n    RenderTexture,\r\n    SolidColorTexture,\r\n    SpriteSheetParser,\r\n    Texture,\r\n    TextureManager\r\n}\r\n","//  From Pixi v5\r\n\r\nconst fragTemplate = [\r\n    'precision mediump float;',\r\n    'void main(void){',\r\n    'float test = 0.1;',\r\n    '%forloop%',\r\n    'gl_FragColor = vec4(0.0);',\r\n    '}',\r\n].join('\\n');\r\n\r\nfunction generateSrc (maxIfs: number): string\r\n{\r\n    let src = '';\r\n\r\n    for (let i = 0; i < maxIfs; ++i)\r\n    {\r\n        if (i > 0)\r\n        {\r\n            src += '\\nelse ';\r\n        }\r\n\r\n        if (i < maxIfs - 1)\r\n        {\r\n            src += `if(test == ${i}.0){}`;\r\n        }\r\n    }\r\n\r\n    return src;\r\n}\r\n\r\nexport default function (maxIfs: number, gl: WebGLRenderingContext): number\r\n{\r\n    const shader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\r\n    while (true)\r\n    {\r\n        const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateSrc(maxIfs));\r\n\r\n        gl.shaderSource(shader, fragmentSrc);\r\n        gl.compileShader(shader);\r\n\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n        {\r\n            maxIfs = (maxIfs / 2) | 0;\r\n        }\r\n        else\r\n        {\r\n            // valid!\r\n            break;\r\n        }\r\n    }\r\n\r\n    return maxIfs;\r\n}\r\n","import WebGLRenderer from './WebGLRenderer';\r\nimport ISpriteMultiShader from './ISpriteMultiShader';\r\n\r\nconst shaderSource = {\r\n\r\n    fragmentShader: `\r\nprecision highp float;\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\nuniform sampler2D uTexture[%count%];\r\nvoid main (void)\r\n{\r\n    vec4 color;\r\n    %forloop%\r\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\r\n}`,\r\n    \r\n    vertexShader: `\r\nprecision highp float;\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nattribute float aTextureId;\r\nattribute vec4 aTintColor;\r\nuniform mat4 uProjectionMatrix;\r\nuniform mat4 uCameraMatrix;\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\nvoid main (void)\r\n{\r\n    vTextureCoord = aTextureCoord;\r\n    vTextureId = aTextureId;\r\n    vTintColor = aTintColor;\r\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\r\n}`\r\n}\r\n\r\nexport default class MultiTextureQuadShader\r\n{\r\n    renderer: WebGLRenderer;\r\n    gl: WebGLRenderingContext;\r\n\r\n    program: WebGLProgram;\r\n\r\n    attribs: { aVertexPosition: number; aTextureCoord: number; aTextureId: number; aTintColor: number } = { aVertexPosition: 0, aTextureCoord: 0, aTextureId: 0, aTintColor: 0 };\r\n    uniforms: { uProjectionMatrix: WebGLUniformLocation; uCameraMatrix: WebGLUniformLocation; uTexture: WebGLUniformLocation; } = { uProjectionMatrix: 0, uCameraMatrix: 0, uTexture: 0 };\r\n\r\n    /**\r\n     * Maximum number of quads per batch before a flush takes place.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    batchSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, per entry in the array buffer.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    dataSize: number = 4;\r\n\r\n    /**\r\n     * The size, in bytes, per entry in the element index array.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    indexSize: number = 4;\r\n\r\n    /**\r\n     * The amount of elements / floats a single vertex consists of.\r\n     * \r\n     * The default is 6:\r\n     * \r\n     * position (x,y - 2 floats)\r\n     * texture coord (x,y - 2 floats)\r\n     * texture index (float)\r\n     * packed color (vec4)\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexElementSize: number = 6;\r\n\r\n    /**\r\n     * The size, in bytes, of a single vertex in the array buffer.\r\n     * \r\n     * This is `vertexElementSize * dataSize`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexByteSize: number = 6 * 4;\r\n\r\n    /**\r\n     * The size, in bytes, of a single quad in the array buffer.\r\n     * \r\n     * This is `vertexByteSize * 4`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadByteSize: number = (6 * 4) * 4;\r\n\r\n    /**\r\n     * The size, in quantity of elements, of a single quad in the element index array.\r\n     * \r\n     * This is `vertexElementSize * 4`.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadElementSize: number = 6 * 4;\r\n\r\n    /**\r\n     * The total number of entries per quad in the element index array.\r\n     * \r\n     * The IBO contains 6 entries per quad:\r\n     * \r\n     * 0, 1, 2\r\n     * 2, 3, 0\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    quadIndexSize: number = 6;\r\n\r\n    /**\r\n     * The size, in bytes, of the Array Buffer.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    bufferByteSize: number;\r\n\r\n    /**\r\n     * The Array Buffer.\r\n     *\r\n     * @type {ArrayBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    data: ArrayBuffer;\r\n\r\n    /**\r\n     * Float32 View of the Array Buffer.\r\n     *\r\n     * @type {Float32Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexViewF32: Float32Array;\r\n\r\n    /**\r\n     * Uint32 View of the Array Buffer.\r\n     *\r\n     * @type {Uint32Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexViewU32: Uint32Array;\r\n\r\n    /**\r\n     * The Element Array Buffer.\r\n     *\r\n     * @type {Uint16Array}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    index: Uint16Array;\r\n\r\n    /**\r\n     * The data array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    vertexBuffer: WebGLBuffer;\r\n\r\n    /**\r\n     * The element array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    indexBuffer: WebGLBuffer;\r\n\r\n    /**\r\n     * The total number of quads added to the batch so far.\r\n     * Reset every bind and flush.\r\n     *\r\n     * @type {number}\r\n     * @memberof MultiTextureQuadShader\r\n     */\r\n    count: number;\r\n\r\n    //  The number of quads previously flushed\r\n    prevCount: number;\r\n\r\n    constructor (renderer: WebGLRenderer, config: ISpriteMultiShader = {})\r\n    {\r\n        this.renderer = renderer;\r\n        this.gl = renderer.gl;\r\n\r\n        const {\r\n            batchSize = 4096,\r\n            fragmentShader = shaderSource.fragmentShader,\r\n            vertexShader = shaderSource.vertexShader\r\n        } = config;\r\n\r\n        this.batchSize = batchSize;\r\n        this.bufferByteSize = batchSize * this.quadByteSize;\r\n\r\n        this.createBuffers();\r\n        this.createShaders(fragmentShader, vertexShader);\r\n\r\n        this.count = 0;\r\n    }\r\n\r\n    createBuffers ()\r\n    {\r\n        let ibo: number[] = [];\r\n        \r\n        //  Seed the index buffer\r\n        for (let i: number = 0; i < (this.batchSize * this.indexSize); i += this.indexSize)\r\n        {\r\n            ibo.push(i + 0, i + 1, i + 2, i + 2, i + 3, i + 0);\r\n        }\r\n        \r\n        this.data = new ArrayBuffer(this.bufferByteSize);\r\n        this.index = new Uint16Array(ibo);\r\n\r\n        this.vertexViewF32 = new Float32Array(this.data);\r\n        this.vertexViewU32 = new Uint32Array(this.data);\r\n\r\n        const gl = this.gl;\r\n\r\n        this.vertexBuffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.DYNAMIC_DRAW);\r\n       \r\n        this.indexBuffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\r\n\r\n        //  Tidy-up\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        ibo = [];\r\n    }\r\n\r\n    createShaders (fragmentShaderSource: string, vertexShaderSource: string)\r\n    {\r\n        const gl = this.gl;\r\n        const maxTextures = this.renderer.maxTextures;\r\n\r\n        let src: string = '';\r\n\r\n        if (maxTextures > 1)\r\n        {\r\n            for (let i: number = 0; i < maxTextures; i++)\r\n            {\r\n                if (i > 0)\r\n                {\r\n                    src += '\\nelse ';\r\n                }\r\n        \r\n                if (i < maxTextures - 1)\r\n                {\r\n                    src += `if (vTextureId < ${i}.5)`;\r\n                }\r\n        \r\n                src += '\\n{';\r\n                src += `\\n  color = texture2D(uTexture[${i}], vTextureCoord);`;\r\n                src += '\\n}';\r\n            }\r\n    \r\n            fragmentShaderSource = fragmentShaderSource.replace(/%count%/gi, `${maxTextures}`);\r\n            fragmentShaderSource = fragmentShaderSource.replace(/%forloop%/gi, src);\r\n        }\r\n        else\r\n        {\r\n            src = 'color = texture2D(uTexture[0], vTextureCoord);';\r\n        }\r\n\r\n        //  Create the shaders\r\n\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n        \r\n        gl.shaderSource(fragmentShader, fragmentShaderSource);\r\n        gl.compileShader(fragmentShader);\r\n        \r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        \r\n        gl.shaderSource(vertexShader, vertexShaderSource);\r\n        gl.compileShader(vertexShader);\r\n        \r\n        const program = gl.createProgram();\r\n        \r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n\r\n        gl.useProgram(program);\r\n\r\n        this.program = program;\r\n        \r\n        for (let key of Object.keys(this.attribs))\r\n        {\r\n            let location = gl.getAttribLocation(program, key);\r\n\r\n            gl.enableVertexAttribArray(location);\r\n\r\n            this.attribs[key] = location;\r\n        }\r\n\r\n        for (let key of Object.keys(this.uniforms))\r\n        {\r\n            this.uniforms[key] = gl.getUniformLocation(program, key);\r\n        }\r\n    }\r\n\r\n    bind (projectionMatrix: Float32Array, cameraMatrix: Float32Array)\r\n    {\r\n        const gl = this.gl;\r\n        const renderer = this.renderer;\r\n        const uniforms = this.uniforms;\r\n\r\n        gl.useProgram(this.program);\r\n\r\n        gl.uniformMatrix4fv(uniforms.uProjectionMatrix, false, projectionMatrix);\r\n        gl.uniformMatrix4fv(uniforms.uCameraMatrix, false, cameraMatrix);\r\n        gl.uniform1iv(uniforms.uTexture, renderer.textureIndex);\r\n\r\n        this.bindBuffers(this.indexBuffer, this.vertexBuffer);\r\n    }\r\n\r\n    bindBuffers (indexBuffer: WebGLBuffer, vertexBuffer: WebGLBuffer)\r\n    {\r\n        const gl = this.gl;\r\n        const stride = this.vertexByteSize;\r\n        const attribs = this.attribs;\r\n\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\r\n        //  attributes must be reset whenever you change buffers\r\n\r\n        gl.vertexAttribPointer(attribs.aVertexPosition, 2, gl.FLOAT, false, stride, 0);     // size = 8\r\n        gl.vertexAttribPointer(attribs.aTextureCoord, 2, gl.FLOAT, false, stride, 8);       // size = 8, offset = position\r\n        gl.vertexAttribPointer(attribs.aTextureId, 1, gl.FLOAT, false, stride, 16);         // size = 4, offset = position + tex coord\r\n        gl.vertexAttribPointer(attribs.aTintColor, 4, gl.UNSIGNED_BYTE, true, stride, 20);  // size = 4, offset = position + tex coord + index\r\n\r\n        this.count = 0;\r\n    }\r\n\r\n    draw (count: number)\r\n    {\r\n        const gl = this.gl;\r\n        const offset = count * this.quadByteSize;\r\n\r\n        if (offset === this.bufferByteSize)\r\n        {\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.DYNAMIC_DRAW);\r\n        }\r\n        else\r\n        {\r\n            let view = this.vertexViewF32.subarray(0, offset);\r\n\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);\r\n        }\r\n\r\n        gl.drawElements(gl.TRIANGLES, count * this.quadIndexSize, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n\r\n    flush (): boolean\r\n    {\r\n        const count = this.count;\r\n\r\n        if (count === 0)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.draw(count);\r\n\r\n        this.prevCount = count;\r\n\r\n        this.count = 0;\r\n\r\n        this.renderer.flushTotal++;\r\n\r\n        return true;\r\n    }\r\n}\r\n","import CheckShaderMaxIfStatements from './CheckShaderMaxIfStatements';\r\nimport MultiTextureQuadShader from './MultiTextureQuadShader';\r\nimport Texture from '../textures/Texture';\r\nimport Matrix2dEqual from '../math/matrix2d-funcs/ExactEquals';\r\nimport ICamera from '../camera/ICamera';\r\nimport Ortho from './Ortho';\r\nimport GL from './GL';\r\nimport IGameObject from '../gameobjects/gameobject/IGameObject';\r\nimport SpriteRenderWebGL from '../gameobjects/sprite/RenderWebGL';\r\nimport ISprite from '../gameobjects/sprite/ISprite';\r\n\r\nexport default class WebGLRenderer\r\n{\r\n    canvas: HTMLCanvasElement;\r\n    gl: WebGLRenderingContext;\r\n\r\n    contextOptions: WebGLContextAttributes = {\r\n        alpha: false,\r\n        antialias: false,\r\n        premultipliedAlpha: false,\r\n        stencil: false,\r\n        preserveDrawingBuffer: false,\r\n        desynchronized: false\r\n    };\r\n\r\n    clearColor = [ 0, 0, 0, 1 ];\r\n\r\n    shader: MultiTextureQuadShader;\r\n\r\n    width: number;\r\n    height: number;\r\n    resolution: number;\r\n    \r\n    projectionMatrix: Float32Array;\r\n    textureIndex: number[];\r\n    flushTotal: number = 0;\r\n    \r\n    maxTextures: number = 0;\r\n    activeTextures: Texture[];\r\n    currentActiveTexture: number = 0;\r\n    startActiveTexture: number = 0;\r\n    tempTextures: WebGLTexture[] = [];\r\n\r\n    clearBeforeRender: boolean = true;\r\n    optimizeRedraw: boolean = true;\r\n    autoResize: boolean = true;\r\n\r\n    contextLost: boolean = false;\r\n    elementIndexExtension: OES_element_index_uint;\r\n\r\n    constructor (width: number, height: number, resolution: number)\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.resolution = resolution;\r\n\r\n        const canvas = document.createElement('canvas');\r\n\r\n        canvas.addEventListener('webglcontextlost', (event) => this.onContextLost(event), false);\r\n        canvas.addEventListener('webglcontextrestored', () => this.onContextRestored(), false);\r\n\r\n        this.canvas = canvas;\r\n\r\n        this.initContext();\r\n\r\n        this.shader = new MultiTextureQuadShader(this);\r\n    }\r\n\r\n    initContext ()\r\n    {\r\n        const gl = this.canvas.getContext('webgl', this.contextOptions);\r\n\r\n        GL.set(gl);\r\n\r\n        this.gl = gl;\r\n\r\n        this.elementIndexExtension = gl.getExtension('OES_element_index_uint');\r\n\r\n        this.getMaxTextures();\r\n\r\n        if (this.shader)\r\n        {\r\n            this.shader.gl = gl;\r\n        }\r\n\r\n        gl.disable(gl.DEPTH_TEST);\r\n        gl.disable(gl.CULL_FACE);\r\n\r\n        this.resize(this.width, this.height, this.resolution);\r\n    }\r\n\r\n    resize (width: number, height: number, resolution: number = 1)\r\n    {\r\n        this.width = width * resolution;\r\n        this.height = height * resolution;\r\n        this.resolution = resolution;\r\n    \r\n        const canvas = this.canvas;\r\n\r\n        canvas.width = this.width;\r\n        canvas.height = this.height;\r\n    \r\n        if (this.autoResize)\r\n        {\r\n            canvas.style.width = this.width / resolution + 'px';\r\n            canvas.style.height = this.height / resolution + 'px';\r\n        }\r\n    \r\n        this.gl.viewport(0, 0, this.width, this.height);\r\n\r\n        this.projectionMatrix = Ortho(width, height);\r\n    }\r\n\r\n    onContextLost (event)\r\n    {\r\n        event.preventDefault();\r\n\r\n        this.contextLost = true;\r\n    }\r\n\r\n    onContextRestored ()\r\n    {\r\n        this.contextLost = false;\r\n\r\n        this.initContext();\r\n    }\r\n\r\n    setBackgroundColor (color: number)\r\n    {\r\n        const clearColor = this.clearColor;\r\n\r\n        const r: number = color >> 16 & 0xFF;\r\n        const g: number = color >> 8 & 0xFF;\r\n        const b: number = color & 0xFF;\r\n        const a: number = (color > 16777215) ? color >>> 24 : 255;\r\n    \r\n        clearColor[0] = r / 255;\r\n        clearColor[1] = g / 255;\r\n        clearColor[2] = b / 255;\r\n        clearColor[3] = a / 255;\r\n\r\n        return this;\r\n    }\r\n\r\n    private getMaxTextures ()\r\n    {\r\n        const gl = this.gl;\r\n\r\n        let maxTextures: number = CheckShaderMaxIfStatements(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), gl);\r\n\r\n        const tempTextures = this.tempTextures;\r\n\r\n        if (tempTextures.length)\r\n        {\r\n            tempTextures.forEach(texture => {\r\n\r\n                gl.deleteTexture(texture);\r\n\r\n            });\r\n        }\r\n\r\n        //  Create temp textures to stop WebGL errors on mac os\r\n        for (let i: number = 0; i < maxTextures; i++)\r\n        {\r\n            let tempTexture = gl.createTexture();\r\n    \r\n            gl.activeTexture(gl.TEXTURE0 + i);\r\n    \r\n            gl.bindTexture(gl.TEXTURE_2D, tempTexture);\r\n    \r\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([ 0, 0, 255, 255 ]));\r\n\r\n            tempTextures[i] = tempTexture;\r\n        }\r\n\r\n        this.maxTextures = maxTextures;\r\n        \r\n        this.textureIndex = Array.from(Array(maxTextures).keys());\r\n        this.activeTextures = Array(maxTextures);\r\n\r\n        this.currentActiveTexture = 0;\r\n    }\r\n\r\n    reset (framebuffer: WebGLFramebuffer = null, width: number = this.width, height: number = this.height)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n        gl.viewport(0, 0, width, height);\r\n\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n        this.currentActiveTexture = 0;\r\n        this.startActiveTexture++;\r\n        this.flushTotal = 0;\r\n    }\r\n\r\n    render (sceneList: any[], dirtyFrame: number, dirtyCameras: number)\r\n    {\r\n        if (this.contextLost)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const gl = this.gl;\r\n        const flushTotal = this.flushTotal;\r\n\r\n        //  This is only here because if we don't do _something_ with the context, GL Spector can't see it.\r\n        //  Technically, we could move it below the dirty bail-out below.\r\n        this.reset();\r\n\r\n        //  Cache 1 - Nothing dirty? Display the previous frame\r\n        if (this.optimizeRedraw && dirtyFrame === 0 && dirtyCameras === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const shader = this.shader;\r\n        const cls = this.clearColor;\r\n\r\n        if (this.clearBeforeRender)\r\n        {\r\n            gl.clearColor(cls[0], cls[1], cls[2], cls[3]);\r\n            gl.clear(gl.COLOR_BUFFER_BIT);\r\n        }\r\n\r\n        const projectionMatrix = this.projectionMatrix;\r\n\r\n        //  Cache 2 - Only one dirty camera and one flush? We can re-use the buffers\r\n        /*\r\n        if (dirtyCameras === 1 && dirtyFrame === 0 && flushTotal === 1)\r\n        {\r\n            //  Total items rendered in the previous frame\r\n            const count = shader.prevCount;\r\n\r\n            shader.bind(projectionMatrix, sceneList[0].matrix);\r\n\r\n            shader.draw(count);\r\n\r\n            shader.prevCount = count;\r\n\r\n            this.flushTotal = 1;\r\n\r\n            return;\r\n        }\r\n        */\r\n\r\n        let prevCamera: ICamera;\r\n\r\n        for (let c: number = 0; c < sceneList.length; c += 2)\r\n        {\r\n            let camera: ICamera = sceneList[c];\r\n            let list: IGameObject[] = sceneList[c + 1];\r\n\r\n            //  This only needs rebinding if the camera matrix is different to before\r\n            if (!prevCamera || !Matrix2dEqual(camera.worldTransform, prevCamera.worldTransform))\r\n            {\r\n                shader.flush();\r\n\r\n                shader.bind(projectionMatrix, camera.matrix);\r\n\r\n                prevCamera = camera;\r\n            }\r\n\r\n            //  Process the render list\r\n            for (let i: number = 0; i < list.length; i++)\r\n            {\r\n                SpriteRenderWebGL(list[i] as ISprite, this, shader, this.startActiveTexture);\r\n            }\r\n        }\r\n\r\n        //  One final sweep\r\n        shader.flush();\r\n    }\r\n\r\n    resetTextures (texture?: Texture)\r\n    {\r\n        const gl = this.gl;\r\n        const active = this.activeTextures;\r\n\r\n        active.fill(null);\r\n\r\n        this.currentActiveTexture = 0;\r\n        this.startActiveTexture++;\r\n\r\n        if (texture)\r\n        {\r\n            //  Set this texture as texture0\r\n            active[0] = texture;\r\n\r\n            gl.activeTexture(gl.TEXTURE0);\r\n            gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n\r\n            this.currentActiveTexture = 1;\r\n        }\r\n    }\r\n\r\n    requestTexture (texture: Texture)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        texture.glIndexCounter = this.startActiveTexture;\r\n\r\n        if (this.currentActiveTexture < this.maxTextures)\r\n        {\r\n            //  Make this texture active\r\n            this.activeTextures[this.currentActiveTexture] = texture;\r\n\r\n            texture.glIndex = this.currentActiveTexture;\r\n\r\n            gl.activeTexture(gl.TEXTURE0 + this.currentActiveTexture);\r\n            gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n\r\n            this.currentActiveTexture++;\r\n        }\r\n        else\r\n        {\r\n            //  We're out of textures, so flush the batch and reset them all\r\n            this.shader.flush();\r\n\r\n            this.resetTextures(texture);\r\n        }\r\n    }\r\n}\r\n","import ISceneConfig from './ISceneConfig';\r\n\r\nexport default function GetConfigValue (config: ISceneConfig, property: string, defaultValue: any): any\r\n{\r\n    if (config.hasOwnProperty(property))\r\n    {\r\n        return config[property];\r\n    }\r\n    else\r\n    {\r\n        return defaultValue;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport IBaseScene from './IBaseScene';\r\nimport ISceneConfig from './ISceneConfig';\r\nimport GetConfigValue from './GetConfigValue';\r\nimport IBaseSceneConstructor from './IBaseSceneConstructor';\r\n\r\nexport default class SceneManager\r\n{\r\n    game: Game;\r\n\r\n    scenes: Map<string, IBaseScene>;\r\n\r\n    sceneIndex: number = 0;\r\n\r\n    //  Flush the cache\r\n    flush: boolean = false;\r\n\r\n    //  How many Cameras were made dirty this frame across all Scenes?\r\n    dirtyCameras: number = 0;\r\n\r\n    //  How many Game Objects were made dirty this frame across all Scenes?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects were processed this frame across all Scenes?\r\n    totalFrame: number = 0;\r\n\r\n    renderList: any[];\r\n    \r\n    constructor (game: Game)\r\n    {\r\n        this.game = game;\r\n\r\n        this.scenes = new Map();\r\n\r\n        this.renderList = [];\r\n    }\r\n\r\n    boot (scenes: any[] | IBaseScene[])\r\n    {\r\n        scenes.forEach(scene => {\r\n\r\n            this.add(scene);\r\n\r\n        });\r\n    }\r\n\r\n    add (scene: IBaseSceneConstructor)\r\n    {\r\n        const instance = new scene();\r\n\r\n        //  At this point the act of creating a new instance of the Scene\r\n        //  will have invoked the init method below, so we can now safely\r\n        //  add the Scene into our Map\r\n\r\n        if (instance.willUpdate)\r\n        {\r\n            instance.boot.call(instance);\r\n        }\r\n    }\r\n\r\n    init (scene: IBaseScene, config: string | ISceneConfig = {})\r\n    {\r\n        const size = this.scenes.size;\r\n        const sceneIndex = this.sceneIndex;\r\n        const firstScene: boolean = (size === 0);\r\n\r\n        if (typeof config === 'string')\r\n        {\r\n            scene.key = config;\r\n        }\r\n        else if (config || (!config && firstScene))\r\n        {\r\n            scene.key = GetConfigValue(config, 'key', 'scene' + sceneIndex) as string;\r\n            scene.willUpdate = GetConfigValue(config, 'willUpdate', firstScene) as boolean;\r\n            scene.willRender = GetConfigValue(config, 'willRender', firstScene) as boolean;\r\n        }\r\n\r\n        if (this.scenes.has(scene.key))\r\n        {\r\n            console.warn('Scene key already in use: ' + scene.key);\r\n        }\r\n        else\r\n        {\r\n            this.scenes.set(scene.key, scene);\r\n\r\n            this.flush = true;\r\n\r\n            this.sceneIndex++;\r\n        }\r\n    }\r\n\r\n    update (delta: number, now: number)\r\n    {\r\n        for (const scene of this.scenes.values())\r\n        {\r\n            if (scene.willUpdate)\r\n            {\r\n                scene.update.call(scene, delta, now);\r\n\r\n                scene.world.update(delta, now);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): [ any[], number, number ]\r\n    {\r\n        const renderList = this.renderList;\r\n\r\n        renderList.length = 0;\r\n\r\n        this.dirtyCameras = 0;\r\n        this.dirtyFrame = 0;\r\n        this.totalFrame = 0;\r\n\r\n        for (let scene of this.scenes.values())\r\n        {\r\n            if (scene.willRender)\r\n            {\r\n                let world = scene.world;\r\n\r\n                this.dirtyFrame += world.render(gameFrame);\r\n                this.totalFrame += world.totalFrame;\r\n\r\n                if (world.renderList.length === 0)\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                if (world.camera.dirtyRender)\r\n                {\r\n                    this.dirtyCameras++;\r\n\r\n                    world.camera.dirtyRender = false;\r\n                }\r\n    \r\n                renderList.push(world.camera);\r\n                renderList.push(world.renderList);\r\n            }\r\n        }\r\n\r\n        if (this.flush)\r\n        {\r\n            //  Invalidate the renderer cache\r\n            this.dirtyFrame++;\r\n\r\n            //  And reset\r\n            this.flush = false;\r\n        }\r\n\r\n        return [ renderList, this.dirtyFrame, this.dirtyCameras ];\r\n    }\r\n}\r\n","class EE\r\n{\r\n    callback: Function;\r\n    context: any;\r\n    once: boolean;\r\n\r\n    constructor (callback: Function, context: any, once: boolean = false)\r\n    {\r\n        this.callback = callback;\r\n        this.context = context;\r\n        this.once = once;\r\n    }\r\n}\r\n\r\nexport default class EventEmitter\r\n{\r\n    private _events: Map<string, Set<EE>>;\r\n\r\n    constructor ()\r\n    {\r\n        this._events = new Map();\r\n    }\r\n\r\n    on (event: string, callback: Function, context: any = this, once: boolean = false)\r\n    {\r\n        if (typeof callback !== 'function')\r\n        {\r\n            throw new TypeError('The listener must be a function');\r\n        }\r\n\r\n        const listener = new EE(callback, context, once);\r\n        const listeners = this._events.get(event);\r\n\r\n        if (!listeners)\r\n        {\r\n            this._events.set(event, new Set([ listener ]));\r\n        }\r\n        else\r\n        {\r\n            listeners.add(listener);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    once (event: string, callback: Function, context: any = this)\r\n    {\r\n        return this.on(event, callback, context, true);\r\n    }\r\n\r\n    /**\r\n     * Clear an event by name.\r\n     */\r\n    clearEvent (event: string)\r\n    {\r\n        this._events.delete(event);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Return an array listing the events for which the emitter has registered listeners.\r\n     */\r\n    eventNames (): string[]\r\n    {\r\n        return [ ...this._events.keys() ];\r\n    }\r\n\r\n    /**\r\n     * Return the listeners registered for a given event.\r\n     */\r\n    listeners (event: string): Function[]\r\n    {\r\n        const out = [];\r\n\r\n        const listeners = this._events.get(event);\r\n\r\n        listeners.forEach((ee) => {\r\n\r\n            out.push(ee.callback);\r\n\r\n        });\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Return the number of listeners listening to a given event.\r\n     */\r\n    listenerCount (event: string): number\r\n    {\r\n        const listeners = this._events.get(event);\r\n\r\n        return (listeners) ? listeners.size : 0;\r\n    }\r\n\r\n    /**\r\n     * Calls each of the listeners registered for a given event.\r\n     */\r\n    emit (event: string, ...args: any[]): boolean\r\n    {\r\n        if (!this._events.has(event))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        const listeners = this._events.get(event);\r\n\r\n        for (const ee of listeners)\r\n        {\r\n            ee.callback.apply(ee.context, args);\r\n\r\n            if (ee.once)\r\n            {\r\n                listeners.delete(ee);\r\n            }\r\n        }\r\n\r\n        if (listeners.size === 0)\r\n        {\r\n            this._events.delete(event);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove the listeners of a given event.\r\n     * \r\n     * @param event \r\n     * @param callback \r\n     * @param context \r\n     * @param once \r\n     */\r\n    off (event: string, callback?: Function, context?: any, once?: boolean)\r\n    {\r\n        if (!callback)\r\n        {\r\n            //  Remove all events matching the given key\r\n            this._events.delete(event);\r\n        }\r\n        else\r\n        {\r\n            const listeners = this._events.get(event);\r\n            const hasContext: boolean = !context;\r\n            const hasOnce: boolean = (once !== undefined);\r\n\r\n            for (const ee of listeners)\r\n            {\r\n                if (ee.callback === callback && (hasContext && ee.context === console) && (hasOnce && ee.once === once))\r\n                {\r\n                    listeners.delete(ee);\r\n                }\r\n            }\r\n\r\n            if (listeners.size === 0)\r\n            {\r\n                this._events.delete(event);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove all listeners, or those of the specified event.\r\n     * \r\n     * @param event \r\n     */\r\n    removeAllListeners (event?: string)\r\n    {\r\n        if (!event)\r\n        {\r\n            this._events.clear();\r\n        }\r\n        else\r\n        {\r\n            this._events.delete(event);\r\n        }\r\n    }\r\n}\r\n","import { AddToDOM, DOMContentLoaded } from './dom';\r\nimport WebGLRenderer from './renderer/WebGLRenderer';\r\nimport SceneManager from './scenes/SceneManager';\r\nimport TextureManager from './textures/TextureManager';\r\nimport IGameConfig from './IGameConfig';\r\nimport EventEmitter from './core/EventEmitter';\r\nimport GameInstance from './GameInstance';\r\n\r\nexport default class Game extends EventEmitter\r\n{\r\n    VERSION: string = '4.0.0-beta1';\r\n\r\n    config: IGameConfig;\r\n\r\n    isPaused: boolean = false;\r\n    isBooted: boolean = false;\r\n\r\n    scenes: SceneManager;\r\n    textures: TextureManager;\r\n    renderer: WebGLRenderer;\r\n    cache: { json: Map<string, any>; csv: Map<string, any>; xml: Map<string, any>; };\r\n\r\n    private lastTick: number;\r\n    lifetime: number = 0;\r\n    elapsed: number = 0;\r\n\r\n    //  The current game frame\r\n    frame: number = 0;\r\n\r\n    constructor (config?: IGameConfig)\r\n    {\r\n        super();\r\n\r\n        const {\r\n            width = 800,\r\n            height = 600,\r\n            resolution = 1,\r\n            backgroundColor = 0x00000,\r\n            parent = document.body,\r\n            scene = null\r\n        } = config;\r\n\r\n        this.config = { width, height, resolution, backgroundColor, parent, scene };\r\n\r\n        this.cache = {\r\n            json: new Map(),\r\n            csv: new Map(),\r\n            xml: new Map()\r\n        };\r\n\r\n        GameInstance.set(this);\r\n\r\n        DOMContentLoaded(() => this.boot());\r\n    }\r\n\r\n    pause ()\r\n    {\r\n        this.isPaused = true;\r\n\r\n        this.emit('pause');\r\n    }\r\n\r\n    resume ()\r\n    {\r\n        this.isPaused = false;\r\n\r\n        this.lastTick = Date.now();\r\n\r\n        this.emit('resume');\r\n    }\r\n\r\n    boot ()\r\n    {\r\n        const config = this.config;\r\n\r\n        this.isBooted = true;\r\n        this.lastTick = Date.now();\r\n\r\n        const renderer = new WebGLRenderer(config.width, config.height, config.resolution);\r\n\r\n        renderer.setBackgroundColor(config.backgroundColor);\r\n\r\n        AddToDOM(renderer.canvas, config.parent);\r\n\r\n        this.renderer = renderer;\r\n        this.textures = new TextureManager();\r\n        this.scenes = new SceneManager(this);\r\n\r\n        this.banner(this.VERSION);\r\n\r\n        this.scenes.boot([].concat(config.scene));\r\n\r\n        //  Visibility API\r\n        document.addEventListener('visibilitychange', () => {\r\n\r\n            this.emit('visibilitychange', document.hidden);\r\n\r\n            if (document.hidden)\r\n            {\r\n                this.pause();\r\n            }\r\n            else\r\n            {\r\n                this.resume();\r\n            }\r\n\r\n        });\r\n\r\n        // window.addEventListener('blur', () => this.pause());\r\n        // window.addEventListener('focus', () => this.resume());\r\n\r\n        this.emit('boot');\r\n\r\n        requestAnimationFrame(() => this.step());\r\n    }\r\n\r\n    banner (version: string)\r\n    {\r\n        console.log(\r\n            '%cPhaser v' + version + '%c https://phaser4.io',\r\n            'padding: 4px 16px; color: #fff; background: linear-gradient(#3e0081 40%, #00bcc3)',\r\n            ''\r\n        );\r\n    }\r\n\r\n    step ()\r\n    {\r\n        const now = Date.now();\r\n        const delta = now - this.lastTick;\r\n\r\n        const dt = delta / 1000;\r\n\r\n        this.lifetime += dt;\r\n        this.elapsed = dt;\r\n        this.lastTick = now;\r\n    \r\n        this.emit('step', dt, now);\r\n\r\n        const sceneManager = this.scenes;\r\n\r\n        if (!this.isPaused)\r\n        {\r\n            sceneManager.update(dt, now);\r\n        }\r\n\r\n        this.emit('update', dt, now);\r\n\r\n        //  TODO: Optimize to remove const and array creation here:\r\n        const [ renderList, dirtyFrame, dirtyCameras ] = sceneManager.render(this.frame);\r\n\r\n        this.renderer.render(renderList, dirtyFrame, dirtyCameras);\r\n\r\n        this.emit('render', dt, now);\r\n\r\n        //  The frame always advances by 1 each step (even when paused)\r\n        this.frame++;\r\n\r\n        requestAnimationFrame(() => this.step());\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        //  TODO\r\n    }\r\n\r\n}\r\n","import TransformGameObject from '../gameobjects/transformgameobject/TransformGameObject';\r\nimport WebGLRenderer from '../renderer/WebGLRenderer';\r\nimport GameInstance from '../GameInstance';\r\n\r\nexport default class Camera extends TransformGameObject\r\n{\r\n    matrix: Float32Array;\r\n    renderer: WebGLRenderer;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.type = 'Camera';\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.renderer = game.renderer;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    updateTransform ()\r\n    {\r\n        if (!this.renderer)\r\n        {\r\n            return this;\r\n        }\r\n\r\n        this.dirtyRender = true;\r\n\r\n        const lt = this.localTransform;\r\n        const wt = this.worldTransform;\r\n\r\n        lt.tx = 0 - this.x;\r\n        lt.ty = 0 - this.y;\r\n\r\n        const mat = this.matrix;\r\n        const { a, b, c, d, tx, ty } = lt;\r\n\r\n        const viewportW = this.renderer.width * this.originX;\r\n        const viewportH = this.renderer.height * this.originY;\r\n\r\n        mat[0] = a;\r\n        mat[1] = b;\r\n        mat[4] = c;\r\n        mat[5] = d;\r\n\r\n        //  combines viewport translation + scrollX/Y\r\n\r\n        const worldX = (a * -viewportW) + (c * -viewportH) + (viewportW + tx);\r\n        const worldY = (b * -viewportW) + (d * -viewportH) + (viewportH + ty);\r\n\r\n        mat[12] = worldX;\r\n        mat[13] = worldY;\r\n\r\n        //  Store in worldTransform\r\n        wt.set(\r\n            a, b, c, d, worldX, worldY\r\n        );\r\n\r\n        // mat[12] = viewportW + tx; // combines translation to center of viewport + scrollX\r\n        // mat[13] = viewportH + ty; // combines translation to center of viewport + scrollY\r\n        // this.translate(-viewportW, -viewportH);\r\n        // console.log(mat);\r\n\r\n        this.bounds.x = worldX * -1;\r\n        this.bounds.y = worldY * -1;\r\n\r\n        return this;\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        this.matrix = new Float32Array([ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]);\r\n\r\n        const width = this.renderer.width;\r\n        const height = this.renderer.height;\r\n\r\n        this.setSize(width, height);\r\n        this.setBounds(0, 0, width, height);\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        super.destroy();\r\n\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n    }\r\n}\r\n","import Rectangle from '../Rectangle';\r\n\r\nexport default function RectangleToRectangle (rectA: Rectangle, rectB: Rectangle): boolean\r\n{\r\n    if (rectA.width <= 0 || rectA.height <= 0 || rectB.width <= 0 || rectB.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return !(rectA.right < rectB.x || rectA.bottom < rectB.y || rectA.x > rectB.right || rectA.y > rectB.bottom);\r\n};\r\n","import Camera from '../camera/Camera';\r\nimport Scene from '../scenes/Scene';\r\nimport RectangleToRectangle from '../geom/intersection/RectangleToRectangle';\r\nimport IGameObject from '../gameobjects/gameobject/IGameObject';\r\nimport IContainer from '../gameobjects/container/IContainer';\r\nimport Matrix2D from '../math/matrix2d/Matrix2D';\r\n\r\nexport default class World\r\n{\r\n    scene: Scene;\r\n\r\n    children: IGameObject[];\r\n\r\n    camera: Camera;\r\n\r\n    //  How many Game Objects were made dirty this frame?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects will be rendered this frame? (are in-bounds)\r\n    totalFrame: number = 0;\r\n\r\n    //  How many Game Objects passed `willRender` this frame? (but may not have been in bounds)\r\n    visibleFrame: number = 0;\r\n\r\n    //  How many Game Objects were out of bounds this frame?\r\n    boundsFrame: number = 0;\r\n\r\n    //  A list of Game Objects that will be rendered in the next pass\r\n    private renderList: IGameObject[];\r\n\r\n    forceRefresh: boolean = false;\r\n\r\n    enableCameraCull: boolean = true;\r\n\r\n    worldTransform: Matrix2D;\r\n\r\n    constructor (scene: Scene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.children = [];\r\n        this.renderList = [];\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.camera = new Camera();\r\n    }\r\n\r\n    private scanChildren (root: IContainer | World, gameFrame: number)\r\n    {\r\n        const children = root.children;\r\n\r\n        for (let i: number = 0; i < children.length; i++)\r\n        {\r\n            this.buildRenderList(children[i], gameFrame);\r\n        }\r\n    }\r\n\r\n    private buildRenderList (root: IGameObject, gameFrame: number)\r\n    {\r\n        if (root.isRenderable())\r\n        {\r\n            const cull = this.enableCameraCull;\r\n\r\n            if (!cull || (cull && RectangleToRectangle(root.getBounds(), this.camera.bounds)))\r\n            {\r\n                this.renderList.push(root);\r\n\r\n                if (root.dirtyFrame >= gameFrame)\r\n                {\r\n                    this.dirtyFrame++;\r\n                }\r\n            }\r\n\r\n            this.visibleFrame++;\r\n        }\r\n\r\n        if (root.isParent && root.visible)\r\n        {\r\n            this.scanChildren(root as IContainer, gameFrame);\r\n        }\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): number\r\n    {\r\n        this.dirtyFrame = 0;\r\n        this.boundsFrame = 0;\r\n        this.visibleFrame = 0;\r\n        this.renderList.length = 0;\r\n\r\n        this.scanChildren(this, gameFrame);\r\n\r\n        this.totalFrame = this.renderList.length;\r\n\r\n        if (this.forceRefresh)\r\n        {\r\n            this.dirtyFrame++;\r\n            this.forceRefresh = false;\r\n        }\r\n\r\n        return this.dirtyFrame;\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        // this.removeChildren();\r\n\r\n        this.renderList = [];\r\n\r\n        this.camera.reset();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.camera.destroy();\r\n\r\n        this.camera = null;\r\n        this.renderList = null;\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport GameInstance from '../GameInstance';\r\nimport World from '../world/World';\r\nimport ISceneConfig from './ISceneConfig';\r\n\r\nexport default class Scene\r\n{\r\n    key: string;\r\n    willUpdate: boolean = false;\r\n    willRender: boolean = false;\r\n    game: Game;\r\n    world: World;\r\n\r\n    constructor (config?: string | ISceneConfig)\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        this.world = new World(this);\r\n\r\n        this.game.scenes.init(this, config);\r\n    }\r\n\r\n    boot ()\r\n    {\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.world.destroy();\r\n\r\n        this.world = null;\r\n        this.game = null;\r\n    }\r\n}\r\n","import WebGLRenderer from '../renderer/WebGLRenderer';\r\nimport Rectangle from '../geom/Rectangle';\r\nimport IBaseScene from '../scenes/IBaseScene';\r\n\r\nexport default class StaticCamera\r\n{\r\n    scene: IBaseScene;\r\n    matrix: Float32Array;\r\n    renderer: WebGLRenderer;\r\n\r\n    width: number;\r\n    height: number;\r\n    bounds: Rectangle;\r\n\r\n    constructor (scene: IBaseScene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.renderer = scene.game.renderer;\r\n\r\n        this.matrix = new Float32Array([ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ]);\r\n\r\n        this.bounds = new Rectangle();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        const width = this.renderer.width;\r\n        const height = this.renderer.height;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.bounds.set(0, 0, width, height);\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.scene = null;\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n        this.bounds = null;\r\n    }\r\n}\r\n","import IGameObject from '../gameobjects/gameobject/IGameObject';\r\nimport StaticCamera from '../camera/StaticCamera';\r\nimport IContainer from '../gameobjects/container/IContainer';\r\nimport StaticScene from '../scenes/StaticScene';\r\nimport Matrix2D from '../math/matrix2d/Matrix2D';\r\n\r\n//  A Static World is designed specifically to have a bounds of a fixed size\r\n//  and a camera that doesn't move at all (no scrolling, rotation, etc)\r\n//  Because it has a fixed size, there is no camera culling enabled.\r\n//  Games that use this kind of world include Pacman, Bejeweled and 2048.\r\n\r\nexport default class StaticWorld\r\n{\r\n    scene: StaticScene;\r\n\r\n    children: IGameObject[];\r\n\r\n    camera: StaticCamera;\r\n\r\n    //  How many Game Objects were made dirty this frame?\r\n    dirtyFrame: number = 0;\r\n\r\n    //  How many Game Objects will be rendered this frame? (are in-bounds)\r\n    totalFrame: number = 0;\r\n\r\n    //  How many Game Objects passed `willRender` this frame? (but may not have been in bounds)\r\n    visibleFrame: number = 0;\r\n\r\n    //  A list of Game Objects that will be rendered in the next pass\r\n    private renderList: IGameObject[];\r\n\r\n    forceRefresh: boolean = false;\r\n\r\n    worldTransform: Matrix2D;\r\n\r\n    constructor (scene: StaticScene)\r\n    {\r\n        this.scene = scene;\r\n\r\n        this.children = [];\r\n        this.renderList = [];\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.camera = new StaticCamera(scene);\r\n    }\r\n\r\n    private scanChildren (root: IContainer | StaticWorld, gameFrame: number)\r\n    {\r\n        const children = root.children;\r\n\r\n        for (let i: number = 0; i < children.length; i++)\r\n        {\r\n            this.buildRenderList(children[i], gameFrame);\r\n        }\r\n    }\r\n\r\n    private buildRenderList (root: IGameObject, gameFrame: number)\r\n    {\r\n        if (root.isRenderable())\r\n        {\r\n            this.renderList.push(root);\r\n\r\n            if (root.dirtyFrame >= gameFrame)\r\n            {\r\n                this.dirtyFrame++;\r\n            }\r\n\r\n            this.visibleFrame++;\r\n        }\r\n\r\n        if (root.isParent && root.visible)\r\n        {\r\n            this.scanChildren(root as IContainer, gameFrame);\r\n        }\r\n    }\r\n\r\n    update (delta?: number, time?: number)\r\n    {\r\n        const children = this.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            let child = children[i];\r\n\r\n            if (child && child.willUpdate)\r\n            {\r\n                child.update(delta, time);\r\n            }\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): number\r\n    {\r\n        this.dirtyFrame = 0;\r\n        this.visibleFrame = 0;\r\n        this.renderList.length = 0;\r\n\r\n        this.scanChildren(this, gameFrame);\r\n\r\n        this.totalFrame = this.renderList.length;\r\n\r\n        if (this.forceRefresh)\r\n        {\r\n            this.dirtyFrame++;\r\n            this.forceRefresh = false;\r\n        }\r\n\r\n        return this.dirtyFrame;\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        // this.removeChildren();\r\n\r\n        this.renderList = [];\r\n\r\n        this.camera.reset();\r\n    }\r\n\r\n    destroy ()\r\n    {\r\n        this.camera.destroy();\r\n\r\n        this.camera = null;\r\n        this.renderList = null;\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n}\r\n","import Game from '../Game';\r\nimport GameInstance from '../GameInstance';\r\nimport ISceneConfig from './ISceneConfig';\r\nimport StaticWorld from '../world/StaticWorld';\r\n\r\nexport default class StaticScene\r\n{\r\n    key: string;\r\n    willUpdate: boolean = false;\r\n    willRender: boolean = false;\r\n    game: Game;\r\n    world: StaticWorld;\r\n\r\n    constructor (config?: string | ISceneConfig)\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        this.world = new StaticWorld(this);\r\n\r\n        this.game.scenes.init(this, config);\r\n    }\r\n\r\n    boot ()\r\n    {\r\n    }\r\n\r\n    update ()\r\n    {\r\n    }\r\n\r\n    render ()\r\n    {\r\n    }\r\n\r\n    shutdown ()\r\n    {\r\n    }\r\n    \r\n    destroy ()\r\n    {\r\n        this.world.destroy();\r\n\r\n        this.world = null;\r\n        this.game = null;\r\n    }\r\n}\r\n","import File from './File';\r\nimport EventEmitter from '../core/EventEmitter';\r\n\r\nexport default class Loader extends EventEmitter\r\n{\r\n    baseURL: string = '';\r\n    path: string = '';\r\n    crossOrigin: string = 'anonymous';\r\n\r\n    //  -1 means load everything at once (only recommended on http/2 servers)\r\n    maxParallelDownloads: number = -1;\r\n\r\n    isLoading: boolean = false;\r\n    progress: number;\r\n\r\n    queue: Set<File>;\r\n    inflight: Set<File>;\r\n    completed: Set<File>;\r\n\r\n    onComplete: Function;\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset ()\r\n    {\r\n        this.isLoading = false;\r\n\r\n        this.queue = new Set();\r\n        this.inflight = new Set();\r\n        this.completed = new Set();\r\n\r\n        this.progress = 0;\r\n    }\r\n\r\n    add (...file: File[]): this\r\n    {\r\n        file.forEach(entity => {\r\n\r\n            entity.loader = this;\r\n\r\n            this.queue.add(entity);\r\n    \r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    start (onComplete: Function): this\r\n    {\r\n        if (this.isLoading)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.completed.clear();\r\n        this.progress = 0;\r\n\r\n        if (this.queue.size > 0)\r\n        {\r\n            this.isLoading = true;\r\n\r\n            this.onComplete = onComplete;\r\n\r\n            this.emit('start');\r\n\r\n            this.nextFile();\r\n        }\r\n        else\r\n        {\r\n            this.progress = 1;\r\n\r\n            this.emit('complete');\r\n\r\n            onComplete();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    nextFile ()\r\n    {\r\n        let limit = this.queue.size;\r\n\r\n        if (this.maxParallelDownloads !== -1)\r\n        {\r\n            limit = Math.min(limit, this.maxParallelDownloads) - this.inflight.size;\r\n        }\r\n\r\n        if (limit)\r\n        {\r\n            // console.log('Batching', limit, 'files to download');\r\n\r\n            const iterator = this.queue.values();\r\n\r\n            while (limit > 0)\r\n            {\r\n                const file = iterator.next().value;\r\n\r\n                // console.log('Loader.nextFile', file.key, '=>', file.url);\r\n    \r\n                this.inflight.add(file);\r\n    \r\n                this.queue.delete(file);\r\n    \r\n                file.load().then((file: File) => this.fileComplete(file)).catch((file: File) => this.fileError(file));\r\n\r\n                limit--;\r\n            }\r\n        }\r\n        else if (this.inflight.size === 0)\r\n        {\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    stop ()\r\n    {\r\n        this.isLoading = false;\r\n\r\n        this.emit('complete', this.completed);\r\n\r\n        this.onComplete();\r\n\r\n        this.completed.clear();\r\n    }\r\n\r\n    private updateProgress (file: File)\r\n    {\r\n        this.inflight.delete(file);\r\n        this.completed.add(file);\r\n\r\n        const totalCompleted = this.completed.size;\r\n        const totalQueued = this.queue.size + this.inflight.size;\r\n\r\n        if (totalCompleted > 0)\r\n        {\r\n            this.progress = totalCompleted / (totalCompleted + totalQueued);\r\n        }\r\n\r\n        this.emit('progress', this.progress, totalCompleted, totalQueued);\r\n\r\n        this.nextFile();\r\n    }\r\n\r\n    private fileComplete (file: File)\r\n    {\r\n        this.emit('filecomplete', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    private fileError (file: File)\r\n    {\r\n        this.emit('fileerror', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    totalFilesToLoad (): number\r\n    {\r\n        return this.queue.size + this.inflight.size;\r\n    }\r\n\r\n    setBaseURL (url: string = ''): this\r\n    {\r\n        if (url !== '' && url.substr(-1) !== '/')\r\n        {\r\n            url = url.concat('/');\r\n        }\r\n\r\n        this.baseURL = url;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPath (path: string = ''): this\r\n    {\r\n        if (path !== '' && path.substr(-1) !== '/')\r\n        {\r\n            path = path.concat('/');\r\n        }\r\n\r\n        this.path = path;\r\n\r\n        return this;\r\n    }\r\n\r\n    setCORS (crossOrigin: string): this\r\n    {\r\n        this.crossOrigin = crossOrigin;\r\n\r\n        return this;\r\n    }\r\n\r\n    setMaxParallelDownloads (max: number): this\r\n    {\r\n        this.maxParallelDownloads = max;\r\n\r\n        return this;\r\n    }\r\n}\r\n"],"names":["get","set","Add","Rotate","Scale","Translate","Invert","Multiply","MultiplyScalar","MultiplyScalarAndAdd","Subtract","Zero","Vec2","SpriteRenderWebGL","Matrix2dEqual"],"mappings":"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"}