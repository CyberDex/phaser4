{
  "version": 3,
  "sources": ["src/index.ts", "src/GameInstance.ts", "src/utils/array/matrix/CheckMatrix.ts", "src/utils/array/matrix/MatrixToString.ts", "src/utils/array/matrix/ReverseColumns.ts", "src/utils/array/matrix/ReverseRows.ts", "src/utils/array/matrix/TransposeMatrix.ts", "src/utils/array/matrix/RotateMatrix.ts", "src/utils/array/matrix/Rotate180.ts", "src/utils/array/matrix/RotateLeft.ts", "src/utils/array/matrix/RotateRight.ts", "src/utils/array/matrix/index.ts", "src/utils/array/GetRandom.ts", "src/utils/array/NumberArray.ts", "src/math/RoundAwayFromZero.ts", "src/utils/array/NumberArrayStep.ts", "src/utils/array/index.ts", "src/utils/base64/ArrayBufferToBase64.ts", "src/utils/base64/Base64ToArrayBuffer.ts", "src/utils/base64/index.ts", "src/utils/string/UppercaseFirst.ts", "src/utils/string/index.ts", "src/utils/NOOP.ts", "src/utils/index.ts", "src/math/mat4/Matrix4.ts", "src/math/mat4/Add.ts", "src/math/mat4/AddTranslationFromFloats.ts", "src/math/mat4/Adjoint.ts", "src/math/mat4/Clone.ts", "src/math/mat4/CopyFrom.ts", "src/math/mat4/CopyPosition.ts", "src/math/mat4/Determinant.ts", "src/math/mat4/Equals.ts", "src/math/mat4/Frobenius.ts", "src/math/mat4/FromQuat.ts", "src/math/mat4/FromRotation.ts", "src/math/mat4/FromRotationTranslation.ts", "src/math/mat4/FromRotationTranslationScale.ts", "src/math/mat4/FromRotationTranslationScaleOrigin.ts", "src/math/mat4/FromRotationXYTranslation.ts", "src/math/mat4/FromScaling.ts", "src/math/mat4/FromTranslation.ts", "src/math/mat4/FromXRotation.ts", "src/math/mat4/FromYRotation.ts", "src/math/mat4/FromZRotation.ts", "src/math/mat4/Frustum.ts", "src/math/vec3/Vec3.ts", "src/math/mat4/GetScaling.ts", "src/math/quaternion/Quaternion.ts", "src/math/mat4/GetRotation.ts", "src/math/mat4/GetTranslation.ts", "src/math/mat4/Identity.ts", "src/math/mat4/Invert.ts", "src/math/mat4/LookAt.ts", "src/math/mat4/Multiply.ts", "src/math/mat4/MultiplyScalar.ts", "src/math/mat4/MultiplyScalarAndAdd.ts", "src/math/mat4/Ortho.ts", "src/math/mat4/Perspective.ts", "src/math/mat4/PerspectiveFromFieldOfView.ts", "src/math/mat4/Rotate.ts", "src/math/mat4/RotateX.ts", "src/math/mat4/RotateY.ts", "src/math/mat4/RotateZ.ts", "src/math/mat4/Scale.ts", "src/math/mat4/SetTranslation.ts", "src/math/mat4/SetTranslationFromFloats.ts", "src/math/mat4/Subtract.ts", "src/math/mat4/TargetTo.ts", "src/math/mat4/Translate.ts", "src/math/mat4/TranslateFromFloats.ts", "src/math/mat4/Transpose.ts", "src/math/mat4/Zero.ts", "src/math/mat4/index.ts", "src/math/matrix2d/Matrix2D.ts", "src/geom/rectangle/Contains.ts", "src/geom/rectangle/Rectangle.ts", "src/math/vec2/Vec2.ts", "src/math/vec2/Vec2Callback.ts", "src/math/angle/AngleBetween.ts", "src/math/angle/AngleBetweenY.ts", "src/math/const.ts", "src/math/angle/CounterClockwise.ts", "src/math/angle/NormalizeAngle.ts", "src/math/angle/ReverseAngle.ts", "src/math/angle/RotateAngleTo.ts", "src/math/angle/ShortestAngleBetween.ts", "src/math/Wrap.ts", "src/math/angle/WrapAngle.ts", "src/math/angle/WrapAngleDegrees.ts", "src/math/angle/index.ts", "src/camera/Camera.ts", "src/camera/StaticCamera.ts", "src/camera/index.ts", "src/math/vec3/Backward.ts", "src/math/vec3/Down.ts", "src/math/vec3/Forward.ts", "src/math/vec3/Left.ts", "src/math/vec3/Right.ts", "src/math/vec3/Up.ts", "src/math/vec3/Zero.ts", "src/math/vec3/const.ts", "src/math/vec3/Abs.ts", "src/math/vec3/Add.ts", "src/math/vec3/AddScalar.ts", "src/math/vec3/Dot.ts", "src/math/vec3/Angle.ts", "src/math/Bezier.ts", "src/math/vec3/Bezier.ts", "src/math/CatmullRom.ts", "src/math/vec3/CatmullRom.ts", "src/math/vec3/Ceil.ts", "src/math/vec3/Scale.ts", "src/math/vec3/Center.ts", "src/math/Clamp.ts", "src/math/vec3/Clamp.ts", "src/math/vec3/DivideScalar.ts", "src/math/vec3/Length.ts", "src/math/vec3/ClampLength.ts", "src/math/vec3/ClampScalar.ts", "src/math/vec3/Clone.ts", "src/math/vec3/CopyFrom.ts", "src/math/vec3/Cross.ts", "src/math/vec3/CrossNormalize.ts", "src/math/vec3/DistanceSquared.ts", "src/math/vec3/Distance.ts", "src/math/vec3/Divide.ts", "src/math/vec3/Equals.ts", "src/math/vec3/Floor.ts", "src/math/vec3/Fract.ts", "src/math/fuzzy/FuzzyEqual.ts", "src/math/vec3/FuzzyEquals.ts", "src/math/Hermite.ts", "src/math/vec3/Hermite.ts", "src/math/vec3/Inverse.ts", "src/math/vec3/IsNonUniform.ts", "src/math/vec3/LengthSquared.ts", "src/math/vec3/Lerp.ts", "src/math/vec3/ManhattanDistance.ts", "src/math/vec3/ManhattanLength.ts", "src/math/vec3/Max.ts", "src/math/vec3/Min.ts", "src/math/vec3/Multiply.ts", "src/math/vec3/MultiplyByFloats.ts", "src/math/vec3/Negate.ts", "src/math/vec3/Normalize.ts", "src/math/vec3/One.ts", "src/math/vec3/TransformMat4.ts", "src/math/vec3/Project.ts", "src/math/vec3/Vec3Callback.ts", "src/math/vec3/RGBCallback.ts", "src/math/vec3/Random.ts", "src/math/vec3/Subtract.ts", "src/math/vec3/Reflect.ts", "src/math/vec3/RotateX.ts", "src/math/vec3/RotateY.ts", "src/math/vec3/RotateZ.ts", "src/math/vec3/Round.ts", "src/math/vec3/RoundToZero.ts", "src/math/vec3/ScaleAndAdd.ts", "src/math/vec3/SetFromCylindricalCoords.ts", "src/math/vec3/SetFromSphericalCoords.ts", "src/math/vec3/SetLength.ts", "src/math/vec3/SubtractScalar.ts", "src/math/vec3/TransformMat4Zero.ts", "src/math/vec3/TransformQuat.ts", "src/math/vec3/Unproject.ts", "src/math/vec3/index.ts", "src/math/quaternion/Add.ts", "src/math/quaternion/AddScalar.ts", "src/math/quaternion/Dot.ts", "src/math/quaternion/AngleTo.ts", "src/math/quaternion/AreClose.ts", "src/math/quaternion/Clone.ts", "src/math/quaternion/Conjugate.ts", "src/math/quaternion/CopyFrom.ts", "src/math/quaternion/Equals.ts", "src/math/quaternion/RotationYawPitchRoll.ts", "src/math/quaternion/FromEulerAngles.ts", "src/math/quaternion/FromEulerVector.ts", "src/math/quaternion/FromRotationAxis.ts", "src/math/quaternion/FromRotationMatrix.ts", "src/math/quaternion/FuzzyEquals.ts", "src/math/quaternion/GetAngle.ts", "src/math/quaternion/GetAxisAngle.ts", "src/math/quaternion/Hermite.ts", "src/math/quaternion/Invert.ts", "src/math/quaternion/Length.ts", "src/math/quaternion/LengthSquared.ts", "src/math/quaternion/Multiply.ts", "src/math/quaternion/MultiplyByFloats.ts", "src/math/quaternion/Scale.ts", "src/math/quaternion/Normalize.ts", "src/math/quaternion/Slerp.ts", "src/math/quaternion/RotateTowards.ts", "src/math/quaternion/RotateX.ts", "src/math/quaternion/RotateY.ts", "src/math/quaternion/RotateZ.ts", "src/math/quaternion/RotationAlphaBetaGamma.ts", "src/math/quaternion/ScaleAndAdd.ts", "src/math/quaternion/SetAxisAngle.ts", "src/math/quaternion/SetFromUnitVectors.ts", "src/math/quaternion/Subtract.ts", "src/math/quaternion/SubtractScalar.ts", "src/math/quaternion/ToEulerAngles.ts", "src/math/quaternion/Zero.ts", "src/math/quaternion/index.ts", "src/math/easing/back/In.ts", "src/math/easing/back/InOut.ts", "src/math/easing/back/Out.ts", "src/math/easing/back/index.ts", "src/math/easing/bounce/In.ts", "src/math/easing/bounce/InOut.ts", "src/math/easing/bounce/Out.ts", "src/math/easing/bounce/index.ts", "src/math/easing/circular/In.ts", "src/math/easing/circular/InOut.ts", "src/math/easing/circular/Out.ts", "src/math/easing/circular/index.ts", "src/math/easing/cubic/In.ts", "src/math/easing/cubic/InOut.ts", "src/math/easing/cubic/Out.ts", "src/math/easing/cubic/index.ts", "src/math/easing/elastic/In.ts", "src/math/easing/elastic/InOut.ts", "src/math/easing/elastic/Out.ts", "src/math/easing/elastic/index.ts", "src/math/easing/expo/In.ts", "src/math/easing/expo/InOut.ts", "src/math/easing/expo/Out.ts", "src/math/easing/expo/index.ts", "src/math/easing/quadratic/In.ts", "src/math/easing/quadratic/InOut.ts", "src/math/easing/quadratic/Out.ts", "src/math/easing/quadratic/index.ts", "src/math/easing/quartic/In.ts", "src/math/easing/quartic/InOut.ts", "src/math/easing/quartic/Out.ts", "src/math/easing/quartic/index.ts", "src/math/easing/quintic/In.ts", "src/math/easing/quintic/InOut.ts", "src/math/easing/quintic/Out.ts", "src/math/easing/quintic/index.ts", "src/math/easing/sine/In.ts", "src/math/easing/sine/InOut.ts", "src/math/easing/sine/Out.ts", "src/math/easing/sine/index.ts", "src/math/easing/Linear.ts", "src/math/easing/Stepped.ts", "src/math/easing/GetEase.ts", "src/math/easing/index.ts", "src/math/fuzzy/FuzzyCeil.ts", "src/math/fuzzy/FuzzyFloor.ts", "src/math/fuzzy/FuzzyGreaterThan.ts", "src/math/fuzzy/FuzzyLessThan.ts", "src/math/fuzzy/index.ts", "src/math/Factorial.ts", "src/math/Bernstein.ts", "src/math/interpolation/BezierInterpolation.ts", "src/math/interpolation/CatmullRomInterpolation.ts", "src/math/interpolation/CubicBezierInterpolation.ts", "src/math/Linear.ts", "src/math/interpolation/LinearInterpolation.ts", "src/math/interpolation/QuadraticBezierInterpolation.ts", "src/math/SmoothStep.ts", "src/math/interpolation/SmoothStepInterpolation.ts", "src/math/SmootherStep.ts", "src/math/interpolation/SmootherStepInterpolation.ts", "src/math/interpolation/index.ts", "src/math/matrix2d/Add.ts", "src/math/matrix2d/Append.ts", "src/math/matrix2d/Clone.ts", "src/math/matrix2d/CopyFrom.ts", "src/math/matrix2d/CopyToContext.ts", "src/math/matrix2d/Determinant.ts", "src/math/matrix2d/Equals.ts", "src/math/matrix2d/ExactEquals.ts", "src/math/matrix2d/Frobenius.ts", "src/math/matrix2d/Rotate.ts", "src/math/matrix2d/FromRotation.ts", "src/math/matrix2d/Scale.ts", "src/math/matrix2d/FromScaling.ts", "src/math/matrix2d/Translate.ts", "src/math/matrix2d/FromTranslation.ts", "src/math/matrix2d/GlobalToLocal.ts", "src/math/matrix2d/ITRS.ts", "src/math/matrix2d/ITRSS.ts", "src/math/matrix2d/Identity.ts", "src/math/matrix2d/Invert.ts", "src/math/matrix2d/LocalToGlobal.ts", "src/math/matrix2d/Multiply.ts", "src/math/matrix2d/MultiplyScalar.ts", "src/math/matrix2d/MultiplyScalarAndAdd.ts", "src/math/matrix2d/SetToContext.ts", "src/math/matrix2d/Skew.ts", "src/math/matrix2d/Subtract.ts", "src/math/matrix2d/Zero.ts", "src/math/matrix2d/index.ts", "src/math/pow2/GetPowerOfTwo.ts", "src/math/pow2/IsSizePowerOfTwo.ts", "src/math/pow2/IsValuePowerOfTwo.ts", "src/math/pow2/index.ts", "src/math/snap/SnapCeil.ts", "src/math/snap/SnapFloor.ts", "src/math/snap/SnapTo.ts", "src/math/snap/index.ts", "src/math/vec2/Abs.ts", "src/math/vec2/Add.ts", "src/math/vec2/AddScalar.ts", "src/math/vec2/Angle.ts", "src/math/vec2/AngleY.ts", "src/math/vec2/Bezier.ts", "src/math/vec2/CatmullRom.ts", "src/math/vec2/Ceil.ts", "src/math/vec2/Scale.ts", "src/math/vec2/Center.ts", "src/math/vec2/ChebyshevDistance.ts", "src/math/vec2/Clamp.ts", "src/math/vec2/ClampScalar.ts", "src/math/vec2/Clone.ts", "src/math/vec2/CopyFrom.ts", "src/math/vec2/Cross.ts", "src/math/vec2/DistanceSquared.ts", "src/math/vec2/Distance.ts", "src/math/vec2/Dot.ts", "src/math/vec2/MultiplyByFloats.ts", "src/math/vec2/Subtract.ts", "src/math/vec2/DistanceFromSegment.ts", "src/math/vec2/DistancePower.ts", "src/math/vec2/Divide.ts", "src/math/vec2/DivideScalar.ts", "src/math/vec2/Equals.ts", "src/math/vec2/Floor.ts", "src/math/vec2/Fract.ts", "src/math/vec2/FromGridIndex.ts", "src/math/vec2/FromTransform.ts", "src/math/vec2/FuzzyEquals.ts", "src/math/vec2/Hermite.ts", "src/math/vec2/Inverse.ts", "src/math/vec2/Length.ts", "src/math/vec2/LengthSquared.ts", "src/math/vec2/Lerp.ts", "src/math/vec2/ManhattanDistance.ts", "src/math/vec2/ManhattanLength.ts", "src/math/vec2/Max.ts", "src/math/vec2/Min.ts", "src/math/vec2/Multiply.ts", "src/math/vec2/Negate.ts", "src/math/vec2/Normalize.ts", "src/math/vec2/One.ts", "src/math/vec2/PerpDot.ts", "src/math/vec2/Random.ts", "src/math/vec2/Rotate.ts", "src/math/vec2/Round.ts", "src/math/vec2/RoundToZero.ts", "src/math/vec2/ScaleAndAdd.ts", "src/math/vec2/SetLength.ts", "src/math/vec2/SubtractScalar.ts", "src/math/vec2/Transform.ts", "src/math/vec2/TransformMat2d.ts", "src/math/vec2/TransformMat4.ts", "src/math/vec2/Zero.ts", "src/math/vec2/index.ts", "src/math/vec4/Vec4.ts", "src/math/vec4/Abs.ts", "src/math/vec4/Add.ts", "src/math/vec4/AddScalar.ts", "src/math/vec4/Bezier.ts", "src/math/vec4/CatmullRom.ts", "src/math/vec4/Ceil.ts", "src/math/vec4/Scale.ts", "src/math/vec4/Center.ts", "src/math/vec4/Clamp.ts", "src/math/vec4/DivideScalar.ts", "src/math/vec4/Length.ts", "src/math/vec4/ClampLength.ts", "src/math/vec4/ClampScalar.ts", "src/math/vec4/Clone.ts", "src/math/vec4/CopyFrom.ts", "src/math/vec4/Cross.ts", "src/math/vec4/DistanceSquared.ts", "src/math/vec4/Distance.ts", "src/math/vec4/Divide.ts", "src/math/vec4/Dot.ts", "src/math/vec4/Equals.ts", "src/math/vec4/Floor.ts", "src/math/vec4/Fract.ts", "src/math/vec4/FuzzyEquals.ts", "src/math/vec4/Hermite.ts", "src/math/vec4/LengthSquared.ts", "src/math/vec4/Lerp.ts", "src/math/vec4/ManhattanDistance.ts", "src/math/vec4/ManhattanLength.ts", "src/math/vec4/Max.ts", "src/math/vec4/Min.ts", "src/math/vec4/Multiply.ts", "src/math/vec4/MultiplyByFloats.ts", "src/math/vec4/Negate.ts", "src/math/vec4/Normalize.ts", "src/math/vec4/One.ts", "src/math/vec4/Vec4Callback.ts", "src/math/vec4/RGBACallback.ts", "src/math/vec4/Random.ts", "src/math/vec4/Round.ts", "src/math/vec4/RoundToZero.ts", "src/math/vec4/ScaleAndAdd.ts", "src/math/vec4/SetLength.ts", "src/math/vec4/Subtract.ts", "src/math/vec4/SubtractScalar.ts", "src/math/vec4/TransformMat4.ts", "src/math/vec4/Zero.ts", "src/math/vec4/index.ts", "src/math/Average.ts", "src/math/Between.ts", "src/math/CeilTo.ts", "src/math/DegToRad.ts", "src/math/Difference.ts", "src/math/FloatBetween.ts", "src/math/FloorTo.ts", "src/math/FromPercent.ts", "src/math/GetSpeed.ts", "src/math/MaxAdd.ts", "src/math/MinSub.ts", "src/math/Percent.ts", "src/math/RadToDeg.ts", "src/math/RoundTo.ts", "src/math/SinCosTableGenerator.ts", "src/math/Within.ts", "src/math/index.ts", "src/camera3d/Camera3D.ts", "src/camera3d/index.ts", "src/config/BackgroundColor.ts", "src/config/Banner.ts", "src/config/BatchSize.ts", "src/config/CanvasContext.ts", "src/config/DefaultOrigin.ts", "src/config/Size.ts", "src/config/MaxTextures.ts", "src/dom/GetElement.ts", "src/config/Parent.ts", "src/config/SetRenderer.ts", "src/config/Scenes.ts", "src/config/WebGLContext.ts", "src/renderer/BindingQueue.ts", "src/renderer/canvas/CanvasRenderer.ts", "src/config/SetCanvas.ts", "src/renderer/webgl1/renderpass/AddViewport.ts", "src/renderer/webgl1/GL.ts", "src/renderer/webgl1/renderpass/BindViewport.ts", "src/renderer/webgl1/renderpass/SetViewport.ts", "src/renderer/webgl1/renderpass/BindFramebuffer.ts", "src/renderer/webgl1/renderpass/PopViewport.ts", "src/renderer/webgl1/renderpass/PopFramebuffer.ts", "src/renderer/webgl1/renderpass/AddFramebuffer.ts", "src/renderer/webgl1/renderpass/SetFramebuffer.ts", "src/renderer/webgl1/renderpass/Draw.ts", "src/renderer/webgl1/renderpass/Flush.ts", "src/renderer/webgl1/renderpass/End.ts", "src/renderer/webgl1/colors/GetRGBArray.ts", "src/renderer/webgl1/textures/CreateGLTexture.ts", "src/renderer/webgl1/fbo/DeleteFramebuffer.ts", "src/renderer/webgl1/textures/DeleteGLTexture.ts", "src/renderer/webgl1/textures/SetGLTextureFilterMode.ts", "src/renderer/webgl1/textures/UpdateGLTexture.ts", "src/renderer/webgl1/textures/GLTextureBinding.ts", "src/renderer/webgl1/renderpass/ProcessBindingQueue.ts", "src/renderer/webgl1/shaders/CheckShaderMaxIfStatements.ts", "src/renderer/webgl1/renderpass/CreateTempTextures.ts", "src/renderer/webgl1/buffers/DeleteGLBuffer.ts", "src/renderer/webgl1/buffers/VertexBuffer.ts", "src/renderer/webgl1/buffers/IndexedVertexBuffer.ts", "src/renderer/webgl1/shaders/CreateAttributes.ts", "src/renderer/webgl1/shaders/DeleteShaders.ts", "src/renderer/webgl1/shaders/CreateProgram.ts", "src/renderer/webgl1/shaders/CreateShader.ts", "src/renderer/webgl1/shaders/CreateUniformSetter.ts", "src/renderer/webgl1/shaders/CreateUniforms.ts", "src/renderer/webgl1/GL_CONST.ts", "src/renderer/webgl1/shaders/DefaultQuadAttributes.ts", "src/renderer/webgl1/shaders/DefaultQuadUniforms.ts", "src/renderer/webgl1/fbo/CreateDepthBuffer.ts", "src/renderer/webgl1/fbo/CreateFramebuffer.ts", "src/renderer/webgl1/glsl/SINGLE_QUAD_FRAG.ts", "src/renderer/webgl1/glsl/SINGLE_QUAD_VERT.ts", "src/textures/Frame.ts", "src/textures/Texture.ts", "src/renderer/webgl1/shaders/Shader.ts", "src/renderer/webgl1/shaders/QuadShader.ts", "src/renderer/webgl1/shaders/FXShader.ts", "src/renderer/webgl1/glsl/MULTI_QUAD_FRAG.ts", "src/renderer/webgl1/shaders/MultiTextureQuadShader.ts", "src/renderer/webgl1/shaders/index.ts", "src/renderer/webgl1/renderpass/SetDefaultBlendMode.ts", "src/renderer/webgl1/renderpass/SetDefaultFramebuffer.ts", "src/renderer/webgl1/renderpass/SetDefaultShader.ts", "src/renderer/webgl1/renderpass/SetDefaultVertexBuffer.ts", "src/renderer/webgl1/renderpass/SetDefaultViewport.ts", "src/renderer/webgl1/renderpass/RenderPass.ts", "src/renderer/webgl1/renderpass/AddBlendMode.ts", "src/renderer/webgl1/renderpass/AddShader.ts", "src/renderer/webgl1/renderpass/AddVertexBuffer.ts", "src/renderer/webgl1/renderpass/BindShader.ts", "src/renderer/webgl1/renderpass/Begin.ts", "src/renderer/webgl1/renderpass/BindBlendMode.ts", "src/renderer/webgl1/renderpass/BindTexture.ts", "src/renderer/webgl1/renderpass/BindVertexBuffer.ts", "src/renderer/webgl1/renderpass/PopVertexBuffer.ts", "src/renderer/webgl1/renderpass/SetVertexBuffer.ts", "src/renderer/webgl1/renderpass/FlushBuffer.ts", "src/renderer/webgl1/renderpass/GetVertexBufferEntry.ts", "src/renderer/webgl1/renderpass/IRenderPass.ts", "src/renderer/webgl1/renderpass/PopBlendMode.ts", "src/renderer/webgl1/renderpass/PopShader.ts", "src/renderer/webgl1/renderpass/ResetTextures.ts", "src/renderer/webgl1/renderpass/SetBlendMode.ts", "src/renderer/webgl1/renderpass/SetShader.ts", "src/renderer/webgl1/renderpass/SetTexture.ts", "src/renderer/webgl1/renderpass/Start.ts", "src/renderer/webgl1/renderpass/UnbindTexture.ts", "src/renderer/webgl1/renderpass/index.ts", "src/renderer/webgl1/WebGLRendererInstance.ts", "src/renderer/webgl1/WebGLRenderer.ts", "src/config/SetWebGL.ts", "src/config/index.ts", "src/dom/AddToDOM.ts", "src/dom/DOMContentLoaded.ts", "src/dom/ParseXML.ts", "src/dom/RemoveFromDOM.ts", "src/dom/index.ts", "src/device/audio/CanPlayAudioType.ts", "src/device/audio/CanPlayM4A.ts", "src/device/audio/CanPlayMP3.ts", "src/device/audio/CanPlayOGG.ts", "src/device/audio/CanPlayOpus.ts", "src/device/audio/CanPlayWAV.ts", "src/device/audio/CanPlayWebM.ts", "src/device/audio/HasAudio.ts", "src/device/audio/HasWebAudio.ts", "src/device/audio/GetAudio.ts", "src/device/audio/index.ts", "src/device/browser/IsChrome.ts", "src/device/browser/IsEdge.ts", "src/device/browser/IsFirefox.ts", "src/device/browser/IsMSIE.ts", "src/device/os/IsiOS.ts", "src/device/browser/IsMobileSafari.ts", "src/device/browser/IsOpera.ts", "src/device/os/IsWindowsPhone.ts", "src/device/browser/IsSafari.ts", "src/device/browser/IsSilk.ts", "src/device/browser/IsTrident.ts", "src/device/browser/GetBrowser.ts", "src/device/browser/index.ts", "src/device/os/IsAndroid.ts", "src/device/os/IsChromeOS.ts", "src/device/os/IsCordova.ts", "src/device/os/IsCrosswalk.ts", "src/device/os/IsEjecta.ts", "src/device/os/IsKindle.ts", "src/device/os/IsLinux.ts", "src/device/os/IsMacOS.ts", "src/device/os/IsNode.ts", "src/device/os/IsNodeWebkit.ts", "src/device/os/IsWebApp.ts", "src/device/os/IsWindows.ts", "src/device/os/GetOS.ts", "src/device/os/index.ts", "src/device/video/CanPlayVideoType.ts", "src/device/video/CanPlayH264Video.ts", "src/device/video/CanPlayHLSVideo.ts", "src/device/video/CanPlayOGGVideo.ts", "src/device/video/CanPlayVP9Video.ts", "src/device/video/CanPlayWebMVideo.ts", "src/device/video/GetVideo.ts", "src/device/video/index.ts", "src/device/index.ts", "src/display/DepthFirstSearch.ts", "src/display/GetChildIndex.ts", "src/display/RemoveChildAt.ts", "src/display/RemoveChild.ts", "src/gameobjects/events/AddedToWorldEvent.ts", "src/gameobjects/events/DestroyEvent.ts", "src/gameobjects/events/PostUpdateEvent.ts", "src/gameobjects/events/RemovedFromWorldEvent.ts", "src/gameobjects/events/UpdateEvent.ts", "src/gameobjects/events/index.ts", "src/events/Emit.ts", "src/display/SetWorld.ts", "src/display/SetParent.ts", "src/display/AddChild.ts", "src/display/AddChildAt.ts", "src/display/AddChildren.ts", "src/display/AddChildrenAt.ts", "src/display/AddPosition.ts", "src/display/AddRotation.ts", "src/display/AddScale.ts", "src/display/AddSkew.ts", "src/gameobjects/DIRTY_CONST.ts", "src/display/BringChildToTop.ts", "src/display/DepthFirstSearchRecursiveNested.ts", "src/display/ConsoleTreeChildren.ts", "src/display/CountMatchingChildren.ts", "src/display/DepthFirstSearchRecursive.ts", "src/display/RemoveChildrenBetween.ts", "src/display/DestroyChildren.ts", "src/display/FindChildByName.ts", "src/display/FindChildrenByName.ts", "src/display/GetAllChildren.ts", "src/display/GetChildAt.ts", "src/display/GetChildren.ts", "src/display/GetClosestChild.ts", "src/display/GetFirstChild.ts", "src/display/GetFurthestChild.ts", "src/display/GetLastChild.ts", "src/display/GetParents.ts", "src/display/GetRandomChild.ts", "src/display/MoveChildDown.ts", "src/display/MoveChildTo.ts", "src/display/MoveChildUp.ts", "src/geom/intersects/RectangleToRectangle.ts", "src/display/Overlap.ts", "src/display/RemoveChildren.ts", "src/display/RemoveChildrenAt.ts", "src/display/ReparentChildren.ts", "src/display/RotateChildrenLeft.ts", "src/display/RotateChildrenRight.ts", "src/display/SendChildToBack.ts", "src/display/SetBounds.ts", "src/display/SetChildrenValue.ts", "src/display/SetName.ts", "src/display/SetOrigin.ts", "src/display/SetPosition.ts", "src/display/SetRotation.ts", "src/display/SetScale.ts", "src/display/SetSize.ts", "src/display/SetSkew.ts", "src/display/SetType.ts", "src/display/SetValue.ts", "src/display/SetVisible.ts", "src/display/ShuffleChildren.ts", "src/display/SwapChildren.ts", "src/display/index.ts", "src/display3d/DepthFirstSearch3D.ts", "src/display3d/GetChild3DIndex.ts", "src/display3d/RemoveChild3DAt.ts", "src/display3d/RemoveChild3D.ts", "src/display3d/SetWorld3D.ts", "src/display3d/SetParent3D.ts", "src/display3d/AddChild3D.ts", "src/display3d/AddChild3DAt.ts", "src/display3d/AddChildren3D.ts", "src/display3d/AddChildren3DAt.ts", "src/display3d/DepthFirstSearchRecursiveNested3D.ts", "src/display3d/ConsoleTreeChildren3D.ts", "src/display3d/CountMatchingChildren3D.ts", "src/display3d/DepthFirstSearchRecursive3D.ts", "src/display3d/RemoveChildren3DBetween.ts", "src/display3d/DestroyChildren3D.ts", "src/display3d/FindChild3DByName.ts", "src/display3d/FindChildren3DByName.ts", "src/display3d/GetAllChildren3D.ts", "src/display3d/GetChild3DAt.ts", "src/display3d/GetChildren3D.ts", "src/display3d/GetFirstChild3D.ts", "src/display3d/GetLastChild3D.ts", "src/display3d/GetParents3D.ts", "src/display3d/GetRandomChild3D.ts", "src/display3d/MoveChild3DTo.ts", "src/display3d/RemoveChildren3D.ts", "src/display3d/RemoveChildren3DAt.ts", "src/display3d/ReparentChildren3D.ts", "src/display3d/ReplaceChild3D.ts", "src/display3d/SetChildren3DValue.ts", "src/display3d/SwapChildren3D.ts", "src/display3d/index.ts", "src/events/ClearEvent.ts", "src/events/EventEmitter.ts", "src/events/EventInstance.ts", "src/events/GetEventNames.ts", "src/events/GetListenerCount.ts", "src/events/GetListeners.ts", "src/events/Off.ts", "src/events/On.ts", "src/events/Once.ts", "src/events/RemoveAllListeners.ts", "src/events/index.ts", "src/gameobjects/components/transform/GetVertices.ts", "src/gameobjects/components/bounds/BoundsComponent.ts", "src/gameobjects/components/bounds/index.ts", "src/gameobjects/components/input/InputComponent.ts", "src/gameobjects/components/input/index.ts", "src/geom/rectangle/Area.ts", "src/geom/rectangle/Ceil.ts", "src/geom/rectangle/CeilAll.ts", "src/geom/rectangle/CenterOn.ts", "src/geom/rectangle/CenterX.ts", "src/geom/rectangle/CenterY.ts", "src/geom/rectangle/Clone.ts", "src/geom/rectangle/ContainsPoint.ts", "src/geom/rectangle/ContainsRect.ts", "src/geom/rectangle/CopyFrom.ts", "src/geom/rectangle/Decompose.ts", "src/geom/rectangle/Equals.ts", "src/geom/rectangle/GetAspectRatio.ts", "src/geom/rectangle/FitInside.ts", "src/geom/rectangle/FitOutside.ts", "src/geom/rectangle/Floor.ts", "src/geom/rectangle/FloorAll.ts", "src/geom/rectangle/FromPoints.ts", "src/geom/rectangle/GetCenter.ts", "src/geom/line/Line.ts", "src/geom/rectangle/GetEdges.ts", "src/geom/rectangle/Perimeter.ts", "src/geom/rectangle/GetPoint.ts", "src/geom/rectangle/GetPoints.ts", "src/geom/rectangle/GetSize.ts", "src/geom/rectangle/Inflate.ts", "src/geom/rectangle/Intersection.ts", "src/geom/rectangle/MarchingAnts.ts", "src/geom/rectangle/MergePoints.ts", "src/geom/rectangle/MergeRect.ts", "src/geom/rectangle/MergeXY.ts", "src/geom/rectangle/Offset.ts", "src/geom/rectangle/OffsetPoint.ts", "src/geom/rectangle/Overlaps.ts", "src/geom/rectangle/PerimeterPoint.ts", "src/geom/rectangle/Random.ts", "src/geom/rectangle/RandomOutside.ts", "src/geom/rectangle/SameDimensions.ts", "src/geom/rectangle/Scale.ts", "src/geom/rectangle/Union.ts", "src/geom/rectangle/index.ts", "src/gameobjects/components/transform/UpdateLocalTransform.ts", "src/gameobjects/components/transform/UpdateWorldTransform.ts", "src/gameobjects/components/transform/TransformComponent.ts", "src/gameobjects/components/transform/index.ts", "src/renderer/webgl1/colors/PackColor.ts", "src/gameobjects/components/Vertex.ts", "src/gameobjects/components/index.ts", "src/renderer/webgl1/draw/BatchTexturedQuad.ts", "src/gameobjects/GameObject.ts", "src/gameobjects/container/Container.ts", "src/renderer/canvas/draw/DrawTexturedQuad.ts", "src/renderer/webgl1/colors/PackColors.ts", "src/gameobjects/sprite/SetFrame.ts", "src/textures/TextureManagerInstance.ts", "src/gameobjects/sprite/SetTexture.ts", "src/gameobjects/sprite/UpdateVertices.ts", "src/gameobjects/sprite/Sprite.ts", "src/gameobjects/animatedsprite/AnimatedSprite.ts", "src/renderer/webgl1/draw/BatchSingleQuad.ts", "src/renderer/webgl1/draw/DrawTexturedQuad.ts", "src/gameobjects/layer/Layer.ts", "src/gameobjects/renderlayer/RenderLayer.ts", "src/gameobjects/effectlayer/EffectLayer.ts", "src/renderer/webgl1/draw/BatchTexturedQuadBuffer.ts", "src/gameobjects/components/transform/GetVerticesFromValues.ts", "src/gameobjects/spritebatch/SpriteBatch.ts", "src/textures/CreateCanvas.ts", "src/textures/types/CanvasTexture.ts", "src/gameobjects/text/Text.ts", "src/gameobjects/index.ts", "src/gameobjects3d/components/transform3d/Transform3DComponent.ts", "src/gameobjects3d/components/index.ts", "src/gameobjects3d/geometry/CreateVertexSet.ts", "src/renderer/webgl1/index.ts", "src/gameobjects3d/geometry/FaceUVNormalTexture.ts", "src/renderer/webgl1/buffers/index.ts", "src/gameobjects3d/geometry/GetBufferFromVertexSet.ts", "src/gameobjects3d/geometry/Geometry.ts", "src/gameobjects3d/geometry/ParseObj.ts", "src/gameobjects3d/geometry/GetBufferFromObj.ts", "src/gameobjects3d/geometry/GetFacesFromVertexSet.ts", "src/gameobjects3d/geometry/VertexSet.ts", "src/gameobjects3d/geometry/index.ts", "src/geom3d/PlaneGeometry.ts", "src/geom3d/BoxGeometry.ts", "src/gameobjects3d/GameObject3D.ts", "src/gameobjects3d/material/Material.ts", "src/gameobjects3d/mesh/SetFrame.ts", "src/gameobjects3d/mesh/SetTexture.ts", "src/gameobjects3d/mesh/Mesh.ts", "src/gameobjects3d/box/Box.ts", "src/geom3d/CylinderGeometry.ts", "src/geom3d/ConeGeometry.ts", "src/gameobjects3d/cone/Cone.ts", "src/gameobjects3d/light/Light.ts", "src/gameobjects3d/plane/Plane.ts", "src/gameobjects3d/renderlayer3d/RenderLayer3D.ts", "src/geom3d/SphereGeometry.ts", "src/gameobjects3d/sphere/Sphere.ts", "src/gameobjects3d/index.ts", "src/geom/circle/Area.ts", "src/geom/circle/Contains.ts", "src/geom/circle/Circle.ts", "src/geom/circle/Circumference.ts", "src/geom/circle/CircumferencePoint.ts", "src/geom/circle/Clone.ts", "src/geom/circle/ContainsPoint.ts", "src/geom/circle/ContainsRect.ts", "src/geom/circle/CopyFrom.ts", "src/geom/circle/Equals.ts", "src/geom/circle/GetBounds.ts", "src/geom/circle/GetPoint.ts", "src/geom/circle/GetPoints.ts", "src/geom/circle/Offset.ts", "src/geom/circle/OffsetPoint.ts", "src/geom/circle/Random.ts", "src/geom/circle/index.ts", "src/geom/ellipse/Area.ts", "src/geom/ellipse/Circumference.ts", "src/geom/ellipse/CircumferencePoint.ts", "src/geom/ellipse/Contains.ts", "src/geom/ellipse/Ellipse.ts", "src/geom/ellipse/Clone.ts", "src/geom/ellipse/ContainsPoint.ts", "src/geom/ellipse/ContainsRect.ts", "src/geom/ellipse/CopyFrom.ts", "src/geom/ellipse/Equals.ts", "src/geom/ellipse/GetBounds.ts", "src/geom/ellipse/GetPoint.ts", "src/geom/ellipse/GetPoints.ts", "src/geom/ellipse/Offset.ts", "src/geom/ellipse/OffsetPoint.ts", "src/geom/ellipse/Random.ts", "src/geom/ellipse/index.ts", "src/geom/intersects/CircleToCircle.ts", "src/geom/intersects/CircleToRectangle.ts", "src/geom/intersects/GetCircleToCircle.ts", "src/geom/intersects/LineToCircle.ts", "src/geom/intersects/GetLineToCircle.ts", "src/geom/intersects/GetCircleToRectangle.ts", "src/geom/intersects/LineToLine.ts", "src/geom/intersects/LineToRectangle.ts", "src/geom/intersects/GetLineToRectangle.ts", "src/geom/intersects/GetRectangleIntersection.ts", "src/geom/intersects/GetRectangleToRectangle.ts", "src/geom/triangle/GetEdges.ts", "src/geom/triangle/Contains.ts", "src/geom/triangle/ContainsArray.ts", "src/geom/intersects/RectangleToTriangle.ts", "src/geom/intersects/GetRectangleToTriangle.ts", "src/geom/intersects/TriangleToCircle.ts", "src/geom/intersects/GetTriangleToCircle.ts", "src/geom/intersects/TriangleToLine.ts", "src/geom/intersects/GetTriangleToLine.ts", "src/geom/triangle/Decompose.ts", "src/geom/intersects/TriangleToTriangle.ts", "src/geom/intersects/GetTriangleToTriangle.ts", "src/geom/intersects/PointToLine.ts", "src/geom/intersects/PointToLineSegment.ts", "src/geom/intersects/index.ts", "src/geom/line/Angle.ts", "src/geom/line/BresenhamPoints.ts", "src/geom/line/CenterOn.ts", "src/geom/line/Clone.ts", "src/geom/line/CopyFrom.ts", "src/geom/line/Equals.ts", "src/geom/line/Length.ts", "src/geom/line/Extend.ts", "src/geom/line/GetMidPoint.ts", "src/geom/line/GetNearestPoint.ts", "src/geom/line/GetNormal.ts", "src/geom/line/GetPoint.ts", "src/geom/line/GetPoints.ts", "src/geom/line/GetShortestDistance.ts", "src/geom/line/Height.ts", "src/geom/line/NormalAngle.ts", "src/geom/line/NormalX.ts", "src/geom/line/NormalY.ts", "src/geom/line/Offset.ts", "src/geom/line/PerpSlope.ts", "src/geom/line/Random.ts", "src/geom/line/ReflectAngle.ts", "src/geom/line/RotateAroundXY.ts", "src/geom/line/Rotate.ts", "src/geom/line/RotateAroundPoint.ts", "src/geom/line/SetToAngle.ts", "src/geom/line/Slope.ts", "src/geom/line/Width.ts", "src/geom/line/index.ts", "src/geom/triangle/Area.ts", "src/geom/triangle/Triangle.ts", "src/geom/triangle/BuildEquilateral.ts", "src/geom/triangle/BuildRight.ts", "src/geom/triangle/Centroid.ts", "src/geom/triangle/Offset.ts", "src/geom/triangle/CenterOn.ts", "src/geom/triangle/CircumCenter.ts", "src/geom/triangle/CircumCircle.ts", "src/geom/triangle/Clone.ts", "src/geom/triangle/ContainsPoint.ts", "src/geom/triangle/CopyFrom.ts", "src/geom/triangle/Equals.ts", "src/geom/triangle/GetPoint.ts", "src/geom/triangle/GetPoints.ts", "src/geom/triangle/InCenter.ts", "src/geom/triangle/Perimeter.ts", "src/geom/triangle/Random.ts", "src/geom/triangle/RotateAroundXY.ts", "src/geom/triangle/Rotate.ts", "src/geom/triangle/RotateAroundPoint.ts", "src/geom/triangle/index.ts", "src/geom/index.ts", "src/geom3d/TorusGeometry.ts", "src/geom3d/index.ts", "src/input/keyboard/Key.ts", "src/input/keyboard/keys/AKey.ts", "src/input/keyboard/keys/ArrowKeys.ts", "src/input/keyboard/keys/BKey.ts", "src/input/keyboard/keys/CKey.ts", "src/input/keyboard/keys/DKey.ts", "src/input/keyboard/keys/DownKey.ts", "src/input/keyboard/keys/EKey.ts", "src/input/keyboard/keys/FKey.ts", "src/input/keyboard/keys/GKey.ts", "src/input/keyboard/keys/HKey.ts", "src/input/keyboard/keys/IKey.ts", "src/input/keyboard/keys/JKey.ts", "src/input/keyboard/keys/KKey.ts", "src/input/keyboard/keys/LKey.ts", "src/input/keyboard/keys/LeftKey.ts", "src/input/keyboard/keys/MKey.ts", "src/input/keyboard/keys/NKey.ts", "src/input/keyboard/keys/OKey.ts", "src/input/keyboard/keys/PKey.ts", "src/input/keyboard/keys/QKey.ts", "src/input/keyboard/keys/RKey.ts", "src/input/keyboard/keys/RightKey.ts", "src/input/keyboard/keys/SKey.ts", "src/input/keyboard/keys/SpaceKey.ts", "src/input/keyboard/keys/TKey.ts", "src/input/keyboard/keys/UKey.ts", "src/input/keyboard/keys/UpKey.ts", "src/input/keyboard/keys/VKey.ts", "src/input/keyboard/keys/WASDKeys.ts", "src/input/keyboard/keys/WKey.ts", "src/input/keyboard/keys/XKey.ts", "src/input/keyboard/keys/YKey.ts", "src/input/keyboard/keys/ZKey.ts", "src/input/keyboard/keys/index.ts", "src/input/keyboard/GetKeyDownDuration.ts", "src/input/keyboard/Keyboard.ts", "src/input/keyboard/SetKeyRepeatRate.ts", "src/input/keyboard/index.ts", "src/input/mouse/Mouse.ts", "src/input/mouse/index.ts", "src/input/SetInteractive.ts", "src/input/index.ts", "src/textures/parsers/AtlasParser.ts", "src/loader/File.ts", "src/loader/GetURL.ts", "src/loader/ImageTagLoader.ts", "src/loader/files/ImageFile.ts", "src/cache/Cache.ts", "src/loader/XHRLoader.ts", "src/loader/files/JSONFile.ts", "src/loader/files/AtlasFile.ts", "src/textures/parsers/BitmapTextParser.ts", "src/loader/files/XMLFile.ts", "src/loader/files/BitmapTextFile.ts", "src/loader/files/CSVFile.ts", "src/loader/files/JSONGeometryFile.ts", "src/loader/files/OBJFile.ts", "src/loader/files/OBJGeometryFile.ts", "src/textures/parsers/SpriteSheetParser.ts", "src/loader/files/SpriteSheetFile.ts", "src/loader/files/index.ts", "src/loader/Loader.ts", "src/loader/index.ts", "src/materials3d/BlackPlastic.ts", "src/materials3d/BlackRubber.ts", "src/materials3d/Brass.ts", "src/materials3d/Bronze.ts", "src/materials3d/Chrome.ts", "src/materials3d/Copper.ts", "src/materials3d/CyanPlastic.ts", "src/materials3d/CyanRubber.ts", "src/materials3d/Emerald.ts", "src/materials3d/Gold.ts", "src/materials3d/GreenPlastic.ts", "src/materials3d/GreenRubber.ts", "src/materials3d/Jade.ts", "src/materials3d/Obsidian.ts", "src/materials3d/Pearl.ts", "src/materials3d/RedPlastic.ts", "src/materials3d/RedRubber.ts", "src/materials3d/Ruby.ts", "src/materials3d/Silver.ts", "src/materials3d/Turquoise.ts", "src/materials3d/WhitePlastic.ts", "src/materials3d/WhiteRubber.ts", "src/materials3d/YellowPlastic.ts", "src/materials3d/YellowRubber.ts", "src/materials3d/index.ts", "src/textures/palettes/Arne16.ts", "src/textures/palettes/C64.ts", "src/textures/palettes/CGA.ts", "src/textures/palettes/JMP.ts", "src/textures/palettes/MSX.ts", "src/textures/palettes/PICO8.ts", "src/textures/palettes/index.ts", "src/textures/parsers/index.ts", "src/textures/types/GridTexture.ts", "src/textures/types/PixelTexture.ts", "src/textures/types/RenderTexture.ts", "src/textures/types/SolidColorTexture.ts", "src/textures/types/index.ts", "src/textures/GetFrames.ts", "src/textures/GetFramesInRange.ts", "src/textures/SetFilter.ts", "src/textures/TextureManager.ts", "src/textures/index.ts", "src/time/NOOP.ts", "src/time/AddTimer.ts", "src/time/AddDelayedCall.ts", "src/time/Clock.ts", "src/time/index.ts", "src/world/events/WorldRenderEvent.ts", "src/world/events/WorldShutdownEvent.ts", "src/world/events/index.ts", "src/world/CalculateTotalRenderable.ts", "src/world/HasDirtyChildren.ts", "src/world/UpdateCachedLayers.ts", "src/world/WorldDepthFirstSearch.ts", "src/world/BuildRenderList.ts", "src/world/MergeRenderData.ts", "src/world/ResetWorldRenderData.ts", "src/world/BaseWorld.ts", "src/world/CreateWorldRenderData.ts", "src/world/StaticWorld.ts", "src/world/World.ts", "src/world/index.ts", "src/world3d/events/World3DRenderEvent.ts", "src/world3d/events/World3DShutdownEvent.ts", "src/world3d/events/index.ts", "src/world3d/CalculateTotalRenderable.ts", "src/world3d/HasDirtyChildren.ts", "src/world3d/UpdateCachedLayers.ts", "src/world3d/WorldDepthFirstSearch.ts", "src/world3d/BuildRenderList.ts", "src/world3d/MergeRenderData.ts", "src/world3d/ResetWorld3DRenderData.ts", "src/world3d/BaseWorld3D.ts", "src/world3d/CreateWorld3DRenderData.ts", "src/renderer/webgl1/glsl/AMBIENT_LIGHT_FRAG.ts", "src/renderer/webgl1/glsl/AMBIENT_LIGHT_VERT.ts", "src/renderer/webgl1/shaders/AmbientLightShader.ts", "src/camera3d/NewCamera3D.ts", "src/world3d/World3D.ts", "src/world3d/index.ts", "src/scenes/CreateSceneRenderData.ts", "src/scenes/ResetSceneRenderData.ts", "src/scenes/SceneManagerInstance.ts", "src/scenes/SceneManager.ts", "src/Game.ts", "src/scenes/GetConfigValue.ts", "src/scenes/Install.ts", "src/scenes/Scene.ts"],
  "sourcesContent": ["import * as Camera from './camera/';\r\nimport * as Camera3D from './camera3d/';\r\nimport * as Config from './config/';\r\nimport * as DOM from './dom/';\r\nimport * as Device from './device/';\r\nimport * as Display from './display/';\r\nimport * as Display3D from './display3d/';\r\nimport * as Events from './events/';\r\nimport * as GameObjects from './gameobjects/';\r\nimport * as GameObjects3D from './gameobjects3d/';\r\nimport * as Geom from './geom/';\r\nimport * as Geom3D from './geom3d/';\r\nimport * as Input from './input/';\r\nimport * as Loader from './loader/';\r\nimport * as Materials3D from './materials3d/';\r\nimport * as Math from './math/';\r\nimport * as Textures from './textures/';\r\nimport * as Time from './time/';\r\nimport * as WebGL1 from './renderer/webgl1/';\r\nimport * as World from './world/';\r\nimport * as World3D from './world3d/';\r\n\r\nimport { Game } from './Game';\r\nimport { Scene } from './scenes/Scene';\r\n\r\nexport {\r\n    Camera,\r\n    Camera3D,\r\n    Config,\r\n    Device,\r\n    DOM,\r\n    Display,\r\n    Display3D,\r\n    Events,\r\n    Game,\r\n    Scene,\r\n    GameObjects,\r\n    GameObjects3D,\r\n    Geom,\r\n    Geom3D,\r\n    Input,\r\n    Loader,\r\n    Materials3D,\r\n    Math,\r\n    Textures,\r\n    Time,\r\n    WebGL1,\r\n    World,\r\n    World3D\r\n};\r\n", "import { Game } from './Game';\r\n\r\nexport let instance: Game;\r\nexport let frame: number = 0;\r\nexport let elapsed: number = 0;\r\n\r\nexport const GameInstance =\r\n{\r\n    get: (): Game =>\r\n    {\r\n        return instance;\r\n    },\r\n\r\n    set: (game: Game | undefined): void =>\r\n    {\r\n        instance = game;\r\n    },\r\n\r\n    getFrame: (): number =>\r\n    {\r\n        return frame;\r\n    },\r\n\r\n    setFrame: (current: number): void =>\r\n    {\r\n        frame = current;\r\n    },\r\n\r\n    getElapsed: (): number =>\r\n    {\r\n        return elapsed;\r\n    },\r\n\r\n    setElapsed: (current: number): void =>\r\n    {\r\n        elapsed = current;\r\n    }\r\n\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Checks if an array can be used as a matrix.\r\n *\r\n * A matrix is a two-dimensional array (array of arrays), where all sub-arrays (rows) have the same length. There must be at least two rows:\r\n *\r\n * ```\r\n *    [\r\n *        [ 1, 1, 1, 1, 1, 1 ],\r\n *        [ 2, 0, 0, 0, 0, 4 ],\r\n *        [ 2, 0, 1, 2, 0, 4 ],\r\n *        [ 2, 0, 3, 4, 0, 4 ],\r\n *        [ 2, 0, 0, 0, 0, 4 ],\r\n *        [ 3, 3, 3, 3, 3, 3 ]\r\n *    ]\r\n * ```\r\n */\r\nexport function CheckMatrix (matrix: unknown[][]): boolean\r\n{\r\n    if (!Array.isArray(matrix) || matrix.length < 2 || !Array.isArray(matrix[0]))\r\n    {\r\n        return false;\r\n    }\r\n\r\n    //  How long is the first row?\r\n    const size = matrix[0].length;\r\n\r\n    //  Validate the rest of the rows are the same length\r\n    for (let i = 1; i < matrix.length; i++)\r\n    {\r\n        if (matrix[i].length !== size)\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CheckMatrix } from './CheckMatrix';\r\n\r\n/**\r\n * Generates a string (which you can pass to console.log) from the given Array Matrix.\r\n */\r\nexport function MatrixToString (matrix: unknown[][]): string\r\n{\r\n    let str = '';\r\n\r\n    if (!CheckMatrix(matrix))\r\n    {\r\n        return str;\r\n    }\r\n\r\n    for (let r = 0; r < matrix.length; r++)\r\n    {\r\n        for (let c = 0; c < matrix[r].length; c++)\r\n        {\r\n            const cell = matrix[r][c].toString();\r\n\r\n            if (cell !== 'undefined')\r\n            {\r\n                str = str.padEnd(2, cell);\r\n            }\r\n            else\r\n            {\r\n                str += '?';\r\n            }\r\n\r\n            if (c < matrix[r].length - 1)\r\n            {\r\n                str += ' |';\r\n            }\r\n        }\r\n\r\n        if (r < matrix.length - 1)\r\n        {\r\n            str += '\\n';\r\n\r\n            for (let i = 0; i < matrix[r].length; i++)\r\n            {\r\n                str += '---';\r\n\r\n                if (i < matrix[r].length - 1)\r\n                {\r\n                    str += '+';\r\n                }\r\n            }\r\n\r\n            str += '\\n';\r\n        }\r\n\r\n    }\r\n\r\n    return str;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Reverses the columns in the given Array Matrix.\r\n */\r\nexport function ReverseColumns (matrix: unknown[][]): unknown[][]\r\n{\r\n    return matrix.reverse();\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Reverses the rows in the given Array Matrix.\r\n */\r\nexport function ReverseRows (matrix: unknown[][]): unknown[][]\r\n{\r\n    for (let i = 0; i < matrix.length; i++)\r\n    {\r\n        matrix[i].reverse();\r\n    }\r\n\r\n    return matrix;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Transposes the elements of the given matrix (array of arrays).\r\n *\r\n * The transpose of a matrix is a new matrix whose rows are the columns of the original.\r\n */\r\nexport function TransposeMatrix (matrix: unknown[][]): unknown[][]\r\n{\r\n    const sourceRowCount = matrix.length;\r\n    const sourceColCount = matrix[0].length;\r\n\r\n    const result = new Array(sourceColCount);\r\n\r\n    for (let i = 0; i < sourceColCount; i++)\r\n    {\r\n        result[i] = new Array(sourceRowCount);\r\n\r\n        for (let j = sourceRowCount - 1; j > -1; j--)\r\n        {\r\n            result[i][j] = matrix[j][i];\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CheckMatrix } from './CheckMatrix';\r\nimport { TransposeMatrix } from './TransposeMatrix';\r\n\r\n/**\r\n * Rotates the array matrix based on the given rotation value.\r\n *\r\n * The value can be given in degrees: 90, -90, 270, -270 or 180,\r\n * or a string command: `rotateLeft`, `rotateRight` or `rotate180`.\r\n *\r\n * Based on the routine from {@link http://jsfiddle.net/MrPolywhirl/NH42z/}.\r\n */\r\nexport function RotateMatrix (matrix: unknown[][], direction: number | string = 90): unknown[][]\r\n{\r\n    if (!CheckMatrix(matrix))\r\n    {\r\n        return matrix;\r\n    }\r\n\r\n    if (typeof direction !== 'string')\r\n    {\r\n        direction = ((direction % 360) + 360) % 360;\r\n    }\r\n\r\n    if (direction === 90 || direction === -270 || direction === 'rotateLeft')\r\n    {\r\n        matrix = TransposeMatrix(matrix);\r\n        matrix.reverse();\r\n    }\r\n    else if (direction === -90 || direction === 270 || direction === 'rotateRight')\r\n    {\r\n        matrix.reverse();\r\n        matrix = TransposeMatrix(matrix);\r\n    }\r\n    else if (Math.abs(direction as number) === 180 || direction === 'rotate180')\r\n    {\r\n        for (let i = 0; i < matrix.length; i++)\r\n        {\r\n            matrix[i].reverse();\r\n        }\r\n\r\n        matrix.reverse();\r\n    }\r\n\r\n    return matrix;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { RotateMatrix } from './RotateMatrix';\r\n\r\n/**\r\n * Rotates the array matrix 180 degrees.\r\n *\r\n * @function Phaser.Utils.Array.Matrix.Rotate180\r\n * @since 3.0.0\r\n *\r\n * @generic T\r\n * @genericUse {T[][]} - [matrix,$return]\r\n *\r\n * @param {T[][]} [matrix] - The array to rotate.\r\n *\r\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\r\n */\r\nexport function Rotate180 (matrix: unknown[][]): unknown[][]\r\n{\r\n    return RotateMatrix(matrix, 180);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { RotateMatrix } from './RotateMatrix';\r\n\r\n/**\r\n * Rotates the array matrix to the left (or 90 degrees)\r\n *\r\n * @function Phaser.Utils.Array.Matrix.RotateLeft\r\n * @since 3.0.0\r\n *\r\n * @generic T\r\n * @genericUse {T[][]} - [matrix,$return]\r\n *\r\n * @param {T[][]} [matrix] - The array to rotate.\r\n *\r\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\r\n */\r\nexport function RotateLeft (matrix: unknown[][]): unknown[][]\r\n{\r\n    return RotateMatrix(matrix, 90);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { RotateMatrix } from './RotateMatrix';\r\n\r\n/**\r\n * Rotates the array matrix to the left (or -90 degrees)\r\n *\r\n * @function Phaser.Utils.Array.Matrix.RotateRight\r\n * @since 3.0.0\r\n *\r\n * @generic T\r\n * @genericUse {T[][]} - [matrix,$return]\r\n *\r\n * @param {T[][]} [matrix] - The array to rotate.\r\n *\r\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\r\n */\r\nexport function RotateRight (matrix: unknown[][]): unknown[][]\r\n{\r\n    return RotateMatrix(matrix, -90);\r\n}\r\n", "import { CheckMatrix } from './CheckMatrix';\r\nimport { MatrixToString } from './MatrixToString';\r\nimport { ReverseColumns } from './ReverseColumns';\r\nimport { ReverseRows } from './ReverseRows';\r\nimport { Rotate180 } from './Rotate180';\r\nimport { RotateLeft } from './RotateLeft';\r\nimport { RotateMatrix } from './RotateMatrix';\r\nimport { RotateRight } from './RotateRight';\r\nimport { TransposeMatrix } from './TransposeMatrix';\r\n\r\nexport {\r\n    CheckMatrix,\r\n    MatrixToString,\r\n    ReverseColumns,\r\n    ReverseRows,\r\n    Rotate180,\r\n    RotateLeft,\r\n    RotateMatrix,\r\n    RotateRight,\r\n    TransposeMatrix\r\n};\r\n", "// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function GetRandom (array: any[], startIndex: number = 0, length?: number): any\r\n{\r\n    if (!length)\r\n    {\r\n        length = array.length;\r\n    }\r\n\r\n    const randomIndex = startIndex + Math.floor(Math.random() * length);\r\n\r\n    return array[randomIndex];\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Create an array representing the range of numbers (usually integers), between, and inclusive of,\r\n * the given `start` and `end` arguments. For example:\r\n *\r\n * `var array = numberArray(2, 4); // array = [2, 3, 4]`\r\n * `var array = numberArray(0, 9); // array = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]`\r\n *\r\n * This is equivalent to `numberArrayStep(start, end, 1)`.\r\n *\r\n * You can optionally provide a prefix and / or suffix string. If given the array will contain\r\n * strings, not integers. For example:\r\n *\r\n * `var array = numberArray(1, 4, 'Level '); // array = [\"Level 1\", \"Level 2\", \"Level 3\", \"Level 4\"]`\r\n * `var array = numberArray(5, 7, 'HD-', '.png'); // array = [\"HD-5.png\", \"HD-6.png\", \"HD-7.png\"]`\r\n *\r\n * @param {number} start - The minimum value the array starts with.\r\n * @param {number} end - The maximum value the array contains.\r\n * @param {string} [prefix] - Optional prefix to place before the number. If provided the array will contain strings, not integers.\r\n * @param {string} [suffix] - Optional suffix to place after the number. If provided the array will contain strings, not integers.\r\n *\r\n * @return {(number[]|string[])} The array of number values, or strings if a prefix or suffix was provided.\r\n */\r\nexport function NumberArray (start: number, end: number, prefix?: string, suffix?: string): (string | number)[]\r\n{\r\n    const result: (string | number)[] = [];\r\n\r\n    for (let i = start; i <= end; i++)\r\n    {\r\n        if (prefix || suffix)\r\n        {\r\n            let key = (prefix) ? prefix + i.toString() : i.toString();\r\n\r\n            if (suffix)\r\n            {\r\n                key = key.concat(suffix);\r\n            }\r\n\r\n            result.push(key);\r\n        }\r\n        else\r\n        {\r\n            result.push(i);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Round a given number so it is further away from zero. That is, positive numbers are rounded up, and negative numbers are rounded down.\r\n *\r\n * @function Phaser.Math.RoundAwayFromZero\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The number to round.\r\n *\r\n * @return {number} The rounded number, rounded away from zero.\r\n */\r\nexport function RoundAwayFromZero (value: number): number\r\n{\r\n    // \"Opposite\" of truncate.\r\n    return (value > 0) ? Math.ceil(value) : Math.floor(value);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { RoundAwayFromZero } from '../../math/RoundAwayFromZero';\r\n\r\n/**\r\n * Create an array of numbers (positive and/or negative) progressing from `start`\r\n * up to but not including `end` by advancing by `step`.\r\n *\r\n * If `start` is less than `end` a zero-length range is created unless a negative `step` is specified.\r\n *\r\n * Certain values for `start` and `end` (eg. NaN/undefined/null) are currently coerced to 0;\r\n * for forward compatibility make sure to pass in actual numbers.\r\n *\r\n * @example\r\n * NumberArrayStep(4);\r\n * // => [0, 1, 2, 3]\r\n *\r\n * NumberArrayStep(1, 5);\r\n * // => [1, 2, 3, 4]\r\n *\r\n * NumberArrayStep(0, 20, 5);\r\n * // => [0, 5, 10, 15]\r\n *\r\n * NumberArrayStep(0, -4, -1);\r\n * // => [0, -1, -2, -3]\r\n *\r\n * NumberArrayStep(1, 4, 0);\r\n * // => [1, 1, 1]\r\n *\r\n * NumberArrayStep(0);\r\n * // => []\r\n *\r\n * @param {number} [start=0] - The start of the range.\r\n * @param {number} [end=null] - The end of the range.\r\n * @param {number} [step=1] - The value to increment or decrement by.\r\n *\r\n * @return {number[]} The array of number values.\r\n */\r\nexport function NumberArrayStep (start: number, end: number, step: number): number[]\r\n{\r\n    const result: number[] = [];\r\n\r\n    const total = Math.max(RoundAwayFromZero((end - start) / (step || 1)), 0);\r\n\r\n    for (let i = 0; i < total; i++)\r\n    {\r\n        result.push(start);\r\n\r\n        start += step;\r\n    }\r\n\r\n    return result;\r\n}\r\n", "import * as Matrix from './matrix';\r\n\r\nimport { GetRandom } from './GetRandom';\r\nimport { NumberArray } from './NumberArray';\r\nimport { NumberArrayStep } from './NumberArrayStep';\r\n\r\nexport {\r\n    GetRandom,\r\n    Matrix,\r\n    NumberArray,\r\n    NumberArrayStep\r\n};\r\n", "/**\r\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n/**\r\n * Converts an ArrayBuffer into a base64 string.\r\n *\r\n * The resulting string can optionally be a data uri if the `mediaType` argument is provided.\r\n *\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs for more details.\r\n *\r\n * @function Phaser.Utils.Base64.ArrayBufferToBase64\r\n * @since 3.18.0\r\n *\r\n * @param {ArrayBuffer} arrayBuffer - The Array Buffer to encode.\r\n * @param {string} [mediaType] - An optional media type, i.e. `audio/ogg` or `image/jpeg`. If included the resulting string will be a data URI.\r\n *\r\n * @return {string} The base64 encoded Array Buffer.\r\n */\r\nexport function ArrayBufferToBase64 (arrayBuffer: ArrayBuffer, mediaType: string): string\r\n{\r\n    const bytes = new Uint8Array(arrayBuffer);\r\n    const len = bytes.length;\r\n\r\n    let base64 = (mediaType) ? 'data:' + mediaType + ';base64,' : '';\r\n\r\n    for (let i = 0; i < len; i += 3)\r\n    {\r\n        base64 += chars[bytes[i] >> 2];\r\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\r\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\r\n        base64 += chars[bytes[i + 2] & 63];\r\n    }\r\n\r\n    if ((len % 3) === 2)\r\n    {\r\n        base64 = base64.substring(0, base64.length - 1) + '=';\r\n    }\r\n    else if (len % 3 === 1)\r\n    {\r\n        base64 = base64.substring(0, base64.length - 2) + '==';\r\n    }\r\n\r\n    return base64;\r\n}\r\n", "/**\r\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n//  Use a lookup table to find the index.\r\nconst lookup = new Uint8Array(256);\r\n\r\nfor (let i = 0; i < chars.length; i++)\r\n{\r\n    lookup[chars.charCodeAt(i)] = i;\r\n}\r\n\r\n/**\r\n * Converts a base64 string, either with or without a data uri, into an Array Buffer.\r\n *\r\n * @function Phaser.Utils.Base64.Base64ToArrayBuffer\r\n * @since 3.18.0\r\n *\r\n * @param {string} base64 - The base64 string to be decoded. Can optionally contain a data URI header, which will be stripped out prior to decoding.\r\n *\r\n * @return {ArrayBuffer} An ArrayBuffer decoded from the base64 data.\r\n */\r\nexport function Base64ToArrayBuffer (base64: string): ArrayBuffer\r\n{\r\n    //  Is it a data uri? if so, strip the header away\r\n    base64 = base64.substr(base64.indexOf(',') + 1);\r\n\r\n    const len = base64.length;\r\n    let bufferLength = len * 0.75;\r\n    let p = 0;\r\n    let encoded1;\r\n    let encoded2;\r\n    let encoded3;\r\n    let encoded4;\r\n\r\n    if (base64[len - 1] === '=')\r\n    {\r\n        bufferLength--;\r\n\r\n        if (base64[len - 2] === '=')\r\n        {\r\n            bufferLength--;\r\n        }\r\n    }\r\n\r\n    const arrayBuffer = new ArrayBuffer(bufferLength);\r\n    const bytes = new Uint8Array(arrayBuffer);\r\n\r\n    for (let i = 0; i < len; i += 4)\r\n    {\r\n        encoded1 = lookup[base64.charCodeAt(i)];\r\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n\r\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n    }\r\n\r\n    return arrayBuffer;\r\n}\r\n", "import { ArrayBufferToBase64 } from './ArrayBufferToBase64';\r\nimport { Base64ToArrayBuffer } from './Base64ToArrayBuffer';\r\n\r\nexport {\r\n    ArrayBufferToBase64,\r\n    Base64ToArrayBuffer\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Capitalizes the first letter of a string if there is one.\r\n * @example\r\n * UppercaseFirst('abc');\r\n * // returns 'Abc'\r\n * @example\r\n * UppercaseFirst('the happy family');\r\n * // returns 'The happy family'\r\n * @example\r\n * UppercaseFirst('');\r\n * // returns ''\r\n *\r\n * @function Phaser.Utils.String.UppercaseFirst\r\n * @since 3.0.0\r\n *\r\n * @param {string} str - The string to capitalize.\r\n *\r\n * @return {string} A new string, same as the first, but with the first letter capitalized.\r\n */\r\nexport function UppercaseFirst (str: string): string\r\n{\r\n    return str && str[0].toUpperCase() + str.slice(1);\r\n}\r\n", "import { UppercaseFirst } from './UppercaseFirst';\r\n\r\nexport {\r\n    UppercaseFirst\r\n};\r\n", "export function NOOP (): void\r\n{\r\n    //  No-op\r\n}\r\n", "import * as Array from './array';\r\nimport * as Base64 from './base64';\r\nimport * as String from './string';\r\n\r\nimport { NOOP } from './NOOP';\r\n\r\nexport {\r\n    Array,\r\n    Base64,\r\n    NOOP,\r\n    String\r\n};\r\n", "import { NOOP } from '../../utils';\r\n\r\n//  4x4 Matrix in column-major format\r\n\r\n/**\r\n * data[0] = m00\r\n * data[1] = m01\r\n * data[2] = m02\r\n * data[3] = m03\r\n * data[4] = m10\r\n * data[5] = m11\r\n * data[6] = m12\r\n * data[7] = m13\r\n * data[8] = m20\r\n * data[9] = m21\r\n * data[10] = m22\r\n * data[11] = m23\r\n * data[12] = m30\r\n * data[13] = m31\r\n * data[14] = m32\r\n * data[15] = m33\r\n */\r\n\r\nexport class Matrix4\r\n{\r\n    data: Float32Array;\r\n\r\n    onChange: (mat4: Matrix4) => void;\r\n\r\n    constructor (src?: Matrix4 | Float32List)\r\n    {\r\n        const data = new Float32Array(16);\r\n\r\n        this.data = data;\r\n        this.onChange = NOOP;\r\n\r\n        if (src)\r\n        {\r\n            if (Array.isArray(src))\r\n            {\r\n                this.fromArray(src);\r\n            }\r\n            else\r\n            {\r\n                this.fromArray((src as Matrix4).data);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            data[0] = 1;\r\n            data[5] = 1;\r\n            data[10] = 1;\r\n            data[15] = 1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param m00 - 1st value of 1st row\r\n     * @param m01 - 2nd value of 1st row\r\n     * @param m02 - 3rd value of 1st row\r\n     * @param m03 - 4th value of 1st row\r\n     * @param m10 - 1st value of 2nd row\r\n     * @param m11 - 2nd value of 2nd row\r\n     * @param m12 - 3rd value of 2nd row\r\n     * @param m13 - 4th value of 2nd row\r\n     * @param m20 - 1st value of 3rd row\r\n     * @param m21 - 2nd value of 3rd row\r\n     * @param m22 - 3rd value of 3rd row\r\n     * @param m23 - 4th value of 3rd row\r\n     * @param m30 - 1st value of 4th row\r\n     * @param m31 - 2nd value of 4th row\r\n     * @param m32 - 3rd value of 4th row\r\n     * @param m33 - 4th value of 4th row\r\n     */\r\n    set (m00: number, m01: number, m02: number, m03: number, m10: number, m11: number, m12: number, m13: number, m20: number, m21: number, m22: number, m23: number, m30: number, m31: number, m32: number, m33: number): this\r\n    {\r\n        const data = this.data;\r\n\r\n        data[ 0 ] = m00;\r\n        data[ 1 ] = m01;\r\n        data[ 2 ] = m02;\r\n        data[ 3 ] = m03;\r\n\r\n        data[ 4 ] = m10;\r\n        data[ 5 ] = m11;\r\n        data[ 6 ] = m12;\r\n        data[ 7 ] = m13;\r\n\r\n        data[ 8 ] = m20;\r\n        data[ 9 ] = m21;\r\n        data[ 10 ] = m22;\r\n        data[ 11 ] = m23;\r\n\r\n        data[ 12 ] = m30;\r\n        data[ 13 ] = m31;\r\n        data[ 14 ] = m32;\r\n        data[ 15 ] = m33;\r\n\r\n        this.onChange(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    toArray (dst: Float32List = [], index: number = 0): Float32List\r\n    {\r\n        const data = this.data;\r\n\r\n        for (let i = 0; i < 16; i++)\r\n        {\r\n            dst[ index + i ] = data[i];\r\n        }\r\n\r\n        return dst;\r\n    }\r\n\r\n    fromArray (src: Float32List, index: number = 0): this\r\n    {\r\n        const data = this.data;\r\n\r\n        for (let i = 0; i < 16; i++)\r\n        {\r\n            data[i] = src[ index + i ];\r\n        }\r\n\r\n        this.onChange(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        return '[ mat4=' + this.data.join(', ') + ' ]';\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.onChange = NOOP;\r\n        this.data = null;\r\n    }\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Adds two mat4's\r\n\r\nexport function Add (a: Matrix4, b: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = a.data;\r\n    const [ b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33 ] = b.data;\r\n\r\n    return out.set(\r\n        a00 + b00,\r\n        a01 + b01,\r\n        a02 + b02,\r\n        a03 + b03,\r\n        a10 + b10,\r\n        a11 + b11,\r\n        a12 + b12,\r\n        a13 + b13,\r\n        a20 + b20,\r\n        a21 + b21,\r\n        a22 + b22,\r\n        a23 + b23,\r\n        a30 + b30,\r\n        a31 + b31,\r\n        a32 + b32,\r\n        a33 + b33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function AddTranslationFromFloats (matrix: Matrix4, x: number, y: number, z: number): Matrix4\r\n{\r\n    const data = matrix.data;\r\n\r\n    data[12] += x;\r\n    data[13] += y;\r\n    data[14] += z;\r\n\r\n    matrix.onChange(matrix);\r\n\r\n    return matrix;\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Adjoint (matrix: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    const b00 = a00 * a11 - a01 * a10;\r\n    const b01 = a00 * a12 - a02 * a10;\r\n    const b02 = a00 * a13 - a03 * a10;\r\n    const b03 = a01 * a12 - a02 * a11;\r\n    const b04 = a01 * a13 - a03 * a11;\r\n    const b05 = a02 * a13 - a03 * a12;\r\n    const b06 = a20 * a31 - a21 * a30;\r\n    const b07 = a20 * a32 - a22 * a30;\r\n    const b08 = a20 * a33 - a23 * a30;\r\n    const b09 = a21 * a32 - a22 * a31;\r\n    const b10 = a21 * a33 - a23 * a31;\r\n    const b11 = a22 * a33 - a23 * a32;\r\n\r\n    return out.set(\r\n        a11 * b11 - a12 * b10 + a13 * b09,\r\n        a02 * b10 - a01 * b11 - a03 * b09,\r\n        a31 * b05 - a32 * b04 + a33 * b03,\r\n        a22 * b04 - a21 * b05 - a23 * b03,\r\n        a12 * b08 - a10 * b11 - a13 * b07,\r\n        a00 * b11 - a02 * b08 + a03 * b07,\r\n        a32 * b02 - a30 * b05 - a33 * b01,\r\n        a20 * b05 - a22 * b02 + a23 * b01,\r\n        a10 * b10 - a11 * b08 + a13 * b06,\r\n        a01 * b08 - a00 * b10 - a03 * b06,\r\n        a30 * b04 - a31 * b02 + a33 * b00,\r\n        a21 * b02 - a20 * b04 - a23 * b00,\r\n        a11 * b07 - a10 * b09 - a12 * b06,\r\n        a00 * b09 - a01 * b07 + a02 * b06,\r\n        a31 * b01 - a30 * b03 - a32 * b00,\r\n        a20 * b03 - a21 * b01 + a22 * b00\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Clone (src: Matrix4): Matrix4\r\n{\r\n    return new Matrix4(src);\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function CopyFrom (src: Matrix4, dest: Matrix4): Matrix4\r\n{\r\n    return dest.fromArray(src.data);\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function CopyPosition (src: Matrix4, dest: Matrix4): Matrix4\r\n{\r\n    const srcData = src.data;\r\n    const destData = dest.data;\r\n\r\n    destData[12] = srcData[12];\r\n    destData[13] = srcData[13];\r\n    destData[14] = srcData[14];\r\n\r\n    dest.onChange(dest);\r\n\r\n    return dest;\r\n}\r\n", "import { IMatrix4 } from './IMatrix4';\r\n\r\nexport function Determinant (matrix: IMatrix4): number\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = matrix.data;\r\n\r\n    // https://en.wikipedia.org/wiki/Laplace_expansion\r\n    // to compute the deterrminant of a 4x4 Matrix we compute the cofactors of any row or column,\r\n    // then we multiply each Cofactor by its corresponding matrix value and sum them all to get the determinant\r\n    // Cofactor(i, j) = sign(i,j) * det(Minor(i, j))\r\n    // where\r\n    //  - sign(i,j) = (i+j) % 2 === 0 ? 1 : -1\r\n    //  - Minor(i, j) is the 3x3 matrix we get by removing row i and column j from current Matrix\r\n    //\r\n    // Here we do that for the 1st row.\r\n\r\n    const det22x33 = m22 * m33 - m32 * m23;\r\n    const det21x33 = m21 * m33 - m31 * m23;\r\n    const det21x32 = m21 * m32 - m31 * m22;\r\n    const det20x33 = m20 * m33 - m30 * m23;\r\n    const det20x32 = m20 * m32 - m22 * m30;\r\n    const det20x31 = m20 * m31 - m30 * m21;\r\n\r\n    const cofact00 = +(m11 * det22x33 - m12 * det21x33 + m13 * det21x32);\r\n    const cofact01 = -(m10 * det22x33 - m12 * det20x33 + m13 * det20x32);\r\n    const cofact02 = +(m10 * det21x33 - m11 * det20x33 + m13 * det20x31);\r\n    const cofact03 = -(m10 * det21x32 - m11 * det20x32 + m12 * det20x31);\r\n\r\n    return m00 * cofact00 + m01 * cofact01 + m02 * cofact02 + m03 * cofact03;\r\n}\r\n", "import { IMatrix4 } from './IMatrix4';\r\n\r\n// Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n\r\nexport function Equals (a: IMatrix4, b: IMatrix4): boolean\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = a.data;\r\n    const [ b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33 ] = b.data;\r\n\r\n    return (\r\n        a00 === b00 &&\r\n        a01 === b01 &&\r\n        a02 === b02 &&\r\n        a03 === b03 &&\r\n        a10 === b10 &&\r\n        a11 === b11 &&\r\n        a12 === b12 &&\r\n        a13 === b13 &&\r\n        a20 === b20 &&\r\n        a21 === b21 &&\r\n        a22 === b22 &&\r\n        a23 === b23 &&\r\n        a30 === b30 &&\r\n        a31 === b31 &&\r\n        a32 === b32 &&\r\n        a33 === b33\r\n    );\r\n}\r\n", "import { IMatrix4 } from './IMatrix4';\r\n\r\nexport function Frobenius (matrix: IMatrix4): number\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = matrix.data;\r\n\r\n    return Math.hypot(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n}\r\n", "import { IQuaternionLike } from '../quaternion/IQuaternionLike';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n// Calculates a 4x4 matrix from the given quaternion\r\n\r\nexport function FromQuat (q: IQuaternionLike, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x, y, z, w } = q;\r\n\r\n    const x2 = x + x;\r\n    const y2 = y + y;\r\n    const z2 = z + z;\r\n\r\n    const xx = x * x2;\r\n    const yx = y * x2;\r\n    const yy = y * y2;\r\n    const zx = z * x2;\r\n    const zy = z * y2;\r\n    const zz = z * z2;\r\n    const wx = w * x2;\r\n    const wy = w * y2;\r\n    const wz = w * z2;\r\n\r\n    return out.set(\r\n        1 - yy - zz,\r\n        yx + wz,\r\n        zx - wy,\r\n        0,\r\n        yx - wz,\r\n        1 - xx - zz,\r\n        zy + wx,\r\n        0,\r\n        zx + wy,\r\n        zy - wx,\r\n        1 - xx - yy,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        1\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function FromRotation (angle: number, axis: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    let { x, y, z } = axis;\r\n\r\n    let len = Math.hypot(x, y, z);\r\n\r\n    if (len < 0.00001)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n    const t = 1 - c;\r\n\r\n    return out.set(\r\n        x * x * t + c,\r\n        y * x * t + z * s,\r\n        z * x * t - y * s,\r\n        0,\r\n        x * y * t - z * s,\r\n        y * y * t + c,\r\n        z * y * t + x * s,\r\n        0,\r\n        x * z * t + y * s,\r\n        y * z * t - x * s,\r\n        z * z * t + c,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        1\r\n    );\r\n}\r\n", "import { IQuaternionLike } from '../quaternion/IQuaternionLike';\r\nimport { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function FromRotationTranslation (q: IQuaternionLike, v: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    // Quaternion math\r\n    const { x, y, z, w } = q;\r\n\r\n    const x2 = x + x;\r\n    const y2 = y + y;\r\n    const z2 = z + z;\r\n\r\n    const xx = x * x2;\r\n    const xy = x * y2;\r\n    const xz = x * z2;\r\n    const yy = y * y2;\r\n    const yz = y * z2;\r\n    const zz = z * z2;\r\n    const wx = w * x2;\r\n    const wy = w * y2;\r\n    const wz = w * z2;\r\n\r\n    const { x: vx, y: vy, z: vz } = v;\r\n\r\n    return out.set(\r\n        1 - (yy + zz),\r\n        xy + wz,\r\n        xz - wy,\r\n        0,\r\n        xy - wz,\r\n        1 - (xx + zz),\r\n        yz + wx,\r\n        0,\r\n        xz + wy,\r\n        yz - wx,\r\n        1 - (xx + yy),\r\n        0,\r\n        vx,\r\n        vy,\r\n        vz,\r\n        1\r\n    );\r\n}\r\n", "import { IQuaternionLike } from '../quaternion/IQuaternionLike';\r\nimport { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n// Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n\r\nexport function FromRotationTranslationScale (q: IQuaternionLike, v: IVec3Like, s: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    // Quaternion math\r\n    const { x, y, z, w } = q;\r\n\r\n    const x2 = x + x;\r\n    const y2 = y + y;\r\n    const z2 = z + z;\r\n\r\n    const xx = x * x2;\r\n    const xy = x * y2;\r\n    const xz = x * z2;\r\n    const yy = y * y2;\r\n    const yz = y * z2;\r\n    const zz = z * z2;\r\n    const wx = w * x2;\r\n    const wy = w * y2;\r\n    const wz = w * z2;\r\n\r\n    const { x: sx, y: sy, z: sz } = s;\r\n    const { x: vx, y: vy, z: vz } = v;\r\n\r\n    return out.set(\r\n        (1 - (yy + zz)) * sx,\r\n        (xy + wz) * sx,\r\n        (xz - wy) * sx,\r\n        0,\r\n        (xy - wz) * sy,\r\n        (1 - (xx + zz)) * sy,\r\n        (yz + wx) * sy,\r\n        0,\r\n        (xz + wy) * sz,\r\n        (yz - wx) * sz,\r\n        (1 - (xx + yy)) * sz,\r\n        0,\r\n        vx,\r\n        vy,\r\n        vz,\r\n        1\r\n    );\r\n}\r\n", "import { IQuaternionLike } from '../quaternion/IQuaternionLike';\r\nimport { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n//  Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n\r\nexport function FromRotationTranslationScaleOrigin (q: IQuaternionLike, v: IVec3Like, s: IVec3Like, o: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    // Quaternion math\r\n    const { x, y, z, w } = q;\r\n\r\n    const x2 = x + x;\r\n    const y2 = y + y;\r\n    const z2 = z + z;\r\n\r\n    const xx = x * x2;\r\n    const xy = x * y2;\r\n    const xz = x * z2;\r\n    const yy = y * y2;\r\n    const yz = y * z2;\r\n    const zz = z * z2;\r\n    const wx = w * x2;\r\n    const wy = w * y2;\r\n    const wz = w * z2;\r\n\r\n    const { x: sx, y: sy, z: sz } = s;\r\n    const { x: ox, y: oy, z: oz } = o;\r\n    const { x: vx, y: vy, z: vz } = v;\r\n\r\n    const out0 = (1 - (yy + zz)) * sx;\r\n    const out1 = (xy + wz) * sx;\r\n    const out2 = (xz - wy) * sx;\r\n    const out4 = (xy - wz) * sy;\r\n    const out5 = (1 - (xx + zz)) * sy;\r\n    const out6 = (yz + wx) * sy;\r\n    const out8 = (xz + wy) * sz;\r\n    const out9 = (yz - wx) * sz;\r\n    const out10 = (1 - (xx + yy)) * sz;\r\n\r\n    return out.set(\r\n        out0,\r\n        out1,\r\n        out2,\r\n        0,\r\n        out4,\r\n        out5,\r\n        out6,\r\n        0,\r\n        out8,\r\n        out9,\r\n        out10,\r\n        0,\r\n        vx + ox - (out0 * ox + out4 * oy + out8 * oz),\r\n        vy + oy - (out1 * ox + out5 * oy + out9 * oz),\r\n        vz + oz - (out2 * ox + out6 * oy + out10 * oz),\r\n        1\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function FromRotationXYTranslation (rotation: IVec3Like, position: IVec3Like, translateFirst: boolean = true, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x, y, z } = position;\r\n\r\n    const sx = Math.sin(rotation.x);\r\n    const cx = Math.cos(rotation.x);\r\n\r\n    const sy = Math.sin(rotation.y);\r\n    const cy = Math.cos(rotation.y);\r\n\r\n    let a30 = x;\r\n    let a31 = y;\r\n    let a32 = z;\r\n\r\n    //  Rotate X\r\n\r\n    const b21 = -sx;\r\n\r\n    //  Rotate Y\r\n\r\n    const c01 = 0 - b21 * sy;\r\n\r\n    const c02 = 0 - cx * sy;\r\n\r\n    const c21 = b21 * cy;\r\n\r\n    const c22 = cx * cy;\r\n\r\n    //  Translate\r\n    if (!translateFirst)\r\n    {\r\n        // a30 = cy * x + 0 * y + sy * z;\r\n        a30 = cy * x + sy * z;\r\n        a31 = c01 * x + cx * y + c21 * z;\r\n        a32 = c02 * x + sx * y + c22 * z;\r\n    }\r\n\r\n    return out.set(\r\n        cy,\r\n        c01,\r\n        c02,\r\n        0,\r\n        0,\r\n        cx,\r\n        sx,\r\n        0,\r\n        sy,\r\n        c21,\r\n        c22,\r\n        0,\r\n        a30,\r\n        a31,\r\n        a32,\r\n        1\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function FromScaling (vec3: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x, y, z } = vec3;\r\n\r\n    return out.set(\r\n        x, 0, 0, 0,\r\n        0, y, 0, 0,\r\n        0, 0, z, 0,\r\n        0, 0, 0, 1\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function FromTranslation (vec3: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x, y, z } = vec3;\r\n\r\n    return out.set(\r\n        1, 0, 0, 0,\r\n        0, 1, 0, 0,\r\n        0, 0, 1, 0,\r\n        x, y, z, 1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function FromXRotation (angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const c = Math.cos(angle);\r\n    const s = Math.sin(angle);\r\n\r\n    return out.set(\r\n        1, 0, 0, 0,\r\n        0, c, s, 0,\r\n        0, -s, c, 0,\r\n        0, 0, 0, 1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function FromYRotation (angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const c = Math.cos(angle);\r\n    const s = Math.sin(angle);\r\n\r\n    return out.set(\r\n        c, 0, -s, 0,\r\n        0, 1, 0, 0,\r\n        s, 0, c, 0,\r\n        0, 0, 0, 1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function FromZRotation (angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const c = Math.cos(angle);\r\n    const s = Math.sin(angle);\r\n\r\n    return out.set(\r\n        c, s, 0, 0,\r\n        -s, c, 0, 0,\r\n        0, 0, 1, 0,\r\n        0, 0, 0, 1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Generates a frustum matrix with the given bounds\r\n\r\nexport function Frustum (left: number, right: number, bottom: number, top: number, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const rl = 1 / (right - left);\r\n    const tb = 1 / (top - bottom);\r\n    const nf = 1 / (near - far);\r\n\r\n    return out.set(\r\n        near * 2 * rl,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        near * 2 * tb,\r\n        0,\r\n        0,\r\n        (right + left) * rl,\r\n        (top + bottom) * tb,\r\n        (far + near) * nf,\r\n        -1,\r\n        0,\r\n        0,\r\n        far * near * 2 * nf,\r\n        0\r\n    );\r\n}\r\n", "export class Vec3\r\n{\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0)\r\n    {\r\n        this.set(x, y, z);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, z: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n\r\n        return this;\r\n    }\r\n\r\n    toArray (dst: Float32List = [], index: number = 0): Float32List\r\n    {\r\n        const { x, y, z } = this;\r\n\r\n        dst[ index ] = x;\r\n        dst[ index + 1 ] = y;\r\n        dst[ index + 2 ] = z;\r\n\r\n        return dst;\r\n    }\r\n\r\n    fromArray (src: Float32List, index: number = 0): this\r\n    {\r\n        return this.set(\r\n            src[ index ],\r\n            src[ index + 1 ],\r\n            src[ index + 2 ]\r\n        );\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y, z } = this;\r\n\r\n        return `{ x=${x}, y=${y}, z=${z} }`;\r\n    }\r\n}\r\n", "import { IMatrix4 } from './IMatrix4';\r\nimport { Vec3 } from '../vec3/Vec3';\r\n\r\nexport function GetScaling (matrix: IMatrix4, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22 ] = matrix.data;\r\n\r\n    return out.set(\r\n        Math.hypot(m00, m01, m02),\r\n        Math.hypot(m10, m11, m12),\r\n        Math.hypot(m20, m21, m22)\r\n    );\r\n}\r\n", "import { NOOP } from '../../utils';\r\n\r\nexport class Quaternion\r\n{\r\n    private _x: number;\r\n    private _y: number;\r\n    private _z: number;\r\n    private _w: number;\r\n\r\n    onChange: (quat: Quaternion) => void;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, w: number = 1)\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._z = z;\r\n        this._w = w;\r\n\r\n        this.onChange = NOOP;\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, z: number = 0, w: number = 1): this\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._z = z;\r\n        this._w = w;\r\n\r\n        this.onChange(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        const prev = this._x;\r\n\r\n        this._x = value;\r\n\r\n        if (value !== prev)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        const prev = this._y;\r\n\r\n        this._y = value;\r\n\r\n        if (value !== prev)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    set z (value: number)\r\n    {\r\n        const prev = this._z;\r\n\r\n        this._z = value;\r\n\r\n        if (value !== prev)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get z (): number\r\n    {\r\n        return this._z;\r\n    }\r\n\r\n    set w (value: number)\r\n    {\r\n        const prev = this._w;\r\n\r\n        this._w = value;\r\n\r\n        if (value !== prev)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get w (): number\r\n    {\r\n        return this._w;\r\n    }\r\n\r\n    toArray (dst: Float32List = [], index: number = 0): Float32List\r\n    {\r\n        const { x, y, z, w } = this;\r\n\r\n        dst[ index ] = x;\r\n        dst[ index + 1 ] = y;\r\n        dst[ index + 2 ] = z;\r\n        dst[ index + 3 ] = w;\r\n\r\n        return dst;\r\n    }\r\n\r\n    fromArray (src: Float32List, index: number = 0): this\r\n    {\r\n        return this.set(\r\n            src[ index ],\r\n            src[ index + 1 ],\r\n            src[ index + 2 ],\r\n            src[ index + 3 ]\r\n        );\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.onChange = NOOP;\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y, z, w } = this;\r\n\r\n        return `{ x=${x}, y=${y}, z=${z}, w=${w} }`;\r\n    }\r\n}\r\n", "import { GetScaling } from './GetScaling';\r\nimport { IMatrix4 } from './IMatrix4';\r\nimport { Quaternion } from '../quaternion/Quaternion';\r\n\r\nexport function GetRotation (matrix: IMatrix4, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const scaling = GetScaling(matrix);\r\n\r\n    const is1 = 1 / scaling.x;\r\n    const is2 = 1 / scaling.y;\r\n    const is3 = 1 / scaling.z;\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22 ] = matrix.data;\r\n\r\n    const sm11 = m00 * is1;\r\n    const sm12 = m01 * is2;\r\n    const sm13 = m02 * is3;\r\n    const sm21 = m10 * is1;\r\n    const sm22 = m11 * is2;\r\n    const sm23 = m12 * is3;\r\n    const sm31 = m20 * is1;\r\n    const sm32 = m21 * is2;\r\n    const sm33 = m22 * is3;\r\n\r\n    const trace = sm11 + sm22 + sm33;\r\n\r\n    let S = 0;\r\n\r\n    if (trace > 0)\r\n    {\r\n        S = Math.sqrt(trace + 1) * 2;\r\n\r\n        return out.set(\r\n            (sm23 - sm32) / S,\r\n            (sm31 - sm13) / S,\r\n            (sm12 - sm21) / S,\r\n            0.25 * S\r\n        );\r\n    }\r\n    else if (sm11 > sm22 && sm11 > sm33)\r\n    {\r\n        S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\r\n\r\n        return out.set(\r\n            0.25 * S,\r\n            (sm12 + sm21) / S,\r\n            (sm31 + sm13) / S,\r\n            (sm23 - sm32) / S\r\n        );\r\n    }\r\n    else if (sm22 > sm33)\r\n    {\r\n        S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\r\n\r\n        return out.set(\r\n            (sm12 + sm21) / S,\r\n            0.25 * S,\r\n            (sm23 + sm32) / S,\r\n            (sm31 - sm13) / S\r\n        );\r\n    }\r\n    else\r\n    {\r\n        S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\r\n\r\n        return out.set(\r\n            (sm31 + sm13) / S,\r\n            (sm23 + sm32) / S,\r\n            0.25 * S,\r\n            (sm12 - sm21) / S\r\n        );\r\n    }\r\n}\r\n", "import { IMatrix4 } from './IMatrix4';\r\nimport { Vec3 } from '../vec3/Vec3';\r\n\r\nexport function GetTranslation (matrix: IMatrix4, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const data = matrix.data;\r\n\r\n    return out.set(data[12], data[13], data[14]);\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Identity (matrix: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    return matrix.set(\r\n        1, 0, 0, 0,\r\n        0, 1, 0, 0,\r\n        0, 0, 1, 0,\r\n        0, 0, 0, 1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Invert (matrix: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = matrix.data;\r\n\r\n    // the inverse of a Matrix is the transpose of cofactor matrix divided by the determinant\r\n    const det22x33 = m22 * m33 - m32 * m23;\r\n    const det21x33 = m21 * m33 - m31 * m23;\r\n    const det21x32 = m21 * m32 - m31 * m22;\r\n    const det20x33 = m20 * m33 - m30 * m23;\r\n    const det20x32 = m20 * m32 - m22 * m30;\r\n    const det20x31 = m20 * m31 - m30 * m21;\r\n\r\n    const cofact00 = +(m11 * det22x33 - m12 * det21x33 + m13 * det21x32);\r\n    const cofact01 = -(m10 * det22x33 - m12 * det20x33 + m13 * det20x32);\r\n    const cofact02 = +(m10 * det21x33 - m11 * det20x33 + m13 * det20x31);\r\n    const cofact03 = -(m10 * det21x32 - m11 * det20x32 + m12 * det20x31);\r\n\r\n    const det = m00 * cofact00 + m01 * cofact01 + m02 * cofact02 + m03 * cofact03;\r\n\r\n    if (det === 0)\r\n    {\r\n        //  Not invertible\r\n        return out;\r\n    }\r\n\r\n    const detInv = 1 / det;\r\n\r\n    const det12x33 = m12 * m33 - m32 * m13;\r\n    const det11x33 = m11 * m33 - m31 * m13;\r\n    const det11x32 = m11 * m32 - m31 * m12;\r\n    const det10x33 = m10 * m33 - m30 * m13;\r\n    const det10x32 = m10 * m32 - m30 * m12;\r\n    const det10x31 = m10 * m31 - m30 * m11;\r\n    const det12x23 = m12 * m23 - m22 * m13;\r\n    const det11x23 = m11 * m23 - m21 * m13;\r\n    const det11x22 = m11 * m22 - m21 * m12;\r\n    const det10x23 = m10 * m23 - m20 * m13;\r\n    const det10x22 = m10 * m22 - m20 * m12;\r\n    const det10x21 = m10 * m21 - m20 * m11;\r\n\r\n    const cofact10 = -(m01 * det22x33 - m02 * det21x33 + m03 * det21x32);\r\n    const cofact11 = +(m00 * det22x33 - m02 * det20x33 + m03 * det20x32);\r\n    const cofact12 = -(m00 * det21x33 - m01 * det20x33 + m03 * det20x31);\r\n    const cofact13 = +(m00 * det21x32 - m01 * det20x32 + m02 * det20x31);\r\n\r\n    const cofact20 = +(m01 * det12x33 - m02 * det11x33 + m03 * det11x32);\r\n    const cofact21 = -(m00 * det12x33 - m02 * det10x33 + m03 * det10x32);\r\n    const cofact22 = +(m00 * det11x33 - m01 * det10x33 + m03 * det10x31);\r\n    const cofact23 = -(m00 * det11x32 - m01 * det10x32 + m02 * det10x31);\r\n\r\n    const cofact30 = -(m01 * det12x23 - m02 * det11x23 + m03 * det11x22);\r\n    const cofact31 = +(m00 * det12x23 - m02 * det10x23 + m03 * det10x22);\r\n    const cofact32 = -(m00 * det11x23 - m01 * det10x23 + m03 * det10x21);\r\n    const cofact33 = +(m00 * det11x22 - m01 * det10x22 + m02 * det10x21);\r\n\r\n    return out.set(\r\n        cofact00 * detInv, cofact10 * detInv, cofact20 * detInv, cofact30 * detInv,\r\n        cofact01 * detInv, cofact11 * detInv, cofact21 * detInv, cofact31 * detInv,\r\n        cofact02 * detInv, cofact12 * detInv, cofact22 * detInv, cofact32 * detInv,\r\n        cofact03 * detInv, cofact13 * detInv, cofact23 * detInv, cofact33 * detInv\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Identity } from './Identity';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n// Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n// If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n\r\nexport function LookAt (eye: IVec3Like, center: IVec3Like, up: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x: eyex, y: eyey, z: eyez } = eye;\r\n    const { x: upx, y: upy, z: upz } = up;\r\n    const { x: centerx, y: centery, z: centerz } = center;\r\n\r\n    if (Math.abs(eyex - centerx) < 0.00001 && Math.abs(eyey - centery) < 0.00001 && Math.abs(eyez - centerz) < 0.00001)\r\n    {\r\n        return Identity(out);\r\n    }\r\n\r\n    let z0 = eyex - centerx;\r\n    let z1 = eyey - centery;\r\n    let z2 = eyez - centerz;\r\n\r\n    let len = 1 / Math.hypot(z0, z1, z2);\r\n\r\n    z0 *= len;\r\n    z1 *= len;\r\n    z2 *= len;\r\n\r\n    let x0 = upy * z2 - upz * z1;\r\n    let x1 = upz * z0 - upx * z2;\r\n    let x2 = upx * z1 - upy * z0;\r\n\r\n    len = Math.hypot(x0, x1, x2);\r\n\r\n    if (!len)\r\n    {\r\n        x0 = 0;\r\n        x1 = 0;\r\n        x2 = 0;\r\n    }\r\n    else\r\n    {\r\n        len = 1 / len;\r\n        x0 *= len;\r\n        x1 *= len;\r\n        x2 *= len;\r\n    }\r\n\r\n    let y0 = z1 * x2 - z2 * x1;\r\n    let y1 = z2 * x0 - z0 * x2;\r\n    let y2 = z0 * x1 - z1 * x0;\r\n\r\n    len = Math.hypot(y0, y1, y2);\r\n\r\n    if (!len)\r\n    {\r\n        y0 = 0;\r\n        y1 = 0;\r\n        y2 = 0;\r\n    }\r\n    else\r\n    {\r\n        len = 1 / len;\r\n        y0 *= len;\r\n        y1 *= len;\r\n        y2 *= len;\r\n    }\r\n\r\n    return out.set(\r\n        x0,\r\n        y0,\r\n        z0,\r\n        0,\r\n        x1,\r\n        y1,\r\n        z1,\r\n        0,\r\n        x2,\r\n        y2,\r\n        z2,\r\n        0,\r\n        -(x0 * eyex + x1 * eyey + x2 * eyez),\r\n        -(y0 * eyex + y1 * eyey + y2 * eyez),\r\n        -(z0 * eyex + z1 * eyey + z2 * eyez),\r\n        1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Multiplies two mat4s\r\n\r\nexport function Multiply (a: Matrix4, b: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = a.data;\r\n    const [ b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33 ] = b.data;\r\n\r\n    return out.set(\r\n        b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n        b01 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n        b02 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n        b03 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n\r\n        b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n        b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n        b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n        b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n\r\n        b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n        b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n        b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n        b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n\r\n        b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n        b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n        b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n        b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Multiply each element of the matrix by a scalar.\r\n\r\nexport function MultiplyScalar (matrix: Matrix4, scalar: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    return out.set(\r\n        a00 * scalar,\r\n        a01 * scalar,\r\n        a02 * scalar,\r\n        a03 * scalar,\r\n        a10 * scalar,\r\n        a11 * scalar,\r\n        a12 * scalar,\r\n        a13 * scalar,\r\n        a20 * scalar,\r\n        a21 * scalar,\r\n        a22 * scalar,\r\n        a23 * scalar,\r\n        a30 * scalar,\r\n        a31 * scalar,\r\n        a32 * scalar,\r\n        a33 * scalar\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n\r\nexport function MultiplyScalarAndAdd (a: Matrix4, b: Matrix4, scalar: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = a.data;\r\n    const [ b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33 ] = b.data;\r\n\r\n    return out.set(\r\n        a00 + b00 * scalar,\r\n        a01 + b01 * scalar,\r\n        a02 + b02 * scalar,\r\n        a03 + b03 * scalar,\r\n        a10 + b10 * scalar,\r\n        a11 + b11 * scalar,\r\n        a12 + b12 * scalar,\r\n        a13 + b13 * scalar,\r\n        a20 + b20 * scalar,\r\n        a21 + b21 * scalar,\r\n        a22 + b22 * scalar,\r\n        a23 + b23 * scalar,\r\n        a30 + b30 * scalar,\r\n        a31 + b31 * scalar,\r\n        a32 + b32 * scalar,\r\n        a33 + b33 * scalar\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Generates a orthogonal projection matrix with the given bounds\r\n\r\nexport function Ortho (left: number, right: number, bottom: number, top: number, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const lr = 1 / (left - right);\r\n    const bt = 1 / (bottom - top);\r\n    const nf = 1 / (near - far);\r\n\r\n    return out.set(\r\n        -2 * lr,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        -2 * bt,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        2 * nf,\r\n        0,\r\n        (left + right) * lr,\r\n        (top + bottom) * bt,\r\n        (far + near) * nf,\r\n        1\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n//  Generates a perspective projection matrix with the given bounds.\r\n//  Passing null/undefined/no value for far will generate infinite projection matrix.\r\n\r\nexport function Perspective (fovY: number, aspect: number, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const f = 1 / Math.tan(fovY / 2);\r\n\r\n    let m22 = -1;\r\n    let m32 = -2 * near;\r\n\r\n    if (far !== null && far !== Infinity)\r\n    {\r\n        const nf = 1 / (near - far);\r\n        m22 = (far + near) * nf;\r\n        m32 = 2 * far * near * nf;\r\n    }\r\n\r\n    return out.set(\r\n        f / aspect,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        f,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        m22,\r\n        -1,\r\n        0,\r\n        0,\r\n        m32,\r\n        0\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n//  Generates a perspective projection matrix with the given bounds.\r\n//  Passing null/undefined/no value for far will generate infinite projection matrix.\r\n\r\nexport type FOV = {\r\n    upDegrees: number,\r\n    downDegrees: number,\r\n    leftDegrees: number,\r\n    rightDegrees: number\r\n};\r\n\r\nexport function PerspectiveFromFieldOfView (fov: FOV, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const upTan = Math.tan((fov.upDegrees * Math.PI) / 180);\r\n    const downTan = Math.tan((fov.downDegrees * Math.PI) / 180);\r\n    const leftTan = Math.tan((fov.leftDegrees * Math.PI) / 180);\r\n    const rightTan = Math.tan((fov.rightDegrees * Math.PI) / 180);\r\n    const xScale = 2 / (leftTan + rightTan);\r\n    const yScale = 2 / (upTan + downTan);\r\n\r\n    return out.set(\r\n        xScale,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        yScale,\r\n        0,\r\n        0,\r\n        -((leftTan - rightTan) * xScale * 0.5),\r\n        (upTan - downTan) * yScale * 0.5,\r\n        far / (near - far),\r\n        -1,\r\n        0,\r\n        0,\r\n        (far * near) / (near - far),\r\n        0\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function Rotate (matrix: Matrix4, angle: number, axis: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    let { x, y, z } = axis;\r\n\r\n    let len = Math.hypot(x, y, z);\r\n\r\n    if (len < 0.00001)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n    const t = 1 - c;\r\n\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    // Construct the elements of the rotation matrix\r\n    const b00 = x * x * t + c;\r\n    const b01 = y * x * t + z * s;\r\n    const b02 = z * x * t - y * s;\r\n    const b10 = x * y * t - z * s;\r\n    const b11 = y * y * t + c;\r\n    const b12 = z * y * t + x * s;\r\n    const b20 = x * z * t + y * s;\r\n    const b21 = y * z * t - x * s;\r\n    const b22 = z * z * t + c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n\r\n    return out.set(\r\n        a00 * b00 + a10 * b01 + a20 * b02,\r\n        a01 * b00 + a11 * b01 + a21 * b02,\r\n        a02 * b00 + a12 * b01 + a22 * b02,\r\n        a03 * b00 + a13 * b01 + a23 * b02,\r\n        a00 * b10 + a10 * b11 + a20 * b12,\r\n        a01 * b10 + a11 * b11 + a21 * b12,\r\n        a02 * b10 + a12 * b11 + a22 * b12,\r\n        a03 * b10 + a13 * b11 + a23 * b12,\r\n        a00 * b20 + a10 * b21 + a20 * b22,\r\n        a01 * b20 + a11 * b21 + a21 * b22,\r\n        a02 * b20 + a12 * b21 + a22 * b22,\r\n        a03 * b20 + a13 * b21 + a23 * b22,\r\n        a30,\r\n        a31,\r\n        a32,\r\n        a33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Rotates a matrix by the given angle around the X axis\r\n\r\nexport function RotateX (matrix: Matrix4, angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    return out.set(\r\n        a00,\r\n        a01,\r\n        a02,\r\n        a03,\r\n        a10 * c + a20 * s,\r\n        a11 * c + a21 * s,\r\n        a12 * c + a22 * s,\r\n        a13 * c + a23 * s,\r\n        a20 * c - a10 * s,\r\n        a21 * c - a11 * s,\r\n        a22 * c - a12 * s,\r\n        a23 * c - a13 * s,\r\n        a30,\r\n        a31,\r\n        a32,\r\n        a33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Rotates a matrix by the given angle around the Y axis\r\n\r\nexport function RotateY (matrix: Matrix4, angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    return out.set(\r\n        a00 * c - a20 * s,\r\n        a01 * c - a21 * s,\r\n        a02 * c - a22 * s,\r\n        a03 * c - a23 * s,\r\n        a10,\r\n        a11,\r\n        a12,\r\n        a13,\r\n        a00 * s + a20 * c,\r\n        a01 * s + a21 * c,\r\n        a02 * s + a22 * c,\r\n        a03 * s + a23 * c,\r\n        a30,\r\n        a31,\r\n        a32,\r\n        a33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Rotates a matrix by the given angle around the Z axis\r\n\r\nexport function RotateZ (matrix: Matrix4, angle: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = matrix.data;\r\n\r\n    return out.set(\r\n        a00 * c + a10 * s,\r\n        a01 * c + a11 * s,\r\n        a02 * c + a12 * s,\r\n        a03 * c + a13 * s,\r\n        a10 * c - a00 * s,\r\n        a11 * c - a01 * s,\r\n        a12 * c - a02 * s,\r\n        a13 * c - a03 * s,\r\n        a20,\r\n        a21,\r\n        a22,\r\n        a23,\r\n        a30,\r\n        a31,\r\n        a32,\r\n        a33\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n// Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n\r\nexport function Scale (matrix: Matrix4, v: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = matrix.data;\r\n    const { x, y, z } = v;\r\n\r\n    return out.set(\r\n        m00 * x,\r\n        m01 * x,\r\n        m02 * x,\r\n        m03 * x,\r\n        m10 * y,\r\n        m11 * y,\r\n        m12 * y,\r\n        m13 * y,\r\n        m20 * z,\r\n        m21 * z,\r\n        m22 * z,\r\n        m23 * z,\r\n        m30,\r\n        m31,\r\n        m32,\r\n        m33\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function SetTranslation (matrix: Matrix4, vec3: IVec3Like): Matrix4\r\n{\r\n    const data = matrix.data;\r\n    const { x, y, z } = vec3;\r\n\r\n    data[12] = x;\r\n    data[13] = y;\r\n    data[14] = z;\r\n\r\n    matrix.onChange(matrix);\r\n\r\n    return matrix;\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function SetTranslationFromFloats (matrix: Matrix4, x: number, y: number, z: number): Matrix4\r\n{\r\n    const data = matrix.data;\r\n\r\n    data[12] = x;\r\n    data[13] = y;\r\n    data[14] = z;\r\n\r\n    matrix.onChange(matrix);\r\n\r\n    return matrix;\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\n// Subtracts matrix b from matrix a\r\n\r\nexport function Subtract (a: Matrix4, b: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = a.data;\r\n    const [ b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33 ] = b.data;\r\n\r\n    return out.set(\r\n        a00 - b00,\r\n        a01 - b01,\r\n        a02 - b02,\r\n        a03 - b03,\r\n        a10 - b10,\r\n        a11 - b11,\r\n        a12 - b12,\r\n        a13 - b13,\r\n        a20 - b20,\r\n        a21 - b21,\r\n        a22 - b22,\r\n        a23 - b23,\r\n        a30 - b30,\r\n        a31 - b31,\r\n        a32 - b32,\r\n        a33 - b33\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\n// Generates a matrix that makes something look at something else.\r\n\r\nexport function TargetTo (eye: IVec3Like, target: IVec3Like, up: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x: eyex, y: eyey, z: eyez } = eye;\r\n    const { x: upx, y: upy, z: upz } = up;\r\n    const { x: targetx, y: targety, z: targetz } = target;\r\n\r\n    let z0 = eyex - targetx;\r\n    let z1 = eyey - targety;\r\n    let z2 = eyez - targetz;\r\n\r\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\r\n\r\n    if (len > 0)\r\n    {\r\n        len = 1 / Math.sqrt(len);\r\n        z0 *= len;\r\n        z1 *= len;\r\n        z2 *= len;\r\n    }\r\n\r\n    let x0 = upy * z2 - upz * z1;\r\n    let x1 = upz * z0 - upx * z2;\r\n    let x2 = upx * z1 - upy * z0;\r\n\r\n    len = x0 * x0 + x1 * x1 + x2 * x2;\r\n\r\n    if (len > 0)\r\n    {\r\n        len = 1 / Math.sqrt(len);\r\n        x0 *= len;\r\n        x1 *= len;\r\n        x2 *= len;\r\n    }\r\n\r\n    return out.set(\r\n        x0,\r\n        x1,\r\n        x2,\r\n        0,\r\n        z1 * x2 - z2 * x1,\r\n        z2 * x0 - z0 * x2,\r\n        z0 * x1 - z1 * x0,\r\n        0,\r\n        z0,\r\n        z1,\r\n        z2,\r\n        0,\r\n        eyex,\r\n        eyey,\r\n        eyez,\r\n        1\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Matrix4 } from './Matrix4';\r\n\r\nexport function Translate (matrix: Matrix4, vec3: IVec3Like, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const { x, y, z } = vec3;\r\n\r\n    const data = matrix.data;\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = data;\r\n\r\n    if (matrix === out)\r\n    {\r\n        data[12] = a00 * x + a10 * y + a20 * z + a30;\r\n        data[13] = a01 * x + a11 * y + a21 * z + a31;\r\n        data[14] = a02 * x + a12 * y + a22 * z + a32;\r\n        data[15] = a03 * x + a13 * y + a23 * z + a33;\r\n    }\r\n    else\r\n    {\r\n        out.set(\r\n            a00,\r\n            a01,\r\n            a02,\r\n            a03,\r\n            a10,\r\n            a11,\r\n            a12,\r\n            a13,\r\n            a20,\r\n            a21,\r\n            a22,\r\n            a23,\r\n            a00 * x + a10 * y + a20 * z + a30,\r\n            a01 * x + a11 * y + a21 * z + a31,\r\n            a02 * x + a12 * y + a22 * z + a32,\r\n            a03 * x + a13 * y + a23 * z + a33\r\n        );\r\n    }\r\n\r\n    return out;\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function TranslateFromFloats (matrix: Matrix4, x: number, y: number, z: number, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const data = matrix.data;\r\n    const [ a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33 ] = data;\r\n\r\n    if (matrix === out)\r\n    {\r\n        data[12] = a00 * x + a10 * y + a20 * z + a30;\r\n        data[13] = a01 * x + a11 * y + a21 * z + a31;\r\n        data[14] = a02 * x + a12 * y + a22 * z + a32;\r\n        data[15] = a03 * x + a13 * y + a23 * z + a33;\r\n    }\r\n    else\r\n    {\r\n        out.set(\r\n            a00,\r\n            a01,\r\n            a02,\r\n            a03,\r\n            a10,\r\n            a11,\r\n            a12,\r\n            a13,\r\n            a20,\r\n            a21,\r\n            a22,\r\n            a23,\r\n            a00 * x + a10 * y + a20 * z + a30,\r\n            a01 * x + a11 * y + a21 * z + a31,\r\n            a02 * x + a12 * y + a22 * z + a32,\r\n            a03 * x + a13 * y + a23 * z + a33\r\n        );\r\n    }\r\n\r\n    return out;\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Transpose (matrix: Matrix4, out: Matrix4 = new Matrix4()): Matrix4\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = matrix.data;\r\n\r\n    return out.set(\r\n        m00,\r\n        m10,\r\n        m20,\r\n        m30,\r\n        m01,\r\n        m11,\r\n        m21,\r\n        m31,\r\n        m02,\r\n        m12,\r\n        m22,\r\n        m32,\r\n        m03,\r\n        m13,\r\n        m23,\r\n        m33\r\n    );\r\n}\r\n", "import { Matrix4 } from './Matrix4';\r\n\r\nexport function Zero (matrix: Matrix4): Matrix4\r\n{\r\n    return matrix.set(\r\n        0, 0, 0, 0,\r\n        0, 0, 0, 0,\r\n        0, 0, 0, 0,\r\n        0, 0, 0, 0\r\n    );\r\n}\r\n", "import { Add } from './Add';\r\nimport { AddTranslationFromFloats } from './AddTranslationFromFloats';\r\nimport { Adjoint } from './Adjoint';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { CopyPosition } from './CopyPosition';\r\nimport { Determinant } from './Determinant';\r\nimport { Equals } from './Equals';\r\nimport { Frobenius } from './Frobenius';\r\nimport { FromQuat } from './FromQuat';\r\nimport { FromRotation } from './FromRotation';\r\nimport { FromRotationTranslation } from './FromRotationTranslation';\r\nimport { FromRotationTranslationScale } from './FromRotationTranslationScale';\r\nimport { FromRotationTranslationScaleOrigin } from './FromRotationTranslationScaleOrigin';\r\nimport { FromRotationXYTranslation } from './FromRotationXYTranslation';\r\nimport { FromScaling } from './FromScaling';\r\nimport { FromTranslation } from './FromTranslation';\r\nimport { FromXRotation } from './FromXRotation';\r\nimport { FromYRotation } from './FromYRotation';\r\nimport { FromZRotation } from './FromZRotation';\r\nimport { Frustum } from './Frustum';\r\nimport { GetRotation } from './GetRotation';\r\nimport { GetScaling } from './GetScaling';\r\nimport { GetTranslation } from './GetTranslation';\r\nimport { Identity } from './Identity';\r\nimport { Invert } from './Invert';\r\nimport { LookAt } from './LookAt';\r\nimport { Matrix4 } from './Matrix4';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyScalar } from './MultiplyScalar';\r\nimport { MultiplyScalarAndAdd } from './MultiplyScalarAndAdd';\r\nimport { Ortho } from './Ortho';\r\nimport { Perspective } from './Perspective';\r\nimport { PerspectiveFromFieldOfView } from './PerspectiveFromFieldOfView';\r\nimport { Rotate } from './Rotate';\r\nimport { RotateX } from './RotateX';\r\nimport { RotateY } from './RotateY';\r\nimport { RotateZ } from './RotateZ';\r\nimport { Scale } from './Scale';\r\nimport { SetTranslation } from './SetTranslation';\r\nimport { SetTranslationFromFloats } from './SetTranslationFromFloats';\r\nimport { Subtract } from './Subtract';\r\nimport { TargetTo } from './TargetTo';\r\nimport { Translate } from './Translate';\r\nimport { TranslateFromFloats } from './TranslateFromFloats';\r\nimport { Transpose } from './Transpose';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Add,\r\n    AddTranslationFromFloats,\r\n    Adjoint,\r\n    Clone,\r\n    CopyFrom,\r\n    CopyPosition,\r\n    Determinant,\r\n    Equals,\r\n    Frobenius,\r\n    FromQuat,\r\n    FromRotation,\r\n    FromRotationTranslation,\r\n    FromRotationTranslationScale,\r\n    FromRotationTranslationScaleOrigin,\r\n    FromRotationXYTranslation,\r\n    FromScaling,\r\n    FromTranslation,\r\n    FromXRotation,\r\n    FromYRotation,\r\n    FromZRotation,\r\n    Frustum,\r\n    GetRotation,\r\n    GetScaling,\r\n    GetTranslation,\r\n    Identity,\r\n    Invert,\r\n    LookAt,\r\n    Matrix4,\r\n    Multiply,\r\n    MultiplyScalar,\r\n    MultiplyScalarAndAdd,\r\n    Ortho,\r\n    Perspective,\r\n    PerspectiveFromFieldOfView,\r\n    Rotate,\r\n    RotateX,\r\n    RotateY,\r\n    RotateZ,\r\n    Scale,\r\n    SetTranslation,\r\n    SetTranslationFromFloats,\r\n    Subtract,\r\n    TargetTo,\r\n    Translate,\r\n    TranslateFromFloats,\r\n    Transpose,\r\n    Zero\r\n};\r\n", "//  A Matrix2D contains six elements in a short-form of the 3x3 Matrix, with the last column ignored.\r\n\r\n//  |----|----|----|\r\n//  | a  | b  | 0  |\r\n//  |----|----|----|\r\n//  | c  | d  | 0  |\r\n//  |----|----|----|\r\n//  | tx | ty | 1  |\r\n//  |----|----|----|\r\n\r\nexport class Matrix2D\r\n{\r\n    a: number; // element 0\r\n    b: number; // element 1\r\n    c: number; // element 2\r\n    d: number; // element 3\r\n    tx: number; // element 4\r\n    ty: number; // element 5\r\n\r\n    /**\r\n     * Creates an instance of Matrix2D.\r\n     *\r\n     * @param {number} [a=1] - X scale.\r\n     * @param {number} [b=0] - X skew.\r\n     * @param {number} [c=0] - Y skew.\r\n     * @param {number} [d=1] - Y scale.\r\n     * @param {number} [tx=0] - X translation\r\n     * @param {number} [ty=0] - Y translation\r\n     * @memberof Matrix2D\r\n     */\r\n    constructor (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0)\r\n    {\r\n        this.set(a, b, c, d, tx, ty);\r\n    }\r\n\r\n    set (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0): this\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n\r\n        return this;\r\n    }\r\n\r\n    identity (): this\r\n    {\r\n        return this.set();\r\n    }\r\n\r\n    toArray (): number[]\r\n    {\r\n        const  { a, b, c, d, tx, ty } = this;\r\n\r\n        return [ a, b, c, d, tx, ty ];\r\n    }\r\n\r\n    fromArray (src: number[]): Matrix2D\r\n    {\r\n        return this.set(src[0], src[1], src[2], src[3], src[4], src[5]);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Checks if a given point is inside a Rectangle's bounds.\r\n *\r\n * @function Phaser.Geom.Rectangle.Contains\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to check.\r\n * @param {number} x - The X coordinate of the point to check.\r\n * @param {number} y - The Y coordinate of the point to check.\r\n *\r\n * @return {boolean} `true` if the point is within the Rectangle's bounds, otherwise `false`.\r\n */\r\nexport function Contains (rect: IRectangle, x: number, y: number): boolean\r\n{\r\n    if (rect.width <= 0 || rect.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return (rect.x <= x && rect.x + rect.width >= x && rect.y <= y && rect.y + rect.height >= y);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\n\r\nexport class Rectangle\r\n{\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\r\n    {\r\n        this.set(x, y, width, height);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    contains (x: number, y: number): boolean\r\n    {\r\n        return Contains(this, x, y);\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        if (value <= this.x)\r\n        {\r\n            this.width = 0;\r\n        }\r\n        else\r\n        {\r\n            this.width = value - this.x;\r\n        }\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        if (value <= this.y)\r\n        {\r\n            this.height = 0;\r\n        }\r\n        else\r\n        {\r\n            this.height = value - this.y;\r\n        }\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return this.y + this.height;\r\n    }\r\n}\r\n", "export class Vec2\r\n{\r\n    x: number;\r\n    y: number;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        this.set(x, y);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    toArray (dst: Float32List = [], index: number = 0): Float32List\r\n    {\r\n        const { x, y } = this;\r\n\r\n        dst[ index ] = x;\r\n        dst[ index + 1 ] = y;\r\n\r\n        return dst;\r\n    }\r\n\r\n    fromArray (src: Float32List, index: number = 0): this\r\n    {\r\n        return this.set(\r\n            src[ index ],\r\n            src[ index + 1 ]\r\n        );\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y } = this;\r\n\r\n        return `{ x=${x}, y=${y} }`;\r\n    }\r\n}\r\n", "import { NOOP } from '../../utils/NOOP';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport type Vec2CallbackType = (vec2: Vec2Callback) => void;\r\n\r\nexport class Vec2Callback extends Vec2\r\n{\r\n    private _x: number;\r\n    private _y: number;\r\n\r\n    onChange: Vec2CallbackType;\r\n\r\n    constructor (onChange: Vec2CallbackType, x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.onChange = onChange;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.onChange = NOOP;\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0): this\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n\r\n        if (this.onChange)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        const prev = this._x;\r\n\r\n        this._x = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        const prev = this._y;\r\n\r\n        this._y = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\r\n *\r\n * @function Phaser.Math.Angle.Between\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport function AngleBetween (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.atan2(y2 - y1, x2 - x1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\r\n *\r\n * The difference between this method and {@link Phaser.Math.Angle.Between} is that this assumes the y coordinate\r\n * travels down the screen.\r\n *\r\n * @function Phaser.Math.Angle.BetweenY\r\n * @since 3.0.0\r\n *\r\n * @param {number} x1 - The x coordinate of the first point.\r\n * @param {number} y1 - The y coordinate of the first point.\r\n * @param {number} x2 - The x coordinate of the second point.\r\n * @param {number} y2 - The y coordinate of the second point.\r\n *\r\n * @return {number} The angle in radians.\r\n */\r\nexport function AngleBetweenY (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    return Math.atan2(x2 - x1, y2 - y1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nexport const MATH_CONST = {\r\n\r\n    /**\r\n     * The value of PI * 2.\r\n     *\r\n     * @name Phaser.Math.PI2\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    PI2: Math.PI * 2,\r\n\r\n    /**\r\n     * The value of PI * 2.\r\n     *\r\n     * @name Phaser.Math.HALF_PI\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    HALF_PI: Math.PI * 0.5,\r\n\r\n    /**\r\n     * An epsilon value (1.0e-6)\r\n     *\r\n     * @name Phaser.Math.EPSILON\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    EPSILON: 1.0e-6,\r\n\r\n    /**\r\n     * For converting degrees to radians (PI / 180)\r\n     *\r\n     * @name Phaser.Math.DEG_TO_RAD\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    DEG_TO_RAD: Math.PI / 180,\r\n\r\n    /**\r\n     * For converting radians to degrees (180 / PI)\r\n     *\r\n     * @name Phaser.Math.RAD_TO_DEG\r\n     * @type {number}\r\n     * @since 3.0.0\r\n     */\r\n    RAD_TO_DEG: 180 / Math.PI,\r\n\r\n    /**\r\n     * The minimum safe integer this browser supports.\r\n     * We use a const for backward compatibility with Internet Explorer.\r\n     *\r\n     * @name Phaser.Math.MIN_SAFE_INTEGER\r\n     * @type {number}\r\n     * @since 3.21.0\r\n     */\r\n    MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991,\r\n\r\n    /**\r\n     * The maximum safe integer this browser supports.\r\n     * We use a const for backward compatibility with Internet Explorer.\r\n     *\r\n     * @name Phaser.Math.MAX_SAFE_INTEGER\r\n     * @type {number}\r\n     * @since 3.21.0\r\n     */\r\n    MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991\r\n\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST as CONST } from '../const';\r\n\r\n/**\r\n * Takes an angle in Phasers default clockwise format and converts it so that\r\n * 0 is North, 90 is West, 180 is South and 270 is East,\r\n * therefore running counter-clockwise instead of clockwise.\r\n * \r\n * You can pass in the angle from a Game Object using:\r\n * \r\n * ```javascript\r\n * var converted = CounterClockwise(gameobject.rotation);\r\n * ```\r\n * \r\n * All values for this function are in radians.\r\n *\r\n * @function Phaser.Math.Angle.CounterClockwise\r\n * @since 3.16.0\r\n *\r\n * @param {number} angle - The angle to convert, in radians.\r\n *\r\n * @return {number} The converted angle, in radians.\r\n */\r\nexport function CounterClockwise (angle: number): number\r\n{\r\n    if (angle > Math.PI)\r\n    {\r\n        angle -= CONST.PI2;\r\n    }\r\n\r\n    return Math.abs((((angle + CONST.HALF_PI) % CONST.PI2) - CONST.PI2) % CONST.PI2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST } from '../const';\r\n\r\n/**\r\n * Normalize an angle to the [0, 2pi] range.\r\n *\r\n * @function Phaser.Math.Angle.Normalize\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to normalize, in radians.\r\n *\r\n * @return {number} The normalized angle, in radians.\r\n */\r\nexport function NormalizeAngle (angle: number): number\r\n{\r\n    angle = angle % MATH_CONST.PI2;\r\n\r\n    if (angle >= 0)\r\n    {\r\n        return angle;\r\n    }\r\n    else\r\n    {\r\n        return angle + MATH_CONST.PI2;\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { NormalizeAngle } from './NormalizeAngle';\r\n\r\n/**\r\n * Reverse the given angle.\r\n *\r\n * @function Phaser.Math.Angle.Reverse\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to reverse, in radians.\r\n *\r\n * @return {number} The reversed angle, in radians.\r\n */\r\nexport function ReverseAngle (angle: number): number\r\n{\r\n    return NormalizeAngle(angle + Math.PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST } from '../const';\r\n\r\n/**\r\n * Rotates `currentAngle` towards `targetAngle`, taking the shortest rotation distance. The `lerp` argument is the amount to rotate by in this call.\r\n *\r\n * @function Phaser.Math.Angle.RotateTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} currentAngle - The current angle, in radians.\r\n * @param {number} targetAngle - The target angle to rotate to, in radians.\r\n * @param {number} [lerp=0.05] - The lerp value to add to the current angle.\r\n *\r\n * @return {number} The adjusted angle.\r\n */\r\nexport function RotateAngleTo (currentAngle: number, targetAngle: number, lerp: number = 0.05): number\r\n{\r\n    if (currentAngle === targetAngle)\r\n    {\r\n        return currentAngle;\r\n    }\r\n\r\n    if (Math.abs(targetAngle - currentAngle) <= lerp || Math.abs(targetAngle - currentAngle) >= (MATH_CONST.PI2 - lerp))\r\n    {\r\n        currentAngle = targetAngle;\r\n    }\r\n    else\r\n    {\r\n        if (Math.abs(targetAngle - currentAngle) > Math.PI)\r\n        {\r\n            if (targetAngle < currentAngle)\r\n            {\r\n                targetAngle += MATH_CONST.PI2;\r\n            }\r\n            else\r\n            {\r\n                targetAngle -= MATH_CONST.PI2;\r\n            }\r\n        }\r\n\r\n        if (targetAngle > currentAngle)\r\n        {\r\n            currentAngle += lerp;\r\n        }\r\n        else if (targetAngle < currentAngle)\r\n        {\r\n            currentAngle -= lerp;\r\n        }\r\n    }\r\n\r\n    return currentAngle;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Gets the shortest angle between `angle1` and `angle2`.\r\n *\r\n * Both angles must be in the range -180 to 180, which is the same clamped\r\n * range that `sprite.angle` uses, so you can pass in two sprite angles to\r\n * this method and get the shortest angle back between the two of them.\r\n *\r\n * The angle returned will be in the same range. If the returned angle is\r\n * greater than 0 then it's a counter-clockwise rotation, if < 0 then it's\r\n * a clockwise rotation.\r\n *\r\n * TODO: Wrap the angles in this function?\r\n *\r\n * @function Phaser.Math.Angle.ShortestBetween\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle1 - The first angle in the range -180 to 180.\r\n * @param {number} angle2 - The second angle in the range -180 to 180.\r\n *\r\n * @return {number} The shortest angle, in degrees. If greater than zero it's a counter-clockwise rotation.\r\n */\r\nexport function ShortestAngleBetween (angle1: number, angle2: number): number\r\n{\r\n    const difference = angle2 - angle1;\r\n\r\n    if (difference === 0)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    const times = Math.floor((difference - (-180)) / 360);\r\n\r\n    return difference - (times * 360);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Wrap the given `value` between `min` and `max.\r\n *\r\n * @function Phaser.Math.Wrap\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to wrap.\r\n * @param {number} min - The minimum value.\r\n * @param {number} max - The maximum value.\r\n *\r\n * @return {number} The wrapped value.\r\n */\r\nexport function Wrap (value: number, min: number, max: number): number\r\n{\r\n    const range = max - min;\r\n\r\n    return (min + ((((value - min) % range) + range) % range));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Wrap } from '../Wrap';\r\n\r\n/**\r\n * Wrap an angle.\r\n *\r\n * Wraps the angle to a value in the range of -PI to PI.\r\n *\r\n * @function Phaser.Math.Angle.Wrap\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to wrap, in radians.\r\n *\r\n * @return {number} The wrapped angle, in radians.\r\n */\r\nexport function WrapAngle (angle: number): number\r\n{\r\n    return Wrap(angle, -Math.PI, Math.PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Wrap } from '../Wrap';\r\n\r\n/**\r\n * Wrap an angle in degrees.\r\n *\r\n * Wraps the angle to a value in the range of -180 to 180.\r\n *\r\n * @function Phaser.Math.Angle.WrapDegrees\r\n * @since 3.0.0\r\n *\r\n * @param {number} angle - The angle to wrap, in degrees.\r\n *\r\n * @return {number} The wrapped angle, in degrees.\r\n */\r\nexport function WrapAngleDegrees (angle: number): number\r\n{\r\n    return Wrap(angle, -180, 180);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { AngleBetween } from './AngleBetween';\r\nimport { AngleBetweenY } from './AngleBetweenY';\r\nimport { CounterClockwise } from './CounterClockwise';\r\nimport { NormalizeAngle } from './NormalizeAngle';\r\nimport { ReverseAngle } from './ReverseAngle';\r\nimport { RotateAngleTo } from './RotateAngleTo';\r\nimport { ShortestAngleBetween } from './ShortestAngleBetween';\r\nimport { WrapAngle } from './WrapAngle';\r\nimport { WrapAngleDegrees } from './WrapAngleDegrees';\r\n\r\n/**\r\n * @namespace Phaser.Math.Angle\r\n */\r\n\r\nexport {\r\n    AngleBetween,\r\n    AngleBetweenY,\r\n    CounterClockwise,\r\n    NormalizeAngle,\r\n    ReverseAngle,\r\n    RotateAngleTo,\r\n    ShortestAngleBetween,\r\n    WrapAngle,\r\n    WrapAngleDegrees\r\n};\r\n", "import { GameInstance } from '../GameInstance';\r\nimport { ICamera } from './ICamera';\r\nimport { IRenderer } from '../renderer/IRenderer';\r\nimport { IWorld } from '../world/IWorld';\r\nimport { Identity } from '../math/mat4';\r\nimport { Matrix2D } from '../math/matrix2d/Matrix2D';\r\nimport { Matrix4 } from '../math/mat4/Matrix4';\r\nimport { Rectangle } from '../geom/rectangle/Rectangle';\r\nimport { Vec2Callback } from '../math/vec2/Vec2Callback';\r\nimport { WrapAngle } from '../math/angle';\r\n\r\nexport class Camera implements ICamera\r\n{\r\n    world: IWorld;\r\n    matrix: Matrix4;\r\n    renderer: IRenderer;\r\n    type: string;\r\n\r\n    width: number;\r\n    height: number;\r\n    bounds: Rectangle;\r\n\r\n    dirtyRender: boolean;\r\n    worldTransform: Matrix2D;\r\n\r\n    position: Vec2Callback;\r\n    scale: Vec2Callback;\r\n    origin: Vec2Callback;\r\n\r\n    private _rotation: number = 0;\r\n\r\n    constructor ()\r\n    {\r\n        this.type = 'Camera';\r\n\r\n        this.dirtyRender = true;\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.renderer = game.renderer;\r\n\r\n        this.matrix = Identity();\r\n\r\n        this.bounds = new Rectangle();\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.position = new Vec2Callback(() => this.updateTransform(), 0, 0);\r\n        this.scale = new Vec2Callback(() => this.updateTransform(), 1, 1);\r\n        this.origin = new Vec2Callback(() => this.updateTransform(), 0.5, 0.5);\r\n\r\n        this.reset();\r\n    }\r\n\r\n    updateTransform (): void\r\n    {\r\n        const matrix = this.matrix.data;\r\n\r\n        const px = this.position.x;\r\n        const py = this.position.y;\r\n\r\n        const sx = this.scale.x;\r\n        const sy = this.scale.y;\r\n\r\n        const ox = -px + (this.width * this.origin.x);\r\n        const oy = -py + (this.height * this.origin.y);\r\n\r\n        const z = Math.sin(this.rotation);\r\n        const w = Math.cos(this.rotation);\r\n\r\n        const z2 = z + z;\r\n        const zz = z * z2;\r\n        const wz = w * z2;\r\n\r\n        const out0 = (1 - zz) * sx;\r\n        const out1 = wz * sx;\r\n        const out4 = -wz * sy;\r\n        const out5 = (1 - zz) * sy;\r\n\r\n        matrix[0] = out0;\r\n        matrix[1] = out1;\r\n        matrix[4] = out4;\r\n        matrix[5] = out5;\r\n        matrix[12] = px + ox - (out0 * ox + out4 * oy);\r\n        matrix[13] = py + oy - (out1 * ox + out5 * oy);\r\n\r\n        this.worldTransform.set(\r\n            w * sx,\r\n            z * sx,\r\n            -z * sy,\r\n            w * sy,\r\n            -px,\r\n            -py\r\n        );\r\n\r\n        const bw = this.width * (1 / sx);\r\n        const bh = this.height * (1 / sy);\r\n\r\n        this.bounds.set(\r\n            ox - (bw / 2),\r\n            oy - (bh / 2),\r\n            bw,\r\n            bh\r\n        );\r\n\r\n        this.dirtyRender = true;\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        const width = this.renderer.width;\r\n        const height = this.renderer.height;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.bounds.set(0, 0, width, height);\r\n    }\r\n\r\n    set rotation (value: number)\r\n    {\r\n        if (value !== this._rotation)\r\n        {\r\n            this._rotation = WrapAngle(value);\r\n\r\n            this.updateTransform();\r\n        }\r\n    }\r\n\r\n    get rotation (): number\r\n    {\r\n        return this._rotation;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.position.destroy();\r\n        this.scale.destroy();\r\n        this.origin.destroy();\r\n\r\n        this.world = null;\r\n        this.worldTransform = null;\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n        this.bounds = null;\r\n    }\r\n}\r\n", "import { GameInstance } from '../GameInstance';\r\nimport { IRenderer } from '../renderer/IRenderer';\r\nimport { IStaticCamera } from './IStaticCamera';\r\nimport { IStaticWorld } from '../world/IStaticWorld';\r\nimport { Identity } from '../math/mat4';\r\nimport { Matrix2D } from '../math/matrix2d/Matrix2D';\r\nimport { Matrix4 } from '../math/mat4/Matrix4';\r\nimport { Rectangle } from '../geom/rectangle/Rectangle';\r\n\r\nexport class StaticCamera implements IStaticCamera\r\n{\r\n    world: IStaticWorld;\r\n    matrix: Matrix4;\r\n    renderer: IRenderer;\r\n    type: string;\r\n\r\n    width: number;\r\n    height: number;\r\n    bounds: Rectangle;\r\n\r\n    dirtyRender: boolean;\r\n    worldTransform: Matrix2D;\r\n\r\n    constructor ()\r\n    {\r\n        this.type = 'StaticCamera';\r\n\r\n        this.dirtyRender = true;\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.renderer = game.renderer;\r\n\r\n        this.matrix = Identity();\r\n\r\n        this.bounds = new Rectangle();\r\n\r\n        this.worldTransform = new Matrix2D();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        const renderer = this.renderer;\r\n\r\n        if (renderer)\r\n        {\r\n            const width = renderer.width;\r\n            const height = renderer.height;\r\n\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n\r\n        this.bounds.set(0, 0, this.width, this.height);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.world = null;\r\n        this.worldTransform = null;\r\n        this.renderer = null;\r\n        this.matrix = null;\r\n        this.bounds = null;\r\n    }\r\n}\r\n", "import { Camera } from './Camera';\r\nimport { StaticCamera } from './StaticCamera';\r\n\r\nexport {\r\n    Camera,\r\n    StaticCamera\r\n};\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Backward (): Vec3\r\n{\r\n    return new Vec3(0, 0, -1);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Down (): Vec3\r\n{\r\n    return new Vec3(0, -1, 0);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Forward (): Vec3\r\n{\r\n    return new Vec3(0, 0, 1);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Left (): Vec3\r\n{\r\n    return new Vec3(-1, 0, 0);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Right (): Vec3\r\n{\r\n    return new Vec3(1, 0, 0);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Up (): Vec3\r\n{\r\n    return new Vec3(0, 1, 0);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Zero (): Vec3\r\n{\r\n    return new Vec3(0, 0, 0);\r\n}\r\n", "import { Backward } from './Backward';\r\nimport { Down } from './Down';\r\nimport { Forward } from './Forward';\r\nimport { Left } from './Left';\r\nimport { Right } from './Right';\r\nimport { Up } from './Up';\r\nimport { Zero } from './Zero';\r\n\r\nexport const UP = Up();\r\nexport const DOWN = Down();\r\nexport const LEFT = Left();\r\nexport const RIGHT = Right();\r\nexport const FORWARD = Forward();\r\nexport const BACKWARD = Backward();\r\nexport const ZERO = Zero();\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Abs (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        Math.abs(a.x),\r\n        Math.abs(a.y),\r\n        Math.abs(a.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Add (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x + b.x,\r\n        a.y + b.y,\r\n        a.z + b.z\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function AddScalar (a: Vec3, scalar: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x + scalar,\r\n        a.y + scalar,\r\n        a.z + scalar\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function Dot (a: IVec3Like, b: IVec3Like): number\r\n{\r\n    return a.x * b.x + a.y * b.y + a.z * b.z;\r\n}\r\n", "import { Dot } from './Dot';\r\nimport { IVec3Like } from './IVec3Like';\r\n\r\n// Get the angle between two 3D vectors\r\n\r\nexport function Angle (a: IVec3Like, b: IVec3Like): number\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = b;\r\n\r\n    const mag1 = Math.sqrt(ax * ax + ay * ay + az * az);\r\n    const mag2 = Math.sqrt(bx * bx + by * by + bz * bz);\r\n    const mag = mag1 * mag2;\r\n    const c = mag && Dot(a, b) / mag;\r\n\r\n    return Math.acos(Math.min(Math.max(c, -1), 1));\r\n}\r\n", "/**\r\n * Performs a bezier interpolation with two control points.\r\n *\r\n * @param {number} a the first operand\r\n * @param {number} b the second operand\r\n * @param {number} c the third operand\r\n * @param {number} d the fourth operand\r\n * @param {bumber} t interpolation amount, in the range [0-1], between the two inputs\r\n */\r\nexport function Bezier (a: number, b: number, c: number, d: number, t: number): number\r\n{\r\n    const inverseFactor = 1 - t;\r\n    const inverseFactorTimesTwo = inverseFactor * inverseFactor;\r\n    const factorTimes2 = t * t;\r\n    const factor1 = inverseFactorTimesTwo * inverseFactor;\r\n    const factor2 = 3 * t * inverseFactorTimesTwo;\r\n    const factor3 = 3 * factorTimes2 * inverseFactor;\r\n    const factor4 = factorTimes2 * t;\r\n\r\n    return a * factor1 + b * factor2 + c * factor3 + d * factor4;\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Bezier as MathBezier } from '../Bezier';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function Bezier (a: IVec3Like, b: IVec3Like, c: IVec3Like, d: IVec3Like, t: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        MathBezier(t, a.x, b.x, c.x, d.x),\r\n        MathBezier(t, a.y, b.y, c.y, d.y),\r\n        MathBezier(t, a.z, b.z, c.z, d.z)\r\n    );\r\n}\r\n", "/**\r\n * Calculates a Catmull-Rom value from the given points, based on an alpha of 0.5.\r\n *\r\n * @param {number} t - The amount to interpolate by.\r\n * @param {number} p0 - The first control point.\r\n * @param {number} p1 - The second control point.\r\n * @param {number} p2 - The third control point.\r\n * @param {number} p3 - The fourth control point.\r\n *\r\n * @return {number} The Catmull-Rom value.\r\n */\r\nexport function CatmullRom (t: number, p0: number, p1: number, p2: number, p3: number): number\r\n{\r\n    const v0 = (p2 - p0) * 0.5;\r\n    const v1 = (p3 - p1) * 0.5;\r\n    const t2 = t * t;\r\n    const t3 = t * t2;\r\n\r\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { CatmullRom as MathCatmullRom } from '../CatmullRom';\r\nimport { Vec3 } from './Vec3';\r\n\r\n// Gets a new Vector3 for float t on the CatmullRom spline defined by the 4 points\r\n\r\nexport function CatmullRom (p1: IVec3Like, p2: IVec3Like, p3: IVec3Like, p4: IVec3Like, t: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        MathCatmullRom(t, p1.x, p2.x, p3.x, p4.x),\r\n        MathCatmullRom(t, p1.y, p2.y, p3.y, p4.y),\r\n        MathCatmullRom(t, p1.z, p2.z, p3.z, p4.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Ceil (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        Math.ceil(a.x),\r\n        Math.ceil(a.y),\r\n        Math.ceil(a.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Scale (a: Vec3, scalar: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x * scalar,\r\n        a.y * scalar,\r\n        a.z * scalar\r\n    );\r\n}\r\n", "import { Add } from './Add';\r\nimport { Scale } from './Scale';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function Center (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    Add(a, b, out);\r\n\r\n    return Scale(out, 0.5, out);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Force a value within the boundaries by clamping it to the range `min`, `max`.\r\n *\r\n * @function Phaser.Math.Clamp\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to be clamped.\r\n * @param {number} min - The minimum bounds.\r\n * @param {number} max - The maximum bounds.\r\n *\r\n * @return {number} The clamped value.\r\n */\r\nexport function Clamp (value: number, min: number, max: number): number\r\n{\r\n    return Math.max(min, Math.min(max, value));\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function Clamp (a: Vec3, min: Vec3, max: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    // assumes min < max, componentwise\r\n\r\n    return out.set(\r\n        MathClamp(a.x, min.x, max.x),\r\n        MathClamp(a.y, min.y, max.y),\r\n        MathClamp(a.z, min.z, max.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function DivideScalar (a: Vec3, scalar: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x, y, z } = a;\r\n\r\n    return out.set(\r\n        x / scalar,\r\n        y / scalar,\r\n        z / scalar\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function Length (a: IVec3Like): number\r\n{\r\n    const { x, y, z } = a;\r\n\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n", "import { DivideScalar } from './DivideScalar';\r\nimport { Length } from './Length';\r\nimport { Clamp as MathClamp } from '../Clamp';\r\nimport { Scale } from './Scale';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function ClampLength (a: Vec3, min: number, max: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const length = Length(a);\r\n\r\n    DivideScalar(a, length || 1, out);\r\n\r\n    return Scale(out, MathClamp(min, max, length), out);\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function ClampScalar (a: Vec3, min: number, max: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        MathClamp(a.x, min, max),\r\n        MathClamp(a.y, min, max),\r\n        MathClamp(a.z, min, max)\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function Clone (source: IVec3Like): Vec3\r\n{\r\n    const { x, y, z } = source;\r\n\r\n    return new Vec3(x, y, z);\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function CopyFrom (source: IVec3Like, dest: Vec3): Vec3\r\n{\r\n    const { x, y, z } = source;\r\n\r\n    return dest.set(x, y, z);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Cross (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = b;\r\n\r\n    return out.set(\r\n        ay * bz - az * by,\r\n        az * bx - ax * bz,\r\n        ax * by - ay * bx\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function CrossNormalize (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = b;\r\n\r\n    const x = ay * bz - az * by;\r\n    const y = az * bx - ax * bz;\r\n    const z = ax * by - ay * bx;\r\n\r\n    let len = x * x + y * y + z * z;\r\n\r\n    if (len > 0)\r\n    {\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n\r\n    return out.set(\r\n        x * len,\r\n        y * len,\r\n        z * len\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\n// Calculates the squared euclidian distance between two vec3s\r\n\r\nexport function DistanceSquared (a: IVec3Like, b: IVec3Like): number\r\n{\r\n    const x = a.x - b.x;\r\n    const y = a.y - b.y;\r\n    const z = a.z - b.z;\r\n\r\n    return (x * x) + (y * y) + (z * z);\r\n}\r\n", "import { DistanceSquared } from './DistanceSquared';\r\nimport { IVec3Like } from './IVec3Like';\r\n\r\nexport function Distance (a: IVec3Like, b: IVec3Like): number\r\n{\r\n    return Math.sqrt(DistanceSquared(a, b));\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Divide (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x / b.x,\r\n        a.y / b.y,\r\n        a.z / b.z\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function Equals (a: IVec3Like, b: IVec3Like): boolean\r\n{\r\n    return a.x === b.x && a.y === b.y && a.z === b.z;\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Floor (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        Math.floor(a.x),\r\n        Math.floor(a.y),\r\n        Math.floor(a.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\n//  Get a Vec3 from a Vec3s floored values\r\n\r\nexport function Fract (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x - Math.floor(a.x),\r\n        a.y - Math.floor(a.y),\r\n        a.z - Math.floor(a.z)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether the given values are fuzzily equal.\r\n *\r\n * Two numbers are fuzzily equal if their difference is less than `epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.Equal\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if the values are fuzzily equal, otherwise `false`.\r\n */\r\nexport function FuzzyEqual (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return Math.abs(a - b) < epsilon;\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { FuzzyEqual as MathFuzzyEqual } from '../fuzzy/FuzzyEqual';\r\n\r\nexport function FuzzyEquals (a: IVec3Like, b: IVec3Like, epsilon: number = 0.0001): boolean\r\n{\r\n    return MathFuzzyEqual(a.x, b.x, epsilon) && MathFuzzyEqual(a.y, b.y, epsilon) && MathFuzzyEqual(a.z, b.z, epsilon);\r\n}\r\n", "/**\r\n * Performs a hermite interpolation with two control points.\r\n *\r\n * @param {number} a the first operand\r\n * @param {number} b the second operand\r\n * @param {number} c the third operand\r\n * @param {number} d the fourth operand\r\n * @param {bumber} t interpolation amount, in the range [0-1], between the two inputs\r\n */\r\nexport function Hermite (a: number, b: number, c: number, d: number, t: number): number\r\n{\r\n    const squared = t * t;\r\n\r\n    const factor1 = squared * (2 * t - 3) + 1;\r\n    const factor2 = squared * (t - 2) + t;\r\n    const factor3 = squared * (t - 1);\r\n    const factor4 = squared * (3 - 2 * t);\r\n\r\n    return a * factor1 + b * factor2 + c * factor3 + d * factor4;\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Hermite as MathHermite } from '../Hermite';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function Hermite (a: IVec3Like, b: IVec3Like, c: IVec3Like, d: IVec3Like, t: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        MathHermite(t, a.x, b.x, c.x, d.x),\r\n        MathHermite(t, a.y, b.y, c.y, d.y),\r\n        MathHermite(t, a.z, b.z, c.z, d.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Inverse (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        1 / a.x,\r\n        1 / a.y,\r\n        1 / a.z\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\n// Returns a boolean indicating that the vector is non uniform meaning x, y or z are not all the same.\r\n\r\nexport function IsNonUniform (a: IVec3Like): boolean\r\n{\r\n    const absX = Math.abs(a.x);\r\n    const absY = Math.abs(a.y);\r\n    const absZ = Math.abs(a.z);\r\n\r\n    return (absX !== absY || absX !== absZ || absY !== absZ);\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function LengthSquared (a: IVec3Like): number\r\n{\r\n    const { x, y, z } = a;\r\n\r\n    return x * x + y * y + z * z;\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\n// t - interpolation amount, in the range [0-1], between the two inputs\r\n\r\nexport function Lerp (a: Vec3, b: Vec3, t: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x, y, z } = a;\r\n\r\n    return out.set(\r\n        x + t * (b.x - x),\r\n        y + t * (b.y - y),\r\n        z + t * (b.z - z)\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function ManhattanDistance (a: IVec3Like, b: IVec3Like): number\r\n{\r\n    return Math.abs(a.x - b.x) + Math.abs(a.y - b.y) + Math.abs(a.z - b.z);\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\n\r\nexport function ManhattanLength (a: IVec3Like): number\r\n{\r\n    return Math.abs(a.x) + Math.abs(a.y) + Math.abs(a.z);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\n// Returns the maximum of two vec3's\r\n\r\nexport function Max (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = b;\r\n\r\n    return out.set(\r\n        Math.max(ax, bx),\r\n        Math.max(ay, by),\r\n        Math.max(az, bz)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\n// Returns the minimum of two vec3's\r\n\r\nexport function Min (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = b;\r\n\r\n    return out.set(\r\n        Math.min(ax, bx),\r\n        Math.min(ay, by),\r\n        Math.min(az, bz)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Multiply (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x * b.x,\r\n        a.y * b.y,\r\n        a.z * b.z\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function MultiplyByFloats (a: Vec3, x: number, y: number, z: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x * x,\r\n        a.y * y,\r\n        a.z * z\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Negate (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        -a.x,\r\n        -a.y,\r\n        -a.z\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Normalize (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x, y, z } = a;\r\n\r\n    let len = x * x + y * y + z * z;\r\n\r\n    if (len > 0)\r\n    {\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n\r\n    return out.set(\r\n        x * len,\r\n        y * len,\r\n        z * len\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function One (): Vec3\r\n{\r\n    return new Vec3(1, 1, 1);\r\n}\r\n", "import { IMatrix4 } from '../mat4/IMatrix4';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function TransformMat4 (a: Vec3, m: IMatrix4, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = m.data;\r\n    const { x, y, z } = a;\r\n\r\n    let w = m03 * x + m13 * y + m23 * z + m33;\r\n\r\n    w = w || 1;\r\n\r\n    return out.set(\r\n        (m00 * x + m10 * y + m20 * z + m30) / w,\r\n        (m01 * x + m11 * y + m21 * z + m31) / w,\r\n        (m02 * x + m12 * y + m22 * z + m32) / w\r\n    );\r\n}\r\n", "import { IRectangle } from '../../geom/rectangle/IRectangle';\r\nimport { Matrix4 } from '../mat4/Matrix4';\r\nimport { Multiply } from '../mat4/Multiply';\r\nimport { TransformMat4 } from './TransformMat4';\r\nimport { Vec3 } from './Vec3';\r\n\r\nconst tempMatrix1 = new Matrix4();\r\nconst tempMatrix2 = new Matrix4();\r\n\r\nexport function Project (v: Vec3, world: Matrix4, transform: Matrix4, viewport: IRectangle, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x, y, width, height } = viewport;\r\n\r\n    tempMatrix1.set(\r\n        width / 2, 0, 0, 0,\r\n        0, -height / 2, 0, 0,\r\n        0, 0, 0.5, 0,\r\n        x + width / 2, height / 2 + y, 0.5, 1\r\n    );\r\n\r\n    Multiply(world, transform, tempMatrix2);\r\n    Multiply(tempMatrix2, tempMatrix1, tempMatrix2);\r\n\r\n    return TransformMat4(v, tempMatrix2, out);\r\n}\r\n", "import { NOOP } from '../../utils/NOOP';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport type Vec3CallbackType = (vec3: Vec3Callback) => void;\r\n\r\nexport class Vec3Callback extends Vec3\r\n{\r\n    private _x: number;\r\n    private _y: number;\r\n    private _z: number;\r\n\r\n    onChange: Vec3CallbackType;\r\n\r\n    constructor (onChange: Vec3CallbackType, x: number = 0, y: number = 0, z: number = 0)\r\n    {\r\n        super(x, y, z);\r\n\r\n        this.onChange = onChange;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.onChange = NOOP;\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, z: number = 0): this\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._z = z;\r\n\r\n        if (this.onChange)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        const prev = this._x;\r\n\r\n        this._x = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        const prev = this._y;\r\n\r\n        this._y = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get z (): number\r\n    {\r\n        return this._z;\r\n    }\r\n\r\n    set z (value: number)\r\n    {\r\n        const prev = this._z;\r\n\r\n        this._z = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n}\r\n", "import { Vec3Callback, Vec3CallbackType } from './Vec3Callback';\r\n\r\nexport class RGBCallback extends Vec3Callback\r\n{\r\n    constructor (onChange: Vec3CallbackType, r: number = 0, g: number = 0, b: number = 0)\r\n    {\r\n        super(onChange, r, g, b);\r\n    }\r\n\r\n    set r (value: number)\r\n    {\r\n        this.x = value;\r\n    }\r\n\r\n    get r (): number\r\n    {\r\n        return this.x;\r\n    }\r\n\r\n    set g (value: number)\r\n    {\r\n        this.y = value;\r\n    }\r\n\r\n    get g (): number\r\n    {\r\n        return this.y;\r\n    }\r\n\r\n    set b (value: number)\r\n    {\r\n        this.z = value;\r\n    }\r\n\r\n    get b (): number\r\n    {\r\n        return this.z;\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y, z } = this;\r\n\r\n        return `[ r=${x}, g=${y}, b=${z} ]`;\r\n    }\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Random (a: Vec3, scale: number = 1, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const r = Math.random() * 2 * Math.PI;\r\n    const z = Math.random() * 2 - 1;\r\n    const zScale = Math.sqrt(1 - z * z) * scale;\r\n\r\n    return out.set(\r\n        Math.cos(r) * zScale,\r\n        Math.sin(r) * zScale,\r\n        z * scale\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Subtract (a: Vec3, b: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x - b.x,\r\n        a.y - b.y,\r\n        a.z - b.z\r\n    );\r\n}\r\n", "import { Dot } from './Dot';\r\nimport { Scale } from './Scale';\r\nimport { Subtract } from './Subtract';\r\nimport { Vec3 } from './Vec3';\r\n\r\n// reflect incident vector off plane orthogonal to normal\r\n// normal is assumed to have unit length\r\n\r\nexport function Reflect (a: Vec3, normal: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    Scale(normal, 2 * Dot(a, normal), out);\r\n\r\n    return Subtract(a, out, out);\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function RotateX (a: Vec3, origin: IVec3Like, angle: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = origin;\r\n\r\n    const px = ax - bx;\r\n    const py = ay - by;\r\n    const pz = az - bz;\r\n\r\n    const rx = px;\r\n    const ry = py * Math.cos(angle) - pz * Math.sin(angle);\r\n    const rz = py * Math.sin(angle) + pz * Math.cos(angle);\r\n\r\n    return out.set(\r\n        rx + bx,\r\n        ry + by,\r\n        rz + bz\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function RotateY (a: Vec3, origin: IVec3Like, angle: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = origin;\r\n\r\n    const px = ax - bx;\r\n    const py = ay - by;\r\n    const pz = az - bz;\r\n\r\n    const rx = pz * Math.sin(angle) + px * Math.cos(angle);\r\n    const ry = py;\r\n    const rz = pz * Math.cos(angle) - px * Math.sin(angle);\r\n\r\n    return out.set(\r\n        rx + bx,\r\n        ry + by,\r\n        rz + bz\r\n    );\r\n}\r\n", "import { IVec3Like } from './IVec3Like';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function RotateZ (a: Vec3, origin: IVec3Like, angle: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: ax, y: ay, z: az } = a;\r\n    const { x: bx, y: by, z: bz } = origin;\r\n\r\n    const px = ax - bx;\r\n    const py = ay - by;\r\n    const pz = az - bz;\r\n\r\n    const rx = px * Math.cos(angle) - py * Math.sin(angle);\r\n    const ry = px * Math.sin(angle) + py * Math.cos(angle);\r\n    const rz = pz;\r\n\r\n    return out.set(\r\n        rx + bx,\r\n        ry + by,\r\n        rz + bz\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function Round (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        Math.round(a.x),\r\n        Math.round(a.y),\r\n        Math.round(a.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function RoundToZero (a: Vec3, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        (a.x < 0) ? Math.ceil(a.x) : Math.floor(a.x),\r\n        (a.y < 0) ? Math.ceil(a.y) : Math.floor(a.y),\r\n        (a.z < 0) ? Math.ceil(a.z) : Math.floor(a.z)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function ScaleAndAdd (a: Vec3, b: Vec3, scalar: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x + b.x * scalar,\r\n        a.y + b.y * scalar,\r\n        a.z + b.z * scalar\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function SetFromCylindricalCoords (radius: number, theta: number, y: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        radius * Math.sin(theta),\r\n        y,\r\n        radius * Math.cos(theta)\r\n    );\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function SetFromSphericalCoords (radius: number, phi: number, theta: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const sinPhiRadius = Math.sin(phi) * radius;\r\n\r\n    return out.set(\r\n        sinPhiRadius * Math.sin(theta),\r\n        Math.cos(phi) * radius,\r\n        sinPhiRadius * Math.cos(theta)\r\n    );\r\n}\r\n", "import { Normalize } from './Normalize';\r\nimport { Scale } from './Scale';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function SetLength (a: Vec3, length: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    Normalize(a, out);\r\n\r\n    return Scale(out, length, out);\r\n}\r\n", "import { Vec3 } from './Vec3';\r\n\r\nexport function SubtractScalar (a: Vec3, scalar: number, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    return out.set(\r\n        a.x - scalar,\r\n        a.y - scalar,\r\n        a.z - scalar\r\n    );\r\n}\r\n", "import { IMatrix4 } from '../mat4/IMatrix4';\r\nimport { Vec3 } from './Vec3';\r\n\r\n//  Transforms a Vec3 by a Matrix4, ignoring the right-most column\r\nexport function TransformMat4Zero (a: Vec3, m: IMatrix4, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22 ] = m.data;\r\n    const { x, y, z } = a;\r\n\r\n    return out.set(\r\n        m00 * x + m10 * y + m20 * z,\r\n        m01 * x + m11 * y + m21 * z,\r\n        m02 * x + m12 * y + m22 * z\r\n    );\r\n}\r\n", "import { IQuaternionLike } from '../quaternion/IQuaternionLike';\r\nimport { Vec3 } from './Vec3';\r\n\r\nexport function TransformQuat (a: Vec3, q: IQuaternionLike, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x: qx, y: qy, z: qz, w: qw } = q;\r\n    const { x, y, z } = a;\r\n\r\n    let uvx = qy * z - qz * y;\r\n    let uvy = qz * x - qx * z;\r\n    let uvz = qx * y - qy * x;\r\n\r\n    let uuvx = qy * uvz - qz * uvy;\r\n    let uuvy = qz * uvx - qx * uvz;\r\n    let uuvz = qx * uvy - qy * uvx;\r\n\r\n    const w2 = qw * 2;\r\n\r\n    uvx *= w2;\r\n    uvy *= w2;\r\n    uvz *= w2;\r\n\r\n    uuvx *= 2;\r\n    uuvy *= 2;\r\n    uuvz *= 2;\r\n\r\n    return out.set(\r\n        x + uvx + uuvx,\r\n        y + uvy + uuvy,\r\n        z + uvz + uuvz\r\n    );\r\n}\r\n", "import { Invert } from '../mat4/Invert';\r\nimport { Matrix4 } from '../mat4/Matrix4';\r\nimport { Multiply } from '../mat4/Multiply';\r\nimport { Scale } from './Scale';\r\nimport { TransformMat4 } from './TransformMat4';\r\nimport { Vec3 } from './Vec3';\r\n\r\nconst matrix = new Matrix4();\r\nconst screenSource = new Vec3();\r\n\r\nexport function Unproject (v: Vec3, viewportWidth: number, viewportHeight: number, world: Matrix4, view: Matrix4, projection: Matrix4, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    Multiply(world, view, matrix);\r\n    Multiply(matrix, projection, matrix);\r\n    Invert(matrix, matrix);\r\n\r\n    const { x, y, z } = v;\r\n\r\n    screenSource.set(\r\n        x / viewportWidth * 2 - 1,\r\n        -(y / viewportHeight * 2 - 1),\r\n        2 * z - 1\r\n    );\r\n\r\n    TransformMat4(screenSource, matrix, out);\r\n\r\n    const data = matrix.data;\r\n\r\n    const num = screenSource.x * data[3] + screenSource.y * data[7] + screenSource.z * data[11] + data[15];\r\n\r\n    //  if within epsilon?\r\n    return Scale(out, 1 / num, out);\r\n}\r\n", "import { BACKWARD, DOWN, FORWARD, LEFT, RIGHT, UP, ZERO } from './const';\r\n\r\nimport { Abs } from './Abs';\r\nimport { Add } from './Add';\r\nimport { AddScalar } from './AddScalar';\r\nimport { Angle } from './Angle';\r\nimport { Backward } from './Backward';\r\nimport { Bezier } from './Bezier';\r\nimport { CatmullRom } from './CatmullRom';\r\nimport { Ceil } from './Ceil';\r\nimport { Center } from './Center';\r\nimport { Clamp } from './Clamp';\r\nimport { ClampLength } from './ClampLength';\r\nimport { ClampScalar } from './ClampScalar';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Cross } from './Cross';\r\nimport { CrossNormalize } from './CrossNormalize';\r\nimport { Distance } from './Distance';\r\nimport { DistanceSquared } from './DistanceSquared';\r\nimport { Divide } from './Divide';\r\nimport { DivideScalar } from './DivideScalar';\r\nimport { Dot } from './Dot';\r\nimport { Down } from './Down';\r\nimport { Equals } from './Equals';\r\nimport { Floor } from './Floor';\r\nimport { Forward } from './Forward';\r\nimport { Fract } from './Fract';\r\nimport { FuzzyEquals } from './FuzzyEquals';\r\nimport { Hermite } from './Hermite';\r\nimport { Inverse } from './Inverse';\r\nimport { IsNonUniform } from './IsNonUniform';\r\nimport { Left } from './Left';\r\nimport { Length } from './Length';\r\nimport { LengthSquared } from './LengthSquared';\r\nimport { Lerp } from './Lerp';\r\nimport { ManhattanDistance } from './ManhattanDistance';\r\nimport { ManhattanLength } from './ManhattanLength';\r\nimport { Max } from './Max';\r\nimport { Min } from './Min';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyByFloats } from './MultiplyByFloats';\r\nimport { Negate } from './Negate';\r\nimport { Normalize } from './Normalize';\r\nimport { One } from './One';\r\nimport { Project } from './Project';\r\nimport { RGBCallback } from './RGBCallback';\r\nimport { Random } from './Random';\r\nimport { Reflect } from './Reflect';\r\nimport { Right } from './Right';\r\nimport { RotateX } from './RotateX';\r\nimport { RotateY } from './RotateY';\r\nimport { RotateZ } from './RotateZ';\r\nimport { Round } from './Round';\r\nimport { RoundToZero } from './RoundToZero';\r\nimport { Scale } from './Scale';\r\nimport { ScaleAndAdd } from './ScaleAndAdd';\r\nimport { SetFromCylindricalCoords } from './SetFromCylindricalCoords';\r\nimport { SetFromSphericalCoords } from './SetFromSphericalCoords';\r\nimport { SetLength } from './SetLength';\r\nimport { Subtract } from './Subtract';\r\nimport { SubtractScalar } from './SubtractScalar';\r\nimport { TransformMat4 } from './TransformMat4';\r\nimport { TransformMat4Zero } from './TransformMat4Zero';\r\nimport { TransformQuat } from './TransformQuat';\r\nimport { Unproject } from './Unproject';\r\nimport { Up } from './Up';\r\nimport { Vec3 } from './Vec3';\r\nimport { Vec3Callback } from './Vec3Callback';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Abs,\r\n    Add,\r\n    AddScalar,\r\n    Angle,\r\n    Backward,\r\n    Bezier,\r\n    CatmullRom,\r\n    Ceil,\r\n    Center,\r\n    Clamp,\r\n    ClampLength,\r\n    ClampScalar,\r\n    Clone,\r\n    CopyFrom,\r\n    Cross,\r\n    CrossNormalize,\r\n    Distance,\r\n    DistanceSquared,\r\n    Divide,\r\n    DivideScalar,\r\n    Dot,\r\n    Down,\r\n    Equals,\r\n    Floor,\r\n    Forward,\r\n    Fract,\r\n    FuzzyEquals,\r\n    Hermite,\r\n    Inverse,\r\n    IsNonUniform,\r\n    Left,\r\n    Length,\r\n    LengthSquared,\r\n    Lerp,\r\n    ManhattanDistance,\r\n    ManhattanLength,\r\n    Max,\r\n    Min,\r\n    Multiply,\r\n    MultiplyByFloats,\r\n    Negate,\r\n    Normalize,\r\n    One,\r\n    Project,\r\n    Random,\r\n    Reflect,\r\n    RGBCallback,\r\n    Right,\r\n    RotateX,\r\n    RotateY,\r\n    RotateZ,\r\n    Round,\r\n    RoundToZero,\r\n    Scale,\r\n    ScaleAndAdd,\r\n    SetFromCylindricalCoords,\r\n    SetFromSphericalCoords,\r\n    SetLength,\r\n    Subtract,\r\n    SubtractScalar,\r\n    TransformMat4,\r\n    TransformMat4Zero,\r\n    TransformQuat,\r\n    Unproject,\r\n    Up,\r\n    Vec3,\r\n    Vec3Callback,\r\n    Zero,\r\n\r\n    BACKWARD,\r\n    DOWN,\r\n    FORWARD,\r\n    LEFT,\r\n    RIGHT,\r\n    UP,\r\n    ZERO\r\n};\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Add (a: Quaternion, b: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        a.x + b.x,\r\n        a.y + b.y,\r\n        a.z + b.z,\r\n        a.w + b.w\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function AddScalar (a: Quaternion, scalar: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        a.x + scalar,\r\n        a.y + scalar,\r\n        a.z + scalar,\r\n        a.w + scalar\r\n    );\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function Dot (a: IQuaternionLike, b: IQuaternionLike): number\r\n{\r\n    return (a.x * b.x) + (a.y * b.y) + (a.z * b.z) + (a.w * b.w);\r\n}\r\n", "import { Clamp } from '../Clamp';\r\nimport { Dot } from './Dot';\r\nimport { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function AngleTo (a: IQuaternionLike, b: IQuaternionLike): number\r\n{\r\n    return 2 * Math.acos(Math.abs(Clamp(Dot(a, b), -1, 1)));\r\n}\r\n", "import { Dot } from './Dot';\r\nimport { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function AreClose (a: IQuaternionLike, b: IQuaternionLike): boolean\r\n{\r\n    return (Dot(a, b) >= 0);\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { Quaternion } from './Quaternion';\r\n\r\nexport function Clone (source: IQuaternionLike): Quaternion\r\n{\r\n    const { x, y, z, w } = source;\r\n\r\n    return new Quaternion(x, y, z, w);\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Conjugate (a: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x * -1,\r\n        y * -1,\r\n        z * -1,\r\n        w\r\n    );\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { Quaternion } from './Quaternion';\r\n\r\nexport function CopyFrom (source: IQuaternionLike, dest: Quaternion): Quaternion\r\n{\r\n    const { x, y, z, w } = source;\r\n\r\n    return dest.set(x, y, z, w);\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function Equals (a: IQuaternionLike, b: IQuaternionLike): boolean\r\n{\r\n    return a.x === b.x && a.y === b.y && a.z === b.z && a.w === b.w;\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function RotationYawPitchRoll (yaw: number, pitch: number, roll: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    // Produces a quaternion from Euler angles in the z-y-x orientation (Tait-Bryan angles)\r\n    const halfRoll = roll * 0.5;\r\n    const halfPitch = pitch * 0.5;\r\n    const halfYaw = yaw * 0.5;\r\n\r\n    const sinRoll = Math.sin(halfRoll);\r\n    const cosRoll = Math.cos(halfRoll);\r\n    const sinPitch = Math.sin(halfPitch);\r\n    const cosPitch = Math.cos(halfPitch);\r\n    const sinYaw = Math.sin(halfYaw);\r\n    const cosYaw = Math.cos(halfYaw);\r\n\r\n    return out.set(\r\n        (cosYaw * sinPitch * cosRoll) + (sinYaw * cosPitch * sinRoll),\r\n        (sinYaw * cosPitch * cosRoll) - (cosYaw * sinPitch * sinRoll),\r\n        (cosYaw * cosPitch * sinRoll) - (sinYaw * sinPitch * cosRoll),\r\n        (cosYaw * cosPitch * cosRoll) + (sinYaw * sinPitch * sinRoll)\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\nimport { RotationYawPitchRoll } from './RotationYawPitchRoll';\r\n\r\nexport function FromEulerAngles (x: number, y: number, z: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return RotationYawPitchRoll(y, x, z, out);\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Quaternion } from './Quaternion';\r\nimport { RotationYawPitchRoll } from './RotationYawPitchRoll';\r\n\r\nexport function FromEulerVector (v: IVec3Like, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return RotationYawPitchRoll(v.y, v.x, v.z, out);\r\n}\r\n", "import { Normalize, Vec3 } from '../vec3/';\r\n\r\nimport { Quaternion } from './Quaternion';\r\n\r\nexport function FromRotationAxis (axis: Vec3, angle: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const sin = Math.sin(angle / 2);\r\n\r\n    Normalize(axis, axis);\r\n\r\n    const { x, y, z } = axis;\r\n\r\n    return out.set(\r\n        x * sin,\r\n        y * sin,\r\n        z * sin,\r\n        Math.cos(angle / 2)\r\n    );\r\n}\r\n", "import { IMatrix4 } from '../mat4/IMatrix4';\r\nimport { Quaternion } from './Quaternion';\r\n\r\nexport function FromRotationMatrix (matrix: IMatrix4, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [ m11, m21, m31, m41, m12, m22, m32, m42, m13, m23, m33 ] = matrix.data;\r\n\r\n    const trace = m11 + m22 + m33;\r\n\r\n    let s;\r\n\r\n    if (trace > 0)\r\n    {\r\n        s = 0.5 / Math.sqrt(trace + 1);\r\n\r\n        return out.set(\r\n            (m32 - m23) * s,\r\n            (m13 - m31) * s,\r\n            (m21 - m12) * s,\r\n            0.25 / s\r\n        );\r\n    }\r\n    else if (m11 > m22 && m11 > m33)\r\n    {\r\n        s = 2 * Math.sqrt(1 + m11 - m22 - m33);\r\n\r\n        return out.set(\r\n            0.25 * s,\r\n            (m12 + m21) / s,\r\n            (m13 + m31) / s,\r\n            (m32 - m23) / s\r\n        );\r\n    }\r\n    else if (m22 > m33)\r\n    {\r\n        s = 2 * Math.sqrt(1 + m22 - m11 - m33);\r\n\r\n        return out.set(\r\n            (m12 + m21) / s,\r\n            0.25 * s,\r\n            (m23 + m32) / s,\r\n            (m13 - m31) / s\r\n        );\r\n    }\r\n    else\r\n    {\r\n        s = 2 * Math.sqrt(1 + m33 - m11 - m22);\r\n\r\n        return out.set(\r\n            (m13 + m31) / s,\r\n            (m23 + m32) / s,\r\n            0.25 * s,\r\n            (m21 - m12) / s\r\n        );\r\n    }\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { FuzzyEqual as MathFuzzyEqual } from '../fuzzy/FuzzyEqual';\r\n\r\nexport function FuzzyEquals (a: IQuaternionLike, b: IQuaternionLike, epsilon: number = 0.0001): boolean\r\n{\r\n    return (\r\n        MathFuzzyEqual(a.x, b.x, epsilon) &&\r\n        MathFuzzyEqual(a.y, b.y, epsilon) &&\r\n        MathFuzzyEqual(a.z, b.z, epsilon) &&\r\n        MathFuzzyEqual(a.w, b.w, epsilon)\r\n    );\r\n}\r\n", "import { Dot } from './Dot';\r\nimport { IQuaternionLike } from './IQuaternionLike';\r\n\r\n// Gets the angular distance between two unit quaternions\r\n\r\nexport function GetAngle (a: IQuaternionLike, b: IQuaternionLike): number\r\n{\r\n    const dot = Dot(a, b);\r\n\r\n    return Math.acos(2 * dot * dot - 1);\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { Quaternion } from './Quaternion';\r\n\r\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n */\r\n\r\nexport function GetAxisAngle (a: IQuaternionLike, out: Quaternion = new Quaternion()): number\r\n{\r\n    const rad = Math.acos(a.w) * 2;\r\n    const s = Math.sin(rad / 2);\r\n    const epsilon = 0.000001;\r\n\r\n    if (s > epsilon)\r\n    {\r\n        out.set(\r\n            a.x / s,\r\n            a.y / s,\r\n            a.z / s\r\n        );\r\n    }\r\n    else\r\n    {\r\n        // If s is zero, return any axis (no rotation - axis does not matter)\r\n        out.set(1, 0, 0);\r\n    }\r\n\r\n    return rad;\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { Hermite as MathHermite } from '../Hermite';\r\nimport { Quaternion } from './Quaternion';\r\n\r\nexport function Hermite (a: IQuaternionLike, b: IQuaternionLike, c: IQuaternionLike, d: IQuaternionLike, t: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        MathHermite(t, a.x, b.x, c.x, d.x),\r\n        MathHermite(t, a.y, b.y, c.y, d.y),\r\n        MathHermite(t, a.z, b.z, c.z, d.z),\r\n        MathHermite(t, a.w, b.w, c.w, d.w)\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Invert (a: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    const dot = x * x + y * y + z * z + w * w;\r\n    const invDot = dot ? 1 / dot : 0;\r\n\r\n    return out.set(\r\n        -x * invDot,\r\n        -y * invDot,\r\n        -z * invDot,\r\n        w * invDot\r\n    );\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function Length (a: IQuaternionLike): number\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\n\r\nexport function LengthSquared (a: IQuaternionLike): number\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return x * x + y * y + z * z + w * w;\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\n//  To premultiply just swap the order of a and b\r\n\r\nexport function Multiply (a: Quaternion, b: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x: ax, y: ay, z: az, w: aw } = a;\r\n    const { x: bx, y: by, z: bz, w: bw } = b;\r\n\r\n    return out.set(\r\n        ax * bw + aw * bx + ay * bz - az * by,\r\n        ay * bw + aw * by + az * bx - ax * bz,\r\n        az * bw + aw * bz + ax * by - ay * bx,\r\n        aw * bw - ax * bx - ay * by - az * bz\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function MultiplyByFloats (a: Quaternion, x: number, y: number, z: number, w: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        a.x * x,\r\n        a.y * y,\r\n        a.z * z,\r\n        a.w * w\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Scale (a: Quaternion, scalar: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x * scalar,\r\n        y * scalar,\r\n        z * scalar,\r\n        w * scalar\r\n    );\r\n}\r\n", "import { Length } from './Length';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Scale } from './Scale';\r\n\r\nexport function Normalize (a: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const length = Length(a);\r\n\r\n    if (length === 0)\r\n    {\r\n        return out.set(0, 0, 0, 1);\r\n    }\r\n    else\r\n    {\r\n        return Scale(a, length, out);\r\n    }\r\n}\r\n", "import { CopyFrom } from './CopyFrom';\r\nimport { Normalize } from './Normalize';\r\nimport { Quaternion } from './Quaternion';\r\n\r\n// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\nexport function Slerp (a: Quaternion, b: Quaternion, t: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    if (t === 0)\r\n    {\r\n        return CopyFrom(a, out);\r\n    }\r\n    else if (t === 1)\r\n    {\r\n        return CopyFrom(b, out);\r\n    }\r\n\r\n    const { x, y, z, w } = a;\r\n    const { x: bx, y: by, z: bz, w: bw } = b;\r\n\r\n    let cosHalfTheta = w * bw + x * bx + y * by + z * bz;\r\n\r\n    if (cosHalfTheta < 0)\r\n    {\r\n        out.set(-bx, -by, -bz, -bw);\r\n\r\n        cosHalfTheta = -cosHalfTheta;\r\n    }\r\n    else\r\n    {\r\n        CopyFrom(b, out);\r\n    }\r\n\r\n    if (cosHalfTheta >= 1)\r\n    {\r\n        return out.set(x, y, z, w);\r\n    }\r\n\r\n    const sqrSinHalfTheta = 1 - cosHalfTheta * cosHalfTheta;\r\n\r\n    if (sqrSinHalfTheta <= Number.EPSILON)\r\n    {\r\n        const s = 1 - t;\r\n\r\n        out.set(\r\n            s * x + t * out.x,\r\n            s * y + t * out.y,\r\n            s * z + t * out.z,\r\n            s * w + t * out.w\r\n        );\r\n\r\n        return Normalize(out, out);\r\n    }\r\n\r\n    const sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\r\n    const halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\r\n    const ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta;\r\n    const ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\r\n\r\n    return out.set(\r\n        (x * ratioA + out.x * ratioB),\r\n        (y * ratioA + out.y * ratioB),\r\n        (z * ratioA + out.z * ratioB),\r\n        (w * ratioA + out.w * ratioB)\r\n    );\r\n}\r\n", "import { CopyFrom } from './CopyFrom';\r\nimport { GetAngle } from './GetAngle';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Slerp } from './Slerp';\r\n\r\nexport function RotateTowards (a: Quaternion, b: Quaternion, step: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const angle = GetAngle(a, b);\r\n\r\n    if (angle === 0)\r\n    {\r\n        return CopyFrom(a, out);\r\n    }\r\n\r\n    const t = Math.min(1, step / angle);\r\n\r\n    return Slerp(a, b, t, out);\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\n// Rotates a quaternion by the given angle about the X axis\r\n\r\nexport function RotateX (a: Quaternion, angle: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    angle *= 0.5;\r\n\r\n    const { x, y, z, w } = a;\r\n\r\n    const bx = Math.sin(angle);\r\n    const bw = Math.cos(angle);\r\n\r\n    return out.set(\r\n        x * bw + w * bx,\r\n        y * bw + z * bx,\r\n        z * bw - y * bx,\r\n        w * bw - x * bx\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\n// Rotates a quaternion by the given angle about the Y axis\r\n\r\nexport function RotateY (a: Quaternion, angle: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    angle *= 0.5;\r\n\r\n    const { x, y, z, w } = a;\r\n\r\n    const by = Math.sin(angle);\r\n    const bw = Math.cos(angle);\r\n\r\n    return out.set(\r\n        x * bw - z * by,\r\n        y * bw + w * by,\r\n        z * bw + x * by,\r\n        w * bw - y * by\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\n// Rotates a quaternion by the given angle about the Z axis\r\n\r\nexport function RotateZ (a: Quaternion, angle: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    angle *= 0.5;\r\n\r\n    const { x, y, z, w } = a;\r\n\r\n    const bz = Math.sin(angle);\r\n    const bw = Math.cos(angle);\r\n\r\n    return out.set(\r\n        x * bw + y * bz,\r\n        y * bw - x * bz,\r\n        z * bw + w * bz,\r\n        w * bw - z * bz\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function RotationAlphaBetaGamma (alpha: number, beta: number, gamma: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    // Produces a quaternion from Euler angles in the z-x-z orientation\r\n    const halfGammaPlusAlpha = (gamma + alpha) * 0.5;\r\n    const halfGammaMinusAlpha = (gamma - alpha) * 0.5;\r\n    const halfBeta = beta * 0.5;\r\n\r\n    return out.set(\r\n        Math.cos(halfGammaMinusAlpha) * Math.sin(halfBeta),\r\n        Math.sin(halfGammaMinusAlpha) * Math.sin(halfBeta),\r\n        Math.sin(halfGammaPlusAlpha) * Math.cos(halfBeta),\r\n        Math.cos(halfGammaPlusAlpha) * Math.cos(halfBeta)\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function ScaleAndAdd (a: Quaternion, b: Quaternion, scalar: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        a.x + b.x * scalar,\r\n        a.y + b.y * scalar,\r\n        a.z + b.z * scalar,\r\n        a.w + b.w * scalar\r\n    );\r\n}\r\n", "import { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Quaternion } from './Quaternion';\r\n\r\n// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\r\n\r\n// assumes axis is normalized\r\n\r\nexport function SetAxisAngle (axis: IVec3Like, angle: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x, y, z } = axis;\r\n\r\n    //  halfAngle\r\n    angle *= 0.5;\r\n\r\n    const s = Math.sin(angle);\r\n\r\n    return out.set(\r\n        x * s,\r\n        y * s,\r\n        z * s,\r\n        Math.cos(angle)\r\n    );\r\n}\r\n", "import { Dot } from '../vec3';\r\nimport { IVec3Like } from '../vec3/IVec3Like';\r\nimport { Quaternion } from './Quaternion';\r\n\r\n// assumes direction vectors are normalized\r\n\r\nexport function SetFromUnitVectors (a: Quaternion, from: IVec3Like, to: IVec3Like, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x: fx, y: fy, z: fz } = from;\r\n    const { x: tx, y: ty, z: tz } = to;\r\n\r\n    const epsilon = 0.000001;\r\n\r\n    let r = Dot(from, to) + 1;\r\n\r\n    if (r < epsilon)\r\n    {\r\n        r = 0;\r\n\r\n        if (Math.abs(fx) > Math.abs(fz))\r\n        {\r\n            return out.set(\r\n                -fy,\r\n                fx,\r\n                0,\r\n                r\r\n            );\r\n        }\r\n        else\r\n        {\r\n            return out.set(\r\n                0,\r\n                -fz,\r\n                fy,\r\n                r\r\n            );\r\n        }\r\n    }\r\n    else\r\n    {\r\n        // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\r\n        return out.set(\r\n            fy * tz - fz * ty,\r\n            fz * tx - fx * tz,\r\n            fx * ty - fy * tx,\r\n            r\r\n        );\r\n    }\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Subtract (a: Quaternion, b: Quaternion, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    return out.set(\r\n        a.x - b.x,\r\n        a.y - b.y,\r\n        a.z - b.z,\r\n        a.w - b.w\r\n    );\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function SubtractScalar (a: Quaternion, scalar: number, out: Quaternion = new Quaternion()): Quaternion\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x - scalar,\r\n        y - scalar,\r\n        z - scalar,\r\n        w - scalar\r\n    );\r\n}\r\n", "import { IQuaternionLike } from './IQuaternionLike';\r\nimport { Vec3 } from '../vec3';\r\n\r\n//  Fixed to the YZX order\r\n\r\nexport function ToEulerAngles (q: IQuaternionLike, out: Vec3 = new Vec3()): Vec3\r\n{\r\n    const { x, y, z, w } = q;\r\n\r\n    const sqw = w * w;\r\n    const sqz = z * z;\r\n    const sqx = x * x;\r\n    const sqy = y * y;\r\n\r\n    const zAxisY = y * z - x * w;\r\n    const limit = 0.4999999;\r\n\r\n    if (zAxisY < -limit)\r\n    {\r\n        return out.set(\r\n            Math.PI / 2,\r\n            2 * Math.atan2(y, w),\r\n            0\r\n        );\r\n    }\r\n    else if (zAxisY > limit)\r\n    {\r\n        return out.set(\r\n            -Math.PI / 2,\r\n            2 * Math.atan2(y, w),\r\n            0\r\n        );\r\n    }\r\n    else\r\n    {\r\n        return out.set(\r\n            Math.asin(-2.0 * (z * y - x * w)),\r\n            Math.atan2(2.0 * (z * x + y * w), (sqz - sqx - sqy + sqw)),\r\n            Math.atan2(2.0 * (x * y + z * w), (-sqz - sqx + sqy + sqw))\r\n        );\r\n    }\r\n}\r\n", "import { Quaternion } from './Quaternion';\r\n\r\nexport function Zero (): Quaternion\r\n{\r\n    return new Quaternion(0, 0, 0, 0);\r\n}\r\n", "import { Add } from './Add';\r\nimport { AddScalar } from './AddScalar';\r\nimport { AngleTo } from './AngleTo';\r\nimport { AreClose } from './AreClose';\r\nimport { Clone } from './Clone';\r\nimport { Conjugate } from './Conjugate';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Dot } from './Dot';\r\nimport { Equals } from './Equals';\r\nimport { FromEulerAngles } from './FromEulerAngles';\r\nimport { FromEulerVector } from './FromEulerVector';\r\nimport { FromRotationAxis } from './FromRotationAxis';\r\nimport { FromRotationMatrix } from './FromRotationMatrix';\r\nimport { FuzzyEquals } from './FuzzyEquals';\r\nimport { GetAngle } from './GetAngle';\r\nimport { GetAxisAngle } from './GetAxisAngle';\r\nimport { Hermite } from './Hermite';\r\nimport { Invert } from './Invert';\r\nimport { Length } from './Length';\r\nimport { LengthSquared } from './LengthSquared';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyByFloats } from './MultiplyByFloats';\r\nimport { Normalize } from './Normalize';\r\nimport { Quaternion } from './Quaternion';\r\nimport { RotateTowards } from './RotateTowards';\r\nimport { RotateX } from './RotateX';\r\nimport { RotateY } from './RotateY';\r\nimport { RotateZ } from './RotateZ';\r\nimport { RotationAlphaBetaGamma } from './RotationAlphaBetaGamma';\r\nimport { RotationYawPitchRoll } from './RotationYawPitchRoll';\r\nimport { Scale } from './Scale';\r\nimport { ScaleAndAdd } from './ScaleAndAdd';\r\nimport { SetAxisAngle } from './SetAxisAngle';\r\nimport { SetFromUnitVectors } from './SetFromUnitVectors';\r\nimport { Slerp } from './Slerp';\r\nimport { Subtract } from './Subtract';\r\nimport { SubtractScalar } from './SubtractScalar';\r\nimport { ToEulerAngles } from './ToEulerAngles';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Add,\r\n    AddScalar,\r\n    AngleTo,\r\n    AreClose,\r\n    Clone,\r\n    Conjugate,\r\n    CopyFrom,\r\n    Dot,\r\n    Equals,\r\n    FromEulerAngles,\r\n    FromEulerVector,\r\n    FromRotationAxis,\r\n    FromRotationMatrix,\r\n    FuzzyEquals,\r\n    GetAngle,\r\n    GetAxisAngle,\r\n    Hermite,\r\n    Invert,\r\n    Length,\r\n    LengthSquared,\r\n    Multiply,\r\n    MultiplyByFloats,\r\n    Normalize,\r\n    Quaternion,\r\n    RotateTowards,\r\n    RotateX,\r\n    RotateY,\r\n    RotateZ,\r\n    RotationAlphaBetaGamma,\r\n    RotationYawPitchRoll,\r\n    Scale,\r\n    ScaleAndAdd,\r\n    SetAxisAngle,\r\n    SetFromUnitVectors,\r\n    Slerp,\r\n    Subtract,\r\n    SubtractScalar,\r\n    ToEulerAngles,\r\n    Zero\r\n};\r\n", "export function In (v: number, overshoot: number = 1.70158): number\r\n{\r\n    return v * v * ((overshoot + 1) * v - overshoot);\r\n}\r\n", "export function InOut (v: number, overshoot: number = 1.70158): number\r\n{\r\n    const s = overshoot * 1.525;\r\n\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * (v * v * ((s + 1) * v - s));\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * ((v -= 2) * v * ((s + 1) * v + s) + 2);\r\n    }\r\n}\r\n", "export function Out (v: number, overshoot: number = 1.70158): number\r\n{\r\n    return --v * v * ((overshoot + 1) * v + overshoot) + 1;\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    v = 1 - v;\r\n\r\n    if (v < 1 / 2.75)\r\n    {\r\n        return 1 - (7.5625 * v * v);\r\n    }\r\n    else if (v < 2 / 2.75)\r\n    {\r\n        return 1 - (7.5625 * (v -= 1.5 / 2.75) * v + 0.75);\r\n    }\r\n    else if (v < 2.5 / 2.75)\r\n    {\r\n        return 1 - (7.5625 * (v -= 2.25 / 2.75) * v + 0.9375);\r\n    }\r\n    else\r\n    {\r\n        return 1 - (7.5625 * (v -= 2.625 / 2.75) * v + 0.984375);\r\n    }\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    let reverse = false;\r\n\r\n    if (v < 0.5)\r\n    {\r\n        v = 1 - (v * 2);\r\n        reverse = true;\r\n    }\r\n    else\r\n    {\r\n        v = (v * 2) - 1;\r\n    }\r\n\r\n    if (v < 1 / 2.75)\r\n    {\r\n        v = 7.5625 * v * v;\r\n    }\r\n    else if (v < 2 / 2.75)\r\n    {\r\n        v = 7.5625 * (v -= 1.5 / 2.75) * v + 0.75;\r\n    }\r\n    else if (v < 2.5 / 2.75)\r\n    {\r\n        v = 7.5625 * (v -= 2.25 / 2.75) * v + 0.9375;\r\n    }\r\n    else\r\n    {\r\n        v = 7.5625 * (v -= 2.625 / 2.75) * v + 0.984375;\r\n    }\r\n\r\n    if (reverse)\r\n    {\r\n        return (1 - v) * 0.5;\r\n    }\r\n    else\r\n    {\r\n        return v * 0.5 + 0.5;\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    if (v < 1 / 2.75)\r\n    {\r\n        return 7.5625 * v * v;\r\n    }\r\n    else if (v < 2 / 2.75)\r\n    {\r\n        return 7.5625 * (v -= 1.5 / 2.75) * v + 0.75;\r\n    }\r\n    else if (v < 2.5 / 2.75)\r\n    {\r\n        return 7.5625 * (v -= 2.25 / 2.75) * v + 0.9375;\r\n    }\r\n    else\r\n    {\r\n        return 7.5625 * (v -= 2.625 / 2.75) * v + 0.984375;\r\n    }\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return 1 - Math.sqrt(1 - v * v);\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return -0.5 * (Math.sqrt(1 - v * v) - 1);\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * (Math.sqrt(1 - (v -= 2) * v) + 1);\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return Math.sqrt(1 - (--v * v));\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return v * v * v;\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * v * v * v;\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * ((v -= 2) * v * v + 2);\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return --v * v * v + 1;\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number, amplitude: number = 0.1, period: number = 0.1): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        let s = period / 4;\r\n\r\n        if (amplitude < 1)\r\n        {\r\n            amplitude = 1;\r\n        }\r\n        else\r\n        {\r\n            s = period * Math.asin(1 / amplitude) / (2 * Math.PI);\r\n        }\r\n\r\n        return -(amplitude * Math.pow(2, 10 * (v -= 1)) * Math.sin((v - s) * (2 * Math.PI) / period));\r\n    }\r\n}\r\n", "export function InOut (v: number, amplitude: number = 0.1, period: number = 0.1): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        let s = period / 4;\r\n\r\n        if (amplitude < 1)\r\n        {\r\n            amplitude = 1;\r\n        }\r\n        else\r\n        {\r\n            s = period * Math.asin(1 / amplitude) / (2 * Math.PI);\r\n        }\r\n\r\n        if ((v *= 2) < 1)\r\n        {\r\n            return -0.5 * (amplitude * Math.pow(2, 10 * (v -= 1)) * Math.sin((v - s) * (2 * Math.PI) / period));\r\n        }\r\n        else\r\n        {\r\n            return amplitude * Math.pow(2, -10 * (v -= 1)) * Math.sin((v - s) * (2 * Math.PI) / period) * 0.5 + 1;\r\n        }\r\n    }\r\n}\r\n", "export function Out (v: number, amplitude: number = 0.1, period: number = 0.1): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        let s = period / 4;\r\n\r\n        if (amplitude < 1)\r\n        {\r\n            amplitude = 1;\r\n        }\r\n        else\r\n        {\r\n            s = period * Math.asin(1 / amplitude) / (2 * Math.PI);\r\n        }\r\n\r\n        return (amplitude * Math.pow(2, -10 * v) * Math.sin((v - s) * (2 * Math.PI) / period) + 1);\r\n    }\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return Math.pow(2, 10 * (v - 1)) - 0.001;\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if (v == 0)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    if (v == 1)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * Math.pow(2, 10 * (v - 1));\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * (2 - Math.pow(2, -10 * (v - 1)));\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return 1 - Math.pow(2, -10 * v);\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return v * v;\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * v * v;\r\n    }\r\n    else\r\n    {\r\n        return -0.5 * (--v * (v - 2) - 1);\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return v * (2 - v);\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return v * v * v * v;\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * v * v * v * v;\r\n    }\r\n    else\r\n    {\r\n        return -0.5 * ((v -= 2) * v * v * v - 2);\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return -(--v * v * v * v - 1);\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    return v * v * v * v * v;\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if ((v *= 2) < 1)\r\n    {\r\n        return 0.5 * v * v * v * v * v;\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * ((v -= 2) * v * v * v * v + 2);\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    return (v = v - 1) * v * v * v * v + 1;\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function In (v: number): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        return 1 - Math.cos(v * Math.PI / 2);\r\n    }\r\n}\r\n", "export function InOut (v: number): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        return 0.5 * (1 - Math.cos(Math.PI * v));\r\n    }\r\n}\r\n", "export function Out (v: number): number\r\n{\r\n    if (v === 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v === 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        return Math.sin(v * Math.PI / 2);\r\n    }\r\n}\r\n", "import { In } from './In';\r\nimport { InOut } from './InOut';\r\nimport { Out } from './Out';\r\n\r\nexport {\r\n    In,\r\n    InOut,\r\n    Out\r\n};\r\n", "export function Linear (v: number): number\r\n{\r\n    return v;\r\n}\r\n", "export function Stepped (v: number, steps: number = 1): number\r\n{\r\n    if (v <= 0)\r\n    {\r\n        return 0;\r\n    }\r\n    else if (v >= 1)\r\n    {\r\n        return 1;\r\n    }\r\n    else\r\n    {\r\n        return (((steps * v) | 0) + 1) * (1 / steps);\r\n    }\r\n}\r\n", "import * as Back from './back';\r\nimport * as Bounce from './bounce';\r\nimport * as Circular from './circular';\r\nimport * as Cubic from './cubic';\r\nimport * as Elastic from './elastic';\r\nimport * as Expo from './expo';\r\nimport * as Quadratic from './quadratic';\r\nimport * as Quartic from './quartic';\r\nimport * as Quintic from './quintic';\r\nimport * as Sine from './sine';\r\n\r\nimport { Linear } from './Linear';\r\nimport { Stepped } from './Stepped';\r\n\r\nconst EaseMap: Map<string, Function> = new Map([\r\n    [ 'power0', Linear ],\r\n    [ 'power1', Quadratic.Out ],\r\n    [ 'power2', Cubic.Out ],\r\n    [ 'power3', Quartic.Out ],\r\n    [ 'power4', Quintic.Out ],\r\n    [ 'linear', Linear ],\r\n    [ 'quad', Quadratic.Out ],\r\n    [ 'cubic', Cubic.Out ],\r\n    [ 'quart', Quartic.Out ],\r\n    [ 'quint', Quintic.Out ],\r\n    [ 'sine', Sine.Out ],\r\n    [ 'expo', Expo.Out ],\r\n    [ 'circ', Circular.Out ],\r\n    [ 'elastic', Elastic.Out ],\r\n    [ 'back', Back.Out ],\r\n    [ 'bounce', Bounce.Out ],\r\n    [ 'stepped', Stepped ],\r\n    [ 'quad.in', Quadratic.In ],\r\n    [ 'cubic.in', Cubic.In ],\r\n    [ 'quart.in', Quartic.In ],\r\n    [ 'quint.in', Quintic.In ],\r\n    [ 'sine.in', Sine.In ],\r\n    [ 'expo.in', Expo.In ],\r\n    [ 'circ.in', Circular.In ],\r\n    [ 'elastic.in', Elastic.In ],\r\n    [ 'back.in', Back.In ],\r\n    [ 'bounce.in', Bounce.In ],\r\n    [ 'quad.out', Quadratic.Out ],\r\n    [ 'cubic.out', Cubic.Out ],\r\n    [ 'quart.out', Quartic.Out ],\r\n    [ 'quint.out', Quintic.Out ],\r\n    [ 'sine.out', Sine.Out ],\r\n    [ 'expo.out', Expo.Out ],\r\n    [ 'circ.out', Circular.Out ],\r\n    [ 'elastic.out', Elastic.Out ],\r\n    [ 'back.out', Back.Out ],\r\n    [ 'bounce.out', Bounce.Out ],\r\n    [ 'quad.inout', Quadratic.InOut ],\r\n    [ 'cubic.inout', Cubic.InOut ],\r\n    [ 'quart.inout', Quartic.InOut ],\r\n    [ 'quint.inout', Quintic.InOut ],\r\n    [ 'sine.inout', Sine.InOut ],\r\n    [ 'expo.inout', Expo.InOut ],\r\n    [ 'circ.inout', Circular.InOut ],\r\n    [ 'elastic.inout', Elastic.InOut ],\r\n    [ 'back.inout', Back.InOut ],\r\n    [ 'bounce.inout', Bounce.InOut ]\r\n]);\r\n\r\n//  Allows GetEase('Back'), GetEase('Expo.InOut'), GetEase('Export.easeOut') or lower-case\r\n\r\nexport function GetEase (name: string): Function\r\n{\r\n    name = name.toLowerCase();\r\n    name = name.replace('ease', '');\r\n\r\n    if (EaseMap.has(name))\r\n    {\r\n        return EaseMap.get(name);\r\n    }\r\n    else\r\n    {\r\n        return Linear;\r\n    }\r\n}\r\n", "import * as Back from './back';\r\nimport * as Bounce from './bounce';\r\nimport * as Circular from './circular';\r\nimport * as Cubic from './cubic';\r\nimport * as Elastic from './elastic';\r\nimport * as Expo from './expo';\r\nimport * as GetEase from './GetEase';\r\nimport * as Linear from './Linear';\r\nimport * as Quadratic from './quadratic';\r\nimport * as Quartic from './quartic';\r\nimport * as Quintic from './quintic';\r\nimport * as Sine from './sine';\r\nimport * as Stepped from './Stepped';\r\n\r\nexport {\r\n    Back,\r\n    Bounce,\r\n    Circular,\r\n    Cubic,\r\n    Elastic,\r\n    Expo,\r\n    GetEase,\r\n    Linear,\r\n    Quadratic,\r\n    Quartic,\r\n    Quintic,\r\n    Sine,\r\n    Stepped\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the fuzzy ceiling of the given value.\r\n *\r\n * @function Phaser.Math.Fuzzy.Ceil\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {number} The fuzzy ceiling of the value.\r\n */\r\nexport function FuzzyCeil (value: number, epsilon: number = 0.0001): number\r\n{\r\n    return Math.ceil(value - epsilon);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the fuzzy floor of the given value.\r\n *\r\n * @function Phaser.Math.Fuzzy.Floor\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {number} The floor of the value.\r\n */\r\nexport function FuzzyFloor (value: number, epsilon: number = 0.0001): number\r\n{\r\n    return Math.floor(value + epsilon);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether `a` is fuzzily greater than `b`.\r\n *\r\n * `a` is fuzzily greater than `b` if it is more than `b - epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.GreaterThan\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if `a` is fuzzily greater than than `b`, otherwise `false`.\r\n */\r\nexport function FuzzyGreaterThan (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return a > b - epsilon;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Check whether `a` is fuzzily less than `b`.\r\n *\r\n * `a` is fuzzily less than `b` if it is less than `b + epsilon`.\r\n *\r\n * @function Phaser.Math.Fuzzy.LessThan\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value.\r\n * @param {number} b - The second value.\r\n * @param {number} [epsilon=0.0001] - The epsilon.\r\n *\r\n * @return {boolean} `true` if `a` is fuzzily less than `b`, otherwise `false`.\r\n */\r\nexport function FuzzyLessThan (a: number, b: number, epsilon: number = 0.0001): boolean\r\n{\r\n    return a < b + epsilon;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { FuzzyCeil } from './FuzzyCeil';\r\nimport { FuzzyEqual } from './FuzzyEqual';\r\nimport { FuzzyFloor } from './FuzzyFloor';\r\nimport { FuzzyGreaterThan } from './FuzzyGreaterThan';\r\nimport { FuzzyLessThan } from './FuzzyLessThan';\r\n\r\n// TODO - The Epsilon values can move to a Config setter\r\n\r\nexport {\r\n    FuzzyCeil,\r\n    FuzzyEqual,\r\n    FuzzyFloor,\r\n    FuzzyGreaterThan,\r\n    FuzzyLessThan\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates the factorial of a given number for integer values greater than 0.\r\n *\r\n * @function Phaser.Math.Factorial\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - A positive integer to calculate the factorial of.\r\n *\r\n * @return {number} The factorial of the given number.\r\n */\r\nexport function Factorial (value: number): number\r\n{\r\n    if (value === 0)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    let res = value;\r\n\r\n    while (--value)\r\n    {\r\n        res *= value;\r\n    }\r\n\r\n    return res;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Factorial } from './Factorial';\r\n\r\n/**\r\n * Calculates the Bernstein basis from the three factorial coefficients.\r\n *\r\n * @function Phaser.Math.Bernstein\r\n * @since 3.0.0\r\n *\r\n * @param {number} n - The first value.\r\n * @param {number} i - The second value.\r\n *\r\n * @return {number} The Bernstein basis of Factorial(n) / Factorial(i) / Factorial(n - i)\r\n */\r\nexport function Bernstein (n: number, i: number): number\r\n{\r\n    return Factorial(n) / Factorial(i) / Factorial(n - i);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Bernstein } from '../Bernstein';\r\n\r\n/**\r\n * A bezier interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.Bezier\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function BezierInterpolation (v: number[], k: number): number\r\n{\r\n    let b = 0;\r\n    const n = v.length - 1;\r\n\r\n    for (let i = 0; i <= n; i++)\r\n    {\r\n        b += Math.pow(1 - k, n - i) * Math.pow(k, i) * v[i] * Bernstein(n, i);\r\n    }\r\n\r\n    return b;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CatmullRom } from '../CatmullRom';\r\n\r\n/**\r\n * A Catmull-Rom interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.CatmullRom\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function CatmullRomInterpolation (v: number[], k: number): number\r\n{\r\n    const m = v.length - 1;\r\n    let f = m * k;\r\n    let i = Math.floor(f);\r\n\r\n    if (v[0] === v[m])\r\n    {\r\n        if (k < 0)\r\n        {\r\n            i = Math.floor(f = m * (1 + k));\r\n        }\r\n\r\n        return CatmullRom(f - i, v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m]);\r\n    }\r\n    else\r\n    {\r\n        if (k < 0)\r\n        {\r\n            return v[0] - (CatmullRom(-f, v[0], v[0], v[1], v[1]) - v[0]);\r\n        }\r\n\r\n        if (k > 1)\r\n        {\r\n            return v[m] - (CatmullRom(f - m, v[m], v[m], v[m - 1], v[m - 1]) - v[m]);\r\n        }\r\n\r\n        return CatmullRom(f - i, v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2]);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P0 (t: number, p: number): number\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * k * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P1 (t: number, p: number): number\r\n{\r\n    const k = 1 - t;\r\n\r\n    return 3 * k * k * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P2 (t: number, p: number): number\r\n{\r\n    return 3 * (1 - t) * t * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P3 (t: number, p: number): number\r\n{\r\n    return t * t * t * p;\r\n}\r\n\r\n/**\r\n * A cubic bezier interpolation method.\r\n *\r\n * https://medium.com/@adrian_cooney/bezier-interpolation-13b68563313a\r\n *\r\n * @function Phaser.Math.Interpolation.CubicBezier\r\n * @since 3.0.0\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} p0 - The start point.\r\n * @param {number} p1 - The first control point.\r\n * @param {number} p2 - The second control point.\r\n * @param {number} p3 - The end point.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function CubicBezierInterpolation (t: number, p0: number, p1: number, p2: number, p3: number): number\r\n{\r\n    return P0(t, p0) + P1(t, p1) + P2(t, p2) + P3(t, p3);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates a linear (interpolation) value over t.\r\n *\r\n * @function Phaser.Math.Linear\r\n * @since 3.0.0\r\n *\r\n * @param {number} p0 - The first point.\r\n * @param {number} p1 - The second point.\r\n * @param {number} t - The percentage between p0 and p1 to return, represented as a number between 0 and 1.\r\n *\r\n * @return {number} The step t% of the way between p0 and p1.\r\n */\r\nexport function Linear (p0: number, p1: number, t: number): number\r\n{\r\n    return (p1 - p0) * t + p0;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Linear } from '../Linear';\r\n\r\n/**\r\n * A linear interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.Linear\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Linear_interpolation}\r\n *\r\n * @param {number[]} v - The input array of values to interpolate between.\r\n * @param {!number} k - The percentage of interpolation, between 0 and 1.\r\n *\r\n * @return {!number} The interpolated value.\r\n */\r\nexport function LinearInterpolation (v: number[], k: number): number\r\n{\r\n    const m = v.length - 1;\r\n    const f = m * k;\r\n    const i = Math.floor(f);\r\n\r\n    if (k < 0)\r\n    {\r\n        return Linear(v[0], v[1], f);\r\n    }\r\n    else if (k > 1)\r\n    {\r\n        return Linear(v[m], v[m - 1], m - f);\r\n    }\r\n    else\r\n    {\r\n        return Linear(v[i], v[(i + 1 > m) ? m : i + 1], f - i);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P0 (t: number, p: number): number\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P1 (t: number, p: number): number\r\n{\r\n    return 2 * (1 - t) * t * p;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction P2 (t: number, p: number): number\r\n{\r\n    return t * t * p;\r\n}\r\n\r\n// https://github.com/mrdoob/three.js/blob/master/src/extras/core/Interpolations.js\r\n\r\n/**\r\n * A quadratic bezier interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.QuadraticBezier\r\n * @since 3.2.0\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} p0 - The start point.\r\n * @param {number} p1 - The control point.\r\n * @param {number} p2 - The end point.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function QuadraticBezierInterpolation (t: number, p0: number, p1: number, p2: number): number\r\n{\r\n    return P0(t, p0) + P1(t, p1) + P2(t, p2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a smooth interpolation percentage of `x` between `min` and `max`.\r\n *\r\n * The function receives the number `x` as an argument and returns 0 if `x` is less than or equal to the left edge,\r\n * 1 if `x` is greater than or equal to the right edge, and smoothly interpolates, using a Hermite polynomial,\r\n * between 0 and 1 otherwise.\r\n *\r\n * @function Phaser.Math.SmoothStep\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep}\r\n *\r\n * @param {number} x - The input value.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The percentage of interpolation, between 0 and 1.\r\n */\r\nexport function SmoothStep (x: number, min: number, max: number): number\r\n{\r\n    if (x <= min)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    if (x >= max)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    x = (x - min) / (max - min);\r\n\r\n    return x * x * (3 - 2 * x);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { SmoothStep } from '../SmoothStep';\r\n\r\n/**\r\n * A Smooth Step interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.SmoothStep\r\n * @since 3.9.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep}\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function SmoothStepInterpolation (t: number, min: number, max: number): number\r\n{\r\n    return min + (max - min) * SmoothStep(t, 0, 1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a smoother interpolation percentage of `x` between `min` and `max`.\r\n *\r\n * The function receives the number `x` as an argument and returns 0 if `x` is less than or equal to the left edge,\r\n * 1 if `x` is greater than or equal to the right edge, and smoothly interpolates, using a Hermite polynomial,\r\n * between 0 and 1 otherwise.\r\n *\r\n * Produces an even smoother interpolation than {@link Phaser.Math.SmoothStep}.\r\n *\r\n * @function Phaser.Math.SmootherStep\r\n * @since 3.0.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep#Variations}\r\n *\r\n * @param {number} x - The input value.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The percentage of interpolation, between 0 and 1.\r\n */\r\nexport function SmootherStep (x: number, min: number, max: number): number\r\n{\r\n    x = Math.max(0, Math.min(1, (x - min) / (max - min)));\r\n\r\n    return x * x * x * (x * (x * 6 - 15) + 10);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { SmootherStep } from '../SmootherStep';\r\n\r\n/**\r\n * A Smoother Step interpolation method.\r\n *\r\n * @function Phaser.Math.Interpolation.SmootherStep\r\n * @since 3.9.0\r\n * @see {@link https://en.wikipedia.org/wiki/Smoothstep#Variations}\r\n *\r\n * @param {number} t - The percentage of interpolation, between 0 and 1.\r\n * @param {number} min - The minimum value, also known as the 'left edge', assumed smaller than the 'right edge'.\r\n * @param {number} max - The maximum value, also known as the 'right edge', assumed greater than the 'left edge'.\r\n *\r\n * @return {number} The interpolated value.\r\n */\r\nexport function SmootherStepInterpolation (t: number, min: number, max: number): number\r\n{\r\n    return min + (max - min) * SmootherStep(t, 0, 1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { BezierInterpolation } from './BezierInterpolation';\r\nimport { CatmullRomInterpolation } from './CatmullRomInterpolation';\r\nimport { CubicBezierInterpolation } from './CubicBezierInterpolation';\r\nimport { LinearInterpolation } from './LinearInterpolation';\r\nimport { QuadraticBezierInterpolation } from './QuadraticBezierInterpolation';\r\nimport { SmoothStepInterpolation } from './SmoothStepInterpolation';\r\nimport { SmootherStepInterpolation } from './SmootherStepInterpolation';\r\n\r\nexport {\r\n    BezierInterpolation,\r\n    CatmullRomInterpolation,\r\n    CubicBezierInterpolation,\r\n    LinearInterpolation,\r\n    QuadraticBezierInterpolation,\r\n    SmoothStepInterpolation,\r\n    SmootherStepInterpolation\r\n};\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\nexport function Add (a: Matrix2D, b: Matrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    return out.set(\r\n        a.a + b.a,\r\n        a.b + b.b,\r\n        a.c + b.c,\r\n        a.d + b.d,\r\n        a.tx + b.tx,\r\n        a.ty + b.ty\r\n    );\r\n}\r\n", "import { Matrix2D } from '../matrix2d/Matrix2D';\r\n\r\nexport function Append (mat1: Matrix2D, mat2: Matrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = mat1;\r\n    const { a: a2, b: b2, c: c2, d: d2, tx: tx2, ty: ty2 } = mat2;\r\n\r\n    return out.set(\r\n        (a2 * a1) + (b2 * c1),\r\n        (a2 * b1) + (b2 * d1),\r\n        (c2 * a1) + (d2 * c1),\r\n        (c2 * b1) + (d2 * d1),\r\n        (tx2 * a1) + (ty2 * c1) + tx1,\r\n        (tx2 * b1) + (ty2 * d1) + ty1\r\n    );\r\n}\r\n", "import { IMatrix2D } from '../matrix2d/IMatrix2D';\r\nimport { Matrix2D } from '../matrix2d/Matrix2D';\r\n\r\n//  Clones the src matrix to a new Matrix2D.\r\n\r\nexport function Clone (src: IMatrix2D): Matrix2D\r\n{\r\n    return new Matrix2D(src.a, src.b, src.c, src.d, src.tx, src.ty);\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\nimport { Matrix2D } from './Matrix2D';\r\n\r\n//  Copy the values from the src Matrix to the target Matrix and return the target Matrix.\r\n\r\nexport function CopyFrom (src: IMatrix2D, target: Matrix2D): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    return target.set(a, b, c, d, tx, ty);\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\n\r\n// Copy the values from src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.transform method.\r\n\r\nexport function CopyToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.transform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\n\r\n//  Return the determinant for the src Matrix.\r\n\r\nexport function Determinant (src: IMatrix2D): number\r\n{\r\n    const { a, b, c, d } = src;\r\n\r\n    return (a * d) - (b * c);\r\n}\r\n", "import { IMatrix2D } from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal, based on the epsilon.\r\n\r\nexport function Equals (a: IMatrix2D, b: IMatrix2D, epsilon: number = 0.000001): boolean\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = a;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = b;\r\n\r\n    return (\r\n        Math.abs(a0 - a1) <= epsilon * Math.max(1, Math.abs(a0), Math.abs(a1)) &&\r\n        Math.abs(b0 - b1) <= epsilon * Math.max(1, Math.abs(b0), Math.abs(b1)) &&\r\n        Math.abs(c0 - c1) <= epsilon * Math.max(1, Math.abs(c0), Math.abs(c1)) &&\r\n        Math.abs(d0 - d1) <= epsilon * Math.max(1, Math.abs(d0), Math.abs(d1)) &&\r\n        Math.abs(tx0 - tx1) <= epsilon * Math.max(1, Math.abs(tx0), Math.abs(tx1)) &&\r\n        Math.abs(ty0 - ty1) <= epsilon * Math.max(1, Math.abs(ty0), Math.abs(ty1))\r\n    );\r\n}\r\n", "import { IMatrix2D } from '../matrix2d/IMatrix2D';\r\n\r\n//  Compares the a and b matrix and returns if they are equal.\r\n\r\nexport function ExactEquals (a: IMatrix2D, b: IMatrix2D): boolean\r\n{\r\n    return (\r\n        a.a === b.a &&\r\n        a.b === b.b &&\r\n        a.c === b.c &&\r\n        a.d === b.d &&\r\n        a.tx === b.tx &&\r\n        a.ty === b.ty\r\n    );\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\n\r\nexport function Frobenius (src: IMatrix2D): number\r\n{\r\n    return (Math.hypot(src.a, src.b, src.c, src.d, src.tx, src.ty, 1));\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Rotates the target Matrix by the angle (in radians), then returns the target Matrix.\r\n\r\nexport function Rotate (target: Matrix2D, angle: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n\r\n    return out.set(\r\n        (a * cos) + (c * sin),\r\n        (b * cos) + (d * sin),\r\n        (a * -sin) + (c * cos),\r\n        (b * -sin) + (d * cos),\r\n        tx,\r\n        ty\r\n    );\r\n}\r\n", "import { Matrix2D } from '../matrix2d/Matrix2D';\r\nimport { Rotate } from './Rotate';\r\n\r\nexport function FromRotation (angle: number): Matrix2D\r\n{\r\n    const target = new Matrix2D();\r\n\r\n    return Rotate(target, angle, target);\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Scales the target Matrix by the given amounts, then returns the target Matrix.\r\n\r\nexport function Scale (target: Matrix2D, scaleX: number, scaleY: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    return out.set(\r\n        a * scaleX,\r\n        b * scaleX,\r\n        c * scaleY,\r\n        d * scaleY,\r\n        tx,\r\n        ty\r\n    );\r\n}\r\n", "import { Matrix2D } from '../matrix2d/Matrix2D';\r\nimport { Scale } from './Scale';\r\n\r\nexport function FromScaling (scaleX: number, scaleY: number = scaleX): Matrix2D\r\n{\r\n    const target = new Matrix2D();\r\n\r\n    return Scale(target, scaleX, scaleY, target);\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Translates the target Matrix and returns the target\r\n\r\nexport function Translate (target: Matrix2D, x: number, y: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    out.tx = (a * x) + (c * y) + tx;\r\n    out.ty = (b * x) + (d * y) + ty;\r\n\r\n    return out;\r\n}\r\n", "import { Matrix2D } from '../matrix2d/Matrix2D';\r\nimport { Translate } from './Translate';\r\n\r\nexport function FromTranslation (x: number, y: number): Matrix2D\r\n{\r\n    const target = new Matrix2D();\r\n\r\n    return Translate(target, x, y, target);\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\nimport { Vec2 } from '../vec2/Vec2';\r\n\r\nexport function GlobalToLocal (mat: IMatrix2D, x: number, y: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    const id: number = 1 / ((a * d) + (c * -b));\r\n\r\n    return out.set(\r\n        (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id),\r\n        (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id)\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Apply the identity, translate, rotate and scale operations on the target Matrix then returns it.\r\n\r\nexport function ITRS (target: Matrix2D, x: number, y: number, angle: number, scaleX: number, scaleY: number): Matrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        const sin = Math.sin(angle);\r\n        const cos = Math.cos(angle);\r\n\r\n        return target.set(\r\n            cos * scaleX,\r\n            sin * scaleX,\r\n            -sin * scaleY,\r\n            cos * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Apply the identity, translate, rotate, scale and skew operations on the target Matrix then returns it.\r\n\r\nexport function ITRSS (target: Matrix2D, x: number, y: number, angle: number = 0, scaleX: number = 1, scaleY: number = 1, skewX: number = 0, skewY: number = 0): Matrix2D\r\n{\r\n    if (angle === 0)\r\n    {\r\n        return target.set(1, 0, 0, 1, x, y);\r\n    }\r\n    else\r\n    {\r\n        return target.set(\r\n            Math.cos(angle + skewY) * scaleX,\r\n            Math.sin(angle + skewY) * scaleX,\r\n            -Math.sin(angle - skewX) * scaleY,\r\n            Math.cos(angle - skewX) * scaleY,\r\n            x,\r\n            y\r\n        );\r\n    }\r\n}\r\n", "import { Matrix2D } from '../matrix2d/Matrix2D';\r\n\r\nexport function Identity (): Matrix2D\r\n{\r\n    return new Matrix2D();\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Inverts the target Matrix and then returns it\r\n\r\nexport function Invert (target: Matrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    let determinant: number = a * d - b * c;\r\n\r\n    if (determinant)\r\n    {\r\n        determinant = 1 / determinant;\r\n\r\n        out.set(\r\n            d * determinant,\r\n            -b * determinant,\r\n            -c * determinant,\r\n            a * determinant,\r\n            (c * ty - d * tx) * determinant,\r\n            (b * tx - a * ty) * determinant\r\n        );\r\n    }\r\n\r\n    return out;\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\nimport { Vec2 } from '../vec2/Vec2';\r\n\r\nexport function LocalToGlobal (mat: IMatrix2D, x: number, y: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = mat;\r\n\r\n    return out.set(\r\n        (a * x) + (c * y) + tx,\r\n        (b * x) + (d * y) + ty\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Multiplies the target Matrix by the src Matrix and returns the target.\r\n\r\nexport function Multiply (target: Matrix2D, src: Matrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a: a0, b: b0, c: c0, d: d0, tx: tx0, ty: ty0 } = target;\r\n    const { a: a1, b: b1, c: c1, d: d1, tx: tx1, ty: ty1 } = src;\r\n\r\n    return out.set(\r\n        a0 * a1 + c0 * b1,\r\n        b0 * a1 + d0 * b1,\r\n        a0 * c1 + c0 * d1,\r\n        b0 * c1 + d0 * d1,\r\n        a0 * tx1 + c0 * ty1 + tx0,\r\n        b0 * tx1 + d0 * ty1 + ty0\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport function MultiplyScalar (target: Matrix2D, scalar: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    return out.set(\r\n        a * scalar,\r\n        b * scalar,\r\n        c * scalar,\r\n        d * scalar,\r\n        tx * scalar,\r\n        ty * scalar\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Multiplies the target Matrix by the given amount, then returns the target Matrix.\r\n\r\nexport function MultiplyScalarAndAdd (target: Matrix2D, src: Matrix2D, scalar: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n    const { a: ta, b: tb, c: tc, d: td, tx: ttx, ty: tty } = target;\r\n\r\n    return out.set(\r\n        ta + (a * scalar),\r\n        tb + (b * scalar),\r\n        tc + (c * scalar),\r\n        td + (d * scalar),\r\n        ttx + (tx * scalar),\r\n        tty + (ty * scalar)\r\n    );\r\n}\r\n", "import { IMatrix2D } from './IMatrix2D';\r\n\r\n// Copy the values from the src Matrix to the given Canvas Rendering Context.\r\n// This will use the Context.setTransform method.\r\n\r\nexport function SetToContext (src: IMatrix2D, context: CanvasRenderingContext2D): CanvasRenderingContext2D\r\n{\r\n    const { a, b, c, d, tx, ty } = src;\r\n\r\n    context.setTransform(a, b, c, d, tx, ty);\r\n\r\n    return context;\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Skews the target Matrix by the given angles (in radians), then returns the target Matrix\r\n\r\nexport function Skew (target: Matrix2D, angleX: number, angleY: number, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    const { a, b, c, d, tx, ty } = target;\r\n\r\n    return out.set(\r\n        a,\r\n        b + Math.tan(angleX),\r\n        c + Math.tan(angleY),\r\n        d,\r\n        tx,\r\n        ty\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Subtracts the src Matrix from the target Matrix and returns the target.\r\n\r\nexport function Subtract (a: Matrix2D, b: Matrix2D, out: Matrix2D = new Matrix2D()): Matrix2D\r\n{\r\n    return out.set(\r\n        a.a - b.a,\r\n        a.b - b.b,\r\n        a.c - b.c,\r\n        a.d - b.d,\r\n        a.tx - b.tx,\r\n        a.ty - b.ty\r\n    );\r\n}\r\n", "import { Matrix2D } from './Matrix2D';\r\n\r\n//  Zeroes the target Matrix and returns the target\r\n\r\nexport function Zero (target: Matrix2D): Matrix2D\r\n{\r\n    return target.set(0, 0, 0, 0, 0, 0);\r\n}\r\n", "import { Add } from './Add';\r\nimport { Append } from './Append';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { CopyToContext } from './CopyToContext';\r\nimport { Determinant } from './Determinant';\r\nimport { Equals } from './Equals';\r\nimport { ExactEquals } from './ExactEquals';\r\nimport { Frobenius } from './Frobenius';\r\nimport { FromRotation } from './FromRotation';\r\nimport { FromScaling } from './FromScaling';\r\nimport { FromTranslation } from './FromTranslation';\r\nimport { GlobalToLocal } from './GlobalToLocal';\r\nimport { ITRS } from './ITRS';\r\nimport { ITRSS } from './ITRSS';\r\nimport { Identity } from './Identity';\r\nimport { Invert } from './Invert';\r\nimport { LocalToGlobal } from './LocalToGlobal';\r\nimport { Matrix2D } from './Matrix2D';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyScalar } from './MultiplyScalar';\r\nimport { MultiplyScalarAndAdd } from './MultiplyScalarAndAdd';\r\nimport { Rotate } from './Rotate';\r\nimport { Scale } from './Scale';\r\nimport { SetToContext } from './SetToContext';\r\nimport { Skew } from './Skew';\r\nimport { Subtract } from './Subtract';\r\nimport { Translate } from './Translate';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Add,\r\n    Append,\r\n    Clone,\r\n    CopyFrom,\r\n    CopyToContext,\r\n    Determinant,\r\n    Equals,\r\n    ExactEquals,\r\n    Frobenius,\r\n    FromRotation,\r\n    FromScaling,\r\n    FromTranslation,\r\n    GlobalToLocal,\r\n    Identity,\r\n    Invert,\r\n    ITRS,\r\n    ITRSS,\r\n    LocalToGlobal,\r\n    Matrix2D,\r\n    Multiply,\r\n    MultiplyScalar,\r\n    MultiplyScalarAndAdd,\r\n    Rotate,\r\n    Scale,\r\n    SetToContext,\r\n    Skew,\r\n    Subtract,\r\n    Translate,\r\n    Zero\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Returns the nearest power of 2 to the given `value`.\r\n *\r\n * @function Phaser.Math.Pow2.GetNext\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value.\r\n *\r\n * @return {number} The nearest power of 2 to `value`.\r\n */\r\nexport function GetPowerOfTwo (value: number): number\r\n{\r\n    const index = Math.log(value) / 0.6931471805599453;\r\n\r\n    return (1 << Math.ceil(index));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Checks if the given `width` and `height` are a power of two.\r\n * Useful for checking texture dimensions.\r\n *\r\n * @function Phaser.Math.Pow2.IsSize\r\n * @since 3.0.0\r\n *\r\n * @param {number} width - The width.\r\n * @param {number} height - The height.\r\n *\r\n * @return {boolean} `true` if `width` and `height` are a power of two, otherwise `false`.\r\n */\r\nexport function IsSizePowerOfTwo (width: number, height: number): boolean\r\n{\r\n    if (width < 1 || height < 1)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return ((width & (width - 1)) === 0) && ((height & (height - 1)) === 0);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Tests the value and returns `true` if it is a power of two.\r\n *\r\n * @function Phaser.Math.Pow2.IsValue\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to check if it's a power of two.\r\n *\r\n * @return {boolean} Returns `true` if `value` is a power of two, otherwise `false`.\r\n */\r\nexport function IsValuePowerOfTwo (value: number): boolean\r\n{\r\n    return (value > 0 && (value & (value - 1)) === 0);\r\n}\r\n", "import { GetPowerOfTwo } from './GetPowerOfTwo';\r\nimport { IsSizePowerOfTwo } from './IsSizePowerOfTwo';\r\nimport { IsValuePowerOfTwo } from './IsValuePowerOfTwo';\r\n\r\nexport {\r\n    GetPowerOfTwo,\r\n    IsSizePowerOfTwo,\r\n    IsValuePowerOfTwo\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using ceil.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `15`.\r\n * As will `14` snap to `15`... but `16` will snap to `20`.\r\n *\r\n * @function Phaser.Math.Snap.Ceil\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport function SnapCeil (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.ceil(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using floor.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `10`.\r\n * As will `14` snap to `10`... but `16` will snap to `15`.\r\n *\r\n * @function Phaser.Math.Snap.Floor\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport function SnapFloor (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.floor(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Snap a value to nearest grid slice, using rounding.\r\n *\r\n * Example: if you have an interval gap of `5` and a position of `12`... you will snap to `10` whereas `14` will snap to `15`.\r\n *\r\n * @function Phaser.Math.Snap.To\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to snap.\r\n * @param {number} gap - The interval gap of the grid.\r\n * @param {number} [start=0] - Optional starting offset for gap.\r\n * @param {boolean} [divide=false] - If `true` it will divide the snapped value by the gap before returning.\r\n *\r\n * @return {number} The snapped value.\r\n */\r\nexport function SnapTo (value: number, gap: number, start: number = 0, divide: boolean = false): number\r\n{\r\n    if (gap === 0)\r\n    {\r\n        return value;\r\n    }\r\n\r\n    value -= start;\r\n    value = gap * Math.round(value / gap);\r\n\r\n    return (divide) ? (start + value) / gap : start + value;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { SnapCeil } from './SnapCeil';\r\nimport { SnapFloor } from './SnapFloor';\r\nimport { SnapTo } from './SnapTo';\r\n\r\nexport {\r\n    SnapCeil,\r\n    SnapFloor,\r\n    SnapTo\r\n};\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Abs (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        Math.abs(a.x),\r\n        Math.abs(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Add (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x + b.x,\r\n        a.y + b.y\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function AddScalar (a: Vec2, scalar: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x + scalar,\r\n        a.y + scalar\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function Angle (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return Math.atan2(b.y - a.y, b.x - a.x);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function AngleY (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return Math.atan2(b.x - a.x, b.y - a.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Bezier as MathBezier } from '../Bezier';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Bezier (a: IVec2Like, b: IVec2Like, c: IVec2Like, d: IVec2Like, t: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        MathBezier(t, a.x, b.x, c.x, d.x),\r\n        MathBezier(t, a.y, b.y, c.y, d.y)\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { CatmullRom as MathCatmullRom } from '../CatmullRom';\r\nimport { Vec2 } from './Vec2';\r\n\r\n// Gets a new Vector2 for float t on the CatmullRom spline defined by the 4 points\r\n\r\nexport function CatmullRom (p1: IVec2Like, p2: IVec2Like, p3: IVec2Like, p4: IVec2Like, t: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        MathCatmullRom(t, p1.x, p2.x, p3.x, p4.x),\r\n        MathCatmullRom(t, p1.y, p2.y, p3.y, p4.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Ceil (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        Math.ceil(a.x),\r\n        Math.ceil(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Scale (a: Vec2, scalar: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x * scalar,\r\n        a.y * scalar\r\n    );\r\n}\r\n", "import { Add } from './Add';\r\nimport { Scale } from './Scale';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Center (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    Add(a, b, out);\r\n\r\n    return Scale(out, 0.5, out);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function ChebyshevDistance (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return Math.max(Math.abs(a.x - b.x), Math.abs(a.y - b.y));\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Clamp (a: Vec2, min: Vec2, max: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    // assumes min < max, componentwise\r\n\r\n    return out.set(\r\n        MathClamp(a.x, min.x, max.x),\r\n        MathClamp(a.y, min.y, max.y)\r\n    );\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function ClampScalar (a: Vec2, min: number, max: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        MathClamp(a.x, min, max),\r\n        MathClamp(a.y, min, max)\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Clone (source: IVec2Like): Vec2\r\n{\r\n    return new Vec2(source.x, source.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function CopyFrom (source: IVec2Like, dest: Vec2): Vec2\r\n{\r\n    return dest.set(source.x, source.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function Cross (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return a.x * b.y - a.y * b.x;\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\n// Calculates the squared euclidian distance between two vec2s\r\n\r\nexport function DistanceSquared (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    const x = a.x - b.x;\r\n    const y = a.y - b.y;\r\n\r\n    return (x * x) + (y * y);\r\n}\r\n", "import { DistanceSquared } from './DistanceSquared';\r\nimport { IVec2Like } from './IVec2Like';\r\n\r\nexport function Distance (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return Math.sqrt(DistanceSquared(a, b));\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function Dot (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return a.x * b.x + a.y * b.y;\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function MultiplyByFloats (a: Vec2, x: number, y: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x * x,\r\n        a.y * y\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Subtract (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x - b.x,\r\n        a.y - b.y\r\n    );\r\n}\r\n", "import { Add } from './Add';\r\nimport { Distance } from './Distance';\r\nimport { DistanceSquared } from './DistanceSquared';\r\nimport { Dot } from './Dot';\r\nimport { MultiplyByFloats } from './MultiplyByFloats';\r\nimport { Subtract } from './Subtract';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function DistanceFromSegment (p: Vec2, a: Vec2, b: Vec2): number\r\n{\r\n    const d = DistanceSquared(a, b);\r\n\r\n    if (d === 0)\r\n    {\r\n        return Distance(p, a);\r\n    }\r\n\r\n    const v = Subtract(b, a);\r\n\r\n    Subtract(p, a, p);\r\n\r\n    const t = Math.max(0, Math.min(1, Dot(p, v) / 12));\r\n\r\n    const proj = Add(a, MultiplyByFloats(v, t, t, v));\r\n\r\n    return Distance(p, proj);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function DistancePower (a: IVec2Like, b: IVec2Like, pow: number = 2): number\r\n{\r\n    return Math.sqrt(Math.pow(b.x - a.x, pow) + Math.pow(b.y - a.y, pow));\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Divide (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x / b.x,\r\n        a.y / b.y\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function DivideScalar (a: Vec2, scalar: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x / scalar,\r\n        a.y / scalar\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function Equals (a: IVec2Like, b: IVec2Like): boolean\r\n{\r\n    return a.x === b.x && a.y === b.y;\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Floor (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        Math.floor(a.x),\r\n        Math.floor(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\n//  Get a Vec2 from a Vec2s floored values\r\n\r\nexport function Fract (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x - Math.floor(a.x),\r\n        a.y - Math.floor(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\n/**\r\n * Returns a Vector2 containing the x and y position of the given index in a `width` x `height` sized grid.\r\n *\r\n * For example, in a 6 x 4 grid, index 16 would equal x: 4 y: 2.\r\n *\r\n * If the given index is out of range an empty Vector2 is returned.\r\n */\r\nexport function FromGridIndex (index: number, width: number, height: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    let x = 0;\r\n    let y = 0;\r\n    const total = width * height;\r\n\r\n    if (index > 0 && index <= total)\r\n    {\r\n        if (index > width - 1)\r\n        {\r\n            y = Math.floor(index / width);\r\n            x = index - (y * width);\r\n        }\r\n        else\r\n        {\r\n            x = index;\r\n        }\r\n\r\n        out.set(x, y);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\n/**\r\n * Takes the `x` and `y` coordinates and transforms them into the same space as\r\n * defined by the position, rotation and scale values.\r\n */\r\nexport function FromTransform (x: number, y: number, positionX: number, positionY: number, rotation: number, scaleX: number, scaleY: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const sin = Math.sin(rotation);\r\n    const cos = Math.cos(rotation);\r\n\r\n    // Rotate and Scale\r\n    const a = cos * scaleX;\r\n    const b = sin * scaleX;\r\n    const c = -sin * scaleY;\r\n    const d = cos * scaleY;\r\n\r\n    //  Invert\r\n    const id = 1 / ((a * d) + (c * -b));\r\n\r\n    return out.set(\r\n        (d * id * x) + (-c * id * y) + (((positionY * c) - (positionX * d)) * id),\r\n        (a * id * y) + (-b * id * x) + (((-positionY * a) + (positionX * b)) * id)\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { FuzzyEqual as MathFuzzyEqual } from '../fuzzy/FuzzyEqual';\r\n\r\nexport function FuzzyEquals (a: IVec2Like, b: IVec2Like, epsilon: number = 0.0001): boolean\r\n{\r\n    return MathFuzzyEqual(a.x, b.x, epsilon) && MathFuzzyEqual(a.y, b.y, epsilon);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Hermite as MathHermite } from '../Hermite';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Hermite (a: IVec2Like, b: IVec2Like, c: IVec2Like, d: IVec2Like, t: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        MathHermite(t, a.x, b.x, c.x, d.x),\r\n        MathHermite(t, a.y, b.y, c.y, d.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Inverse (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        1 / a.x,\r\n        1 / a.y\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function Length (a: IVec2Like): number\r\n{\r\n    return Math.sqrt(a.x * a.x + a.y * a.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function LengthSquared (a: IVec2Like): number\r\n{\r\n    return (a.x * a.x + a.y * a.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Vec2 } from './Vec2';\r\n\r\n// t - interpolation amount, in the range [0-1], between the two inputs\r\n\r\nexport function Lerp (a: IVec2Like, b: IVec2Like, t: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const x = a.x;\r\n    const y = a.y;\r\n\r\n    return out.set(\r\n        x + t * (b.x - x),\r\n        y + t * (b.y - y)\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function ManhattanDistance (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return Math.abs(a.x - b.x) + Math.abs(a.y - b.y);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function ManhattanLength (a: IVec2Like): number\r\n{\r\n    return Math.abs(a.x) + Math.abs(a.y);\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\n// Returns the maximum of two vec2's\r\n\r\nexport function Max (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { x: ax, y: ay } = a;\r\n    const { x: bx, y: by } = b;\r\n\r\n    return out.set(\r\n        Math.max(ax, bx),\r\n        Math.max(ay, by)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\n// Returns the minimum of two vec2's\r\n\r\nexport function Min (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { x: ax, y: ay } = a;\r\n    const { x: bx, y: by } = b;\r\n\r\n    return out.set(\r\n        Math.min(ax, bx),\r\n        Math.min(ay, by)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Multiply (a: Vec2, b: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x * b.x,\r\n        a.y * b.y\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Negate (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        -a.x,\r\n        -a.y\r\n    );\r\n}\r\n", "import { DivideScalar } from './DivideScalar';\r\nimport { Length } from './Length';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Normalize (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return DivideScalar(a, Length(a) || 1, out);\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function One (): Vec2\r\n{\r\n    return new Vec2(1, 1);\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\n\r\nexport function PerpDot (a: IVec2Like, b: IVec2Like): number\r\n{\r\n    return (a.x * b.y) - (a.y * b.x);\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Random (a: Vec2, scale: number = 1, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const r = Math.random() * 2 * Math.PI;\r\n\r\n    return out.set(\r\n        Math.cos(r) * scale,\r\n        Math.sin(r) * scale\r\n    );\r\n}\r\n", "import { IVec2Like } from './IVec2Like';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function Rotate (a: Vec2, origin: IVec2Like, angle: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n\r\n    const x = a.x - origin.x;\r\n    const y = a.y - origin.y;\r\n\r\n    return out.set(\r\n        x * c - y * s + origin.x,\r\n        x * s + y * c + origin.y\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Round (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        Math.round(a.x),\r\n        Math.round(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function RoundToZero (a: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        (a.x < 0) ? Math.ceil(a.x) : Math.floor(a.x),\r\n        (a.y < 0) ? Math.ceil(a.y) : Math.floor(a.y)\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function ScaleAndAdd (a: Vec2, b: Vec2, scalar: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x + b.x * scalar,\r\n        a.y + b.y * scalar\r\n    );\r\n}\r\n", "import { Normalize } from './Normalize';\r\nimport { Scale } from './Scale';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function SetLength (a: Vec2, length: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    Normalize(a, out);\r\n\r\n    return Scale(out, length, out);\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function SubtractScalar (a: Vec2, scalar: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        a.x - scalar,\r\n        a.y - scalar\r\n    );\r\n}\r\n", "import { FromTransform } from './FromTransform';\r\nimport { IVec2Like } from './IVec2Like';\r\nimport { Vec2 } from './Vec2';\r\n\r\n/**\r\n * Takes the `x` and `y` coordinates and transforms them into the same space as\r\n * defined by the position, rotation and scale values.\r\n */\r\nexport function Transform (v: IVec2Like, positionX: number, positionY: number, rotation: number, scaleX: number, scaleY: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return FromTransform(v.x, v.y, positionX, positionY, rotation, scaleX, scaleY, out);\r\n}\r\n", "import { IMatrix2D } from '../matrix2d/IMatrix2D';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function TransformMat2d (v: Vec2, m: IMatrix2D, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { a, b, c, d, tx, ty } = m;\r\n\r\n    return out.set(\r\n        a * v.x + c * v.y + tx,\r\n        b * v.x + d * v.y + ty\r\n    );\r\n}\r\n", "import { IMatrix4 } from '../mat4/IMatrix4';\r\nimport { Vec2 } from './Vec2';\r\n\r\nexport function TransformMat4 (v: Vec2, m: IMatrix4, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const data = m.data;\r\n\r\n    return out.set(\r\n        data[0] * v.x + data[4] * v.y + data[12],\r\n        data[1] * v.x + data[5] * v.y + data[13]\r\n    );\r\n}\r\n", "import { Vec2 } from './Vec2';\r\n\r\nexport function Zero (): Vec2\r\n{\r\n    return new Vec2(0, 0);\r\n}\r\n", "import { Abs } from './Abs';\r\nimport { Add } from './Add';\r\nimport { AddScalar } from './AddScalar';\r\nimport { Angle } from './Angle';\r\nimport { AngleY } from './AngleY';\r\nimport { Bezier } from './Bezier';\r\nimport { CatmullRom } from './CatmullRom';\r\nimport { Ceil } from './Ceil';\r\nimport { Center } from './Center';\r\nimport { ChebyshevDistance } from './ChebyshevDistance';\r\nimport { Clamp } from './Clamp';\r\nimport { ClampScalar } from './ClampScalar';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Cross } from './Cross';\r\nimport { Distance } from './Distance';\r\nimport { DistanceFromSegment } from './DistanceFromSegment';\r\nimport { DistancePower } from './DistancePower';\r\nimport { DistanceSquared } from './DistanceSquared';\r\nimport { Divide } from './Divide';\r\nimport { DivideScalar } from './DivideScalar';\r\nimport { Dot } from './Dot';\r\nimport { Equals } from './Equals';\r\nimport { Floor } from './Floor';\r\nimport { Fract } from './Fract';\r\nimport { FromGridIndex } from './FromGridIndex';\r\nimport { FromTransform } from './FromTransform';\r\nimport { FuzzyEquals } from './FuzzyEquals';\r\nimport { Hermite } from './Hermite';\r\nimport { Inverse } from './Inverse';\r\nimport { Length } from './Length';\r\nimport { LengthSquared } from './LengthSquared';\r\nimport { Lerp } from './Lerp';\r\nimport { ManhattanDistance } from './ManhattanDistance';\r\nimport { ManhattanLength } from './ManhattanLength';\r\nimport { Max } from './Max';\r\nimport { Min } from './Min';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyByFloats } from './MultiplyByFloats';\r\nimport { Negate } from './Negate';\r\nimport { Normalize } from './Normalize';\r\nimport { One } from './One';\r\nimport { PerpDot } from './PerpDot';\r\nimport { Random } from './Random';\r\nimport { Rotate } from './Rotate';\r\nimport { Round } from './Round';\r\nimport { RoundToZero } from './RoundToZero';\r\nimport { Scale } from './Scale';\r\nimport { ScaleAndAdd } from './ScaleAndAdd';\r\nimport { SetLength } from './SetLength';\r\nimport { Subtract } from './Subtract';\r\nimport { SubtractScalar } from './SubtractScalar';\r\nimport { Transform } from './Transform';\r\nimport { TransformMat2d } from './TransformMat2d';\r\nimport { TransformMat4 } from './TransformMat4';\r\nimport { Vec2 } from './Vec2';\r\nimport { Vec2Callback } from './Vec2Callback';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Abs,\r\n    Add,\r\n    AddScalar,\r\n    Angle,\r\n    AngleY,\r\n    Bezier,\r\n    CatmullRom,\r\n    Ceil,\r\n    Center,\r\n    ChebyshevDistance,\r\n    Clamp,\r\n    ClampScalar,\r\n    Clone,\r\n    CopyFrom,\r\n    Cross,\r\n    Distance,\r\n    DistanceFromSegment,\r\n    DistancePower,\r\n    DistanceSquared,\r\n    Divide,\r\n    DivideScalar,\r\n    Dot,\r\n    Equals,\r\n    Floor,\r\n    Fract,\r\n    FromGridIndex,\r\n    FromTransform,\r\n    FuzzyEquals,\r\n    Hermite,\r\n    Inverse,\r\n    Length,\r\n    LengthSquared,\r\n    Lerp,\r\n    ManhattanDistance,\r\n    ManhattanLength,\r\n    Max,\r\n    Min,\r\n    Multiply,\r\n    MultiplyByFloats,\r\n    Negate,\r\n    Normalize,\r\n    One,\r\n    PerpDot,\r\n    Random,\r\n    Rotate,\r\n    Round,\r\n    RoundToZero,\r\n    Scale,\r\n    ScaleAndAdd,\r\n    SetLength,\r\n    Subtract,\r\n    SubtractScalar,\r\n    Transform,\r\n    TransformMat2d,\r\n    TransformMat4,\r\n    Vec2,\r\n    Vec2Callback,\r\n    Zero\r\n};\r\n", "export class Vec4\r\n{\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n    w: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, w: number = 1)\r\n    {\r\n        this.set(x, y, z, w);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, z: number = 0, w: number = 1): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    toArray (dst: Float32List = [], index: number = 0): Float32List\r\n    {\r\n        const { x, y, z,w } = this;\r\n\r\n        dst[ index ] = x;\r\n        dst[ index + 1 ] = y;\r\n        dst[ index + 2 ] = z;\r\n        dst[ index + 3 ] = w;\r\n\r\n        return dst;\r\n    }\r\n\r\n    fromArray (src: Float32List, index: number = 0): this\r\n    {\r\n        return this.set(\r\n            src[ index ],\r\n            src[ index + 1 ],\r\n            src[ index + 2 ],\r\n            src[ index + 3 ]\r\n        );\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y, z, w } = this;\r\n\r\n        return `{ x=${x}, y=${y}, z=${z}, w=${w} }`;\r\n    }\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Abs (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        Math.abs(a.x),\r\n        Math.abs(a.y),\r\n        Math.abs(a.z),\r\n        Math.abs(a.w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Add (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x + b.x,\r\n        a.y + b.y,\r\n        a.z + b.z,\r\n        a.w + b.w\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function AddScalar (a: Vec4, scalar: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x + scalar,\r\n        a.y + scalar,\r\n        a.z + scalar,\r\n        a.w + scalar\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { Bezier as MathBezier } from '../Bezier';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Bezier (a: IVec4Like, b: IVec4Like, c: IVec4Like, d: IVec4Like, t: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        MathBezier(t, a.x, b.x, c.x, d.x),\r\n        MathBezier(t, a.y, b.y, c.y, d.y),\r\n        MathBezier(t, a.z, b.z, c.z, d.z),\r\n        MathBezier(t, a.w, b.w, c.w, d.w)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { CatmullRom as MathCatmullRom } from '../CatmullRom';\r\nimport { Vec4 } from './Vec4';\r\n\r\n// Gets a new Vector3 for float t on the CatmullRom spline defined by the 4 points\r\n\r\nexport function CatmullRom (p1: IVec4Like, p2: IVec4Like, p3: IVec4Like, p4: IVec4Like, t: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        MathCatmullRom(t, p1.x, p2.x, p3.x, p4.x),\r\n        MathCatmullRom(t, p1.y, p2.y, p3.y, p4.y),\r\n        MathCatmullRom(t, p1.z, p2.z, p3.z, p4.z),\r\n        MathCatmullRom(t, p1.w, p2.w, p3.w, p4.w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Ceil (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        Math.ceil(x),\r\n        Math.ceil(y),\r\n        Math.ceil(z),\r\n        Math.ceil(w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Scale (a: Vec4, scalar: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x * scalar,\r\n        y * scalar,\r\n        z * scalar,\r\n        w * scalar\r\n    );\r\n}\r\n", "import { Add } from './Add';\r\nimport { Scale } from './Scale';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Center (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    Add(a, b, out);\r\n\r\n    return Scale(out, 0.5, out);\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Clamp (a: Vec4, min: Vec4, max: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    // assumes min < max, componentwise\r\n\r\n    return out.set(\r\n        MathClamp(a.x, min.x, max.x),\r\n        MathClamp(a.y, min.y, max.y),\r\n        MathClamp(a.z, min.z, max.z),\r\n        MathClamp(a.w, min.w, max.w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function DivideScalar (a: Vec4, scalar: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x / scalar,\r\n        y / scalar,\r\n        z / scalar,\r\n        w / scalar\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function Length (a: IVec4Like): number\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n}\r\n", "import { DivideScalar } from './DivideScalar';\r\nimport { Length } from './Length';\r\nimport { Clamp as MathClamp } from '../Clamp';\r\nimport { Scale } from './Scale';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function ClampLength (a: Vec4, min: number, max: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const length = Length(a);\r\n\r\n    DivideScalar(a, length || 1, out);\r\n\r\n    return Scale(out, MathClamp(min, max, length), out);\r\n}\r\n", "import { Clamp as MathClamp } from '../Clamp';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function ClampScalar (a: Vec4, min: number, max: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        MathClamp(a.x, min, max),\r\n        MathClamp(a.y, min, max),\r\n        MathClamp(a.z, min, max),\r\n        MathClamp(a.w, min, max)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Clone (source: IVec4Like): Vec4\r\n{\r\n    const { x, y, z, w } = source;\r\n\r\n    return new Vec4(x, y, z, w);\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function CopyFrom (source: IVec4Like, dest: Vec4): Vec4\r\n{\r\n    const { x, y, z, w } = source;\r\n\r\n    return dest.set(x, y, z, w);\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\n// Returns the cross-product of three vectors in a 4-dimensional space\r\n\r\nexport function Cross (u: Vec4, v: Vec4, w: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x: ux, y: uy, z: uz, w: uw } = u;\r\n    const { x: vx, y: vy, z: vz, w: vw } = v;\r\n    const { x: wx, y: wy, z: wz, w: ww } = w;\r\n\r\n    const A = vx * wy - vy * wx;\r\n    const B = vx * wz - vz * wx;\r\n    const C = vx * ww - vw * wx;\r\n    const D = vy * wz - vz * wy;\r\n    const E = vy * ww - vw * wy;\r\n    const F = vz * ww - vw * wz;\r\n    const G = ux;\r\n    const H = uy;\r\n    const I = uz;\r\n    const J = uw;\r\n\r\n    return out.set(\r\n        H * F - I * E + J * D,\r\n        -(G * F) + I * C - J * B,\r\n        G * E - H * C + J * A,\r\n        -(G * D) + H * B - I * A\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\n// Calculates the squared euclidian distance between two vec3s\r\n\r\nexport function DistanceSquared (a: IVec4Like, b: IVec4Like): number\r\n{\r\n    const x = a.x - b.x;\r\n    const y = a.y - b.y;\r\n    const z = a.z - b.z;\r\n    const w = a.w - b.w;\r\n\r\n    return (x * x) + (y * y) + (z * z) + (w * w);\r\n}\r\n", "import { DistanceSquared } from './DistanceSquared';\r\nimport { IVec4Like } from './IVec4Like';\r\n\r\nexport function Distance (a: IVec4Like, b: IVec4Like): number\r\n{\r\n    return Math.sqrt(DistanceSquared(a, b));\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Divide (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x / b.x,\r\n        a.y / b.y,\r\n        a.z / b.z,\r\n        a.w / b.w\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function Dot (a: IVec4Like, b: IVec4Like): number\r\n{\r\n    return a.x * b.x + a.y * b.y + a.z * b.z + a.w * b.w;\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function Equals (a: IVec4Like, b: IVec4Like): boolean\r\n{\r\n    return a.x === b.x && a.y === b.y && a.z === b.z && a.w === b.w;\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Floor (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        Math.floor(x),\r\n        Math.floor(y),\r\n        Math.floor(z),\r\n        Math.floor(w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\n//  Get a Vec4 from a Vec4s floored values\r\n\r\nexport function Fract (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x - Math.floor(a.x),\r\n        a.y - Math.floor(a.y),\r\n        a.z - Math.floor(a.z),\r\n        a.w - Math.floor(a.w)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { FuzzyEqual as MathFuzzyEqual } from '../fuzzy/FuzzyEqual';\r\n\r\nexport function FuzzyEquals (a: IVec4Like, b: IVec4Like, epsilon: number = 0.0001): boolean\r\n{\r\n    return (\r\n        MathFuzzyEqual(a.x, b.x, epsilon) &&\r\n        MathFuzzyEqual(a.y, b.y, epsilon) &&\r\n        MathFuzzyEqual(a.z, b.z, epsilon) &&\r\n        MathFuzzyEqual(a.w, b.w, epsilon)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\nimport { Hermite as MathHermite } from '../Hermite';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Hermite (a: IVec4Like, b: IVec4Like, c: IVec4Like, d: IVec4Like, t: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        MathHermite(t, a.x, b.x, c.x, d.x),\r\n        MathHermite(t, a.y, b.y, c.y, d.y),\r\n        MathHermite(t, a.z, b.z, c.z, d.z),\r\n        MathHermite(t, a.w, b.w, c.w, d.w)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function LengthSquared (a: IVec4Like): number\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return x * x + y * y + z * z + w * w;\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\n// t - interpolation amount, in the range [0-1], between the two inputs\r\n\r\nexport function Lerp (a: Vec4, b: Vec4, t: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x + t * (b.x - x),\r\n        y + t * (b.y - y),\r\n        z + t * (b.z - z),\r\n        w + t * (b.w - w)\r\n    );\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function ManhattanDistance (a: IVec4Like, b: IVec4Like): number\r\n{\r\n    return Math.abs(a.x - b.x) + Math.abs(a.y - b.y) + Math.abs(a.z - b.z) + Math.abs(a.w - b.w);\r\n}\r\n", "import { IVec4Like } from './IVec4Like';\r\n\r\nexport function ManhattanLength (a: IVec4Like): number\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return Math.abs(x) + Math.abs(y) + Math.abs(z) + Math.abs(w);\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\n// Returns the maximum of two vec4's\r\n\r\nexport function Max (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x: ax, y: ay, z: az, w: aw } = a;\r\n    const { x: bx, y: by, z: bz, w: bw } = b;\r\n\r\n    return out.set(\r\n        Math.max(ax, bx),\r\n        Math.max(ay, by),\r\n        Math.max(az, bz),\r\n        Math.max(aw, bw)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\n// Returns the minimum of two vec4's\r\n\r\nexport function Min (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x: ax, y: ay, z: az, w: aw } = a;\r\n    const { x: bx, y: by, z: bz, w: bw } = b;\r\n\r\n    return out.set(\r\n        Math.min(ax, bx),\r\n        Math.min(ay, by),\r\n        Math.min(az, bz),\r\n        Math.min(aw, bw)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Multiply (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x * b.x,\r\n        a.y * b.y,\r\n        a.z * b.z,\r\n        a.w * b.w\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function MultiplyByFloats (a: Vec4, x: number, y: number, z: number, w: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x * x,\r\n        a.y * y,\r\n        a.z * z,\r\n        a.w * w\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Negate (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        -a.x,\r\n        -a.y,\r\n        -a.z,\r\n        -a.w\r\n    );\r\n}\r\n", "import { DivideScalar } from './DivideScalar';\r\nimport { Length } from './Length';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function Normalize (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return DivideScalar(a, Length(a) || 1, out);\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function One (): Vec4\r\n{\r\n    return new Vec4(1, 1, 1, 1);\r\n}\r\n", "import { NOOP } from '../../utils/NOOP';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport type Vec4CallbackType = (vec3: Vec4Callback) => void;\r\n\r\nexport class Vec4Callback extends Vec4\r\n{\r\n    private _x: number;\r\n    private _y: number;\r\n    private _z: number;\r\n    private _w: number;\r\n\r\n    onChange: Vec4CallbackType;\r\n\r\n    constructor (onChange: Vec4CallbackType, x: number = 0, y: number = 0, z: number = 0, w: number = 0)\r\n    {\r\n        super(x, y, z, w);\r\n\r\n        this.onChange = onChange;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.onChange = NOOP;\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, z: number = 0, w: number = 0): this\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._z = z;\r\n        this._w = w;\r\n\r\n        if (this.onChange)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        const prev = this._x;\r\n\r\n        this._x = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        const prev = this._y;\r\n\r\n        this._y = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get z (): number\r\n    {\r\n        return this._z;\r\n    }\r\n\r\n    set z (value: number)\r\n    {\r\n        const prev = this._z;\r\n\r\n        this._z = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n\r\n    get w (): number\r\n    {\r\n        return this._w;\r\n    }\r\n\r\n    set w (value: number)\r\n    {\r\n        const prev = this._w;\r\n\r\n        this._w = value;\r\n\r\n        if (prev !== value)\r\n        {\r\n            this.onChange(this);\r\n        }\r\n    }\r\n}\r\n", "import { Vec4Callback, Vec4CallbackType } from './Vec4Callback';\r\n\r\nexport class RGBACallback extends Vec4Callback\r\n{\r\n    constructor (onChange: Vec4CallbackType, r: number = 0, g: number = 0, b: number = 0, a: number = 1)\r\n    {\r\n        super(onChange, r, g, b, a);\r\n    }\r\n\r\n    set r (value: number)\r\n    {\r\n        this.x = value;\r\n    }\r\n\r\n    get r (): number\r\n    {\r\n        return this.x;\r\n    }\r\n\r\n    set g (value: number)\r\n    {\r\n        this.y = value;\r\n    }\r\n\r\n    get g (): number\r\n    {\r\n        return this.y;\r\n    }\r\n\r\n    set b (value: number)\r\n    {\r\n        this.z = value;\r\n    }\r\n\r\n    get b (): number\r\n    {\r\n        return this.z;\r\n    }\r\n\r\n    set a (value: number)\r\n    {\r\n        this.w = value;\r\n    }\r\n\r\n    get a (): number\r\n    {\r\n        return this.w;\r\n    }\r\n\r\n    toString (): string\r\n    {\r\n        const { x, y, z, w } = this;\r\n\r\n        return `[ r=${x}, g=${y}, b=${z}, a=${w} ]`;\r\n    }\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Random (a: Vec4, scale: number = 1, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    // Marsaglia, George. Choosing a Point from the Surface of a\r\n    // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\r\n    // http://projecteuclid.org/euclid.aoms/1177692644;\r\n\r\n    let v1;\r\n    let v2;\r\n    let v3;\r\n    let v4;\r\n    let s1;\r\n    let s2;\r\n\r\n    do\r\n    {\r\n        v1 = Math.random() * 2 - 1;\r\n        v2 = Math.random() * 2 - 1;\r\n        s1 = v1 * v1 + v2 * v2;\r\n    }\r\n    while (s1 >= 1);\r\n\r\n    do\r\n    {\r\n        v3 = Math.random() * 2 - 1;\r\n        v4 = Math.random() * 2 - 1;\r\n        s2 = v3 * v3 + v4 * v4;\r\n    }\r\n    while (s2 >= 1);\r\n\r\n    const d = Math.sqrt((1 - s1) / s2);\r\n\r\n    return out.set(\r\n        scale * v1,\r\n        scale * v2,\r\n        scale * v3 * d,\r\n        scale * v4 * d\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Round (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        Math.round(x),\r\n        Math.round(y),\r\n        Math.round(z),\r\n        Math.round(w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function RoundToZero (a: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        (x < 0) ? Math.ceil(x) : Math.floor(x),\r\n        (y < 0) ? Math.ceil(y) : Math.floor(y),\r\n        (z < 0) ? Math.ceil(z) : Math.floor(z),\r\n        (w < 0) ? Math.ceil(w) : Math.floor(w)\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function ScaleAndAdd (a: Vec4, b: Vec4, scalar: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x + b.x * scalar,\r\n        a.y + b.y * scalar,\r\n        a.z + b.z * scalar,\r\n        a.w + b.w * scalar\r\n    );\r\n}\r\n", "import { Normalize } from './Normalize';\r\nimport { Scale } from './Scale';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function SetLength (a: Vec4, length: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    Normalize(a, out);\r\n\r\n    return Scale(out, length, out);\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Subtract (a: Vec4, b: Vec4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    return out.set(\r\n        a.x - b.x,\r\n        a.y - b.y,\r\n        a.z - b.z,\r\n        a.w - b.w\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function SubtractScalar (a: Vec4, scalar: number, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        x - scalar,\r\n        y - scalar,\r\n        z - scalar,\r\n        w - scalar\r\n    );\r\n}\r\n", "import { IMatrix4 } from '../mat4/IMatrix4';\r\nimport { Vec4 } from './Vec4';\r\n\r\nexport function TransformMat4 (a: Vec4, m: IMatrix4, out: Vec4 = new Vec4()): Vec4\r\n{\r\n    const [ m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33 ] = m.data;\r\n    const { x, y, z, w } = a;\r\n\r\n    return out.set(\r\n        m00 * x + m10 * y + m20 * z + m30 * w,\r\n        m01 * x + m11 * y + m21 * z + m31 * w,\r\n        m02 * x + m12 * y + m22 * z + m32 * w,\r\n        m03 * x + m13 * y + m23 * z + m33 * w\r\n    );\r\n}\r\n", "import { Vec4 } from './Vec4';\r\n\r\nexport function Zero (): Vec4\r\n{\r\n    return new Vec4(0, 0, 0, 0);\r\n}\r\n", "import { Abs } from './Abs';\r\nimport { Add } from './Add';\r\nimport { AddScalar } from './AddScalar';\r\nimport { Bezier } from './Bezier';\r\nimport { CatmullRom } from './CatmullRom';\r\nimport { Ceil } from './Ceil';\r\nimport { Center } from './Center';\r\nimport { Clamp } from './Clamp';\r\nimport { ClampLength } from './ClampLength';\r\nimport { ClampScalar } from './ClampScalar';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Cross } from './Cross';\r\nimport { Distance } from './Distance';\r\nimport { DistanceSquared } from './DistanceSquared';\r\nimport { Divide } from './Divide';\r\nimport { DivideScalar } from './DivideScalar';\r\nimport { Dot } from './Dot';\r\nimport { Equals } from './Equals';\r\nimport { Floor } from './Floor';\r\nimport { Fract } from './Fract';\r\nimport { FuzzyEquals } from './FuzzyEquals';\r\nimport { Hermite } from './Hermite';\r\nimport { Length } from './Length';\r\nimport { LengthSquared } from './LengthSquared';\r\nimport { Lerp } from './Lerp';\r\nimport { ManhattanDistance } from './ManhattanDistance';\r\nimport { ManhattanLength } from './ManhattanLength';\r\nimport { Max } from './Max';\r\nimport { Min } from './Min';\r\nimport { Multiply } from './Multiply';\r\nimport { MultiplyByFloats } from './MultiplyByFloats';\r\nimport { Negate } from './Negate';\r\nimport { Normalize } from './Normalize';\r\nimport { One } from './One';\r\nimport { RGBACallback } from './RGBACallback';\r\nimport { Random } from './Random';\r\nimport { Round } from './Round';\r\nimport { RoundToZero } from './RoundToZero';\r\nimport { Scale } from './Scale';\r\nimport { ScaleAndAdd } from './ScaleAndAdd';\r\nimport { SetLength } from './SetLength';\r\nimport { Subtract } from './Subtract';\r\nimport { SubtractScalar } from './SubtractScalar';\r\nimport { TransformMat4 } from './TransformMat4';\r\nimport { Vec4 } from './Vec4';\r\nimport { Vec4Callback } from './Vec4Callback';\r\nimport { Zero } from './Zero';\r\n\r\nexport {\r\n    Abs,\r\n    Add,\r\n    AddScalar,\r\n    Bezier,\r\n    CatmullRom,\r\n    Ceil,\r\n    Center,\r\n    Clamp,\r\n    ClampLength,\r\n    ClampScalar,\r\n    Clone,\r\n    CopyFrom,\r\n    Cross,\r\n    Distance,\r\n    DistanceSquared,\r\n    Divide,\r\n    DivideScalar,\r\n    Dot,\r\n    Equals,\r\n    Floor,\r\n    Fract,\r\n    FuzzyEquals,\r\n    Hermite,\r\n    Length,\r\n    LengthSquared,\r\n    Lerp,\r\n    ManhattanDistance,\r\n    ManhattanLength,\r\n    Max,\r\n    Min,\r\n    Multiply,\r\n    MultiplyByFloats,\r\n    Negate,\r\n    Normalize,\r\n    One,\r\n    RGBACallback,\r\n    Random,\r\n    Round,\r\n    RoundToZero,\r\n    Scale,\r\n    ScaleAndAdd,\r\n    SetLength,\r\n    Subtract,\r\n    SubtractScalar,\r\n    TransformMat4,\r\n    Vec4,\r\n    Vec4Callback,\r\n    Zero\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate the mean average of the given values.\r\n *\r\n * @function Phaser.Math.Average\r\n * @since 3.0.0\r\n *\r\n * @param {number[]} values - The values to average.\r\n *\r\n * @return {number} The average value.\r\n */\r\nexport function Average (values: number[]): number\r\n{\r\n    let sum = 0;\r\n\r\n    for (let i = 0; i < values.length; i++)\r\n    {\r\n        sum += (+values[i]);\r\n    }\r\n\r\n    return sum / values.length;\r\n}\r\n", "export function Between (min: number, max: number): number\r\n{\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Ceils to some place comparative to a `base`, default is 10 for decimal place.\r\n *\r\n * The `place` is represented by the power applied to `base` to get that place.\r\n *\r\n * @function Phaser.Math.CeilTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport function CeilTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.ceil(value * p) / p;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST } from './const';\r\n\r\n/**\r\n * Convert the given angle from degrees, to the equivalent angle in radians.\r\n *\r\n * @function Phaser.Math.DegToRad\r\n * @since 3.0.0\r\n *\r\n * @param {number} degrees - The angle (in degrees) to convert to radians.\r\n *\r\n * @return {number} The given angle converted to radians.\r\n */\r\nexport function DegToRad (degrees: number): number\r\n{\r\n    return degrees * MATH_CONST.DEG_TO_RAD;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculates the positive difference of two given numbers.\r\n *\r\n * @function Phaser.Math.Difference\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first number in the calculation.\r\n * @param {number} b - The second number in the calculation.\r\n *\r\n * @return {number} The positive difference of the two given numbers.\r\n */\r\nexport function Difference (a: number, b: number): number\r\n{\r\n    return Math.abs(a - b);\r\n}\r\n", "export function FloatBetween (min: number, max: number): number\r\n{\r\n    return Math.random() * (max - min) + min;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Floors to some place comparative to a `base`, default is 10 for decimal place.\r\n *\r\n * The `place` is represented by the power applied to `base` to get that place.\r\n *\r\n * @function Phaser.Math.FloorTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport function FloorTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.floor(value * p) / p;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Clamp } from './Clamp';\r\n\r\n/**\r\n * Return a value based on the range between `min` and `max` and the percentage given.\r\n *\r\n * @function Phaser.Math.FromPercent\r\n * @since 3.0.0\r\n *\r\n * @param {number} percent - A value between 0 and 1 representing the percentage.\r\n * @param {number} min - The minimum value.\r\n * @param {number} [max] - The maximum value.\r\n *\r\n * @return {number} The value that is `percent` percent between `min` and `max`.\r\n */\r\nexport function FromPercent (percent: number, min: number, max?: number): number\r\n{\r\n    percent = Clamp(percent, 0, 1);\r\n\r\n    return (max - min) * percent;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Calculate a per-ms speed from a distance and time (given in seconds).\r\n *\r\n * @function Phaser.Math.GetSpeed\r\n * @since 3.0.0\r\n *\r\n * @param {number} distance - The distance.\r\n * @param {number} time - The time, in seconds.\r\n *\r\n * @return {number} The speed, in distance per ms.\r\n */\r\nexport function GetSpeed (distance: number, time: number): number\r\n{\r\n    return (distance / time) / 1000;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Add an `amount` to a `value`, limiting the maximum result to `max`.\r\n *\r\n * @function Phaser.Math.MaxAdd\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to add to.\r\n * @param {number} amount - The amount to add.\r\n * @param {number} max - The maximum value to return.\r\n *\r\n * @return {number} The resulting value.\r\n */\r\nexport function MaxAdd (value: number, amount: number, max: number): number\r\n{\r\n    return Math.min(value + amount, max);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Subtract an `amount` from `value`, limiting the minimum result to `min`.\r\n *\r\n * @function Phaser.Math.MinSub\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to subtract from.\r\n * @param {number} amount - The amount to subtract.\r\n * @param {number} min - The minimum value to return.\r\n *\r\n * @return {number} The resulting value.\r\n */\r\nexport function MinSub (value: number, amount: number, min: number): number\r\n{\r\n    return Math.max(value - amount, min);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Work out what percentage `value` is of the range between `min` and `max`.\r\n * If `max` isn't given then it will return the percentage of `value` to `min`.\r\n *\r\n * You can optionally specify an `upperMax` value, which is a mid-way point in the range that represents 100%, after which the % starts to go down to zero again.\r\n *\r\n * @function Phaser.Math.Percent\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to determine the percentage of.\r\n * @param {number} min - The minimum value.\r\n * @param {number} [max] - The maximum value.\r\n * @param {number} [upperMax] - The mid-way point in the range that represents 100%.\r\n *\r\n * @return {number} A value between 0 and 1 representing the percentage.\r\n */\r\nexport function Percent (value: number, min: number, max?: number, upperMax?: number): number\r\n{\r\n    if (max === undefined) { max = min + 1; }\r\n\r\n    let percentage = (value - min) / (max - min);\r\n\r\n    if (percentage > 1)\r\n    {\r\n        if (upperMax !== undefined)\r\n        {\r\n            percentage = ((upperMax - value)) / (upperMax - max);\r\n\r\n            if (percentage < 0)\r\n            {\r\n                percentage = 0;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            percentage = 1;\r\n        }\r\n    }\r\n    else if (percentage < 0)\r\n    {\r\n        percentage = 0;\r\n    }\r\n\r\n    return percentage;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST } from './const';\r\n\r\n/**\r\n * Convert the given angle in radians, to the equivalent angle in degrees.\r\n *\r\n * @function Phaser.Math.RadToDeg\r\n * @since 3.0.0\r\n *\r\n * @param {number} radians - The angle in radians to convert ot degrees.\r\n *\r\n * @return {number} The given angle converted to degrees.\r\n */\r\nexport function RadToDeg (radians: number): number\r\n{\r\n    return radians * MATH_CONST.RAD_TO_DEG;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Round a value to the given precision.\r\n * \r\n * For example:\r\n * \r\n * ```javascript\r\n * RoundTo(123.456, 0) = 123\r\n * RoundTo(123.456, 1) = 120\r\n * RoundTo(123.456, 2) = 100\r\n * ```\r\n * \r\n * To round the decimal, i.e. to round to precision, pass in a negative `place`:\r\n * \r\n * ```javascript\r\n * RoundTo(123.456789, 0) = 123\r\n * RoundTo(123.456789, -1) = 123.5\r\n * RoundTo(123.456789, -2) = 123.46\r\n * RoundTo(123.456789, -3) = 123.457\r\n * ```\r\n *\r\n * @function Phaser.Math.RoundTo\r\n * @since 3.0.0\r\n *\r\n * @param {number} value - The value to round.\r\n * @param {number} [place=0] - The place to round to. Positive to round the units, negative to round the decimal.\r\n * @param {number} [base=10] - The base to round in. Default is 10 for decimal.\r\n *\r\n * @return {number} The rounded value.\r\n */\r\nexport function RoundTo (value: number, place: number = 0, base: number = 10): number\r\n{\r\n    const p = Math.pow(base, -place);\r\n\r\n    return Math.round(value * p) / p;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @typedef {object} Phaser.Types.Math.SinCosTable\r\n * @since 3.0.0\r\n *\r\n * @property {number[]} sin - The sine values.\r\n * @property {number[]} cos - The cosine values.\r\n * @property {number} length - The length.\r\n */\r\n\r\ntype SinCosTable = { sin: number[]; cos: number[]; length: number };\r\n\r\n/**\r\n * Generate a series of sine and cosine values.\r\n *\r\n * @function Phaser.Math.SinCosTableGenerator\r\n * @since 3.0.0\r\n *\r\n * @param {number} length - The number of values to generate.\r\n * @param {number} [sinAmp=1] - The sine value amplitude.\r\n * @param {number} [cosAmp=1] - The cosine value amplitude.\r\n * @param {number} [frequency=1] - The frequency of the values.\r\n *\r\n * @return {SinCosTable} The generated values.\r\n */\r\nexport function SinCosTableGenerator (length: number, sinAmp: number = 1, cosAmp: number = 1, frequency: number = 1): SinCosTable\r\n{\r\n    frequency *= Math.PI / length;\r\n\r\n    const cos = [];\r\n    const sin = [];\r\n\r\n    for (let c = 0; c < length; c++)\r\n    {\r\n        cosAmp -= sinAmp * frequency;\r\n        sinAmp += cosAmp * frequency;\r\n\r\n        cos[c] = cosAmp;\r\n        sin[c] = sinAmp;\r\n    }\r\n\r\n    return {\r\n        sin,\r\n        cos,\r\n        length\r\n    };\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Checks if the two values are within the given `tolerance` of each other.\r\n *\r\n * @function Phaser.Math.Within\r\n * @since 3.0.0\r\n *\r\n * @param {number} a - The first value to use in the calculation.\r\n * @param {number} b - The second value to use in the calculation.\r\n * @param {number} tolerance - The tolerance. Anything equal to or less than this value is considered as being within range.\r\n *\r\n * @return {boolean} Returns `true` if `a` is less than or equal to the tolerance of `b`.\r\n */\r\nexport function Within (a: number, b: number, tolerance: number): boolean\r\n{\r\n    return (Math.abs(a - b) <= tolerance);\r\n}\r\n", "import * as Angle from './angle';\r\nimport * as Easing from './easing';\r\nimport * as Fuzzy from './fuzzy';\r\nimport * as Interpolation from './interpolation';\r\nimport * as Matrix2D from './matrix2d';\r\nimport * as Matrix4 from './mat4';\r\nimport * as Pow2 from './pow2';\r\nimport * as Quaternion from './quaternion';\r\nimport * as Snap from './snap';\r\nimport * as Vec2 from './vec2';\r\nimport * as Vec3 from './vec3';\r\nimport * as Vec4 from './vec4';\r\n\r\nimport { Average } from './Average';\r\nimport { Bernstein } from './Bernstein';\r\nimport { Between } from './Between';\r\nimport { Bezier } from './Bezier';\r\nimport { CatmullRom } from './CatmullRom';\r\nimport { CeilTo } from './CeilTo';\r\nimport { Clamp } from './Clamp';\r\nimport { DegToRad } from './DegToRad';\r\nimport { Difference } from './Difference';\r\nimport { Factorial } from './Factorial';\r\nimport { FloatBetween } from './FloatBetween';\r\nimport { FloorTo } from './FloorTo';\r\nimport { FromPercent } from './FromPercent';\r\nimport { GetSpeed } from './GetSpeed';\r\nimport { Hermite } from './Hermite';\r\nimport { Linear } from './Linear';\r\nimport { MATH_CONST } from './const';\r\nimport { MaxAdd } from './MaxAdd';\r\nimport { MinSub } from './MinSub';\r\nimport { Percent } from './Percent';\r\nimport { RadToDeg } from './RadToDeg';\r\nimport { RoundAwayFromZero } from './RoundAwayFromZero';\r\nimport { RoundTo } from './RoundTo';\r\nimport { SinCosTableGenerator } from './SinCosTableGenerator';\r\nimport { SmoothStep } from './SmoothStep';\r\nimport { SmootherStep } from './SmootherStep';\r\nimport { Within } from './Within';\r\nimport { Wrap } from './Wrap';\r\n\r\nexport {\r\n    Angle,\r\n    Easing,\r\n    Average,\r\n    Bernstein,\r\n    Between,\r\n    Bezier,\r\n    CatmullRom,\r\n    CeilTo,\r\n    Clamp,\r\n    DegToRad,\r\n    Difference,\r\n    Factorial,\r\n    FloatBetween,\r\n    FloorTo,\r\n    FromPercent,\r\n    Fuzzy,\r\n    GetSpeed,\r\n    Hermite,\r\n    Interpolation,\r\n    Linear,\r\n    MATH_CONST,\r\n    Matrix2D,\r\n    Matrix4,\r\n    MaxAdd,\r\n    MinSub,\r\n    Percent,\r\n    Pow2,\r\n    Quaternion,\r\n    RadToDeg,\r\n    RoundAwayFromZero,\r\n    RoundTo,\r\n    SinCosTableGenerator,\r\n    SmootherStep,\r\n    SmoothStep,\r\n    Snap,\r\n    Vec2,\r\n    Vec3,\r\n    Vec4,\r\n    Within,\r\n    Wrap\r\n};\r\n", "import { Add, CrossNormalize, Left, Normalize, Subtract, TransformQuat, UP, Up, Vec3, Vec3Callback } from '../math/vec3';\r\nimport { LookAt, Matrix4, Perspective, TranslateFromFloats } from '../math/mat4';\r\nimport { Quaternion, SetAxisAngle } from '../math/quaternion';\r\n\r\nimport { DegToRad } from '../math';\r\nimport { GameInstance } from '../GameInstance';\r\nimport { IRenderer } from '../renderer/IRenderer';\r\nimport { IVec3Like } from '../math/vec3/IVec3Like';\r\n\r\nexport class Camera3D\r\n{\r\n    type: string;\r\n    renderer: IRenderer;\r\n\r\n    position: Vec3Callback;\r\n    direction: Vec3Callback;\r\n    // rotation: Vec3Callback;\r\n\r\n    up: Vec3;\r\n    left: Vec3;\r\n\r\n    aspectRatio: number;\r\n\r\n    // viewport rect\r\n\r\n    viewMatrix: Matrix4;\r\n    projectionMatrix: Matrix4;\r\n\r\n    dirtyRender: boolean = true;\r\n\r\n    private _lookAtPosition: Vec3;\r\n    private _lookAtView: Matrix4;\r\n    private _axis: Quaternion;\r\n\r\n    private _fov: number;\r\n    private _near: number;\r\n    private _far: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, fov: number = 45, near: number = 0.1, far: number = 1000)\r\n    {\r\n        this.type = 'Camera3D';\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.renderer = game.renderer;\r\n\r\n        this.position = new Vec3Callback(() => this.update(), x, y, z);\r\n        this.direction = new Vec3Callback(() => this.update(), 0, 1, 0);\r\n\r\n        this._lookAtPosition = new Vec3();\r\n        this._lookAtView = new Matrix4();\r\n        this._axis = new Quaternion();\r\n\r\n        this.up = Up();\r\n        this.left = Left();\r\n\r\n        this._fov = fov;\r\n        this._near = near;\r\n        this._far = far;\r\n        this.aspectRatio = this.renderer.width / this.renderer.height;\r\n\r\n        this.viewMatrix = new Matrix4();\r\n        this.projectionMatrix = Perspective(DegToRad(fov), this.aspectRatio, near, far);\r\n\r\n        this.lookAt(new Vec3());\r\n    }\r\n\r\n    updateProjectionMatrix (): this\r\n    {\r\n        Perspective(DegToRad(this._fov), this.aspectRatio, this._near, this._far, this.projectionMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    lookAt (point: Vec3): this\r\n    {\r\n        const pos = this.position;\r\n        const dir = this.direction;\r\n        const left = this.left;\r\n\r\n        Subtract(point, pos, dir);\r\n\r\n        Normalize(dir, dir);\r\n\r\n        CrossNormalize(UP, dir, left);\r\n        CrossNormalize(dir, left, this.up);\r\n\r\n        return this.update();\r\n    }\r\n\r\n    rotateOnAxis (axisVec: Vec3, angle: number): this\r\n    {\r\n        const dir = this.direction;\r\n        const left = this.left;\r\n        const up = this.up;\r\n\r\n        const q = SetAxisAngle(axisVec, angle, this._axis);\r\n\r\n        TransformQuat(dir, q, dir);\r\n        TransformQuat(left, q, left);\r\n        TransformQuat(up, q, up);\r\n\r\n        Normalize(up, up);\r\n        Normalize(left, left);\r\n        Normalize(dir, dir);\r\n\r\n        return this.update();\r\n    }\r\n\r\n    yaw (angle: number): this\r\n    {\r\n        return this.rotateOnAxis(this.up, angle);\r\n    }\r\n\r\n    pitch (angle: number): this\r\n    {\r\n        return this.rotateOnAxis(this.left, angle);\r\n    }\r\n\r\n    roll (angle: number): this\r\n    {\r\n        return this.rotateOnAxis(this.direction, angle);\r\n    }\r\n\r\n    forward (s: number): this\r\n    {\r\n        const pos = this.position;\r\n\r\n        const { x: px, y: py, z: pz } = pos;\r\n        const { x: dx, y: dy, z: dz } = this.direction;\r\n\r\n        pos.set(\r\n            px - s * dx,\r\n            py - s * dy,\r\n            pz - s * dz\r\n        );\r\n\r\n        return this.update();\r\n    }\r\n\r\n    update (): this\r\n    {\r\n        const lookPosition = this._lookAtPosition;\r\n        const lookView = this._lookAtView;\r\n        const pos = this.position;\r\n\r\n        Add(pos, this.direction, lookPosition);\r\n\r\n        LookAt(pos, lookPosition, this.up, lookView);\r\n\r\n        TranslateFromFloats(lookView, -pos.x, -pos.y, -pos.z, this.viewMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.position.destroy();\r\n        this.direction.destroy();\r\n        this.up = null;\r\n        this.left = null;\r\n        this.viewMatrix = null;\r\n        this.projectionMatrix = null;\r\n        this._lookAtPosition = null;\r\n        this._lookAtView = null;\r\n        this._axis = null;\r\n    }\r\n\r\n    get fov (): number\r\n    {\r\n        return this._fov;\r\n    }\r\n\r\n    set fov (value: number)\r\n    {\r\n        if (value > 0 && value < 180)\r\n        {\r\n            this._fov = value;\r\n\r\n            this.updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get near (): number\r\n    {\r\n        return this._near;\r\n    }\r\n\r\n    set near (value: number)\r\n    {\r\n        if (value > 0)\r\n        {\r\n            this._near = value;\r\n\r\n            this.updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get far (): number\r\n    {\r\n        return this._far;\r\n    }\r\n\r\n    set far (value: number)\r\n    {\r\n        if (value > 0)\r\n        {\r\n            this._far = value;\r\n\r\n            this.updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n}\r\n", "import { Camera3D } from './Camera3D';\r\n\r\nexport {\r\n    Camera3D\r\n};\r\n", "let bgColor = 0;\r\n\r\nfunction BackgroundColor (color: number = 0): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        bgColor = color;\r\n    };\r\n}\r\n\r\nfunction GetBackgroundColor (): number\r\n{\r\n    return bgColor;\r\n}\r\n\r\nexport {\r\n    BackgroundColor,\r\n    GetBackgroundColor\r\n};\r\n", "import { GameInstance } from '../GameInstance';\r\n\r\nlet title = 'Phaser';\r\nlet url = 'https://phaser4.io';\r\nlet color = '#fff';\r\nlet background = 'linear-gradient(#3e0081 40%, #00bcc3)';\r\n\r\nfunction Banner (gameTitle: string = '', gameURL: string = '', textColor?: string, textBackground?: string): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        title = gameTitle;\r\n        url = gameURL;\r\n\r\n        if (textColor)\r\n        {\r\n            color = textColor;\r\n        }\r\n\r\n        if (textBackground)\r\n        {\r\n            background = textBackground;\r\n        }\r\n    };\r\n}\r\n\r\nfunction GetBanner (): void\r\n{\r\n    if (title !== '')\r\n    {\r\n        const game = GameInstance.get();\r\n\r\n        const version = (title === 'Phaser') ? ' v' + game.VERSION : '';\r\n\r\n        console.log(\r\n            `%c${title}${version}%c ${url}`,\r\n            `padding: 4px 16px; color: ${color}; background: ${background}`,\r\n            ''\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    Banner,\r\n    GetBanner\r\n};\r\n", "export let batchSize = 4096;\r\n\r\nexport function BatchSize (size: number): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        batchSize = size;\r\n    };\r\n}\r\n", "let _contextAttributes: CanvasRenderingContext2DSettings = {\r\n    alpha: false,\r\n    desynchronized: false\r\n};\r\n\r\nfunction CanvasContext (contextAttributes: CanvasRenderingContext2DSettings): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        _contextAttributes = contextAttributes;\r\n    };\r\n}\r\n\r\nfunction GetCanvasContext (): CanvasRenderingContext2DSettings\r\n{\r\n    return _contextAttributes;\r\n}\r\n\r\nexport {\r\n    CanvasContext,\r\n    GetCanvasContext\r\n};\r\n", "export let originX = 0.5;\r\nexport let originY = 0.5;\r\n\r\nexport function DefaultOrigin (x: number = 0.5, y: number = x): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        originX = x;\r\n        originY = y;\r\n    };\r\n}\r\n", "let _width = 800;\r\nlet _height = 600;\r\nlet _resolution = 1;\r\n\r\nfunction Size (width: number = 800, height: number = 600, resolution: number = 1): () => void\r\n{\r\n    if (resolution === 0)\r\n    {\r\n        resolution = window.devicePixelRatio;\r\n    }\r\n\r\n    return (): void =>\r\n    {\r\n        _width = width;\r\n        _height = height;\r\n        _resolution = resolution;\r\n    };\r\n}\r\n\r\nfunction GetWidth (): number\r\n{\r\n    return _width;\r\n}\r\n\r\nfunction GetHeight (): number\r\n{\r\n    return _height;\r\n}\r\n\r\nfunction GetResolution (): number\r\n{\r\n    return _resolution;\r\n}\r\n\r\nexport {\r\n    Size,\r\n    GetWidth,\r\n    GetHeight,\r\n    GetResolution\r\n};\r\n", "let maxTextures = 0;\r\n\r\nfunction MaxTextures (max: number = 0): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        maxTextures = max;\r\n    };\r\n}\r\n\r\nfunction SetMaxTextures (max: number): void\r\n{\r\n    maxTextures = max;\r\n}\r\n\r\nfunction GetMaxTextures (): number\r\n{\r\n    return maxTextures;\r\n}\r\n\r\nexport {\r\n    MaxTextures,\r\n    GetMaxTextures,\r\n    SetMaxTextures\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Attempts to get the target DOM element based on the given value, which can be either\r\n * a string, in which case it will be looked-up by ID, or an element node. If nothing\r\n * can be found it will return a reference to the document.body.\r\n *\r\n * @function Phaser.DOM.GetElement\r\n * @since 4.0.0\r\n *\r\n * @param {(string | HTMLElement)} [target] - The DOM element to look-up.\r\n * \r\n * @returns {HTMLElement} The HTML Element that was found.\r\n */\r\nexport function GetElement (target?: string | HTMLElement): HTMLElement\r\n{\r\n    let element: HTMLElement;\r\n\r\n    if (target)\r\n    {\r\n        if (typeof target === 'string')\r\n        {\r\n            //  Hopefully an element ID\r\n            element = document.getElementById(target);\r\n        }\r\n        else if (typeof target === 'object' && target.nodeType === 1)\r\n        {\r\n            //  Quick test for a HTMLElement\r\n            element = target;\r\n        }\r\n    }\r\n\r\n    if (!element)\r\n    {\r\n        element = document.body;\r\n    }\r\n\r\n    return element;\r\n}\r\n", "import { GetElement } from '../dom/GetElement';\r\n\r\nlet parent: HTMLElement;\r\n\r\nfunction Parent (parentElement?: string | HTMLElement): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        //  If this function was called and `null` *wasn't* given as the parent\r\n        //  then we try to figure it out, or fallback to the document body\r\n        if (parentElement)\r\n        {\r\n            parent = GetElement(parentElement);\r\n        }\r\n    };\r\n}\r\n\r\nfunction GetParent (): string | HTMLElement | undefined\r\n{\r\n    return parent;\r\n}\r\n\r\nexport {\r\n    Parent,\r\n    GetParent\r\n};\r\n", "import { IRendererConstructor } from '../renderer/IRendererConstructor';\r\n\r\nlet instance: IRendererConstructor;\r\n\r\nfunction SetRenderer (renderer: IRendererConstructor): void\r\n{\r\n    instance = renderer;\r\n}\r\n\r\nfunction GetRenderer (): IRendererConstructor\r\n{\r\n    return instance;\r\n}\r\n\r\nexport {\r\n    GetRenderer,\r\n    SetRenderer\r\n};\r\n", "import { ISceneConstructor } from '../scenes/ISceneConstructor';\r\n\r\nlet _scenes: ISceneConstructor[] = [];\r\n\r\nfunction Scenes (scenes?: ISceneConstructor | Array<ISceneConstructor>): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        _scenes = [].concat(scenes);\r\n    };\r\n}\r\n\r\nfunction GetScenes (): ISceneConstructor[]\r\n{\r\n    return _scenes;\r\n}\r\n\r\nexport {\r\n    Scenes,\r\n    GetScenes\r\n};\r\n", "let _contextAttributes: WebGLContextAttributes = {\r\n    alpha: false,\r\n    antialias: false,\r\n    depth: true,\r\n    premultipliedAlpha: false\r\n};\r\n\r\nfunction WebGLContext (contextAttributes: WebGLContextAttributes): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        _contextAttributes = contextAttributes;\r\n    };\r\n}\r\n\r\nfunction GetWebGLContext (): WebGLContextAttributes\r\n{\r\n    return _contextAttributes;\r\n}\r\n\r\nexport {\r\n    WebGLContext,\r\n    GetWebGLContext\r\n};\r\n", "import { IGLTextureBindingConfig } from './webgl1/textures/IGLTextureBindingConfig';\r\nimport { ITexture } from '../textures/ITexture';\r\n\r\nexport type BindingQueueEntry = {\r\n    texture: ITexture,\r\n    glConfig: IGLTextureBindingConfig\r\n};\r\n\r\nconst queue: BindingQueueEntry[] = [];\r\n\r\nexport const BindingQueue =\r\n{\r\n    add: (texture: ITexture, glConfig?: IGLTextureBindingConfig): void =>\r\n    {\r\n        queue.push({ texture, glConfig });\r\n    },\r\n\r\n    get: (): BindingQueueEntry[] =>\r\n    {\r\n        return queue;\r\n    },\r\n\r\n    clear: (): void =>\r\n    {\r\n        queue.length = 0;\r\n    }\r\n};\r\n", "import { GetHeight, GetResolution, GetWidth } from '../../config/Size';\r\n\r\nimport { BindingQueue } from '../BindingQueue';\r\nimport { GetBackgroundColor } from '../../config/BackgroundColor';\r\nimport { GetCanvasContext } from '../../config/CanvasContext';\r\nimport { ISceneRenderData } from '../../scenes/ISceneRenderData';\r\n\r\nexport class CanvasRenderer\r\n{\r\n    canvas: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D;\r\n\r\n    clearColor: string;\r\n\r\n    width: number;\r\n    height: number;\r\n    resolution: number;\r\n\r\n    textureIndex: number[];\r\n    flushTotal: number;\r\n\r\n    clearBeforeRender: boolean = true;\r\n    optimizeRedraw: boolean = true;\r\n    autoResize: boolean = true;\r\n\r\n    constructor ()\r\n    {\r\n        this.width = GetWidth();\r\n        this.height = GetHeight();\r\n        this.resolution = GetResolution();\r\n\r\n        this.setBackgroundColor(GetBackgroundColor());\r\n\r\n        const canvas = document.createElement('canvas');\r\n\r\n        this.canvas = canvas;\r\n\r\n        this.initContext();\r\n    }\r\n\r\n    initContext (): void\r\n    {\r\n        const ctx = this.canvas.getContext('2d', GetCanvasContext());\r\n\r\n        // GL.set(gl);\r\n\r\n        this.ctx = ctx;\r\n\r\n        this.resize(this.width, this.height, this.resolution);\r\n    }\r\n\r\n    resize (width: number, height: number, resolution: number = 1): void\r\n    {\r\n        this.width = width * resolution;\r\n        this.height = height * resolution;\r\n        this.resolution = resolution;\r\n\r\n        const canvas = this.canvas;\r\n\r\n        canvas.width = this.width;\r\n        canvas.height = this.height;\r\n\r\n        if (this.autoResize)\r\n        {\r\n            canvas.style.width = (this.width / resolution).toString() + 'px';\r\n            canvas.style.height = (this.height / resolution).toString() + 'px';\r\n        }\r\n    }\r\n\r\n    setBackgroundColor (color: number): this\r\n    {\r\n        const r: number = color >> 16 & 0xFF;\r\n        const g: number = color >> 8 & 0xFF;\r\n        const b: number = color & 0xFF;\r\n        const a: number = (color > 16777215) ? color >>> 24 : 255;\r\n\r\n        this.clearColor = `rgba(${r}, ${g}, ${b}, ${a})`;\r\n\r\n        return this;\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        const ctx = this.ctx;\r\n\r\n        ctx.globalAlpha = 1;\r\n        ctx.globalCompositeOperation = 'source-over';\r\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n    }\r\n\r\n    render (renderData: ISceneRenderData): void\r\n    {\r\n        BindingQueue.clear();\r\n\r\n        const ctx = this.ctx;\r\n\r\n        //  Cache 1 - Nothing dirty? Display the previous frame\r\n        if (this.optimizeRedraw && renderData.numDirtyFrames === 0 && renderData.numDirtyCameras === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.reset();\r\n\r\n        if (this.clearBeforeRender)\r\n        {\r\n            ctx.clearRect(0, 0, this.width, this.height);\r\n            ctx.fillStyle = this.clearColor;\r\n            ctx.fillRect(0, 0, this.width, this.height);\r\n        }\r\n\r\n        /*\r\n        const worlds = renderData.worldData;\r\n\r\n        for (let i: number = 0; i < worlds.length; i++)\r\n        {\r\n            const { camera, renderList, numRendered } = worlds[i];\r\n\r\n            const { a, b, c, d, tx, ty } = camera.worldTransform;\r\n\r\n            ctx.setTransform(a, b, c, d, tx, ty);\r\n\r\n            //  Process the render list\r\n            for (let s: number = 0; s < numRendered; s++)\r\n            {\r\n                const gameObject = renderList[s];\r\n\r\n                if (gameObject.isDirty(DIRTY_CONST.PENDING_RENDER))\r\n                {\r\n                    gameObject.renderCanvas(this);\r\n                }\r\n                else\r\n                {\r\n                    gameObject.postRenderCanvas(this);\r\n                }\r\n            }\r\n        }\r\n        */\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        //  TODO!\r\n    }\r\n}\r\n", "import { CanvasRenderer as Renderer } from '../renderer/canvas/CanvasRenderer';\r\nimport { SetRenderer } from './SetRenderer';\r\n\r\nfunction SetCanvas (): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        SetRenderer(Renderer);\r\n    };\r\n}\r\n\r\nexport {\r\n    SetCanvas\r\n};\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport function AddViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): Rectangle\r\n{\r\n    const viewport = new Rectangle(x, y, width, height);\r\n\r\n    renderPass.viewportStack.push(viewport);\r\n\r\n    return viewport;\r\n}\r\n", "export let gl: WebGLRenderingContext;\r\n\r\nexport const GL =\r\n{\r\n    get: (): WebGLRenderingContext =>\r\n    {\r\n        return gl;\r\n    },\r\n\r\n    set: (context: WebGLRenderingContext | undefined): void =>\r\n    {\r\n        gl = context;\r\n    }\r\n};\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle';\r\nimport { gl } from '../GL';\r\n\r\nexport function BindViewport (renderPass: IRenderPass, viewport?: Rectangle): void\r\n{\r\n    if (!viewport)\r\n    {\r\n        viewport = renderPass.currentViewport;\r\n\r\n        if (!viewport)\r\n        {\r\n            return;\r\n        }\r\n    }\r\n\r\n    const glv = gl.getParameter(gl.VIEWPORT);\r\n\r\n    if (glv[0] !== viewport.x || glv[1] !== viewport.y || glv[2] !== viewport.width || glv[3] !== viewport.height)\r\n    {\r\n        gl.viewport(viewport.x, viewport.y, viewport.width, viewport.height);\r\n    }\r\n}\r\n", "import { AddViewport } from './AddViewport';\r\nimport { BindViewport } from './BindViewport';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function SetViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\r\n{\r\n    const entry = AddViewport(renderPass, x, y, width, height);\r\n\r\n    BindViewport(renderPass, entry);\r\n\r\n    renderPass.currentViewport = entry;\r\n}\r\n", "import { FramebufferStackEntry } from './RenderPass';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { SetViewport } from './SetViewport';\r\nimport { gl } from '../GL';\r\n\r\nexport function BindFramebuffer (renderPass: IRenderPass, clear: boolean = true, entry?: FramebufferStackEntry): void\r\n{\r\n    if (!entry)\r\n    {\r\n        entry = renderPass.currentFramebuffer;\r\n    }\r\n\r\n    const { framebuffer, viewport } = entry;\r\n\r\n    //  TODO - Only bind if different\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n    if (clear)\r\n    {\r\n        gl.clearColor(0, 0, 0, 0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n    }\r\n\r\n    if (viewport)\r\n    {\r\n        SetViewport(renderPass, viewport.x, viewport.y, viewport.width, viewport.height);\r\n    }\r\n}\r\n", "import { BindViewport } from './BindViewport';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function PopViewport (renderPass: IRenderPass): void\r\n{\r\n    const stack = renderPass.viewportStack;\r\n\r\n    //  > 1 because index 0 contains the default, which we don't want to remove\r\n    if (stack.length > 1)\r\n    {\r\n        stack.pop();\r\n    }\r\n\r\n    renderPass.currentViewport = stack[ stack.length - 1 ];\r\n\r\n    BindViewport(renderPass);\r\n}\r\n", "import { BindFramebuffer } from './BindFramebuffer';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { PopViewport } from './PopViewport';\r\n\r\nexport function PopFramebuffer (renderPass: IRenderPass): void\r\n{\r\n    const stack = renderPass.framebufferStack;\r\n\r\n    //  > 1 because index 0 contains the default, which we don't want to remove\r\n    if (stack.length > 1)\r\n    {\r\n        if (renderPass.currentFramebuffer.viewport)\r\n        {\r\n            PopViewport(renderPass);\r\n        }\r\n\r\n        stack.pop();\r\n    }\r\n\r\n    renderPass.currentFramebuffer = stack[ stack.length - 1 ];\r\n\r\n    BindFramebuffer(renderPass, false);\r\n}\r\n", "import { FramebufferStackEntry } from './RenderPass';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport function AddFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, viewport?: Rectangle): FramebufferStackEntry\r\n{\r\n    const entry = { framebuffer, viewport };\r\n\r\n    renderPass.framebufferStack.push(entry);\r\n\r\n    return entry;\r\n}\r\n", "import { AddFramebuffer } from './AddFramebuffer';\r\nimport { BindFramebuffer } from './BindFramebuffer';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle';\r\n\r\nexport function SetFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, clear: boolean = true, viewport?: Rectangle): void\r\n{\r\n    const entry = AddFramebuffer(renderPass, framebuffer, viewport);\r\n\r\n    BindFramebuffer(renderPass, clear, entry);\r\n\r\n    renderPass.currentFramebuffer = entry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { PopFramebuffer } from './PopFramebuffer';\r\nimport { SetFramebuffer } from './SetFramebuffer';\r\nimport { gl } from '../GL';\r\n\r\nexport function Draw (renderPass: IRenderPass): void\r\n{\r\n    const count = renderPass.count;\r\n\r\n    if (count === 0)\r\n    {\r\n        return;\r\n    }\r\n\r\n    const currentBuffer = renderPass.currentVertexBuffer;\r\n    const currentShader = renderPass.currentShader;\r\n\r\n    const renderToFramebuffer = currentShader.shader.renderToFramebuffer;\r\n\r\n    if (renderToFramebuffer)\r\n    {\r\n        SetFramebuffer(renderPass, currentShader.shader.framebuffer, true);\r\n    }\r\n\r\n    if (count === currentBuffer.batchSize)\r\n    {\r\n        const type = (currentBuffer.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\r\n\r\n        gl.bufferData(gl.ARRAY_BUFFER, currentBuffer.data, type);\r\n    }\r\n    else\r\n    {\r\n        const subsize = (currentBuffer.indexed) ? count * currentBuffer.entryElementSize : count * currentBuffer.vertexElementSize;\r\n\r\n        const view = currentBuffer.vertexViewF32.subarray(0, subsize);\r\n\r\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);\r\n    }\r\n\r\n    if (currentBuffer.indexed)\r\n    {\r\n        gl.drawElements(gl.TRIANGLES, count * currentBuffer.entryIndexSize, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n    else\r\n    {\r\n        gl.drawArrays(gl.TRIANGLES, 0, count);\r\n    }\r\n\r\n    if (renderToFramebuffer)\r\n    {\r\n        PopFramebuffer(renderPass);\r\n    }\r\n}\r\n", "import { Draw } from './Draw';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function Flush (renderPass: IRenderPass, forceCount?: number): boolean\r\n{\r\n    if (forceCount)\r\n    {\r\n        renderPass.count = forceCount;\r\n    }\r\n\r\n    const count = renderPass.count;\r\n\r\n    if (count === 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    Draw(renderPass);\r\n\r\n    renderPass.prevCount = count;\r\n\r\n    renderPass.count = 0;\r\n\r\n    renderPass.flushTotal++;\r\n\r\n    return true;\r\n}\r\n", "import { Flush } from './Flush';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function End (renderPass: IRenderPass): void\r\n{\r\n    Flush(renderPass);\r\n}\r\n", "export function GetRGBArray (color: number, output: number[] = []): number[]\r\n{\r\n    const r: number = color >> 16 & 0xFF;\r\n    const g: number = color >> 8 & 0xFF;\r\n    const b: number = color & 0xFF;\r\n    const a: number = (color > 16777215) ? color >>> 24 : 255;\r\n\r\n    output[0] = r / 255;\r\n    output[1] = g / 255;\r\n    output[2] = b / 255;\r\n    output[3] = a / 255;\r\n\r\n    return output;\r\n}\r\n", "import { IGLTextureBinding } from './IGLTextureBinding';\r\nimport { gl } from '../GL';\r\n\r\nexport function CreateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\r\n{\r\n    const { parent, flipY, unpackPremultiplyAlpha, minFilter, magFilter, wrapS, wrapT, generateMipmap, isPOT } = binding;\r\n\r\n    const source = parent.image;\r\n\r\n    let width = parent.width;\r\n    let height = parent.height;\r\n\r\n    const glTexture: WebGLTexture = gl.createTexture();\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, glTexture);\r\n\r\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, unpackPremultiplyAlpha);\r\n\r\n    if (source)\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n\r\n        width = source.width;\r\n        height = source.height;\r\n    }\r\n    else\r\n    {\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    }\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\r\n\r\n    if (generateMipmap && isPOT)\r\n    {\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n\r\n    binding.texture = glTexture;\r\n\r\n    return glTexture;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function DeleteFramebuffer (framebuffer: WebGLFramebuffer): void\r\n{\r\n    if (gl && gl.isFramebuffer(framebuffer))\r\n    {\r\n        gl.deleteFramebuffer(framebuffer);\r\n    }\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function DeleteGLTexture (texture: WebGLTexture): void\r\n{\r\n    if (gl.isTexture(texture))\r\n    {\r\n        gl.deleteTexture(texture);\r\n    }\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function SetGLTextureFilterMode (texture: WebGLTexture, linear: boolean = true): void\r\n{\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\r\n}\r\n", "import { IGLTextureBinding } from './IGLTextureBinding';\r\nimport { gl } from '../GL';\r\n\r\nexport function UpdateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\r\n{\r\n    const source = binding.parent.image;\r\n    const width = source.width;\r\n    const height = source.height;\r\n\r\n    if (width > 0 && height > 0)\r\n    {\r\n        gl.activeTexture(gl.TEXTURE0);\r\n        gl.bindTexture(gl.TEXTURE_2D, binding.texture);\r\n\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, binding.flipY);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\r\n    }\r\n\r\n    return binding.texture;\r\n}\r\n", "import { CreateGLTexture } from './CreateGLTexture';\r\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\r\nimport { DeleteGLTexture } from './DeleteGLTexture';\r\nimport { IGLTextureBinding } from './IGLTextureBinding';\r\nimport { IGLTextureBindingConfig } from './IGLTextureBindingConfig';\r\nimport { ITexture } from '../../../textures/ITexture';\r\nimport { IsSizePowerOfTwo } from '../../../math/pow2/IsSizePowerOfTwo';\r\nimport { SetGLTextureFilterMode } from './SetGLTextureFilterMode';\r\nimport { UpdateGLTexture } from './UpdateGLTexture';\r\nimport { gl } from '../GL';\r\n\r\nexport class GLTextureBinding implements IGLTextureBinding\r\n{\r\n    parent: ITexture;\r\n\r\n    texture: WebGLTexture;\r\n    framebuffer: WebGLFramebuffer;\r\n    depthbuffer: WebGLRenderbuffer;\r\n\r\n    index: number = 0;\r\n    indexCounter: number = -1;\r\n\r\n    dirtyIndex: boolean = true;\r\n    unpackPremultiplyAlpha: boolean = true;\r\n\r\n    minFilter: GLenum;\r\n    magFilter: GLenum;\r\n    wrapS: GLenum;\r\n    wrapT: GLenum;\r\n\r\n    flipY: boolean = false;\r\n    isPOT: boolean = false;\r\n    generateMipmap: boolean = false;\r\n\r\n    constructor (parent: ITexture, config: IGLTextureBindingConfig = {})\r\n    {\r\n        this.parent = parent;\r\n\r\n        this.isPOT = IsSizePowerOfTwo(parent.width, parent.height);\r\n\r\n        const {\r\n            texture = null,\r\n            framebuffer = null,\r\n            depthbuffer = null,\r\n            unpackPremultiplyAlpha = true,\r\n            minFilter = (this.isPOT) ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR,\r\n            magFilter = gl.LINEAR,\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            generateMipmap = this.isPOT,\r\n            flipY = false\r\n        } = config;\r\n\r\n        this.minFilter = minFilter;\r\n        this.magFilter = magFilter;\r\n        this.wrapS = wrapS;\r\n        this.wrapT = wrapT;\r\n        this.generateMipmap = generateMipmap;\r\n        this.flipY = flipY;\r\n        this.unpackPremultiplyAlpha = unpackPremultiplyAlpha;\r\n\r\n        if (framebuffer)\r\n        {\r\n            this.framebuffer = framebuffer;\r\n        }\r\n\r\n        if (depthbuffer)\r\n        {\r\n            this.depthbuffer = depthbuffer;\r\n        }\r\n\r\n        if (texture)\r\n        {\r\n            this.texture = texture;\r\n        }\r\n        else\r\n        {\r\n            CreateGLTexture(this);\r\n        }\r\n    }\r\n\r\n    //  Needed?\r\n    setFilter (linear: boolean): void\r\n    {\r\n        if (this.texture)\r\n        {\r\n            SetGLTextureFilterMode(this.texture, linear);\r\n        }\r\n    }\r\n\r\n    create (): WebGLTexture\r\n    {\r\n        const texture = this.texture;\r\n\r\n        if (texture)\r\n        {\r\n            DeleteGLTexture(texture);\r\n        }\r\n\r\n        return CreateGLTexture(this);\r\n    }\r\n\r\n    update (): WebGLTexture\r\n    {\r\n        const texture = this.texture;\r\n\r\n        if (!texture)\r\n        {\r\n            return CreateGLTexture(this);\r\n        }\r\n        else\r\n        {\r\n            return UpdateGLTexture(this);\r\n        }\r\n    }\r\n\r\n    setIndex (index: number): void\r\n    {\r\n        this.dirtyIndex = (index !== this.index);\r\n        this.index = index;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        DeleteGLTexture(this.texture);\r\n        DeleteFramebuffer(this.framebuffer);\r\n\r\n        this.parent = null;\r\n        this.texture = null;\r\n        this.framebuffer = null;\r\n    }\r\n}\r\n", "import { BindingQueue } from '../../BindingQueue';\r\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\r\n\r\nexport function ProcessBindingQueue (): void\r\n{\r\n    const queue = BindingQueue.get();\r\n\r\n    queue.forEach(entry =>\r\n    {\r\n        const { texture, glConfig } = entry;\r\n\r\n        if (!texture.binding)\r\n        {\r\n            texture.binding = new GLTextureBinding(texture, glConfig);\r\n        }\r\n    });\r\n\r\n    BindingQueue.clear();\r\n}\r\n", "import { gl } from '../GL';\r\n\r\n//  From Pixi v5\r\n\r\nconst fragTemplate = [\r\n    'precision mediump float;',\r\n    'void main(void){',\r\n    'float test = 0.1;',\r\n    '%forloop%',\r\n    'gl_FragColor = vec4(0.0);',\r\n    '}'\r\n].join('\\n');\r\n\r\nfunction GenerateSrc (maxIfs: number): string\r\n{\r\n    let src = '';\r\n\r\n    for (let i = 0; i < maxIfs; ++i)\r\n    {\r\n        if (i > 0)\r\n        {\r\n            src += '\\nelse ';\r\n        }\r\n\r\n        if (i < maxIfs - 1)\r\n        {\r\n            src += `if(test == ${i}.0){}`;\r\n        }\r\n    }\r\n\r\n    return src;\r\n}\r\n\r\nexport function CheckShaderMaxIfStatements (maxIfs: number): number\r\n{\r\n    const shader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\r\n    // eslint-disable-next-line no-constant-condition\r\n    while (true)\r\n    {\r\n        const fragmentSrc = fragTemplate.replace(/%forloop%/gi, GenerateSrc(maxIfs));\r\n\r\n        gl.shaderSource(shader, fragmentSrc);\r\n        gl.compileShader(shader);\r\n\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n        {\r\n            maxIfs = (maxIfs / 2) | 0;\r\n        }\r\n        else\r\n        {\r\n            // valid!\r\n            break;\r\n        }\r\n    }\r\n\r\n    return maxIfs;\r\n}\r\n", "import { GetMaxTextures, SetMaxTextures } from '../../../config/MaxTextures';\r\n\r\nimport { CheckShaderMaxIfStatements } from '../shaders/CheckShaderMaxIfStatements';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { gl } from '../GL';\r\n\r\n//  As per the WebGL spec, the browser should always support at least 8 texture units\r\n\r\nexport function CreateTempTextures (renderPass: IRenderPass): void\r\n{\r\n    let maxGPUTextures: number = CheckShaderMaxIfStatements(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\r\n\r\n    const maxConfigTextures = GetMaxTextures();\r\n\r\n    if (maxConfigTextures === 0 || (maxConfigTextures > 0 && maxConfigTextures > maxGPUTextures))\r\n    {\r\n        //  Insert gpu limit into config value\r\n        SetMaxTextures(maxGPUTextures);\r\n    }\r\n    else if (maxConfigTextures > 0 && maxConfigTextures < maxGPUTextures)\r\n    {\r\n        //  Limit to config setting, or 8, whichever is higher\r\n        maxGPUTextures = Math.max(8, maxConfigTextures);\r\n    }\r\n\r\n    const tempTextures = renderPass.tempTextures;\r\n\r\n    if (tempTextures.length)\r\n    {\r\n        tempTextures.forEach(texture =>\r\n        {\r\n            gl.deleteTexture(texture);\r\n        });\r\n    }\r\n\r\n    const index = [];\r\n\r\n    //  Create temp textures to stop WebGL errors on mac os\r\n    for (let texturesIndex: number = 0; texturesIndex < maxGPUTextures; texturesIndex++)\r\n    {\r\n        const tempTexture = gl.createTexture();\r\n\r\n        gl.activeTexture(gl.TEXTURE0 + texturesIndex);\r\n\r\n        gl.bindTexture(gl.TEXTURE_2D, tempTexture);\r\n\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([ 0, 0, 255, 255 ]));\r\n\r\n        tempTextures[texturesIndex] = tempTexture;\r\n\r\n        index.push(texturesIndex);\r\n    }\r\n\r\n    renderPass.maxTextures = maxGPUTextures;\r\n\r\n    renderPass.textureIndex = index;\r\n\r\n    //  ID Zero is reserved for FBO Textures\r\n    renderPass.currentActiveTexture = 1;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function DeleteGLBuffer (buffer: WebGLBuffer): void\r\n{\r\n    if (gl.isBuffer(buffer))\r\n    {\r\n        gl.deleteBuffer(buffer);\r\n    }\r\n}\r\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\r\nimport { IVertexBuffer } from './IVertexBuffer';\r\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\r\nimport { gl } from '../GL';\r\n\r\nexport class VertexBuffer implements IVertexBuffer\r\n{\r\n    /**\r\n     * Maximum number of entries per batch before a flush takes place.\r\n     * For a Mesh, this is the number of triangles / faces in the vertex buffer.\r\n     * Typically each face consists of 3 verticies.\r\n     *\r\n     * @type {number}\r\n     */\r\n    batchSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, per entry in the array buffer.\r\n     *\r\n     * @type {number}\r\n     */\r\n    dataSize: number;\r\n\r\n    /**\r\n     * The amount of elements / floats a single vertex consists of.\r\n     *\r\n     * The default is 6:\r\n     *\r\n     * position (x,y - 2 floats)\r\n     * texture coord (x,y - 2 floats)\r\n     * texture index (uint)\r\n     * packed color (uint)\r\n     *\r\n     * @type {number}\r\n     */\r\n    vertexElementSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, of a single vertex in the array buffer.\r\n     *\r\n     * This is `vertexElementSize * dataSize`.\r\n     *\r\n     * @type {number}\r\n     */\r\n    vertexByteSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, of a single entry in the array buffer.\r\n     *\r\n     * This is `vertexByteSize * 4` for a quad.\r\n     *\r\n     * @type {number}\r\n     */\r\n    entryByteSize: number;\r\n\r\n    /**\r\n     * The size, in bytes, of the Array Buffer.\r\n     *\r\n     * This is `batchSize * entryByteSize`\r\n     *\r\n     * @type {number}\r\n     */\r\n    bufferByteSize: number;\r\n\r\n    /**\r\n     * The Array Buffer.\r\n     *\r\n     * @type {ArrayBuffer}\r\n     */\r\n    data: ArrayBuffer;\r\n\r\n    /**\r\n     * Float32 View of the Array Buffer.\r\n     *\r\n     * @type {Float32Array}\r\n     */\r\n    vertexViewF32: Float32Array;\r\n\r\n    /**\r\n     * Uint32 View of the Array Buffer.\r\n     *\r\n     * @type {Uint32Array}\r\n     */\r\n    vertexViewU32: Uint32Array;\r\n\r\n    /**\r\n     * The data array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     */\r\n    vertexBuffer: WebGLBuffer;\r\n\r\n    indexed: boolean = false;\r\n\r\n    isDynamic: boolean = false;\r\n\r\n    /**\r\n     * The total number of entries added to the buffer so far, or reserved to be added.\r\n     *\r\n     * This is the total number of indices / verticies, not faces.\r\n     * Typically there are 3 verts per face, so this value is usually batchSize x 3 for a Mesh.\r\n     *\r\n     * @type {number}\r\n     */\r\n    count: number = 0;\r\n\r\n    /**\r\n     * The current buffer offset.\r\n     *\r\n     * @type {number}\r\n     */\r\n    offset: number = 0;\r\n\r\n    elementsPerEntry: number;\r\n\r\n    constructor (config: IVertexBufferConfig = {})\r\n    {\r\n        const {\r\n            batchSize = 1,\r\n            dataSize = 4,\r\n            isDynamic = true,\r\n            elementsPerEntry = 4,\r\n            vertexElementSize = 6\r\n        } = config;\r\n\r\n        this.batchSize = batchSize;\r\n        this.dataSize = dataSize;\r\n        this.vertexElementSize = vertexElementSize;\r\n        this.isDynamic = isDynamic;\r\n        this.elementsPerEntry = elementsPerEntry;\r\n\r\n        //  Derive the remaining values\r\n        this.vertexByteSize = vertexElementSize * dataSize;\r\n        this.entryByteSize = this.vertexByteSize * elementsPerEntry;\r\n        this.bufferByteSize = batchSize * this.entryByteSize;\r\n\r\n        this.create();\r\n    }\r\n\r\n    resize (batchSize: number): void\r\n    {\r\n        this.batchSize = batchSize;\r\n        this.bufferByteSize = batchSize * this.entryByteSize;\r\n\r\n        if (this.vertexBuffer)\r\n        {\r\n            DeleteGLBuffer(this.vertexBuffer);\r\n        }\r\n\r\n        this.create();\r\n    }\r\n\r\n    create (): void\r\n    {\r\n        const data = new ArrayBuffer(this.bufferByteSize);\r\n\r\n        this.data = data;\r\n\r\n        this.vertexViewF32 = new Float32Array(data);\r\n        this.vertexViewU32 = new Uint32Array(data);\r\n\r\n        this.vertexBuffer = gl.createBuffer();\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n\r\n        const type = (this.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\r\n\r\n        gl.bufferData(gl.ARRAY_BUFFER, data, type);\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    }\r\n\r\n    add (count: number): void\r\n    {\r\n        this.count += count;\r\n        this.offset += (this.vertexElementSize * count);\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        this.count = 0;\r\n        this.offset = 0;\r\n    }\r\n\r\n    canContain (count: number): boolean\r\n    {\r\n        return ((this.count + count) <= this.batchSize);\r\n    }\r\n\r\n    free (): number\r\n    {\r\n        return Math.max(0, 1 - (this.count / this.batchSize));\r\n    }\r\n\r\n    bind (): void\r\n    {\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        DeleteGLBuffer(this.vertexBuffer);\r\n\r\n        this.data = null;\r\n        this.vertexViewF32 = null;\r\n        this.vertexViewU32 = null;\r\n        this.vertexBuffer = null;\r\n    }\r\n}\r\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\r\nimport { IIndexedVertexBuffer } from './IIndexedVertexBuffer';\r\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\r\nimport { VertexBuffer } from './VertexBuffer';\r\nimport { gl } from '../GL';\r\n\r\nexport class IndexedVertexBuffer extends VertexBuffer implements IIndexedVertexBuffer\r\n{\r\n    /**\r\n     * The size, in bytes, per entry in the element index array.\r\n     *\r\n     * @type {number}\r\n     */\r\n    indexSize: number;\r\n\r\n    /**\r\n     * The size, in quantity of elements, of a single entry in the element index array.\r\n     *\r\n     * This is `vertexElementSize * 4` for a quad.\r\n     *\r\n     * @type {number}\r\n     */\r\n    entryElementSize: number;\r\n\r\n    /**\r\n     * The total number of entries per entry in the element index array.\r\n     *\r\n     * For a quad, the IBO contains 6 entries per entry:\r\n     *\r\n     * 0, 1, 2\r\n     * 2, 3, 0\r\n     *\r\n     * @type {number}\r\n     */\r\n    entryIndexSize: number;\r\n\r\n    /**\r\n     * The Element Array Buffer.\r\n     *\r\n     * @type {Uint16Array}\r\n     */\r\n    index: Uint16Array;\r\n\r\n    /**\r\n     * The element array buffer.\r\n     *\r\n     * @type {WebGLBuffer}\r\n     */\r\n    indexBuffer: WebGLBuffer;\r\n\r\n    indexLayout: number[];\r\n\r\n    constructor (config: IVertexBufferConfig = {})\r\n    {\r\n        super(config);\r\n\r\n        const {\r\n            indexSize = 4,\r\n            entryIndexSize = 6,\r\n            indexLayout = null\r\n        } = config;\r\n\r\n        this.indexed = true;\r\n\r\n        this.indexSize = indexSize;\r\n        this.entryIndexSize = entryIndexSize;\r\n\r\n        //  Derive the remaining values\r\n        this.entryElementSize = this.vertexElementSize * this.elementsPerEntry;\r\n\r\n        const seededIndexBuffer = [];\r\n\r\n        if (indexLayout)\r\n        {\r\n            this.indexLayout = indexLayout;\r\n\r\n            //  Seed the index buffer\r\n            for (let i = 0; i < (this.batchSize * indexSize); i += indexSize)\r\n            {\r\n                for (let c = 0; c < indexLayout.length; c++)\r\n                {\r\n                    seededIndexBuffer.push(i + indexLayout[c]);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.create();\r\n        this.createIndexBuffer(seededIndexBuffer);\r\n    }\r\n\r\n    createIndexBuffer (seededIndex: number[]): void\r\n    {\r\n        this.index = new Uint16Array(seededIndex);\r\n\r\n        this.indexBuffer = gl.createBuffer();\r\n\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\r\n\r\n        //  Free memory\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n        seededIndex = [];\r\n    }\r\n\r\n    bind (): void\r\n    {\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        super.destroy();\r\n\r\n        DeleteGLBuffer(this.indexBuffer);\r\n\r\n        this.index = null;\r\n        this.indexLayout = null;\r\n        this.indexBuffer = null;\r\n    }\r\n}\r\n", "import { IVertexAttribPointer } from './IVertexAttribPointer';\r\nimport { gl } from '../GL';\r\n\r\nexport function CreateAttributes (program: WebGLProgram, config: Object): Map<string, IVertexAttribPointer>\r\n{\r\n    const attributes = new Map();\r\n\r\n    const defaultSettings =\r\n    {\r\n        size: 1,\r\n        type: gl.FLOAT,\r\n        normalized: false,\r\n        stride: 0,\r\n        offset: 0\r\n    };\r\n\r\n    const total = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\r\n\r\n    for (let i = 0; i < total; i++)\r\n    {\r\n        const attrib = gl.getActiveAttrib(program, i);\r\n\r\n        if (!attrib)\r\n        {\r\n            break;\r\n        }\r\n\r\n        const name = attrib.name;\r\n\r\n        const index = gl.getAttribLocation(program, name);\r\n\r\n        gl.enableVertexAttribArray(index);\r\n\r\n        const setting = config.hasOwnProperty(name) ? config[name] : {};\r\n\r\n        const {\r\n\r\n            size = defaultSettings.size,\r\n            type = defaultSettings.type,\r\n            normalized = defaultSettings.normalized,\r\n            stride = defaultSettings.stride,\r\n            offset = defaultSettings.offset\r\n\r\n        } = setting;\r\n\r\n        attributes.set(name, { index, size, type, normalized, stride, offset });\r\n    }\r\n\r\n    return attributes;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function DeleteShaders (...shaders: WebGLShader[]): void\r\n{\r\n    shaders.forEach(shader =>\r\n    {\r\n        gl.deleteShader(shader);\r\n    });\r\n}\r\n", "import { DeleteShaders } from './DeleteShaders';\r\nimport { gl } from '../GL';\r\n\r\nexport function CreateProgram (...shaders: WebGLShader[]): WebGLProgram\r\n{\r\n    const program = gl.createProgram();\r\n\r\n    shaders.forEach(shader =>\r\n    {\r\n        gl.attachShader(program, shader);\r\n    });\r\n\r\n    gl.linkProgram(program);\r\n\r\n    const status = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n\r\n    if (!status)\r\n    {\r\n        const info = gl.getProgramInfoLog(program);\r\n\r\n        console.error(`Error linking program: ${info}`);\r\n\r\n        gl.deleteProgram(program);\r\n\r\n        DeleteShaders(...shaders);\r\n\r\n        return null;\r\n    }\r\n\r\n    return program;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function CreateShader (source: string, type: GLenum): WebGLShader | null\r\n{\r\n    const shader = gl.createShader(type);\r\n\r\n    gl.shaderSource(shader, source);\r\n\r\n    gl.compileShader(shader);\r\n\r\n    const status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n\r\n    if (!status)\r\n    {\r\n        const info = gl.getShaderInfoLog(shader);\r\n\r\n        //  Adding line numbers idea borrowed from Gregg Tavares!\r\n        const sourceLines = source.split('\\n').map((line, index) =>\r\n        {\r\n            return `${index}: ${line}`;\r\n        });\r\n\r\n        console.error(`Error compiling shader: ${info}`, sourceLines.join('\\n'));\r\n\r\n        gl.deleteShader(shader);\r\n\r\n        return null;\r\n    }\r\n\r\n    return shader;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport type FloatSetter = (v: number) => void;\r\nexport type F32Setter = (v: Float32List) => void;\r\nexport type I32Setter = (v: Int32List) => void;\r\n\r\nexport function CreateUniformSetter (uniform: WebGLActiveInfo, location: WebGLUniformLocation, isArray: boolean = false): FloatSetter | F32Setter | I32Setter\r\n{\r\n    switch (uniform.type)\r\n    {\r\n        case gl.INT:\r\n        case gl.BOOL:\r\n        {\r\n            if (isArray)\r\n            {\r\n                return (v: Int32List): void =>\r\n                {\r\n                    gl.uniform1iv(location, v);\r\n                };\r\n            }\r\n            else\r\n            {\r\n                return (v: number): void =>\r\n                {\r\n                    gl.uniform1i(location, v);\r\n                };\r\n            }\r\n        }\r\n\r\n        case gl.INT_VEC2:\r\n        case gl.BOOL_VEC2:\r\n        {\r\n            return (v: Int32List): void =>\r\n            {\r\n                gl.uniform2iv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.INT_VEC3:\r\n        case gl.BOOL_VEC3:\r\n        {\r\n            return (v: Int32List): void =>\r\n            {\r\n                gl.uniform3iv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.INT_VEC4:\r\n        case gl.BOOL_VEC4:\r\n        {\r\n            return (v: Int32List): void =>\r\n            {\r\n                gl.uniform4iv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT:\r\n        {\r\n            if (isArray)\r\n            {\r\n                return (v: Float32List): void =>\r\n                {\r\n                    gl.uniform1fv(location, v);\r\n                };\r\n            }\r\n            else\r\n            {\r\n                return (v: number): void =>\r\n                {\r\n                    gl.uniform1f(location, v);\r\n                };\r\n            }\r\n        }\r\n\r\n        case gl.FLOAT_VEC2:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniform2fv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT_VEC3:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniform3fv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT_VEC4:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniform4fv(location, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT_MAT2:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniformMatrix2fv(location, false, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT_MAT3:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniformMatrix3fv(location, false, v);\r\n            };\r\n        }\r\n\r\n        case gl.FLOAT_MAT4:\r\n        {\r\n            return (v: Float32List): void =>\r\n            {\r\n                gl.uniformMatrix4fv(location, false, v);\r\n            };\r\n        }\r\n\r\n        case gl.SAMPLER_2D:\r\n        case gl.SAMPLER_CUBE:\r\n        {\r\n            if (uniform.size > 1)\r\n            {\r\n                return (v: Int32List): void =>\r\n                {\r\n                    gl.uniform1iv(location, v);\r\n                };\r\n            }\r\n            else\r\n            {\r\n                return (v: number): void =>\r\n                {\r\n                    gl.uniform1i(location, v);\r\n                };\r\n            }\r\n        }\r\n    }\r\n}\r\n", "import { CreateUniformSetter } from './CreateUniformSetter';\r\nimport { gl } from '../GL';\r\n\r\nexport function CreateUniforms (program: WebGLProgram): Map<string, Function>\r\n{\r\n    const uniforms = new Map();\r\n\r\n    const total = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\r\n\r\n    for (let i = 0; i < total; i++)\r\n    {\r\n        const uniform = gl.getActiveUniform(program, i);\r\n\r\n        let name = uniform.name;\r\n\r\n        if (name.startsWith('gl_') || name.startsWith('webgl_'))\r\n        {\r\n            //  Skip built-in uniforms\r\n            continue;\r\n        }\r\n\r\n        const location = gl.getUniformLocation(program, uniform.name);\r\n\r\n        if (location)\r\n        {\r\n            let isArray = false;\r\n\r\n            //  If uniform name has [0] at the end, remove it\r\n            if (name.substr(-3) === '[0]')\r\n            {\r\n                name = name.substr(0, name.length - 3);\r\n\r\n                isArray = (uniform.size > 1);\r\n            }\r\n\r\n            uniforms.set(name, CreateUniformSetter(uniform, location, isArray));\r\n        }\r\n    }\r\n\r\n    return uniforms;\r\n}\r\n", "const BYTE                   = 0x1400;\r\nconst UNSIGNED_BYTE          = 0x1401;\r\nconst SHORT                  = 0x1402;\r\nconst UNSIGNED_SHORT         = 0x1403;\r\nconst INT                    = 0x1404;\r\nconst UNSIGNED_INT           = 0x1405;\r\nconst FLOAT                  = 0x1406;\r\nconst REPEAT                 = 0x2901;  // eslint-disable-line\r\nconst CLAMP_TO_EDGE          = 0x812F;\r\nconst MIRRORED_REPEAT        = 0x8370;  // eslint-disable-line\r\nconst NEAREST                = 0x2600;  // eslint-disable-line\r\nconst LINEAR                 = 0x2601;\r\nconst NEAREST_MIPMAP_NEAREST = 0x2700;  // eslint-disable-line\r\nconst LINEAR_MIPMAP_NEAREST  = 0x2701;  // eslint-disable-line\r\nconst NEAREST_MIPMAP_LINEAR  = 0x2702;  // eslint-disable-line\r\nconst LINEAR_MIPMAP_LINEAR   = 0x2703;  // eslint-disable-line\r\n\r\nexport {\r\n    BYTE,\r\n    UNSIGNED_BYTE,\r\n    SHORT,\r\n    UNSIGNED_SHORT,\r\n    INT,\r\n    UNSIGNED_INT,\r\n    FLOAT,\r\n    REPEAT,\r\n    CLAMP_TO_EDGE,\r\n    MIRRORED_REPEAT,\r\n    NEAREST,\r\n    LINEAR,\r\n    NEAREST_MIPMAP_NEAREST,\r\n    LINEAR_MIPMAP_NEAREST,\r\n    NEAREST_MIPMAP_LINEAR,\r\n    LINEAR_MIPMAP_LINEAR\r\n};\r\n", "import * as GL_CONST from '../GL_CONST';\r\n\r\n// size = 8\r\n// size = 8, offset = position\r\n// size = 4, offset = position + tex coord\r\n// size = 4, offset = position + tex coord + index\r\n\r\nexport const DefaultQuadAttributes =\r\n{\r\n    aVertexPosition: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 0 },\r\n    aTextureCoord: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 8 },\r\n    aTextureId: { size: 1, type: GL_CONST.FLOAT, normalized: false, offset: 16 },\r\n    aTintColor: { size: 4, type: GL_CONST.UNSIGNED_BYTE, normalized: true, offset: 20 }\r\n};\r\n", "export const DefaultQuadUniforms =\r\n{\r\n    uProjectionMatrix: new Float32Array(),\r\n    uCameraMatrix: new Float32Array(),\r\n    uTexture: 0\r\n};\r\n", "import { gl } from '../GL';\r\n\r\nexport function CreateDepthBuffer (framebuffer: WebGLFramebuffer, textureWidth: number, textureHeight: number): WebGLRenderbuffer\r\n{\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n    const depthBuffer = gl.createRenderbuffer();\r\n\r\n    gl.bindRenderbuffer(gl.RENDERBUFFER, depthBuffer);\r\n\r\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, textureWidth, textureHeight);\r\n\r\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n    return depthBuffer;\r\n}\r\n", "import { gl } from '../GL';\r\n\r\nexport function CreateFramebuffer (texture: WebGLTexture, attachment?: GLenum): WebGLFramebuffer\r\n{\r\n    if (!attachment)\r\n    {\r\n        attachment = gl.COLOR_ATTACHMENT0;\r\n    }\r\n\r\n    const framebuffer = gl.createFramebuffer();\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, texture, 0);\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n    return framebuffer;\r\n}\r\n", "export const SINGLE_QUAD_FRAG =\r\n`#define SHADER_NAME SINGLE_QUAD_FRAG\r\n\r\nprecision highp float;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\n\r\nuniform sampler2D uTexture;\r\n\r\nvoid main (void)\r\n{\r\n    vec4 color = texture2D(uTexture, vTextureCoord);\r\n\r\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\r\n}`;\r\n", "export const SINGLE_QUAD_VERT =\r\n`#define SHADER_NAME SINGLE_QUAD_VERT\r\n\r\nprecision highp float;\r\n\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nattribute float aTextureId;\r\nattribute vec4 aTintColor;\r\n\r\nuniform mat4 uProjectionMatrix;\r\nuniform mat4 uCameraMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\n\r\nvoid main (void)\r\n{\r\n    vTextureCoord = aTextureCoord;\r\n    vTextureId = aTextureId;\r\n    vTintColor = aTintColor;\r\n\r\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\r\n}`;\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { Texture } from './Texture';\r\n\r\nexport class Frame\r\n{\r\n    texture: Texture;\r\n    key: string | number;\r\n\r\n    //  This is the actual area of the texture to draw to canvas / webgl, including any extruded data.\r\n    //  This is the same as the 'trimmed' + 'extruded' area from an atlas.\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    trimmed: boolean = false;\r\n\r\n    //  Original size of the image before being trimmed or added to an atlas (which can add extrude data to it).\r\n    sourceSizeWidth: number;\r\n    sourceSizeHeight: number;\r\n\r\n    //  The size of the image having been trimmed, before being added to the atlas (i.e. doesn't have any extrusion values in it)\r\n    spriteSourceSizeX: number;\r\n    spriteSourceSizeY: number;\r\n    spriteSourceSizeWidth: number;\r\n    spriteSourceSizeHeight: number;\r\n\r\n    pivot: { x: number; y: number };\r\n\r\n    u0: number;\r\n    v0: number;\r\n    u1: number;\r\n    v1: number;\r\n\r\n    constructor (texture: Texture, key: string | number, x: number, y: number, width: number, height: number)\r\n    {\r\n        this.texture = texture;\r\n        this.key = key;\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setPivot (x: number, y: number): void\r\n    {\r\n        this.pivot = { x, y };\r\n    }\r\n\r\n    setSize (width: number, height: number): void\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.updateUVs();\r\n    }\r\n\r\n    setSourceSize (width: number, height: number): void\r\n    {\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n    }\r\n\r\n    setTrim (width: number, height: number, x: number, y: number, w: number, h: number): void\r\n    {\r\n        this.trimmed = true;\r\n\r\n        this.sourceSizeWidth = width;\r\n        this.sourceSizeHeight = height;\r\n\r\n        this.spriteSourceSizeX = x;\r\n        this.spriteSourceSizeY = y;\r\n        this.spriteSourceSizeWidth = w;\r\n        this.spriteSourceSizeHeight = h;\r\n    }\r\n\r\n    getExtent (originX: number, originY: number): { left: number; right: number; top: number; bottom: number }\r\n    {\r\n        const sourceSizeWidth = this.sourceSizeWidth;\r\n        const sourceSizeHeight = this.sourceSizeHeight;\r\n\r\n        let left: number;\r\n        let right: number;\r\n        let top: number;\r\n        let bottom: number;\r\n\r\n        if (this.trimmed)\r\n        {\r\n            left = this.spriteSourceSizeX - (originX * sourceSizeWidth);\r\n            right = left + this.spriteSourceSizeWidth;\r\n\r\n            top = this.spriteSourceSizeY - (originY * sourceSizeHeight);\r\n            bottom = top + this.spriteSourceSizeHeight;\r\n        }\r\n        else\r\n        {\r\n            left = -originX * sourceSizeWidth;\r\n            right = left + sourceSizeWidth;\r\n\r\n            top = -originY * sourceSizeHeight;\r\n            bottom = top + sourceSizeHeight;\r\n        }\r\n\r\n        return { left, right, top, bottom };\r\n    }\r\n\r\n    setExtent (child: IGameObject): void\r\n    {\r\n        const transform = child.transform;\r\n\r\n        const originX = transform.origin.x;\r\n        const originY = transform.origin.y;\r\n\r\n        const sourceSizeWidth = this.sourceSizeWidth;\r\n        const sourceSizeHeight = this.sourceSizeHeight;\r\n\r\n        let x: number;\r\n        let y: number;\r\n        let width: number;\r\n        let height: number;\r\n\r\n        if (this.trimmed)\r\n        {\r\n            x = this.spriteSourceSizeX - (originX * sourceSizeWidth);\r\n            y = this.spriteSourceSizeY - (originY * sourceSizeHeight);\r\n\r\n            width = this.spriteSourceSizeWidth;\r\n            height = this.spriteSourceSizeHeight;\r\n        }\r\n        else\r\n        {\r\n            x = -originX * sourceSizeWidth;\r\n            y = -originY * sourceSizeHeight;\r\n\r\n            width = sourceSizeWidth;\r\n            height = sourceSizeHeight;\r\n        }\r\n\r\n        transform.setExtent(x, y, width, height);\r\n    }\r\n\r\n    updateUVs (): void\r\n    {\r\n        const { x, y, width, height } = this;\r\n\r\n        const baseTextureWidth = this.texture.width;\r\n        const baseTextureHeight = this.texture.height;\r\n\r\n        this.u0 = x / baseTextureWidth;\r\n        this.v0 = y / baseTextureHeight;\r\n\r\n        this.u1 = (x + width) / baseTextureWidth;\r\n        this.v1 = (y + height) / baseTextureHeight;\r\n    }\r\n}\r\n", "import { BindingQueue } from '../renderer/BindingQueue';\r\nimport { Frame } from './Frame';\r\nimport { IGLTextureBinding } from '../renderer/webgl1/textures/IGLTextureBinding';\r\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { ITexture } from './ITexture';\r\n\r\nexport class Texture implements ITexture\r\n{\r\n    //  Unique identifier of this Texture, if stored in the Texture Manager\r\n    key: string = '';\r\n\r\n    width: number;\r\n    height: number;\r\n\r\n    image: TexImageSource;\r\n\r\n    binding: IGLTextureBinding;\r\n\r\n    firstFrame: Frame;\r\n\r\n    frames: Map<string | number, Frame>;\r\n\r\n    data: unknown;\r\n\r\n    constructor (image?: TexImageSource, width?: number, height?: number, glConfig?: IGLTextureBindingConfig)\r\n    {\r\n        if (image)\r\n        {\r\n            width = image.width;\r\n            height = image.height;\r\n        }\r\n\r\n        this.image = image;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.frames = new Map();\r\n\r\n        this.data = {};\r\n\r\n        this.addFrame('__BASE', 0, 0, width, height);\r\n\r\n        BindingQueue.add(this, glConfig);\r\n    }\r\n\r\n    addFrame (key: string | number, x: number, y: number, width: number, height: number): Frame\r\n    {\r\n        if (this.frames.has(key))\r\n        {\r\n            return null;\r\n        }\r\n\r\n        const frame = new Frame(this, key, x, y, width, height);\r\n\r\n        this.frames.set(key, frame);\r\n\r\n        if (!this.firstFrame || this.firstFrame.key === '__BASE')\r\n        {\r\n            this.firstFrame = frame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    getFrame (key?: string | number | Frame): Frame\r\n    {\r\n        //  null, undefined, empty string, zero\r\n        if (!key)\r\n        {\r\n            return this.firstFrame;\r\n        }\r\n\r\n        if (key instanceof Frame)\r\n        {\r\n            key = key.key;\r\n        }\r\n\r\n        let frame: Frame = this.frames.get(key);\r\n\r\n        if (!frame)\r\n        {\r\n            console.warn(`Frame missing: ${key}`);\r\n\r\n            frame = this.firstFrame;\r\n        }\r\n\r\n        return frame;\r\n    }\r\n\r\n    setSize (width: number, height: number): void\r\n    {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        const frame = this.frames.get('__BASE');\r\n\r\n        frame.setSize(width, height);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        if (this.binding)\r\n        {\r\n            this.binding.destroy();\r\n        }\r\n\r\n        this.frames.clear();\r\n\r\n        this.data = null;\r\n        this.image = null;\r\n        this.firstFrame = null;\r\n    }\r\n}\r\n", "import { GetHeight, GetResolution, GetWidth } from '../../../config/Size';\r\n\r\nimport { CreateAttributes } from './CreateAttributes';\r\nimport { CreateDepthBuffer } from '../fbo/CreateDepthBuffer';\r\nimport { CreateFramebuffer } from '../fbo/CreateFramebuffer';\r\nimport { CreateProgram } from './CreateProgram';\r\nimport { CreateShader } from './CreateShader';\r\nimport { CreateUniforms } from './CreateUniforms';\r\nimport { DefaultQuadAttributes } from './DefaultQuadAttributes';\r\nimport { DefaultQuadUniforms } from './DefaultQuadUniforms';\r\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\r\nimport { DeleteGLTexture } from '../textures/DeleteGLTexture';\r\nimport { DeleteShaders } from './DeleteShaders';\r\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { IShader } from './IShader';\r\nimport { IShaderConfig } from './IShaderConfig';\r\nimport { IVertexAttribPointer } from './IVertexAttribPointer';\r\nimport { SINGLE_QUAD_FRAG } from '../glsl/SINGLE_QUAD_FRAG';\r\nimport { SINGLE_QUAD_VERT } from '../glsl/SINGLE_QUAD_VERT';\r\nimport { Texture } from '../../../textures/Texture';\r\nimport { gl } from '../GL';\r\n\r\nexport class Shader implements IShader\r\n{\r\n    program: WebGLProgram;\r\n\r\n    attributes: Map<string, IVertexAttribPointer>;\r\n\r\n    uniforms: Map<string, unknown>;\r\n\r\n    uniformSetters: Map<string, Function>;\r\n\r\n    texture: Texture;\r\n\r\n    framebuffer: WebGLFramebuffer;\r\n\r\n    renderToFramebuffer: boolean = false;\r\n\r\n    renderToDepthbuffer: boolean = false;\r\n\r\n    constructor (config?: IShaderConfig)\r\n    {\r\n        if (config)\r\n        {\r\n            this.fromConfig(config);\r\n        }\r\n    }\r\n\r\n    fromConfig (config: IShaderConfig): void\r\n    {\r\n        const {\r\n            attributes = DefaultQuadAttributes,\r\n            fragmentShader = SINGLE_QUAD_FRAG,\r\n            height = GetHeight(),\r\n            renderToFramebuffer = false,\r\n            renderToDepthbuffer = false,\r\n            resolution = GetResolution(),\r\n            vertexShader = SINGLE_QUAD_VERT,\r\n            width = GetWidth(),\r\n            uniforms = DefaultQuadUniforms\r\n        } = config;\r\n\r\n        this.create(fragmentShader, vertexShader, uniforms, attributes);\r\n\r\n        if (renderToFramebuffer)\r\n        {\r\n            this.renderToFramebuffer = true;\r\n\r\n            const texture = new Texture(null, width * resolution, height * resolution);\r\n            const binding = new GLTextureBinding(texture);\r\n\r\n            texture.binding = binding;\r\n\r\n            binding.framebuffer = CreateFramebuffer(binding.texture);\r\n\r\n            if (renderToDepthbuffer)\r\n            {\r\n                this.renderToDepthbuffer = true;\r\n\r\n                binding.depthbuffer = CreateDepthBuffer(binding.framebuffer, texture.width, texture.height);\r\n            }\r\n\r\n            this.texture = texture;\r\n            this.framebuffer = binding.framebuffer;\r\n        }\r\n    }\r\n\r\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\r\n    {\r\n        const fragmentShader = CreateShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\r\n        const vertexShader = CreateShader(vertexShaderSource, gl.VERTEX_SHADER);\r\n\r\n        if (!fragmentShader || !vertexShader)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const program = CreateProgram(fragmentShader, vertexShader);\r\n\r\n        if (!program)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const currentProgram = gl.getParameter(gl.CURRENT_PROGRAM);\r\n\r\n        gl.useProgram(program);\r\n\r\n        this.program = program;\r\n\r\n        this.uniformSetters = CreateUniforms(program);\r\n\r\n        this.uniforms = new Map();\r\n\r\n        //  Copy starting values from the config object to the uniforms map\r\n        for (const [ key, value ] of Object.entries(uniforms))\r\n        {\r\n            this.uniforms.set(key, value);\r\n        }\r\n\r\n        this.attributes = CreateAttributes(program, attribs);\r\n\r\n        gl.useProgram(currentProgram);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    updateUniforms (renderPass: IRenderPass): void\r\n    {\r\n        //  Use this to set any extra uniform values prior to the bind\r\n    }\r\n\r\n    bind (renderPass: IRenderPass): boolean\r\n    {\r\n        this.updateUniforms(renderPass);\r\n\r\n        return this.setUniforms(renderPass);\r\n    }\r\n\r\n    setUniform (key: string, value: unknown): void\r\n    {\r\n        const uniforms = this.uniforms;\r\n\r\n        if (uniforms.has(key))\r\n        {\r\n            uniforms.set(key, value);\r\n\r\n            const setter = this.uniformSetters.get(key);\r\n\r\n            setter(value);\r\n        }\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    setUniforms (renderPass: IRenderPass): boolean\r\n    {\r\n        if (!this.program)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        gl.useProgram(this.program);\r\n\r\n        const uniforms = this.uniforms;\r\n\r\n        for (const [ name, setter ] of this.uniformSetters.entries())\r\n        {\r\n            setter(uniforms.get(name));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    //  stride = vertexByteSize\r\n    setAttributes (renderPass: IRenderPass): void\r\n    {\r\n        if (this.program)\r\n        {\r\n            const stride = renderPass.currentVertexBuffer.vertexByteSize;\r\n\r\n            this.attributes.forEach(attrib =>\r\n            {\r\n                gl.vertexAttribPointer(attrib.index, attrib.size, attrib.type, attrib.normalized, stride, attrib.offset);\r\n            });\r\n        }\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        DeleteShaders(this.program);\r\n        DeleteGLTexture(this.texture);\r\n        DeleteFramebuffer(this.framebuffer);\r\n\r\n        this.uniforms.clear();\r\n        this.uniformSetters.clear();\r\n        this.attributes.clear();\r\n\r\n        this.program = null;\r\n        this.texture = null;\r\n        this.framebuffer = null;\r\n    }\r\n}\r\n", "import { DefaultQuadAttributes } from './DefaultQuadAttributes';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { IShader } from './IShader';\r\nimport { IShaderConfig } from './IShaderConfig';\r\nimport { Shader } from './Shader';\r\n\r\nexport class QuadShader extends Shader implements IShader\r\n{\r\n    constructor (config: IShaderConfig = {})\r\n    {\r\n        const shaderConfig = config;\r\n\r\n        shaderConfig.attributes = (!shaderConfig.attributes) ? DefaultQuadAttributes : shaderConfig.attributes;\r\n\r\n        super(shaderConfig);\r\n    }\r\n\r\n    bind (renderPass: IRenderPass): boolean\r\n    {\r\n        const uniforms = this.uniforms;\r\n\r\n        uniforms.set('uProjectionMatrix', renderPass.projectionMatrix.data);\r\n        uniforms.set('uCameraMatrix', renderPass.cameraMatrix.data);\r\n\r\n        return super.bind(renderPass);\r\n    }\r\n}\r\n", "import { DefaultQuadAttributes } from './DefaultQuadAttributes';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { IShader } from './IShader';\r\nimport { IShaderConfig } from './IShaderConfig';\r\nimport { QuadShader } from './QuadShader';\r\n\r\n//  A Quad Shader with built in uTime and uResolution uniforms\r\n\r\nexport class FXShader extends QuadShader implements IShader\r\n{\r\n    constructor (config: IShaderConfig = {})\r\n    {\r\n        const shaderConfig = config;\r\n\r\n        shaderConfig.attributes = (!shaderConfig.attributes) ? DefaultQuadAttributes : shaderConfig.attributes;\r\n\r\n        shaderConfig.renderToFramebuffer = true;\r\n\r\n        super(shaderConfig);\r\n    }\r\n\r\n    bind (renderPass: IRenderPass): boolean\r\n    {\r\n        const renderer = renderPass.renderer;\r\n\r\n        this.uniforms.set('uTime', performance.now());\r\n        this.uniforms.set('uResolution', [ renderer.width, renderer.height ]);\r\n\r\n        return super.bind(renderPass);\r\n    }\r\n}\r\n", "export const MULTI_QUAD_FRAG =\r\n`#define SHADER_NAME MULTI_QUAD_FRAG\r\n\r\nprecision highp float;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying float vTextureId;\r\nvarying vec4 vTintColor;\r\n\r\nuniform sampler2D uTexture[%count%];\r\n\r\nvoid main (void)\r\n{\r\n    vec4 color;\r\n\r\n    %forloop%\r\n\r\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\r\n}`;\r\n", "import { GetMaxTextures } from '../../../config/MaxTextures';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { IShaderConfig } from './IShaderConfig';\r\nimport { MULTI_QUAD_FRAG } from '../glsl/MULTI_QUAD_FRAG';\r\nimport { QuadShader } from './QuadShader';\r\n\r\nexport class MultiTextureQuadShader extends QuadShader\r\n{\r\n    constructor (config: IShaderConfig = {})\r\n    {\r\n        if (!config.fragmentShader)\r\n        {\r\n            config.fragmentShader = MULTI_QUAD_FRAG;\r\n        }\r\n\r\n        super(config);\r\n    }\r\n\r\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\r\n    {\r\n        const maxTextures = GetMaxTextures();\r\n\r\n        let src = '';\r\n\r\n        for (let i = 1; i < maxTextures; i++)\r\n        {\r\n            if (i > 1)\r\n            {\r\n                src += '\\n\\telse ';\r\n            }\r\n\r\n            if (i < maxTextures - 1)\r\n            {\r\n                src += `if (vTextureId < ${i}.5)`;\r\n            }\r\n\r\n            src += '\\n\\t{';\r\n            src += `\\n\\t\\tcolor = texture2D(uTexture[${i}], vTextureCoord);`;\r\n            src += '\\n\\t}';\r\n        }\r\n\r\n        fragmentShaderSource = fragmentShaderSource.replace(/%count%/gi, `${maxTextures}`);\r\n        fragmentShaderSource = fragmentShaderSource.replace(/%forloop%/gi, src);\r\n\r\n        super.create(fragmentShaderSource, vertexShaderSource, uniforms, attribs);\r\n    }\r\n\r\n    bind (renderPass: IRenderPass): boolean\r\n    {\r\n        this.uniforms.set('uTexture', renderPass.textureIndex);\r\n\r\n        return super.bind(renderPass);\r\n    }\r\n}\r\n", "import { CheckShaderMaxIfStatements } from './CheckShaderMaxIfStatements';\r\nimport { CreateAttributes } from './CreateAttributes';\r\nimport { CreateProgram } from './CreateProgram';\r\nimport { CreateShader } from './CreateShader';\r\nimport { CreateUniformSetter } from './CreateUniformSetter';\r\nimport { CreateUniforms } from './CreateUniforms';\r\nimport { DefaultQuadAttributes } from './DefaultQuadAttributes';\r\nimport { DefaultQuadUniforms } from './DefaultQuadUniforms';\r\nimport { DeleteShaders } from './DeleteShaders';\r\nimport { FXShader } from './FXShader';\r\nimport { MultiTextureQuadShader } from './MultiTextureQuadShader';\r\nimport { QuadShader } from './QuadShader';\r\nimport { Shader } from './Shader';\r\n\r\nexport {\r\n    CheckShaderMaxIfStatements,\r\n    CreateAttributes,\r\n    CreateProgram,\r\n    CreateShader,\r\n    CreateUniforms,\r\n    CreateUniformSetter,\r\n    DefaultQuadAttributes,\r\n    DefaultQuadUniforms,\r\n    DeleteShaders,\r\n    FXShader,\r\n    MultiTextureQuadShader,\r\n    Shader,\r\n    QuadShader\r\n};\r\n", "import { IRenderPass } from './IRenderPass';\r\n\r\nexport function SetDefaultBlendMode (renderPass: IRenderPass, enable: boolean, sfactor?: number, dfactor?: number): void\r\n{\r\n    const entry = { enable, sfactor, dfactor };\r\n\r\n    //  The default entry always goes into index zero\r\n    renderPass.blendModeStack[0] = entry;\r\n\r\n    renderPass.currentBlendMode = entry;\r\n    renderPass.defaultBlendMode = entry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport function SetDefaultFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer = null, viewport?: Rectangle): void\r\n{\r\n    const entry = { framebuffer, viewport };\r\n\r\n    //  The default entry always goes into index zero\r\n    renderPass.framebufferStack[0] = entry;\r\n\r\n    renderPass.currentFramebuffer = entry;\r\n    renderPass.defaultFramebuffer = entry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { IShader } from '../shaders/IShader';\r\n\r\nexport function SetDefaultShader (renderPass: IRenderPass, shader: IShader, textureID?: number): void\r\n{\r\n    const entry = { shader, textureID };\r\n\r\n    //  The default entry always goes into index zero\r\n    renderPass.shaderStack[0] = entry;\r\n\r\n    renderPass.currentShader = entry;\r\n    renderPass.defaultShader = entry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\n\r\nexport function SetDefaultVertexBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): void\r\n{\r\n    //  The default entry always goes into index zero\r\n    renderPass.vertexBufferStack[0] = buffer;\r\n\r\n    renderPass.currentVertexBuffer = buffer;\r\n    renderPass.defaultVertexBuffer = buffer;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport function SetDefaultViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\r\n{\r\n    const entry = new Rectangle(x, y, width, height);\r\n\r\n    //  The default entry always goes into index zero\r\n    renderPass.viewportStack[0] = entry;\r\n\r\n    renderPass.currentViewport = entry;\r\n    renderPass.defaultViewport = entry;\r\n}\r\n", "import { CreateTempTextures } from './CreateTempTextures';\r\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { IShader } from '../shaders/IShader';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\nimport { IWebGLRenderer } from '../IWebGLRenderer';\r\nimport { IndexedVertexBuffer } from '../buffers/IndexedVertexBuffer';\r\nimport { Matrix4 } from '../../../math/mat4/Matrix4';\r\nimport { MultiTextureQuadShader } from '../shaders';\r\nimport { Ortho } from '../../../math/mat4/Ortho';\r\nimport { QuadShader } from '../shaders/QuadShader';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\nimport { SetDefaultBlendMode } from './SetDefaultBlendMode';\r\nimport { SetDefaultFramebuffer } from './SetDefaultFramebuffer';\r\nimport { SetDefaultShader } from './SetDefaultShader';\r\nimport { SetDefaultVertexBuffer } from './SetDefaultVertexBuffer';\r\nimport { SetDefaultViewport } from './SetDefaultViewport';\r\nimport { StaticCamera } from '../../../camera';\r\nimport { batchSize } from '../../../config/BatchSize';\r\n\r\nexport type FramebufferStackEntry = {\r\n    framebuffer: WebGLFramebuffer;\r\n    viewport?: Rectangle;\r\n};\r\n\r\nexport type ShaderStackEntry = {\r\n    shader: IShader;\r\n    textureID?: number;\r\n};\r\n\r\nexport type BlendModeStackEntry = {\r\n    enable: boolean;\r\n    sfactor?: number;\r\n    dfactor?: number;\r\n};\r\n\r\nexport class RenderPass implements IRenderPass\r\n{\r\n    renderer: IWebGLRenderer;\r\n\r\n    projectionMatrix: Matrix4;\r\n    cameraMatrix: Matrix4;\r\n\r\n    count: number = 0;\r\n    prevCount: number = 0;\r\n    flushTotal: number = 0;\r\n\r\n    //  The maximum number of combined image units the GPU supports\r\n    //  According to the WebGL spec the minimum is 8\r\n    maxTextures: number = 0;\r\n    currentActiveTexture: number = 0;\r\n    startActiveTexture: number = 0;\r\n    tempTextures: WebGLTexture[] = [];\r\n    textureIndex: number[] = [];\r\n\r\n    //  FBO\r\n    framebufferStack: FramebufferStackEntry[] = [];\r\n    currentFramebuffer: FramebufferStackEntry = null;\r\n    defaultFramebuffer: FramebufferStackEntry = null;\r\n\r\n    //  VBO\r\n    vertexBufferStack: IVertexBuffer[] = [];\r\n    currentVertexBuffer: IVertexBuffer = null;\r\n    defaultVertexBuffer: IVertexBuffer = null;\r\n\r\n    //  Shader\r\n    shaderStack: ShaderStackEntry[] = [];\r\n    currentShader: ShaderStackEntry = null;\r\n    defaultShader: ShaderStackEntry = null;\r\n\r\n    //  Viewport\r\n    viewportStack: Rectangle[] = [];\r\n    currentViewport: Rectangle = null;\r\n    defaultViewport: Rectangle = null;\r\n\r\n    //  Blend Mode\r\n    blendModeStack: BlendModeStackEntry[] = [];\r\n    currentBlendMode: BlendModeStackEntry = null;\r\n    defaultBlendMode: BlendModeStackEntry = null;\r\n\r\n    //  Single Texture Quad Shader + Camera\r\n    quadShader: IShader;\r\n    quadBuffer: IVertexBuffer;\r\n    quadCamera: IBaseCamera;\r\n\r\n    //  Current 2D Camera\r\n    current2DCamera: IBaseCamera;\r\n\r\n    constructor (renderer: IWebGLRenderer)\r\n    {\r\n        this.renderer = renderer;\r\n\r\n        this.projectionMatrix = new Matrix4();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    //  TODO - Call when context is lost and restored\r\n    reset (): void\r\n    {\r\n        const gl = this.renderer.gl;\r\n\r\n        const indexLayout = [ 0, 1, 2, 2, 3, 0 ];\r\n\r\n        //  TODO - If already created, delete shaders / buffers first (i.e. during context loss)\r\n\r\n        //  Default QuadShader (for FBO drawing)\r\n\r\n        this.quadShader = new QuadShader();\r\n        this.quadBuffer = new IndexedVertexBuffer({ isDynamic: false, indexLayout });\r\n        this.quadCamera = new StaticCamera();\r\n\r\n        //  Default settings\r\n\r\n        CreateTempTextures(this);\r\n\r\n        SetDefaultFramebuffer(this);\r\n        SetDefaultBlendMode(this, true, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n        SetDefaultVertexBuffer(this, new IndexedVertexBuffer({ batchSize, indexLayout }));\r\n        SetDefaultShader(this, new MultiTextureQuadShader());\r\n    }\r\n\r\n    resize (width: number, height: number): void\r\n    {\r\n        //  TODO - -1 to 1?\r\n        Ortho(0, width, height, 0, -1000, 1000, this.projectionMatrix);\r\n\r\n        this.quadCamera.reset();\r\n\r\n        SetDefaultViewport(this, 0, 0, width, height);\r\n    }\r\n}\r\n", "import { BlendModeStackEntry } from './RenderPass';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function AddBlendMode (renderPass: IRenderPass, enable: boolean, sfactor?: number, dfactor?: number): BlendModeStackEntry\r\n{\r\n    const entry = { enable, sfactor, dfactor };\r\n\r\n    renderPass.blendModeStack.push(entry);\r\n\r\n    return entry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { IShader } from '../shaders/IShader';\r\nimport { ShaderStackEntry } from './RenderPass';\r\n\r\nexport function AddShader (renderPass: IRenderPass, shader: IShader, textureID?: number): ShaderStackEntry\r\n{\r\n    const stackEntry = { shader, textureID };\r\n\r\n    renderPass.shaderStack.push(stackEntry);\r\n\r\n    return stackEntry;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\n\r\nexport function AddVertexBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): IVertexBuffer\r\n{\r\n    renderPass.vertexBufferStack.push(buffer);\r\n\r\n    return buffer;\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { ShaderStackEntry } from '../shaders/ShaderStackEntry';\r\n\r\nexport function BindShader (renderPass: IRenderPass, entry?: ShaderStackEntry): void\r\n{\r\n    if (!entry)\r\n    {\r\n        entry = renderPass.currentShader;\r\n    }\r\n\r\n    const success = entry.shader.bind(renderPass, entry.textureID);\r\n\r\n    if (success)\r\n    {\r\n        entry.shader.setAttributes(renderPass);\r\n    }\r\n}\r\n", "import { BindShader } from './BindShader';\r\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function Begin (renderPass: IRenderPass, camera2D: IBaseCamera): void\r\n{\r\n    renderPass.current2DCamera = camera2D;\r\n    renderPass.cameraMatrix = camera2D.matrix;\r\n\r\n    BindShader(renderPass);\r\n}\r\n", "import { BlendModeStackEntry } from './RenderPass';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { gl } from '../GL';\r\n\r\nexport function BindBlendMode (renderPass: IRenderPass, entry?: BlendModeStackEntry): void\r\n{\r\n    if (!entry)\r\n    {\r\n        entry = renderPass.currentBlendMode;\r\n    }\r\n\r\n    //  TODO - Only set if different\r\n    if (entry.enable)\r\n    {\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(entry.sfactor, entry.dfactor);\r\n    }\r\n    else\r\n    {\r\n        gl.disable(gl.BLEND);\r\n    }\r\n}\r\n", "import { Texture } from '../../../textures';\r\nimport { gl } from '../GL';\r\n\r\n//  directly bind a texture to an index slot\r\nexport function BindTexture (texture: Texture, index: number = 0): void\r\n{\r\n    const binding = texture.binding;\r\n\r\n    binding.setIndex(index);\r\n\r\n    gl.activeTexture(gl.TEXTURE0 + index);\r\n    gl.bindTexture(gl.TEXTURE_2D, binding.texture);\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\nimport { gl } from '../GL';\r\n\r\nexport function BindVertexBuffer (renderPass: IRenderPass, buffer?: IVertexBuffer): void\r\n{\r\n    if (!buffer)\r\n    {\r\n        buffer = renderPass.currentVertexBuffer;\r\n    }\r\n\r\n    //  TODO - Only bind if different\r\n    const indexBuffer = (buffer.indexed) ? buffer.indexBuffer : null;\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer.vertexBuffer);\r\n}\r\n", "import { BindVertexBuffer } from './BindVertexBuffer';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function PopVertexBuffer (renderPass: IRenderPass): void\r\n{\r\n    const stack = renderPass.vertexBufferStack;\r\n\r\n    //  > 1 because index 0 contains the default, which we don't want to remove\r\n    if (stack.length > 1)\r\n    {\r\n        stack.pop();\r\n    }\r\n\r\n    renderPass.currentVertexBuffer = stack[ stack.length - 1 ];\r\n\r\n    BindVertexBuffer(renderPass);\r\n}\r\n", "import { AddVertexBuffer } from './AddVertexBuffer';\r\nimport { BindVertexBuffer } from './BindVertexBuffer';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\n\r\nexport function SetVertexBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): void\r\n{\r\n    const entry = AddVertexBuffer(renderPass, buffer);\r\n\r\n    BindVertexBuffer(renderPass, entry);\r\n\r\n    renderPass.currentVertexBuffer = entry;\r\n}\r\n", "import { Flush } from './Flush';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\nimport { PopVertexBuffer } from './PopVertexBuffer';\r\nimport { SetVertexBuffer } from './SetVertexBuffer';\r\n\r\nexport function FlushBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): boolean\r\n{\r\n    SetVertexBuffer(renderPass, buffer);\r\n\r\n    //  Needs setting every time the buffer changes\r\n    renderPass.currentShader.shader.setAttributes(renderPass);\r\n\r\n    const result = Flush(renderPass, buffer.count);\r\n\r\n    //  TODO - Pop without binding previous buffer\r\n    PopVertexBuffer(renderPass);\r\n\r\n    return result;\r\n}\r\n", "import { BufferEntry } from '../draw/BufferEntry';\r\nimport { Flush } from './Flush';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function GetVertexBufferEntry (renderPass: IRenderPass, addToCount: number = 0): BufferEntry\r\n{\r\n    const buffer = renderPass.currentVertexBuffer;\r\n\r\n    //  If batch cannot take the size of this entry, flush it first\r\n    if (renderPass.count + addToCount >= buffer.batchSize)\r\n    {\r\n        Flush(renderPass);\r\n    }\r\n\r\n    const offset = (buffer.indexed) ? renderPass.count * buffer.entryElementSize : renderPass.count * buffer.vertexElementSize;\r\n\r\n    renderPass.count += addToCount;\r\n\r\n    return {\r\n        buffer,\r\n        F32: buffer.vertexViewF32,\r\n        U32: buffer.vertexViewU32,\r\n        offset\r\n    };\r\n}\r\n", "import { BlendModeStackEntry, FramebufferStackEntry, ShaderStackEntry } from './RenderPass';\r\n\r\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\r\nimport { IShader } from '../shaders/IShader';\r\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\r\nimport { IWebGLRenderer } from '../IWebGLRenderer';\r\nimport { Matrix4 } from '../../../math/mat4/Matrix4';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport interface IRenderPass\r\n{\r\n    renderer: IWebGLRenderer;\r\n    projectionMatrix: Matrix4;\r\n    cameraMatrix: Matrix4;\r\n\r\n    count: number;\r\n    prevCount: number;\r\n    flushTotal: number;\r\n\r\n    //  The maximum number of combined image units the GPU supports\r\n    //  According to the WebGL spec the minimum is 8\r\n    maxTextures: number;\r\n    currentActiveTexture: number;\r\n    startActiveTexture: number;\r\n    tempTextures: WebGLTexture[];\r\n    textureIndex: number[];\r\n\r\n    //  FBO\r\n    framebufferStack: FramebufferStackEntry[];\r\n    currentFramebuffer: FramebufferStackEntry;\r\n    defaultFramebuffer: FramebufferStackEntry;\r\n\r\n    //  VBO\r\n    vertexBufferStack: IVertexBuffer[];\r\n    currentVertexBuffer: IVertexBuffer;\r\n    defaultVertexBuffer: IVertexBuffer;\r\n\r\n    //  Shader\r\n    shaderStack: ShaderStackEntry[];\r\n    currentShader: ShaderStackEntry;\r\n    defaultShader: ShaderStackEntry;\r\n\r\n    //  Viewport\r\n    viewportStack: Rectangle[];\r\n    currentViewport: Rectangle;\r\n    defaultViewport: Rectangle;\r\n\r\n    //  Blend Mode\r\n    blendModeStack: BlendModeStackEntry[];\r\n    currentBlendMode: BlendModeStackEntry;\r\n    defaultBlendMode: BlendModeStackEntry;\r\n\r\n    quadShader: IShader;\r\n    quadBuffer: IVertexBuffer;\r\n    quadCamera: IBaseCamera;\r\n\r\n    current2DCamera: IBaseCamera;\r\n\r\n    reset (): void;\r\n    resize (width: number, height: number): void;\r\n}\r\n", "import { BindBlendMode } from './BindBlendMode';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function PopBlendMode (renderPass: IRenderPass): void\r\n{\r\n    const stack = renderPass.blendModeStack;\r\n\r\n    //  > 1 because index 0 contains the default, which we don't want to remove\r\n    if (stack.length > 1)\r\n    {\r\n        stack.pop();\r\n    }\r\n\r\n    renderPass.currentBlendMode = stack[ stack.length - 1 ];\r\n\r\n    BindBlendMode(renderPass);\r\n}\r\n", "import { BindShader } from './BindShader';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function PopShader (renderPass: IRenderPass): void\r\n{\r\n    const stack = renderPass.shaderStack;\r\n\r\n    //  > 1 because index 0 contains the default, which we don't want to remove\r\n    if (stack.length > 1)\r\n    {\r\n        stack.pop();\r\n    }\r\n\r\n    renderPass.currentShader = stack[ stack.length - 1 ];\r\n\r\n    BindShader(renderPass);\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { gl } from '../GL';\r\n\r\nexport function ResetTextures (renderPass: IRenderPass): void\r\n{\r\n    const temp = renderPass.tempTextures;\r\n\r\n    for (let i: number = 0; i < temp.length; i++)\r\n    {\r\n        gl.activeTexture(gl.TEXTURE0 + i);\r\n\r\n        gl.bindTexture(gl.TEXTURE_2D, temp[i]);\r\n    }\r\n\r\n    renderPass.currentActiveTexture = 1;\r\n\r\n    renderPass.startActiveTexture++;\r\n}\r\n", "import { AddBlendMode } from './AddBlendMode';\r\nimport { BindBlendMode } from './BindBlendMode';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function SetBlendMode (renderPass: IRenderPass, enable: boolean, sfactor?: number, dfactor?: number): void\r\n{\r\n    const entry = AddBlendMode(renderPass, enable, sfactor, dfactor);\r\n\r\n    BindBlendMode(renderPass, entry);\r\n\r\n    renderPass.currentBlendMode = entry;\r\n}\r\n", "import { AddShader } from './AddShader';\r\nimport { BindShader } from './BindShader';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { IShader } from '../shaders/IShader';\r\n\r\nexport function SetShader (renderPass: IRenderPass, shader: IShader, textureID?: number): void\r\n{\r\n    const entry = AddShader(renderPass, shader, textureID);\r\n\r\n    BindShader(renderPass, entry);\r\n\r\n    renderPass.currentShader = entry;\r\n}\r\n", "import { Flush } from './Flush';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { Texture } from '../../../textures';\r\nimport { gl } from '../GL';\r\n\r\n//  request the next available texture and bind it\r\n//  returns the new ID\r\nexport function SetTexture (renderPass: IRenderPass, texture: Texture): number\r\n{\r\n    const binding = texture.binding;\r\n    const currentActiveTexture = renderPass.currentActiveTexture;\r\n\r\n    if (binding.indexCounter < renderPass.startActiveTexture)\r\n    {\r\n        binding.indexCounter = renderPass.startActiveTexture;\r\n\r\n        if (currentActiveTexture < renderPass.maxTextures)\r\n        {\r\n            binding.setIndex(currentActiveTexture);\r\n\r\n            gl.activeTexture(gl.TEXTURE0 + currentActiveTexture);\r\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\r\n\r\n            renderPass.currentActiveTexture++;\r\n        }\r\n        else\r\n        {\r\n            //  We're out of textures, so flush the batch and reset back to 1\r\n            Flush(renderPass);\r\n\r\n            renderPass.startActiveTexture++;\r\n\r\n            binding.indexCounter = renderPass.startActiveTexture;\r\n\r\n            binding.setIndex(1);\r\n\r\n            gl.activeTexture(gl.TEXTURE1);\r\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\r\n\r\n            renderPass.currentActiveTexture = 2;\r\n        }\r\n    }\r\n\r\n    return binding.index;\r\n}\r\n", "import { BindBlendMode } from './BindBlendMode';\r\nimport { BindFramebuffer } from './BindFramebuffer';\r\nimport { BindVertexBuffer } from './BindVertexBuffer';\r\nimport { BindViewport } from './BindViewport';\r\nimport { IRenderPass } from './IRenderPass';\r\n\r\nexport function Start (renderPass: IRenderPass): void\r\n{\r\n    renderPass.current2DCamera = renderPass.quadCamera;\r\n    renderPass.cameraMatrix = renderPass.quadCamera.matrix;\r\n\r\n    renderPass.count = 0;\r\n    renderPass.flushTotal = 0;\r\n\r\n    BindFramebuffer(renderPass, false, renderPass.defaultFramebuffer);\r\n    BindBlendMode(renderPass, renderPass.defaultBlendMode);\r\n    BindViewport(renderPass, renderPass.defaultViewport);\r\n    BindVertexBuffer(renderPass, renderPass.defaultVertexBuffer);\r\n}\r\n", "import { IRenderPass } from './IRenderPass';\r\nimport { gl } from '../GL';\r\n\r\nexport function UnbindTexture (renderPass: IRenderPass, index: number = 0): void\r\n{\r\n    gl.activeTexture(gl.TEXTURE0 + index);\r\n    gl.bindTexture(gl.TEXTURE_2D, renderPass.tempTextures[ index ]);\r\n\r\n    if (index > 0)\r\n    {\r\n        renderPass.startActiveTexture++;\r\n    }\r\n}\r\n", "import { AddBlendMode } from './AddBlendMode';\r\nimport { AddFramebuffer } from './AddFramebuffer';\r\nimport { AddShader } from './AddShader';\r\nimport { AddVertexBuffer } from './AddVertexBuffer';\r\nimport { AddViewport } from './AddViewport';\r\nimport { Begin } from './Begin';\r\nimport { BindBlendMode } from './BindBlendMode';\r\nimport { BindFramebuffer } from './BindFramebuffer';\r\nimport { BindShader } from './BindShader';\r\nimport { BindTexture } from './BindTexture';\r\nimport { BindVertexBuffer } from './BindVertexBuffer';\r\nimport { BindViewport } from './BindViewport';\r\nimport { CreateTempTextures } from './CreateTempTextures';\r\nimport { Draw } from './Draw';\r\nimport { End } from './End';\r\nimport { Flush } from './Flush';\r\nimport { FlushBuffer } from './FlushBuffer';\r\nimport { GetVertexBufferEntry } from './GetVertexBufferEntry';\r\nimport { IRenderPass } from './IRenderPass';\r\nimport { PopBlendMode } from './PopBlendMode';\r\nimport { PopFramebuffer } from './PopFramebuffer';\r\nimport { PopShader } from './PopShader';\r\nimport { PopVertexBuffer } from './PopVertexBuffer';\r\nimport { PopViewport } from './PopViewport';\r\nimport { ProcessBindingQueue } from './ProcessBindingQueue';\r\nimport { RenderPass } from './RenderPass';\r\nimport { ResetTextures } from './ResetTextures';\r\nimport { SetBlendMode } from './SetBlendMode';\r\nimport { SetDefaultBlendMode } from './SetDefaultBlendMode';\r\nimport { SetDefaultFramebuffer } from './SetDefaultFramebuffer';\r\nimport { SetDefaultShader } from './SetDefaultShader';\r\nimport { SetDefaultVertexBuffer } from './SetDefaultVertexBuffer';\r\nimport { SetDefaultViewport } from './SetDefaultViewport';\r\nimport { SetFramebuffer } from './SetFramebuffer';\r\nimport { SetShader } from './SetShader';\r\nimport { SetTexture } from './SetTexture';\r\nimport { SetVertexBuffer } from './SetVertexBuffer';\r\nimport { SetViewport } from './SetViewport';\r\nimport { Start } from './Start';\r\nimport { UnbindTexture } from './UnbindTexture';\r\n\r\nexport {\r\n    AddBlendMode,\r\n    AddFramebuffer,\r\n    AddShader,\r\n    AddVertexBuffer,\r\n    AddViewport,\r\n    Begin,\r\n    BindBlendMode,\r\n    BindFramebuffer,\r\n    BindShader,\r\n    BindTexture,\r\n    BindVertexBuffer,\r\n    BindViewport,\r\n    CreateTempTextures,\r\n    Draw,\r\n    End,\r\n    Flush,\r\n    FlushBuffer,\r\n    GetVertexBufferEntry,\r\n    IRenderPass,\r\n    PopBlendMode,\r\n    PopFramebuffer,\r\n    PopShader,\r\n    PopVertexBuffer,\r\n    PopViewport,\r\n    ProcessBindingQueue,\r\n    RenderPass,\r\n    ResetTextures,\r\n    SetBlendMode,\r\n    SetDefaultBlendMode,\r\n    SetDefaultFramebuffer,\r\n    SetDefaultShader,\r\n    SetDefaultVertexBuffer,\r\n    SetDefaultViewport,\r\n    SetFramebuffer,\r\n    SetShader,\r\n    SetTexture,\r\n    SetVertexBuffer,\r\n    SetViewport,\r\n    Start,\r\n    UnbindTexture\r\n};\r\n", "import { WebGLRenderer } from './WebGLRenderer';\r\n\r\nexport let instance: WebGLRenderer;\r\n\r\nexport const WebGLRendererInstance =\r\n{\r\n    get: (): WebGLRenderer =>\r\n    {\r\n        return instance;\r\n    },\r\n\r\n    set: (renderer: WebGLRenderer | undefined): void =>\r\n    {\r\n        instance = renderer;\r\n    }\r\n};\r\n", "import { GetHeight, GetResolution, GetWidth } from '../../config/Size';\r\n\r\nimport { End } from './renderpass/End';\r\nimport { GL } from './GL';\r\nimport { GetBackgroundColor } from '../../config/BackgroundColor';\r\nimport { GetRGBArray } from './colors/GetRGBArray';\r\nimport { GetWebGLContext } from '../../config/WebGLContext';\r\nimport { IRenderPass } from './renderpass/IRenderPass';\r\nimport { ISceneRenderData } from '../../scenes/ISceneRenderData';\r\nimport { ProcessBindingQueue } from './renderpass/ProcessBindingQueue';\r\nimport { RenderPass } from './renderpass/RenderPass';\r\nimport { Start } from './renderpass';\r\nimport { WebGLRendererInstance } from './WebGLRendererInstance';\r\n\r\nexport class WebGLRenderer\r\n{\r\n    canvas: HTMLCanvasElement;\r\n    gl: WebGLRenderingContext;\r\n\r\n    renderPass: IRenderPass;\r\n\r\n    clearColor = [ 0, 0, 0, 1 ];\r\n\r\n    width: number;\r\n    height: number;\r\n    resolution: number;\r\n\r\n    clearBeforeRender: boolean = true;\r\n    optimizeRedraw: boolean = false;\r\n    autoResize: boolean = true;\r\n\r\n    contextLost: boolean = false;\r\n\r\n    constructor ()\r\n    {\r\n        this.width = GetWidth();\r\n        this.height = GetHeight();\r\n        this.resolution = GetResolution();\r\n\r\n        this.setBackgroundColor(GetBackgroundColor());\r\n\r\n        const canvas = document.createElement('canvas');\r\n\r\n        canvas.addEventListener('webglcontextlost', (event) => this.onContextLost(event), false);\r\n        canvas.addEventListener('webglcontextrestored', () => this.onContextRestored(), false);\r\n\r\n        this.canvas = canvas;\r\n\r\n        this.initContext();\r\n\r\n        //  By this stage the context is available\r\n        WebGLRendererInstance.set(this);\r\n\r\n        this.renderPass = new RenderPass(this);\r\n\r\n        this.resize(this.width, this.height, this.resolution);\r\n    }\r\n\r\n    initContext (): void\r\n    {\r\n        const gl = this.canvas.getContext('webgl', GetWebGLContext());\r\n\r\n        GL.set(gl);\r\n\r\n        this.gl = gl;\r\n\r\n        gl.disable(gl.DEPTH_TEST);\r\n        gl.disable(gl.CULL_FACE);\r\n    }\r\n\r\n    resize (width: number, height: number, resolution: number = 1): void\r\n    {\r\n        const calcWidth = width * resolution;\r\n        const calcHeight = height * resolution;\r\n\r\n        this.width = calcWidth;\r\n        this.height = calcHeight;\r\n        this.resolution = resolution;\r\n\r\n        const canvas = this.canvas;\r\n\r\n        canvas.width = calcWidth;\r\n        canvas.height = calcHeight;\r\n\r\n        if (this.autoResize)\r\n        {\r\n            canvas.style.width = width.toString() + 'px';\r\n            canvas.style.height = height.toString() + 'px';\r\n        }\r\n\r\n        this.renderPass.resize(calcWidth, calcHeight);\r\n    }\r\n\r\n    onContextLost (event: Event): void\r\n    {\r\n        event.preventDefault();\r\n\r\n        this.contextLost = true;\r\n    }\r\n\r\n    onContextRestored (): void\r\n    {\r\n        this.contextLost = false;\r\n\r\n        this.initContext();\r\n    }\r\n\r\n    setBackgroundColor (color: number): this\r\n    {\r\n        GetRGBArray(color, this.clearColor);\r\n\r\n        return this;\r\n    }\r\n\r\n    //  TODO - Remove?\r\n    reset (): void\r\n    {\r\n        // this.renderPass.reset();\r\n    }\r\n\r\n    render (renderData: ISceneRenderData): void\r\n    {\r\n        if (this.contextLost)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const gl = this.gl;\r\n        const renderPass = this.renderPass;\r\n\r\n        //  This is only here because if we don't do _something_ with the context, GL Spector can't see it.\r\n        //  Technically, we could move it below the dirty bail-out below.\r\n        // this.reset();\r\n\r\n        ProcessBindingQueue();\r\n\r\n        //  Cache 1 - Nothing dirty? Display the previous frame\r\n        if (this.optimizeRedraw && renderData.numDirtyFrames === 0 && renderData.numDirtyCameras === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if (this.clearBeforeRender)\r\n        {\r\n            const cls = this.clearColor;\r\n\r\n            gl.clearColor(cls[0], cls[1], cls[2], cls[3]);\r\n            gl.clear(gl.COLOR_BUFFER_BIT);\r\n        }\r\n\r\n        const worlds = renderData.worldData;\r\n\r\n        Start(renderPass);\r\n\r\n        for (let i: number = 0; i < worlds.length; i++)\r\n        {\r\n            const { world } = worlds[i];\r\n\r\n            world.renderGL(renderPass);\r\n\r\n            //  Stats sweep\r\n\r\n            world.postRenderGL(renderPass);\r\n        }\r\n\r\n        End(renderPass);\r\n\r\n        // eslint-disable-next-line no-debugger\r\n        // debugger;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        WebGLRendererInstance.set(undefined);\r\n    }\r\n}\r\n", "import { WebGLRenderer as Renderer } from '../renderer/webgl1/WebGLRenderer';\r\nimport { SetRenderer } from './SetRenderer';\r\n\r\nfunction SetWebGL (): () => void\r\n{\r\n    return (): void =>\r\n    {\r\n        SetRenderer(Renderer);\r\n    };\r\n}\r\n\r\nexport {\r\n    SetWebGL\r\n};\r\n", "import { BackgroundColor } from './BackgroundColor';\r\nimport { Banner } from './Banner';\r\nimport { BatchSize } from './BatchSize';\r\nimport { CanvasContext } from './CanvasContext';\r\nimport { DefaultOrigin } from './DefaultOrigin';\r\nimport { GetBackgroundColor } from './BackgroundColor';\r\nimport { GetBanner } from './Banner';\r\nimport { GetCanvasContext } from './CanvasContext';\r\nimport { GetHeight } from './Size';\r\nimport { GetMaxTextures } from './MaxTextures';\r\nimport { GetParent } from './Parent';\r\nimport { GetRenderer } from './SetRenderer';\r\nimport { GetResolution } from './Size';\r\nimport { GetScenes } from './Scenes';\r\nimport { GetWebGLContext } from './WebGLContext';\r\nimport { GetWidth } from './Size';\r\nimport { MaxTextures } from './MaxTextures';\r\nimport { Parent } from './Parent';\r\nimport { Scenes } from './Scenes';\r\nimport { SetCanvas } from './SetCanvas';\r\nimport { SetMaxTextures } from './MaxTextures';\r\nimport { SetRenderer } from './SetRenderer';\r\nimport { SetWebGL } from './SetWebGL';\r\nimport { Size } from './Size';\r\nimport { WebGLContext } from './WebGLContext';\r\n\r\nexport {\r\n    BackgroundColor,\r\n    Banner,\r\n    BatchSize,\r\n    CanvasContext,\r\n    DefaultOrigin,\r\n    GetBackgroundColor,\r\n    GetBanner,\r\n    GetCanvasContext,\r\n    GetHeight,\r\n    GetMaxTextures,\r\n    GetParent,\r\n    GetRenderer,\r\n    GetResolution,\r\n    GetScenes,\r\n    GetWebGLContext,\r\n    GetWidth,\r\n    MaxTextures,\r\n    Parent,\r\n    Scenes,\r\n    SetCanvas,\r\n    SetMaxTextures,\r\n    SetRenderer,\r\n    SetWebGL,\r\n    Size,\r\n    WebGLContext\r\n};\r\n", "import { GetElement } from './GetElement';\r\n\r\nexport function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\r\n{\r\n    const target: HTMLElement = GetElement(parent);\r\n\r\n    target.appendChild(element);\r\n\r\n    return element;\r\n}\r\n", "export function DOMContentLoaded (callback: () => void): void\r\n{\r\n    const readyState = document.readyState;\r\n\r\n    if (readyState === 'complete' || readyState === 'interactive')\r\n    {\r\n        callback();\r\n\r\n        return;\r\n    }\r\n\r\n    const check = (): void =>\r\n    {\r\n        document.removeEventListener('deviceready', check, true);\r\n        document.removeEventListener('DOMContentLoaded', check, true);\r\n        window.removeEventListener('load', check, true);\r\n\r\n        callback();\r\n    };\r\n\r\n    // TODO - Swap is IsCordova call\r\n\r\n    if (!document.body)\r\n    {\r\n        window.setTimeout(check, 20);\r\n    }\r\n    else if (window.hasOwnProperty('cordova'))\r\n    {\r\n        document.addEventListener('deviceready', check, true);\r\n    }\r\n    else\r\n    {\r\n        document.addEventListener('DOMContentLoaded', check, true);\r\n        window.addEventListener('load', check, true);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Takes the given data string and parses it as XML using the native DOMParser interface.\r\n * The parsed XML object is returned, or `null` if there was an error while parsing the data.\r\n *\r\n * @function Phaser.DOM.ParseXML\r\n * @since 3.0.0\r\n *\r\n * @param {string} data - The XML source stored in a string.\r\n *\r\n * @return {?XMLDocument} The parsed XML data, or `null` if the data could not be parsed.\r\n */\r\nexport function ParseXML (data: string): XMLDocument | null\r\n{\r\n    let xml: XMLDocument;\r\n\r\n    try\r\n    {\r\n        const parser = new DOMParser();\r\n\r\n        xml = parser.parseFromString(data, 'text/xml');\r\n\r\n        if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length)\r\n        {\r\n            return null;\r\n        }\r\n        else\r\n        {\r\n            return xml;\r\n        }\r\n    }\r\n    catch (error)\r\n    {\r\n        return null;\r\n    }\r\n}\r\n", "export function RemoveFromDOM (element: HTMLElement): void\r\n{\r\n    if (element.parentNode)\r\n    {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n", "import { AddToDOM } from './AddToDOM';\r\nimport { DOMContentLoaded } from './DOMContentLoaded';\r\nimport { GetElement } from './GetElement';\r\nimport { ParseXML } from './ParseXML';\r\nimport { RemoveFromDOM } from './RemoveFromDOM';\r\n\r\n//  @namespace Phaser.DOM\r\n\r\nexport {\r\n    AddToDOM,\r\n    DOMContentLoaded,\r\n    GetElement,\r\n    ParseXML,\r\n    RemoveFromDOM\r\n};\r\n", "let _audioElement: HTMLAudioElement;\r\n\r\nexport function CanPlayAudioType (type: string, audioElement?: HTMLAudioElement): boolean\r\n{\r\n    if (!audioElement)\r\n    {\r\n        if (!_audioElement)\r\n        {\r\n            _audioElement = document.createElement('audio');\r\n        }\r\n\r\n        audioElement = _audioElement;\r\n    }\r\n\r\n    return (audioElement && audioElement.canPlayType(type) !== '');\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayM4A (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return (\r\n        CanPlayAudioType('audio/x-m4a', audioElement) ||\r\n        CanPlayAudioType('audio/aac', audioElement)\r\n    );\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayMP3 (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return CanPlayAudioType('audio/mpeg; codecs=\"mp3\"', audioElement);\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayOGG (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return CanPlayAudioType('audio/ogg; codecs=\"vorbis\"', audioElement);\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayOpus (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return (\r\n        CanPlayAudioType('audio/ogg; codecs=\"opus\"', audioElement) ||\r\n        CanPlayAudioType('audio/webm; codecs=\"opus\"', audioElement)\r\n    );\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayWAV (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return CanPlayAudioType('audio/wav; codecs=\"1\"', audioElement);\r\n}\r\n", "import { CanPlayAudioType } from './CanPlayAudioType';\r\n\r\nexport function CanPlayWebM (audioElement?: HTMLAudioElement): boolean\r\n{\r\n    return CanPlayAudioType('audio/webm; codecs=\"vorbis\"', audioElement);\r\n}\r\n", "export function HasAudio (): boolean\r\n{\r\n    return (window && window.hasOwnProperty('Audio'));\r\n}\r\n", "export function HasWebAudio (): boolean\r\n{\r\n    return (\r\n        window &&\r\n        (window.hasOwnProperty('AudioContext') || window.hasOwnProperty('webkitAudioContext'))\r\n    );\r\n}\r\n", "import { CanPlayM4A } from './CanPlayM4A';\r\nimport { CanPlayMP3 } from './CanPlayMP3';\r\nimport { CanPlayOGG } from './CanPlayOGG';\r\nimport { CanPlayOpus } from './CanPlayOpus';\r\nimport { CanPlayWAV } from './CanPlayWAV';\r\nimport { CanPlayWebM } from './CanPlayWebM';\r\nimport { HasAudio } from './HasAudio';\r\nimport { HasWebAudio } from './HasWebAudio';\r\nimport { IDeviceAudioResult } from './IDeviceAudioResult';\r\n\r\nexport function GetAudio (): IDeviceAudioResult\r\n{\r\n    const result: IDeviceAudioResult = {\r\n        audioData: HasAudio(),\r\n        m4a: false,\r\n        mp3: false,\r\n        ogg: false,\r\n        opus: false,\r\n        wav: false,\r\n        webAudio: HasWebAudio(),\r\n        webm: false\r\n    };\r\n\r\n    if (result.audioData)\r\n    {\r\n        result.m4a = CanPlayM4A();\r\n        result.mp3 = CanPlayMP3();\r\n        result.ogg = CanPlayOGG();\r\n        result.opus = CanPlayOpus();\r\n        result.wav = CanPlayWAV();\r\n        result.webm = CanPlayWebM();\r\n    }\r\n\r\n    return result;\r\n}\r\n", "//  @namespace Phaser.Device.Audio\r\n\r\nimport { CanPlayAudioType } from './CanPlayAudioType';\r\nimport { CanPlayM4A } from './CanPlayM4A';\r\nimport { CanPlayMP3 } from './CanPlayMP3';\r\nimport { CanPlayOGG } from './CanPlayOGG';\r\nimport { CanPlayOpus } from './CanPlayOpus';\r\nimport { CanPlayWAV } from './CanPlayWAV';\r\nimport { CanPlayWebM } from './CanPlayWebM';\r\nimport { GetAudio } from './GetAudio';\r\nimport { HasAudio } from './HasAudio';\r\nimport { HasWebAudio } from './HasWebAudio';\r\n\r\nexport {\r\n    CanPlayAudioType,\r\n    CanPlayM4A,\r\n    CanPlayMP3,\r\n    CanPlayOGG,\r\n    CanPlayOpus,\r\n    CanPlayWAV,\r\n    CanPlayWebM,\r\n    GetAudio,\r\n    HasAudio,\r\n    HasWebAudio\r\n};\r\n", "export function IsChrome (): { chrome: boolean; chromeVersion: number }\r\n{\r\n    const chrome = (/Chrome\\/(\\d+)/).test(navigator.userAgent);\r\n    const chromeVersion = (chrome) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        chrome,\r\n        chromeVersion\r\n    };\r\n}\r\n", "export function IsEdge (): { edge: boolean }\r\n{\r\n    const edge = (/Edge\\/\\d+/).test(navigator.userAgent);\r\n\r\n    return {\r\n        edge\r\n    };\r\n}\r\n", "export function IsFirefox (): { firefox: boolean; firefoxVersion: number }\r\n{\r\n    const firefox = (/Firefox\\D+(\\d+)/).test(navigator.userAgent);\r\n    const firefoxVersion = (firefox) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        firefox,\r\n        firefoxVersion\r\n    };\r\n}\r\n", "export function IsMSIE (): { ie: boolean; ieVersion: number }\r\n{\r\n    const ie = (/MSIE (\\d+\\.\\d+);/).test(navigator.userAgent);\r\n    const ieVersion = (ie) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        ie,\r\n        ieVersion\r\n    };\r\n}\r\n", "interface IGetIOSResult\r\n{\r\n    iOS: boolean;\r\n    iOSVersion: number;\r\n    iPhone: boolean;\r\n    iPad: boolean;\r\n}\r\n\r\nexport function IsiOS (): IGetIOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const result: IGetIOSResult = {\r\n        iOS: false,\r\n        iOSVersion: 0,\r\n        iPhone: false,\r\n        iPad: false\r\n    };\r\n\r\n    if ((/iP[ao]d|iPhone/i).test(ua))\r\n    {\r\n        const match = (/OS (\\d+)/).exec(navigator.appVersion);\r\n\r\n        result.iOS = true;\r\n        result.iOSVersion = parseInt(match[0], 10);\r\n        result.iPhone = (ua.toLowerCase().includes('iphone'));\r\n        result.iPad = (ua.toLowerCase().includes('ipad'));\r\n    }\r\n\r\n    return result;\r\n}\r\n", "import { IsiOS } from '../os/IsiOS';\r\n\r\nexport function IsMobileSafari (): { mobileSafari: boolean }\r\n{\r\n    const { iOS } = IsiOS();\r\n\r\n    const mobileSafari = (navigator.userAgent.includes('AppleWebKit') && iOS);\r\n\r\n    return {\r\n        mobileSafari\r\n    };\r\n}\r\n", "export function IsOpera (): { opera: boolean }\r\n{\r\n    const opera = navigator.userAgent.includes('Opera');\r\n\r\n    return {\r\n        opera\r\n    };\r\n}\r\n", "export function IsWindowsPhone (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return ((/Windows Phone/i).test(ua) || (/IEMobile/i).test(ua));\r\n}\r\n", "import { IsWindowsPhone } from '../os/IsWindowsPhone';\r\n\r\nexport function IsSafari (): { safari: boolean; safariVersion: number }\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const safari = (ua.includes('Safari') && !IsWindowsPhone());\r\n    const safariVersion = ((/Version\\/(\\d+)\\./).test(ua)) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        safari,\r\n        safariVersion\r\n    };\r\n}\r\n", "export function IsSilk (): { silk: boolean }\r\n{\r\n    const silk = navigator.userAgent.includes('Silk');\r\n\r\n    return {\r\n        silk\r\n    };\r\n}\r\n", "export function IsTrident (): { trident: boolean; tridentVersion: number; tridentIEVersion: number }\r\n{\r\n    const trident = (/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/).test(navigator.userAgent);\r\n    const tridentVersion = (trident) ? parseInt(RegExp.$1, 10) : 0;\r\n    const tridentIEVersion = (trident) ? parseInt(RegExp.$3, 10) : 0;\r\n\r\n    return {\r\n        trident,\r\n        tridentVersion,\r\n        tridentIEVersion\r\n    };\r\n}\r\n", "import { IDeviceBrowserResult } from './IDeviceBrowserResult';\r\nimport { IsChrome } from './IsChrome';\r\nimport { IsEdge } from './IsEdge';\r\nimport { IsFirefox } from './IsFirefox';\r\nimport { IsMSIE } from './IsMSIE';\r\nimport { IsMobileSafari } from './IsMobileSafari';\r\nimport { IsOpera } from './IsOpera';\r\nimport { IsSafari } from './IsSafari';\r\nimport { IsSilk } from './IsSilk';\r\nimport { IsTrident } from './IsTrident';\r\n\r\nexport function GetBrowser (): IDeviceBrowserResult\r\n{\r\n    const { chrome, chromeVersion } = IsChrome();\r\n    const { edge } = IsEdge();\r\n    const { firefox, firefoxVersion } = IsFirefox();\r\n    let { ie, ieVersion } = IsMSIE();\r\n    const { mobileSafari } = IsMobileSafari();\r\n    const { opera } = IsOpera();\r\n    const { safari, safariVersion } = IsSafari();\r\n    const { silk } = IsSilk();\r\n    const { trident, tridentVersion, tridentIEVersion } = IsTrident();\r\n\r\n    if (trident)\r\n    {\r\n        ie = true;\r\n        ieVersion = tridentIEVersion;\r\n    }\r\n\r\n    const result: IDeviceBrowserResult = {\r\n        chrome,\r\n        chromeVersion,\r\n        edge,\r\n        firefox,\r\n        firefoxVersion,\r\n        ie,\r\n        ieVersion,\r\n        mobileSafari,\r\n        opera,\r\n        safari,\r\n        safariVersion,\r\n        silk,\r\n        trident,\r\n        tridentVersion\r\n    };\r\n\r\n    return result;\r\n}\r\n", "import { GetBrowser } from './GetBrowser';\r\nimport { IsChrome } from './IsChrome';\r\nimport { IsEdge } from './IsEdge';\r\nimport { IsFirefox } from './IsFirefox';\r\nimport { IsMSIE } from './IsMSIE';\r\nimport { IsMobileSafari } from './IsMobileSafari';\r\nimport { IsOpera } from './IsOpera';\r\nimport { IsSafari } from './IsSafari';\r\nimport { IsSilk } from './IsSilk';\r\nimport { IsTrident } from './IsTrident';\r\n\r\nexport {\r\n    GetBrowser,\r\n    IsChrome,\r\n    IsEdge,\r\n    IsFirefox,\r\n    IsMobileSafari,\r\n    IsMSIE,\r\n    IsOpera,\r\n    IsSafari,\r\n    IsSilk,\r\n    IsTrident\r\n};\r\n", "export function IsAndroid (): boolean\r\n{\r\n    return (navigator.userAgent.includes('Android'));\r\n}\r\n", "export function IsChromeOS (): boolean\r\n{\r\n    return (navigator.userAgent.includes('CrOS'));\r\n}\r\n", "export function IsCordova (): boolean\r\n{\r\n    return (window.hasOwnProperty('cordova'));\r\n}\r\n", "export function IsCrosswalk (): boolean\r\n{\r\n    return (navigator.userAgent.includes('Crosswalk'));\r\n}\r\n", "export function IsEjecta (): boolean\r\n{\r\n    return (window.hasOwnProperty('ejecta'));\r\n}\r\n", "export function IsKindle (): boolean\r\n{\r\n    // This will NOT detect early generations of Kindle Fire, I think there is no reliable way...\r\n    // E.g. \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-us; Silk/1.1.0-80) AppleWebKit/533.16 (KHTML, like Gecko) Version/5.0 Safari/533.16 Silk-Accelerated=true\"\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return ((ua.includes('Kindle') || (/\\bKF[A-Z][A-Z]+/).test(ua) || (/Silk.*Mobile Safari/).test(ua)));\r\n}\r\n", "export function IsLinux (): boolean\r\n{\r\n    return (navigator.userAgent.includes('Linux'));\r\n}\r\n", "export function IsMacOS (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (ua.includes('Mac OS') && !(ua.includes('like Mac OS')));\r\n}\r\n", "export function IsNode (): boolean\r\n{\r\n    return (typeof process !== 'undefined' && typeof process.versions === 'object' && process.versions.hasOwnProperty('node'));\r\n}\r\n", "import { IsNode } from './IsNode';\r\n\r\nexport function IsNodeWebkit (): boolean\r\n{\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return (IsNode() && !!(process.versions as Record<string, any>).hasOwnProperty('node-webkit'));\r\n}\r\n", "export function IsWebApp (): boolean\r\n{\r\n    return (navigator.hasOwnProperty('standalone'));\r\n}\r\n", "export function IsWindows (): boolean\r\n{\r\n    return (navigator.userAgent.includes('Windows'));\r\n}\r\n", "import { IDeviceOSResult } from './IDeviceOSResult';\r\nimport { IsAndroid } from './IsAndroid';\r\nimport { IsChromeOS } from './IsChromeOS';\r\nimport { IsCordova } from './IsCordova';\r\nimport { IsCrosswalk } from './IsCrosswalk';\r\nimport { IsEjecta } from './IsEjecta';\r\nimport { IsKindle } from './IsKindle';\r\nimport { IsLinux } from './IsLinux';\r\nimport { IsMacOS } from './IsMacOS';\r\nimport { IsNode } from './IsNode';\r\nimport { IsNodeWebkit } from './IsNodeWebkit';\r\nimport { IsWebApp } from './IsWebApp';\r\nimport { IsWindows } from './IsWindows';\r\nimport { IsWindowsPhone } from './IsWindowsPhone';\r\nimport { IsiOS } from './IsiOS';\r\n\r\nexport function GetOS (): IDeviceOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const { iOS, iOSVersion, iPad, iPhone } = IsiOS();\r\n\r\n    const result: IDeviceOSResult = {\r\n        android: IsAndroid(),\r\n        chromeOS: IsChromeOS(),\r\n        cordova: IsCordova(),\r\n        crosswalk: IsCrosswalk(),\r\n        desktop: false,\r\n        ejecta: IsEjecta(),\r\n        iOS,\r\n        iOSVersion,\r\n        iPad,\r\n        iPhone,\r\n        kindle: IsKindle(),\r\n        linux: IsLinux(),\r\n        macOS: IsMacOS(),\r\n        node: IsNode(),\r\n        nodeWebkit: IsNodeWebkit(),\r\n        pixelRatio: 1,\r\n        webApp: IsWebApp(),\r\n        windows: IsWindows(),\r\n        windowsPhone: IsWindowsPhone()\r\n    };\r\n\r\n    if (result.windowsPhone)\r\n    {\r\n        result.android = false;\r\n        result.iOS = false;\r\n        result.macOS = false;\r\n        result.windows = true;\r\n    }\r\n\r\n    const silk: boolean = ua.includes('Silk');\r\n\r\n    if (result.windows || result.macOS || (result.linux && !silk) || result.chromeOS)\r\n    {\r\n        result.desktop = true;\r\n    }\r\n\r\n    //  Windows Phone / Table reset\r\n    if (result.windowsPhone || (((/Windows NT/i).test(ua)) && ((/Touch/i).test(ua))))\r\n    {\r\n        result.desktop = false;\r\n    }\r\n\r\n    return result;\r\n}\r\n", "import { GetOS } from './GetOS';\r\nimport { IsAndroid } from './IsAndroid';\r\nimport { IsChromeOS } from './IsChromeOS';\r\nimport { IsCordova } from './IsCordova';\r\nimport { IsCrosswalk } from './IsCrosswalk';\r\nimport { IsEjecta } from './IsEjecta';\r\nimport { IsKindle } from './IsKindle';\r\nimport { IsLinux } from './IsLinux';\r\nimport { IsMacOS } from './IsMacOS';\r\nimport { IsNode } from './IsNode';\r\nimport { IsNodeWebkit } from './IsNodeWebkit';\r\nimport { IsWebApp } from './IsWebApp';\r\nimport { IsWindows } from './IsWindows';\r\nimport { IsWindowsPhone } from './IsWindowsPhone';\r\nimport { IsiOS } from './IsiOS';\r\n\r\nexport {\r\n    GetOS,\r\n    IsAndroid,\r\n    IsChromeOS,\r\n    IsCordova,\r\n    IsCrosswalk,\r\n    IsEjecta,\r\n    IsiOS,\r\n    IsKindle,\r\n    IsLinux,\r\n    IsMacOS,\r\n    IsNode,\r\n    IsNodeWebkit,\r\n    IsWebApp,\r\n    IsWindows,\r\n    IsWindowsPhone\r\n};\r\n", "let _videoElement: HTMLVideoElement;\r\n\r\nexport function CanPlayVideoType (type: string, videoElement?: HTMLVideoElement): boolean\r\n{\r\n    if (!videoElement)\r\n    {\r\n        if (!_videoElement)\r\n        {\r\n            _videoElement = document.createElement('video');\r\n        }\r\n\r\n        videoElement = _videoElement;\r\n    }\r\n\r\n    return (videoElement && videoElement.canPlayType(type) !== '');\r\n}\r\n", "import { CanPlayVideoType } from './CanPlayVideoType';\r\n\r\nexport function CanPlayH264Video (videoElement?: HTMLVideoElement): boolean\r\n{\r\n    return CanPlayVideoType('video/mp4; codecs=\"avc1.42E01E\"', videoElement);\r\n}\r\n", "import { CanPlayVideoType } from './CanPlayVideoType';\r\n\r\nexport function CanPlayHLSVideo (videoElement?: HTMLVideoElement): boolean\r\n{\r\n    return CanPlayVideoType('application/x-mpegURL; codecs=\"avc1.42E01E\"', videoElement);\r\n}\r\n", "import { CanPlayVideoType } from './CanPlayVideoType';\r\n\r\nexport function CanPlayOGGVideo (videoElement?: HTMLVideoElement): boolean\r\n{\r\n    return CanPlayVideoType('video/ogg; codecs=\"theora\"', videoElement);\r\n}\r\n", "import { CanPlayVideoType } from './CanPlayVideoType';\r\n\r\nexport function CanPlayVP9Video (videoElement?: HTMLVideoElement): boolean\r\n{\r\n    return CanPlayVideoType('video/webm; codecs=\"vp9\"', videoElement);\r\n}\r\n", "import { CanPlayVideoType } from './CanPlayVideoType';\r\n\r\nexport function CanPlayWebMVideo (videoElement?: HTMLVideoElement): boolean\r\n{\r\n    return CanPlayVideoType('video/webm; codecs=\"vp8, vorbis\"', videoElement);\r\n}\r\n", "import { CanPlayH264Video } from './CanPlayH264Video';\r\nimport { CanPlayHLSVideo } from './CanPlayHLSVideo';\r\nimport { CanPlayOGGVideo } from './CanPlayOGGVideo';\r\nimport { CanPlayVP9Video } from './CanPlayVP9Video';\r\nimport { CanPlayWebMVideo } from './CanPlayWebMVideo';\r\nimport { IDeviceVideoResult } from './IDeviceVideoResult';\r\n\r\nexport function GetVideo (): IDeviceVideoResult\r\n{\r\n    return {\r\n        h264Video: CanPlayH264Video(),\r\n        hlsVideo: CanPlayHLSVideo(),\r\n        oggVideo: CanPlayOGGVideo(),\r\n        vp9Video: CanPlayVP9Video(),\r\n        webmVideo: CanPlayWebMVideo()\r\n    };\r\n}\r\n", "import { CanPlayH264Video } from './CanPlayH264Video';\r\nimport { CanPlayHLSVideo } from './CanPlayHLSVideo';\r\nimport { CanPlayOGGVideo } from './CanPlayOGGVideo';\r\nimport { CanPlayVP9Video } from './CanPlayVP9Video';\r\nimport { CanPlayVideoType } from './CanPlayVideoType';\r\nimport { CanPlayWebMVideo } from './CanPlayWebMVideo';\r\nimport { GetVideo } from './GetVideo';\r\n\r\nexport {\r\n    CanPlayH264Video,\r\n    CanPlayHLSVideo,\r\n    CanPlayOGGVideo,\r\n    CanPlayVP9Video,\r\n    CanPlayVideoType,\r\n    CanPlayWebMVideo,\r\n    GetVideo\r\n};\r\n", "//  @namespace Phaser.Device\r\n\r\nimport * as Audio from './audio';\r\nimport * as Browser from './browser';\r\nimport * as OS from './os';\r\nimport * as Video from './video';\r\n\r\nexport {\r\n    Audio,\r\n    Browser,\r\n    OS,\r\n    Video\r\n};\r\n\r\nexport * from './audio';\r\nexport * from './browser';\r\nexport * from './os';\r\nexport * from './video';\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using an iterative search.\r\n//  Does NOT include the parent in the results.\r\n\r\nexport function DepthFirstSearch (parent: IGameObject): IGameObject[]\r\n{\r\n    const stack: IGameObject[] = [ parent ];\r\n    const output: IGameObject[] = [];\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        const node = stack.shift();\r\n\r\n        output.push(node);\r\n\r\n        const numChildren = node.numChildren;\r\n\r\n        if (numChildren > 0)\r\n        {\r\n            for (let i = numChildren - 1; i >= 0; i--)\r\n            {\r\n                stack.unshift(node.children[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //  Remove the parent from the results\r\n    output.shift();\r\n\r\n    return output;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetChildIndex (parent: IGameObject, child: IGameObject): number\r\n{\r\n    return parent.children.indexOf(child);\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function RemoveChildAt (parent: IGameObject, index: number): IGameObject | undefined\r\n{\r\n    const children = parent.children;\r\n    let child: IGameObject;\r\n\r\n    if (index >= 0 && index < children.length)\r\n    {\r\n        const removed = children.splice(index, 1);\r\n\r\n        if (removed[0])\r\n        {\r\n            child = removed[0];\r\n            child.parent = null;\r\n        }\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChildAt } from './RemoveChildAt';\r\n\r\nexport function RemoveChild <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex > -1)\r\n    {\r\n        RemoveChildAt(parent, currentIndex);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { IBaseWorld } from '../../world/IBaseWorld';\r\nimport { IGameObject } from '../IGameObject';\r\n\r\nexport const AddedToWorldEvent: string = 'addedtoworld';\r\n\r\nexport type AddedToWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\r\n", "import { IGameObject } from '../IGameObject';\r\n\r\nexport const DestroyEvent: string = 'destroy';\r\n\r\nexport type DestroyEventHandler = <T extends IGameObject> (child: T) => void;\r\n", "import { IGameObject } from '../IGameObject';\r\n\r\nexport const PostUpdateEvent: string = 'postupdate';\r\n\r\nexport type PostUpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\r\n", "import { IBaseWorld } from '../../world/IBaseWorld';\r\nimport { IGameObject } from '../IGameObject';\r\n\r\nexport const RemovedFromWorldEvent: string = 'removedfromworld';\r\n\r\nexport type RemovedFromWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\r\n", "import { IGameObject } from '../IGameObject';\r\n\r\nexport const UpdateEvent: string = 'update';\r\n\r\nexport type UpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\r\n", "import { AddedToWorldEvent } from './AddedToWorldEvent';\r\nimport { DestroyEvent } from './DestroyEvent';\r\nimport { PostUpdateEvent } from './PostUpdateEvent';\r\nimport { RemovedFromWorldEvent } from './RemovedFromWorldEvent';\r\nimport { UpdateEvent } from './UpdateEvent';\r\n\r\nexport {\r\n    AddedToWorldEvent,\r\n    DestroyEvent,\r\n    PostUpdateEvent,\r\n    RemovedFromWorldEvent,\r\n    UpdateEvent\r\n};\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function Emit (emitter: IEventEmitter, event: string, ...args: unknown[]): boolean\r\n{\r\n    if (emitter.events.size === 0 || !emitter.events.has(event))\r\n    {\r\n        return false;\r\n    }\r\n\r\n    const listeners = emitter.events.get(event);\r\n\r\n    for (const ee of listeners)\r\n    {\r\n        ee.callback.apply(ee.context, args);\r\n\r\n        if (ee.once)\r\n        {\r\n            listeners.delete(ee);\r\n        }\r\n    }\r\n\r\n    if (listeners.size === 0)\r\n    {\r\n        emitter.events.delete(event);\r\n    }\r\n\r\n    return true;\r\n}\r\n", "import { AddedToWorldEvent, RemovedFromWorldEvent } from '../gameobjects/events';\r\n\r\nimport { Emit } from '../events/Emit';\r\nimport { IBaseWorld } from '../world/IBaseWorld';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetWorld (world: IBaseWorld, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        if (child.world)\r\n        {\r\n            Emit(child.world, RemovedFromWorldEvent, child, child.world);\r\n            Emit(child, RemovedFromWorldEvent, child, child.world);\r\n        }\r\n\r\n        child.world = world;\r\n\r\n        Emit(world, AddedToWorldEvent, child, world);\r\n        Emit(child, AddedToWorldEvent, child, world);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChild } from './RemoveChild';\r\nimport { SetWorld } from './SetWorld';\r\n\r\nexport function SetParent (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        if (child.parent)\r\n        {\r\n            RemoveChild(child.parent, child);\r\n        }\r\n\r\n        child.parent = parent;\r\n    });\r\n\r\n    const parentWorld = parent.world;\r\n\r\n    if (parentWorld)\r\n    {\r\n        //  Full list of all children, including sub-children\r\n        SetWorld(parentWorld, ...DepthFirstSearch(parent));\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SetParent } from './SetParent';\r\n\r\nexport function AddChild <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    parent.children.push(child);\r\n\r\n    SetParent(parent, child);\r\n\r\n    child.transform.updateWorld();\r\n\r\n    return child;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SetParent } from './SetParent';\r\n\r\nexport function AddChildAt <T extends IGameObject> (parent: IGameObject, index: number, child: T): T\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index >= 0 && index <= children.length)\r\n    {\r\n        SetParent(parent, child);\r\n\r\n        children.splice(index, 0, child);\r\n\r\n        child.transform.updateWorld();\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { AddChild } from './AddChild';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function AddChildren (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        AddChild(parent, child);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SetParent } from './SetParent';\r\n\r\nexport function AddChildrenAt (parent: IGameObject, index: number, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    if (index >= 0 && index <= parentChildren.length)\r\n    {\r\n        children.reverse().forEach(child =>\r\n        {\r\n            children.splice(index, 0, child);\r\n\r\n            SetParent(parent, child);\r\n\r\n            child.transform.updateWorld();\r\n        });\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function AddPosition (x: number, y: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.x += x;\r\n        child.y += y;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function AddRotation (rotation: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.rotation += rotation;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function AddScale (scaleX: number, scaleY: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.scaleX += scaleX;\r\n        child.scaleY += scaleY;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function AddSkew (skewX: number, skewY: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.skewX += skewX;\r\n        child.skewY += skewY;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "export const DIRTY_CONST = {\r\n\r\n    CLEAR: 0,\r\n    TRANSFORM: 1,\r\n    UPDATE: 2,\r\n    CHILD_CACHE: 4,\r\n    POST_RENDER: 8,\r\n    COLORS: 16,\r\n    BOUNDS: 32,\r\n    TEXTURE: 64,\r\n    FRAME: 128,\r\n    ALPHA: 256,\r\n    CHILD: 512,\r\n\r\n    //  Special combinations\r\n    DEFAULT: 1 + 2 + 16 + 32,\r\n\r\n    //  Reserved for future use:\r\n    //  1024\r\n    //  2048\r\n    //  4096\r\n    //  8192\r\n    //  16384\r\n    //  32768\r\n    //  65536\r\n    //  131072\r\n    //  262144\r\n    //  524288\r\n    //  1048576\r\n    //  2097152\r\n    //  4194304\r\n    //  8388608\r\n    //  16777216\r\n    //  33554432\r\n    //  67108864\r\n    //  134217728\r\n    //  268435456\r\n\r\n    //  Reserved for user use\r\n    USER1: 536870912,\r\n    USER2: 1073741824,\r\n    USER3: 2147483648,\r\n    USER4: 4294967296\r\n\r\n};\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function BringChildToTop <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex !== -1 && currentIndex < parentChildren.length)\r\n    {\r\n        parentChildren.splice(currentIndex, 1);\r\n        parentChildren.push(child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SearchEntry } from './SearchEntryType';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using a recursive search.\r\n//  Parents and children are grouped together.\r\n\r\nexport function DepthFirstSearchRecursiveNested (parent: IGameObject, output: SearchEntry[] = []): SearchEntry[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const node = parent.children[i];\r\n\r\n        const children: SearchEntry[] = [];\r\n\r\n        output.push({ node, children });\r\n\r\n        if (node.numChildren > 0)\r\n        {\r\n            DepthFirstSearchRecursiveNested(node, children);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { DepthFirstSearchRecursiveNested } from './DepthFirstSearchRecursiveNested';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SearchEntry } from './SearchEntryType';\r\n\r\nfunction GetInfo (entry: IGameObject): string\r\n{\r\n    const legend = (entry.numChildren > 0) ? 'Parent' :  'Child';\r\n\r\n    return `${legend} [ type=${entry.type}, name=${entry.name} ]`;\r\n}\r\n\r\nfunction LogChildren (entry: SearchEntry): void\r\n{\r\n    console.group(GetInfo(entry.node));\r\n\r\n    entry.children.forEach(child =>\r\n    {\r\n        if (child.children.length > 0)\r\n        {\r\n            LogChildren(child);\r\n        }\r\n        else\r\n        {\r\n            console.log(GetInfo(child.node));\r\n        }\r\n    });\r\n\r\n    console.groupEnd();\r\n}\r\n\r\nexport function ConsoleTreeChildren (parent: IGameObject): void\r\n{\r\n    const entries = DepthFirstSearchRecursiveNested(parent);\r\n\r\n    if (parent.world === parent)\r\n    {\r\n        console.group('World');\r\n    }\r\n    else\r\n    {\r\n        console.group(GetInfo(parent));\r\n    }\r\n\r\n    entries.forEach(entry =>\r\n    {\r\n        if (entry.children.length)\r\n        {\r\n            LogChildren(entry);\r\n        }\r\n        else\r\n        {\r\n            console.log(GetInfo(entry.node));\r\n        }\r\n    });\r\n\r\n    console.groupEnd();\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function CountMatchingChildren (parent: IGameObject, property: string | symbol, value?: never): number\r\n{\r\n    const children = parent.children;\r\n\r\n    let total = 0;\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            total++;\r\n        }\r\n    });\r\n\r\n    return total;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using a recursive search.\r\n//  Does NOT include the parent in the results.\r\n\r\nexport function DepthFirstSearchRecursive (parent: IGameObject, output: IGameObject[] = []): IGameObject[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const child = parent.children[i];\r\n\r\n        output.push(child);\r\n\r\n        if (child.numChildren > 0)\r\n        {\r\n            DepthFirstSearchRecursive(child, output);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function RemoveChildrenBetween (parent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\r\n{\r\n    const children = parent.children;\r\n\r\n    if (endIndex === undefined)\r\n    {\r\n        endIndex = children.length;\r\n    }\r\n\r\n    const range = endIndex - beginIndex;\r\n\r\n    if (range > 0 && range <= endIndex)\r\n    {\r\n        const removed = children.splice(beginIndex, range);\r\n\r\n        removed.forEach(child =>\r\n        {\r\n            child.parent = null;\r\n        });\r\n\r\n        return removed;\r\n    }\r\n    else\r\n    {\r\n        return [];\r\n    }\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\r\n\r\nexport function DestroyChildren (parent: IGameObject, beginIndex: number = 0, endIndex?: number): void\r\n{\r\n    const removed = RemoveChildrenBetween(parent, beginIndex, endIndex);\r\n\r\n    removed.forEach(child =>\r\n    {\r\n        child.destroy();\r\n    });\r\n}\r\n", "import { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function FindChildByName (parent: IGameObject, searchString: string): IGameObject | undefined\r\n{\r\n    const children = DepthFirstSearch(parent);\r\n    const regex = RegExp(searchString);\r\n\r\n    for (let i = 0; i < children.length; i++)\r\n    {\r\n        const child = children[i];\r\n\r\n        if (regex.test(child.name))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function FindChildrenByName (parent: IGameObject, searchString: string): IGameObject[]\r\n{\r\n    const children = DepthFirstSearch(parent);\r\n    const regex = RegExp(searchString);\r\n\r\n    const results: IGameObject[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        if (regex.test(child.name))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetAllChildren (parent: IGameObject, property?: string | symbol, value?: never): IGameObject[]\r\n{\r\n    const children = DepthFirstSearch(parent);\r\n\r\n    //  Fast path out of here\r\n    if (!property)\r\n    {\r\n        return children;\r\n    }\r\n\r\n    const results: IGameObject[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetChildAt (parent: IGameObject, index: number): IGameObject\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index < 0 || index > children.length)\r\n    {\r\n        throw new Error(`Index out of bounds: ${index}`);\r\n    }\r\n\r\n    return children[index];\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\n/**\r\n * Get all children from the given parent to one layer deep. Does not go any lower (see GetAllChildren)\r\n *\r\n * The children are returned in a new array. Therefore, modifying this array will not\r\n * mutate the parent.\r\n *\r\n * You can optionally provide a property and value to match against.\r\n *\r\n * @export\r\n * @param {IGameObject} parent\r\n * @param {string} [property]\r\n * @param {never} [value]\r\n * @returns {IGameObject[]}\r\n */\r\nexport function GetChildren (parent: IGameObject, property?: string | symbol, value?: never): IGameObject[]\r\n{\r\n    const children = parent.children;\r\n\r\n    //  Fast path out of here\r\n    if (!property)\r\n    {\r\n        return [ ...children ];\r\n    }\r\n\r\n    const results: IGameObject[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { Distance } from '../math/vec2/Distance';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { Vec2 } from '../math/vec2/Vec2';\r\n\r\nexport function GetClosestChild (parent: IGameObject, point: Vec2): IGameObject\r\n{\r\n    const children = parent.children;\r\n\r\n    let closest: IGameObject = null;\r\n    let distance: number = 0;\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const childDistance = Distance(point, child.transform.position);\r\n\r\n        if (!closest || childDistance < distance)\r\n        {\r\n            closest = child;\r\n            distance = childDistance;\r\n        }\r\n\r\n    });\r\n\r\n    return closest;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetFirstChild (parent: IGameObject, property: string | symbol, value?: never): IGameObject | undefined\r\n{\r\n    const children = parent.children;\r\n\r\n    for (let i = 0; i < children.length; i++)\r\n    {\r\n        const child = children[i];\r\n\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { Distance } from '../math/vec2/Distance';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { Vec2 } from '../math/vec2/Vec2';\r\n\r\nexport function GetFurthestChild (parent: IGameObject, point: Vec2): IGameObject\r\n{\r\n    const children = parent.children;\r\n\r\n    let furthest: IGameObject = null;\r\n    let distance: number = 0;\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const childDistance = Distance(point, child.transform.position);\r\n\r\n        if (!furthest || childDistance > distance)\r\n        {\r\n            furthest = child;\r\n            distance = childDistance;\r\n        }\r\n\r\n    });\r\n\r\n    return furthest;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetLastChild (parent: IGameObject, property: string | symbol, value?: never): IGameObject | undefined\r\n{\r\n    const children = parent.children;\r\n\r\n    for (let i = children.length - 1; i >= 0; i--)\r\n    {\r\n        const child = children[i];\r\n\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetParents (child: IGameObject): IGameObject[]\r\n{\r\n    const parents: IGameObject[] = [];\r\n\r\n    while (child.parent)\r\n    {\r\n        parents.push(child.parent);\r\n\r\n        child = child.parent;\r\n    }\r\n\r\n    return parents;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function GetRandomChild (parent: IGameObject, startIndex: number = 0, length?: number): IGameObject\r\n{\r\n    const children = parent.children;\r\n\r\n    if (!length)\r\n    {\r\n        length = children.length;\r\n    }\r\n\r\n    const randomIndex = startIndex + Math.floor(Math.random() * length);\r\n\r\n    return children[randomIndex];\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function MoveChildDown <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex > 0)\r\n    {\r\n        const child2 = parentChildren[currentIndex - 1];\r\n        const index2 = parentChildren.indexOf(child2);\r\n\r\n        parentChildren[currentIndex] = child2;\r\n        parentChildren[index2] = child;\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n        child2.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function MoveChildTo <T extends IGameObject> (parent: IGameObject, child: T, index: number): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex === -1 || index < 0 || index >= parentChildren.length)\r\n    {\r\n        throw new Error('Index out of bounds');\r\n    }\r\n\r\n    if (currentIndex !== index)\r\n    {\r\n        //  Remove\r\n        parentChildren.splice(currentIndex, 1);\r\n\r\n        //  Add in new location\r\n        parentChildren.splice(index, 0, child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function MoveChildUp <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex !== -1 && currentIndex > 0)\r\n    {\r\n        //  The child above the one given to this function\r\n        const child2 = parentChildren[currentIndex + 1];\r\n        const index2 = parentChildren.indexOf(child2);\r\n\r\n        parentChildren[currentIndex] = child2;\r\n        parentChildren[index2] = child;\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n        child2.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { IRectangle } from '../rectangle/IRectangle';\r\n\r\nexport function RectangleToRectangle (rectA: IRectangle, rectB: IRectangle): boolean\r\n{\r\n    if (rectA.width <= 0 || rectA.height <= 0 || rectB.width <= 0 || rectB.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return !(rectA.right < rectB.x || rectA.bottom < rectB.y || rectA.x > rectB.right || rectA.y > rectB.bottom);\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RectangleToRectangle } from '../geom/intersects/RectangleToRectangle';\r\n\r\n//  AABB Overlap test using bounds\r\n\r\nexport function Overlap (source: IGameObject, ...targets: IGameObject[]): boolean\r\n{\r\n    const sourceBounds = source.bounds.get();\r\n\r\n    for (let i = 0; i < targets.length; i++)\r\n    {\r\n        const target = targets[i];\r\n        const targetBounds = target.bounds.get();\r\n\r\n        if (RectangleToRectangle(sourceBounds, targetBounds))\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChild } from './RemoveChild';\r\n\r\nexport function RemoveChildren (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        RemoveChild(parent, child);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChildAt } from './RemoveChildAt';\r\n\r\nexport function RemoveChildrenAt (parent: IGameObject, ...index: number[]): IGameObject[]\r\n{\r\n    const removed: IGameObject[] = [];\r\n\r\n    //  Sort into numeric order\r\n    index.sort((a, b) => a - b);\r\n\r\n    //  Work through the array in reverse\r\n    index.reverse().forEach(i =>\r\n    {\r\n        const child = RemoveChildAt(parent, i);\r\n\r\n        if (child)\r\n        {\r\n            removed.push(child);\r\n        }\r\n    });\r\n\r\n    return removed;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\r\nimport { SetParent } from './SetParent';\r\n\r\nexport function ReparentChildren (parent: IGameObject, newParent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\r\n{\r\n    const moved = RemoveChildrenBetween(parent, beginIndex, endIndex);\r\n\r\n    SetParent(newParent, ...moved);\r\n\r\n    moved.forEach(child =>\r\n    {\r\n        child.transform.updateWorld();\r\n    });\r\n\r\n    return moved;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function RotateChildrenLeft (parent: IGameObject, total: number = 1): IGameObject\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    let child = null;\r\n\r\n    for (let i: number = 0; i < total; i++)\r\n    {\r\n        child = parentChildren.shift();\r\n\r\n        parentChildren.push(child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function RotateChildrenRight (parent: IGameObject, total: number = 1): IGameObject\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    let child = null;\r\n\r\n    for (let i: number = 0; i < total; i++)\r\n    {\r\n        child = parentChildren.pop();\r\n\r\n        parentChildren.unshift(child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SendChildToBack <T extends IGameObject> (parent: IGameObject, child: T): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChildIndex(parent, child);\r\n\r\n    if (currentIndex !== -1 && currentIndex > 0)\r\n    {\r\n        parentChildren.splice(currentIndex, 1);\r\n        parentChildren.unshift(child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetBounds (x: number, y: number, width: number, height: number, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.bounds.set(x, y, width, height);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetChildrenValue (parent: IGameObject, property: string | symbol, value: never): IGameObject[]\r\n{\r\n    const children = DepthFirstSearch(parent);\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor)\r\n        {\r\n            descriptor.set(value);\r\n        }\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetName (name: string, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.name = name;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetOrigin (originX: number, originY: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.setOrigin(originX, originY);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetPosition (x: number, y: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.setPosition(x, y);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetRotation (rotation: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.rotation = rotation;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetScale (scaleX: number, scaleY: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.setScale(scaleX, scaleY);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetSize (width: number, height: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.setSize(width, height);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IContainer } from '../gameobjects/container/IContainer';\r\n\r\nexport function SetSkew (skewX: number, skewY: number, ...children: IContainer[]): IContainer[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.setSkew(skewX, skewY);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetType (type: string, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.type = type;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetValue (property: string | symbol, value: never, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor)\r\n        {\r\n            descriptor.set(value);\r\n        }\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetVisible (visible: boolean, ...children: IGameObject[]): IGameObject[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.visible = visible;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function ShuffleChildren (parent: IGameObject): IGameObject[]\r\n{\r\n    const children = parent.children;\r\n\r\n    for (let i = children.length - 1; i > 0; i--)\r\n    {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        const temp = children[i];\r\n\r\n        children[i] = children[j];\r\n        children[j] = temp;\r\n\r\n        temp.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { GetChildIndex } from './GetChildIndex';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SwapChildren (child1: IGameObject, child2: IGameObject): void\r\n{\r\n    if (child1.parent === child2.parent)\r\n    {\r\n        const children = child1.parent.children;\r\n\r\n        const index1 = GetChildIndex(child1.parent, child1);\r\n        const index2 = GetChildIndex(child2.parent, child2);\r\n\r\n        if (index1 !== index2)\r\n        {\r\n            children[index1] = child2;\r\n            children[index2] = child1;\r\n        }\r\n    }\r\n}\r\n", "import { AddChild } from './AddChild';\r\nimport { AddChildAt } from './AddChildAt';\r\nimport { AddChildren } from './AddChildren';\r\nimport { AddChildrenAt } from './AddChildrenAt';\r\nimport { AddPosition } from './AddPosition';\r\nimport { AddRotation } from './AddRotation';\r\nimport { AddScale } from './AddScale';\r\nimport { AddSkew } from './AddSkew';\r\nimport { BringChildToTop } from './BringChildToTop';\r\nimport { ConsoleTreeChildren } from './ConsoleTreeChildren';\r\nimport { CountMatchingChildren } from './CountMatchingChildren';\r\nimport { DepthFirstSearch } from './DepthFirstSearch';\r\nimport { DepthFirstSearchRecursive } from './DepthFirstSearchRecursive';\r\nimport { DepthFirstSearchRecursiveNested } from './DepthFirstSearchRecursiveNested';\r\nimport { DestroyChildren } from './DestroyChildren';\r\nimport { FindChildByName } from './FindChildByName';\r\nimport { FindChildrenByName } from './FindChildrenByName';\r\nimport { GetAllChildren } from './GetAllChildren';\r\nimport { GetChildAt } from './GetChildAt';\r\nimport { GetChildIndex } from './GetChildIndex';\r\nimport { GetChildren } from './GetChildren';\r\nimport { GetClosestChild } from './GetClosestChild';\r\nimport { GetFirstChild } from './GetFirstChild';\r\nimport { GetFurthestChild } from './GetFurthestChild';\r\nimport { GetLastChild } from './GetLastChild';\r\nimport { GetParents } from './GetParents';\r\nimport { GetRandomChild } from './GetRandomChild';\r\nimport { MoveChildDown } from './MoveChildDown';\r\nimport { MoveChildTo } from './MoveChildTo';\r\nimport { MoveChildUp } from './MoveChildUp';\r\nimport { Overlap } from './Overlap';\r\nimport { RemoveChild } from './RemoveChild';\r\nimport { RemoveChildAt } from './RemoveChildAt';\r\nimport { RemoveChildren } from './RemoveChildren';\r\nimport { RemoveChildrenAt } from './RemoveChildrenAt';\r\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\r\nimport { ReparentChildren } from './ReparentChildren';\r\nimport { RotateChildrenLeft } from './RotateChildrenLeft';\r\nimport { RotateChildrenRight } from './RotateChildrenRight';\r\nimport { SendChildToBack } from './SendChildToBack';\r\nimport { SetBounds } from './SetBounds';\r\nimport { SetChildrenValue } from './SetChildrenValue';\r\nimport { SetName } from './SetName';\r\nimport { SetOrigin } from './SetOrigin';\r\nimport { SetParent } from './SetParent';\r\nimport { SetPosition } from './SetPosition';\r\nimport { SetRotation } from './SetRotation';\r\nimport { SetScale } from './SetScale';\r\nimport { SetSize } from './SetSize';\r\nimport { SetSkew } from './SetSkew';\r\nimport { SetType } from './SetType';\r\nimport { SetValue } from './SetValue';\r\nimport { SetVisible } from './SetVisible';\r\nimport { SetWorld } from './SetWorld';\r\nimport { ShuffleChildren } from './ShuffleChildren';\r\nimport { SwapChildren } from './SwapChildren';\r\n\r\nexport {\r\n    AddChild,\r\n    AddChildAt,\r\n    AddChildren,\r\n    AddChildrenAt,\r\n    AddPosition,\r\n    AddRotation,\r\n    AddScale,\r\n    AddSkew,\r\n    BringChildToTop,\r\n    ConsoleTreeChildren,\r\n    CountMatchingChildren,\r\n    DepthFirstSearch,\r\n    DepthFirstSearchRecursive,\r\n    DepthFirstSearchRecursiveNested,\r\n    DestroyChildren,\r\n    FindChildByName,\r\n    FindChildrenByName,\r\n    GetAllChildren,\r\n    GetChildAt,\r\n    GetChildIndex,\r\n    GetChildren,\r\n    GetClosestChild,\r\n    GetFirstChild,\r\n    GetFurthestChild,\r\n    GetLastChild,\r\n    GetParents,\r\n    GetRandomChild,\r\n    MoveChildDown,\r\n    MoveChildTo,\r\n    MoveChildUp,\r\n    Overlap,\r\n    RemoveChild,\r\n    RemoveChildAt,\r\n    RemoveChildren,\r\n    RemoveChildrenAt,\r\n    RemoveChildrenBetween,\r\n    ReparentChildren,\r\n    RotateChildrenLeft,\r\n    RotateChildrenRight,\r\n    SendChildToBack,\r\n    SetBounds,\r\n    SetChildrenValue,\r\n    SetName,\r\n    SetOrigin,\r\n    SetParent,\r\n    SetPosition,\r\n    SetRotation,\r\n    SetScale,\r\n    SetSize,\r\n    SetSkew,\r\n    SetType,\r\n    SetValue,\r\n    SetVisible,\r\n    SetWorld,\r\n    ShuffleChildren,\r\n    SwapChildren\r\n};\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using an iterative search.\r\n//  Does NOT include the parent in the results.\r\n\r\nexport function DepthFirstSearch3D (parent: IGameObject3D): IGameObject3D[]\r\n{\r\n    const stack: IGameObject3D[] = [ parent ];\r\n    const output: IGameObject3D[] = [];\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        const node = stack.shift();\r\n\r\n        output.push(node);\r\n\r\n        const numChildren = node.numChildren;\r\n\r\n        if (numChildren > 0)\r\n        {\r\n            for (let i = numChildren - 1; i >= 0; i--)\r\n            {\r\n                stack.unshift(node.children[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //  Remove the parent from the results\r\n    output.shift();\r\n\r\n    return output;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetChild3DIndex (parent: IGameObject3D, child: IGameObject3D): number\r\n{\r\n    return parent.children.indexOf(child);\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function RemoveChild3DAt (parent: IGameObject3D, index: number): IGameObject3D | undefined\r\n{\r\n    const children = parent.children;\r\n    let child: IGameObject3D;\r\n\r\n    if (index >= 0 && index < children.length)\r\n    {\r\n        const removed = children.splice(index, 1);\r\n\r\n        if (removed[0])\r\n        {\r\n            child = removed[0];\r\n            child.parent = null;\r\n        }\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { GetChild3DIndex } from './GetChild3DIndex';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChild3DAt } from './RemoveChild3DAt';\r\n\r\nexport function RemoveChild3D <T extends IGameObject3D> (parent: IGameObject3D, child: T): T\r\n{\r\n    const currentIndex = GetChild3DIndex(parent, child);\r\n\r\n    if (currentIndex > -1)\r\n    {\r\n        RemoveChild3DAt(parent, currentIndex);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { AddedToWorldEvent, RemovedFromWorldEvent } from '../gameobjects/events';\r\n\r\nimport { Emit } from '../events/Emit';\r\nimport { IBaseWorld3D } from '../world3d/IBaseWorld3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function SetWorld3D (world: IBaseWorld3D, ...children: IGameObject3D[]): IGameObject3D[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        if (child.world)\r\n        {\r\n            Emit(child.world, RemovedFromWorldEvent, child, child.world);\r\n            Emit(child, RemovedFromWorldEvent, child, child.world);\r\n        }\r\n\r\n        child.world = world;\r\n\r\n        Emit(world, AddedToWorldEvent, child, world);\r\n        Emit(child, AddedToWorldEvent, child, world);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChild3D } from './RemoveChild3D';\r\nimport { SetWorld3D } from './SetWorld3D';\r\n\r\nexport function SetParent3D (parent: IGameObject3D, ...children: IGameObject3D[]): IGameObject3D[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        if (child.parent)\r\n        {\r\n            RemoveChild3D(child.parent, child);\r\n        }\r\n\r\n        child.parent = parent;\r\n    });\r\n\r\n    const parentWorld = parent.world;\r\n\r\n    if (parentWorld)\r\n    {\r\n        //  Full list of all children, including sub-children\r\n        SetWorld3D(parentWorld, ...DepthFirstSearch3D(parent));\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SetParent3D } from './SetParent3D';\r\n\r\nexport function AddChild3D <T extends IGameObject3D> (parent: IGameObject3D, child: T): T\r\n{\r\n    parent.children.push(child);\r\n\r\n    SetParent3D(parent, child);\r\n\r\n    // child.transform.updateWorld();\r\n\r\n    return child;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SetParent3D } from './SetParent3D';\r\n\r\nexport function AddChild3DAt <T extends IGameObject3D> (parent: IGameObject3D, index: number, child: T): T\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index >= 0 && index <= children.length)\r\n    {\r\n        SetParent3D(parent, child);\r\n\r\n        children.splice(index, 0, child);\r\n\r\n        // child.transform.updateWorld();\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { AddChild3D } from './AddChild3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function AddChildren3D (parent: IGameObject3D, ...children: IGameObject3D[]): IGameObject3D[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        AddChild3D(parent, child);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SetParent3D } from './SetParent3D';\r\n\r\nexport function AddChildren3DAt (parent: IGameObject3D, index: number, ...children: IGameObject3D[]): IGameObject3D[]\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    if (index >= 0 && index <= parentChildren.length)\r\n    {\r\n        children.reverse().forEach(child =>\r\n        {\r\n            children.splice(index, 0, child);\r\n\r\n            SetParent3D(parent, child);\r\n\r\n            // child.transform.updateWorld();\r\n        });\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SearchEntry3D } from './SearchEntry3DType';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using a recursive search.\r\n//  Parents and children are grouped together.\r\n\r\nexport function DepthFirstSearchRecursiveNested3D (parent: IGameObject3D, output: SearchEntry3D[] = []): SearchEntry3D[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const node = parent.children[i];\r\n\r\n        const children: SearchEntry3D[] = [];\r\n\r\n        output.push({ node, children });\r\n\r\n        if (node.numChildren > 0)\r\n        {\r\n            DepthFirstSearchRecursiveNested3D(node, children);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { DepthFirstSearchRecursiveNested3D } from './DepthFirstSearchRecursiveNested3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SearchEntry3D } from './SearchEntry3DType';\r\n\r\nfunction GetInfo (entry: IGameObject3D): string\r\n{\r\n    const legend = (entry.numChildren > 0) ? 'Parent' :  'Child';\r\n\r\n    return `${legend} [ type=${entry.type}, name=${entry.name} ]`;\r\n}\r\n\r\nfunction LogChildren (entry: SearchEntry3D): void\r\n{\r\n    console.group(GetInfo(entry.node));\r\n\r\n    entry.children.forEach(child =>\r\n    {\r\n        if (child.children.length > 0)\r\n        {\r\n            LogChildren(child);\r\n        }\r\n        else\r\n        {\r\n            console.log(GetInfo(child.node));\r\n        }\r\n    });\r\n\r\n    console.groupEnd();\r\n}\r\n\r\nexport function ConsoleTreeChildren3D (parent: IGameObject3D): void\r\n{\r\n    const entries = DepthFirstSearchRecursiveNested3D(parent);\r\n\r\n    if (parent.world === parent)\r\n    {\r\n        console.group('World');\r\n    }\r\n    else\r\n    {\r\n        console.group(GetInfo(parent));\r\n    }\r\n\r\n    entries.forEach(entry =>\r\n    {\r\n        if (entry.children.length)\r\n        {\r\n            LogChildren(entry);\r\n        }\r\n        else\r\n        {\r\n            console.log(GetInfo(entry.node));\r\n        }\r\n    });\r\n\r\n    console.groupEnd();\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function CountMatchingChildren3D (parent: IGameObject3D, property: string | symbol, value?: never): number\r\n{\r\n    const children = parent.children;\r\n\r\n    let total = 0;\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            total++;\r\n        }\r\n    });\r\n\r\n    return total;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\n//  Returns all children of the parent, no matter what depth they go to, using a recursive search.\r\n//  Does NOT include the parent in the results.\r\n\r\nexport function DepthFirstSearchRecursive3D (parent: IGameObject3D, output: IGameObject3D[] = []): IGameObject3D[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const child = parent.children[i];\r\n\r\n        output.push(child);\r\n\r\n        if (child.numChildren > 0)\r\n        {\r\n            DepthFirstSearchRecursive3D(child, output);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function RemoveChildren3DBetween (parent: IGameObject3D, beginIndex: number = 0, endIndex?: number): IGameObject3D[]\r\n{\r\n    const children = parent.children;\r\n\r\n    if (endIndex === undefined)\r\n    {\r\n        endIndex = children.length;\r\n    }\r\n\r\n    const range = endIndex - beginIndex;\r\n\r\n    if (range > 0 && range <= endIndex)\r\n    {\r\n        const removed = children.splice(beginIndex, range);\r\n\r\n        removed.forEach(child =>\r\n        {\r\n            child.parent = null;\r\n        });\r\n\r\n        return removed;\r\n    }\r\n    else\r\n    {\r\n        return [];\r\n    }\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChildren3DBetween } from './RemoveChildren3DBetween';\r\n\r\nexport function DestroyChildren3D (parent: IGameObject3D, beginIndex: number = 0, endIndex?: number): void\r\n{\r\n    const removed = RemoveChildren3DBetween(parent, beginIndex, endIndex);\r\n\r\n    removed.forEach(child =>\r\n    {\r\n        child.destroy();\r\n    });\r\n}\r\n", "import { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function FindChild3DByName (parent: IGameObject3D, searchString: string): IGameObject3D | undefined\r\n{\r\n    const children = DepthFirstSearch3D(parent);\r\n    const regex = RegExp(searchString);\r\n\r\n    for (let i = 0; i < children.length; i++)\r\n    {\r\n        const child = children[i];\r\n\r\n        if (regex.test(child.name))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function FindChildren3DByName (parent: IGameObject3D, searchString: string): IGameObject3D[]\r\n{\r\n    const children = DepthFirstSearch3D(parent);\r\n    const regex = RegExp(searchString);\r\n\r\n    const results: IGameObject3D[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        if (regex.test(child.name))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetAllChildren3D (parent: IGameObject3D, property?: string | symbol, value?: never): IGameObject3D[]\r\n{\r\n    const children = DepthFirstSearch3D(parent);\r\n\r\n    //  Fast path out of here\r\n    if (!property)\r\n    {\r\n        return children;\r\n    }\r\n\r\n    const results: IGameObject3D[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetChild3DAt (parent: IGameObject3D, index: number): IGameObject3D\r\n{\r\n    const children = parent.children;\r\n\r\n    if (index < 0 || index > children.length)\r\n    {\r\n        throw new Error(`Index out of bounds: ${index}`);\r\n    }\r\n\r\n    return children[index];\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\n/**\r\n * Get all children from the given parent to one layer deep. Does not go any lower (see GetAllChildren)\r\n *\r\n * The children are returned in a new array. Therefore, modifying this array will not\r\n * mutate the parent.\r\n *\r\n * You can optionally provide a property and value to match against.\r\n *\r\n * @export\r\n * @param {IGameObject} parent\r\n * @param {string} [property]\r\n * @param {never} [value]\r\n * @returns {IGameObject[]}\r\n */\r\nexport function GetChildren3D (parent: IGameObject3D, property?: string | symbol, value?: never): IGameObject3D[]\r\n{\r\n    const children = parent.children;\r\n\r\n    //  Fast path out of here\r\n    if (!property)\r\n    {\r\n        return [ ...children ];\r\n    }\r\n\r\n    const results: IGameObject3D[] = [];\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            results.push(child);\r\n        }\r\n    });\r\n\r\n    return results;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetFirstChild3D (parent: IGameObject3D, property: string | symbol, value?: never): IGameObject3D | undefined\r\n{\r\n    const children = parent.children;\r\n\r\n    for (let i = 0; i < children.length; i++)\r\n    {\r\n        const child = children[i];\r\n\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetLastChild3D (parent: IGameObject3D, property: string | symbol, value?: never): IGameObject3D | undefined\r\n{\r\n    const children = parent.children;\r\n\r\n    for (let i = children.length - 1; i >= 0; i--)\r\n    {\r\n        const child = children[i];\r\n\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor && (value === undefined || value === descriptor.value))\r\n        {\r\n            return child;\r\n        }\r\n    }\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetParents3D (child: IGameObject3D): IGameObject3D[]\r\n{\r\n    const parents: IGameObject3D[] = [];\r\n\r\n    while (child.parent)\r\n    {\r\n        parents.push(child.parent);\r\n\r\n        child = child.parent;\r\n    }\r\n\r\n    return parents;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function GetRandomChild3D (parent: IGameObject3D, startIndex: number = 0, length?: number): IGameObject3D\r\n{\r\n    const children = parent.children;\r\n\r\n    if (!length)\r\n    {\r\n        length = children.length;\r\n    }\r\n\r\n    const randomIndex = startIndex + Math.floor(Math.random() * length);\r\n\r\n    return children[randomIndex];\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { GetChild3DIndex } from './GetChild3DIndex';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function MoveChild3DTo <T extends IGameObject3D> (parent: IGameObject3D, child: T, index: number): T\r\n{\r\n    const parentChildren = parent.children;\r\n\r\n    const currentIndex = GetChild3DIndex(parent, child);\r\n\r\n    if (currentIndex === -1 || index < 0 || index >= parentChildren.length)\r\n    {\r\n        throw new Error('Index out of bounds');\r\n    }\r\n\r\n    if (currentIndex !== index)\r\n    {\r\n        //  Remove\r\n        parentChildren.splice(currentIndex, 1);\r\n\r\n        //  Add in new location\r\n        parentChildren.splice(index, 0, child);\r\n\r\n        child.setDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n\r\n    return child;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChild3D } from './RemoveChild3D';\r\n\r\nexport function RemoveChildren3D (parent: IGameObject3D, ...children: IGameObject3D[]): IGameObject3D[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        RemoveChild3D(parent, child);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChild3DAt } from './RemoveChild3DAt';\r\n\r\nexport function RemoveChildren3DAt (parent: IGameObject3D, ...index: number[]): IGameObject3D[]\r\n{\r\n    const removed: IGameObject3D[] = [];\r\n\r\n    //  Sort into numeric order\r\n    index.sort((a, b) => a - b);\r\n\r\n    //  Work through the array in reverse\r\n    index.reverse().forEach(i =>\r\n    {\r\n        const child = RemoveChild3DAt(parent, i);\r\n\r\n        if (child)\r\n        {\r\n            removed.push(child);\r\n        }\r\n    });\r\n\r\n    return removed;\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { RemoveChildren3DBetween } from './RemoveChildren3DBetween';\r\nimport { SetParent3D } from './SetParent3D';\r\n\r\nexport function ReparentChildren3D (parent: IGameObject3D, newParent: IGameObject3D, beginIndex: number = 0, endIndex?: number): IGameObject3D[]\r\n{\r\n    const moved = RemoveChildren3DBetween(parent, beginIndex, endIndex);\r\n\r\n    SetParent3D(newParent, ...moved);\r\n\r\n    moved.forEach(child =>\r\n    {\r\n        // child.transform.updateWorld();\r\n    });\r\n\r\n    return moved;\r\n}\r\n", "import { AddChild3DAt } from './AddChild3DAt';\r\nimport { GetChild3DIndex } from './GetChild3DIndex';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { MoveChild3DTo } from './MoveChild3DTo';\r\nimport { RemoveChild3D } from './RemoveChild3D';\r\n\r\n//  Replaces the `target` child with the `source` child.\r\n//  Both children are removed from their parents.\r\n//  Source is then moved to the parent of the target.\r\n//  Target is left without a parent after this call.\r\n//  If both children have the same parent, target is removed from the parent and source is moved to the position target previously held.\r\n//  Target is returned.\r\n\r\nexport function ReplaceChild3D (target: IGameObject3D, source: IGameObject3D): IGameObject3D\r\n{\r\n    const targetParent = target.parent;\r\n    const sourceParent = source.parent;\r\n    const targetIndex = GetChild3DIndex(targetParent, target);\r\n\r\n    if (targetParent === sourceParent)\r\n    {\r\n        //  Remove target from parent and move source to targets position\r\n        MoveChild3DTo(targetParent, source, targetIndex);\r\n        RemoveChild3D(targetParent, target);\r\n    }\r\n    else\r\n    {\r\n        //  They have different parents\r\n        RemoveChild3D(targetParent, target);\r\n        RemoveChild3D(sourceParent, source);\r\n\r\n        AddChild3DAt(targetParent, targetIndex, source);\r\n    }\r\n\r\n    return target;\r\n}\r\n", "import { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function SetChildren3DValue (parent: IGameObject3D, property: string | symbol, value: never): IGameObject3D[]\r\n{\r\n    const children = DepthFirstSearch3D(parent);\r\n\r\n    children.forEach(child =>\r\n    {\r\n        const descriptor = Object.getOwnPropertyDescriptor(child, property);\r\n\r\n        if (descriptor)\r\n        {\r\n            descriptor.set(value);\r\n        }\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { GetChild3DIndex } from './GetChild3DIndex';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\n\r\nexport function SwapChildren3D (child1: IGameObject3D, child2: IGameObject3D): void\r\n{\r\n    if (child1.parent === child2.parent)\r\n    {\r\n        const children = child1.parent.children;\r\n\r\n        const index1 = GetChild3DIndex(child1.parent, child1);\r\n        const index2 = GetChild3DIndex(child2.parent, child2);\r\n\r\n        if (index1 !== index2)\r\n        {\r\n            children[index1] = child2;\r\n            children[index2] = child1;\r\n        }\r\n    }\r\n}\r\n", "import { AddChild3D } from './AddChild3D';\r\nimport { AddChild3DAt } from './AddChild3DAt';\r\nimport { AddChildren3D } from './AddChildren3D';\r\nimport { AddChildren3DAt } from './AddChildren3DAt';\r\nimport { ConsoleTreeChildren3D } from './ConsoleTreeChildren3D';\r\nimport { CountMatchingChildren3D } from './CountMatchingChildren3D';\r\nimport { DepthFirstSearch3D } from './DepthFirstSearch3D';\r\nimport { DepthFirstSearchRecursive3D } from './DepthFirstSearchRecursive3D';\r\nimport { DepthFirstSearchRecursiveNested3D } from './DepthFirstSearchRecursiveNested3D';\r\nimport { DestroyChildren3D } from './DestroyChildren3D';\r\nimport { FindChild3DByName } from './FindChild3DByName';\r\nimport { FindChildren3DByName } from './FindChildren3DByName';\r\nimport { GetAllChildren3D } from './GetAllChildren3D';\r\nimport { GetChild3DAt } from './GetChild3DAt';\r\nimport { GetChild3DIndex } from './GetChild3DIndex';\r\nimport { GetChildren3D } from './GetChildren3D';\r\nimport { GetFirstChild3D } from './GetFirstChild3D';\r\nimport { GetLastChild3D } from './GetLastChild3D';\r\nimport { GetParents3D } from './GetParents3D';\r\nimport { GetRandomChild3D } from './GetRandomChild3D';\r\nimport { MoveChild3DTo } from './MoveChild3DTo';\r\nimport { RemoveChild3D } from './RemoveChild3D';\r\nimport { RemoveChild3DAt } from './RemoveChild3DAt';\r\nimport { RemoveChildren3D } from './RemoveChildren3D';\r\nimport { RemoveChildren3DAt } from './RemoveChildren3DAt';\r\nimport { RemoveChildren3DBetween } from './RemoveChildren3DBetween';\r\nimport { ReparentChildren3D } from './ReparentChildren3D';\r\nimport { ReplaceChild3D } from './ReplaceChild3D';\r\nimport { SetChildren3DValue } from './SetChildren3DValue';\r\nimport { SetParent3D } from './SetParent3D';\r\nimport { SetWorld3D } from './SetWorld3D';\r\nimport { SwapChildren3D } from './SwapChildren3D';\r\n\r\nexport {\r\n    AddChild3D,\r\n    AddChild3DAt,\r\n    AddChildren3D,\r\n    AddChildren3DAt,\r\n    ConsoleTreeChildren3D,\r\n    CountMatchingChildren3D,\r\n    DepthFirstSearch3D,\r\n    DepthFirstSearchRecursive3D,\r\n    DepthFirstSearchRecursiveNested3D,\r\n    DestroyChildren3D,\r\n    FindChild3DByName,\r\n    FindChildren3DByName,\r\n    GetAllChildren3D,\r\n    GetChild3DAt,\r\n    GetChild3DIndex,\r\n    GetChildren3D,\r\n    GetFirstChild3D,\r\n    GetLastChild3D,\r\n    GetParents3D,\r\n    GetRandomChild3D,\r\n    MoveChild3DTo,\r\n    RemoveChild3D,\r\n    RemoveChild3DAt,\r\n    RemoveChildren3D,\r\n    RemoveChildren3DAt,\r\n    RemoveChildren3DBetween,\r\n    ReparentChildren3D,\r\n    ReplaceChild3D,\r\n    SetChildren3DValue,\r\n    SetParent3D,\r\n    SetWorld3D,\r\n    SwapChildren3D\r\n};\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function ClearEvent (emitter: IEventEmitter, event: string): IEventEmitter\r\n{\r\n    emitter.events.delete(event);\r\n\r\n    return emitter;\r\n}\r\n", "import { IEventInstance } from './IEventInstance';\r\n\r\nexport class EventEmitter\r\n{\r\n    events: Map<string, Set<IEventInstance>>;\r\n\r\n    constructor ()\r\n    {\r\n        this.events = new Map();\r\n    }\r\n}\r\n", "export class EventInstance\r\n{\r\n    callback: Function;\r\n    context: unknown;\r\n    once: boolean;\r\n\r\n    constructor (callback: Function, context: unknown, once: boolean = false)\r\n    {\r\n        this.callback = callback;\r\n        this.context = context;\r\n        this.once = once;\r\n    }\r\n}\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function GetEventNames (emitter: IEventEmitter): string[]\r\n{\r\n    return [ ...emitter.events.keys() ];\r\n}\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function GetListenerCount (emitter: IEventEmitter, event: string): number\r\n{\r\n    const listeners = emitter.events.get(event);\r\n\r\n    return (listeners) ? listeners.size : 0;\r\n}\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function GetListeners (emitter: IEventEmitter, event: string): Function[]\r\n{\r\n    const out: Function[] = [];\r\n\r\n    const listeners = emitter.events.get(event);\r\n\r\n    listeners.forEach(listener =>\r\n    {\r\n        out.push(listener.callback);\r\n    });\r\n\r\n    return out;\r\n}\r\n", "import { EventInstance } from './EventInstance';\r\nimport { IEventEmitter } from './IEventEmitter';\r\nimport { IEventInstance } from './IEventInstance';\r\n\r\nexport function Off (emitter: IEventEmitter, event: string, callback?: Function | IEventInstance, context?: unknown, once?: boolean): IEventEmitter\r\n{\r\n    const events = emitter.events;\r\n    const listeners = events.get(event);\r\n\r\n    if (!callback)\r\n    {\r\n        //  Remove all events matching the given key\r\n        events.delete(event);\r\n    }\r\n    else if (callback instanceof EventInstance)\r\n    {\r\n        listeners.delete(callback as IEventInstance);\r\n    }\r\n    else\r\n    {\r\n        const hasContext: boolean = !context;\r\n        const hasOnce: boolean = (once !== undefined);\r\n\r\n        for (const listener of listeners)\r\n        {\r\n            if (\r\n                (listener.callback === callback) &&\r\n                (hasContext && listener.context === context) &&\r\n                (hasOnce && listener.once === once)\r\n            )\r\n            {\r\n                listeners.delete(listener);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (listeners.size === 0)\r\n    {\r\n        events.delete(event);\r\n    }\r\n\r\n    return emitter;\r\n}\r\n", "import { EventInstance } from './EventInstance';\r\nimport { IEventEmitter } from './IEventEmitter';\r\nimport { IEventInstance } from './IEventInstance';\r\n\r\nexport function On (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter, once: boolean = false): IEventInstance\r\n{\r\n    if (typeof callback !== 'function')\r\n    {\r\n        throw new TypeError('Listener not a function');\r\n    }\r\n\r\n    const listener = new EventInstance(callback, context, once);\r\n    const listeners = emitter.events.get(event);\r\n\r\n    if (!listeners)\r\n    {\r\n        emitter.events.set(event, new Set([ listener ]));\r\n    }\r\n    else\r\n    {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    return listener;\r\n}\r\n", "import { IEventEmitter } from './IEventEmitter';\r\nimport { IEventInstance } from './IEventInstance';\r\nimport { On } from './On';\r\n\r\nexport function Once (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter): IEventInstance\r\n{\r\n    return On(emitter, event, callback, context, true);\r\n}\r\n", "import { IEventEmitter } from './IEventEmitter';\r\n\r\nexport function RemoveAllListeners (emitter: IEventEmitter, event?: string): void\r\n{\r\n    if (!event)\r\n    {\r\n        emitter.events.clear();\r\n    }\r\n    else\r\n    {\r\n        emitter.events.delete(event);\r\n    }\r\n}\r\n", "import { ClearEvent } from './ClearEvent';\r\nimport { Emit } from './Emit';\r\nimport { EventEmitter } from './EventEmitter';\r\nimport { EventInstance } from './EventInstance';\r\nimport { GetEventNames } from './GetEventNames';\r\nimport { GetListenerCount } from './GetListenerCount';\r\nimport { GetListeners } from './GetListeners';\r\nimport { Off } from './Off';\r\nimport { On } from './On';\r\nimport { Once } from './Once';\r\nimport { RemoveAllListeners } from './RemoveAllListeners';\r\n\r\nexport {\r\n    ClearEvent,\r\n    Emit,\r\n    EventEmitter,\r\n    EventInstance,\r\n    GetEventNames,\r\n    GetListenerCount,\r\n    GetListeners,\r\n    Off,\r\n    On,\r\n    Once,\r\n    RemoveAllListeners\r\n};\r\n", "import { ITransformComponent } from './ITransformComponent';\r\nimport { Vertices } from './Vertices';\r\n\r\nexport function GetVertices (transform: ITransformComponent): Vertices\r\n{\r\n    const { a, b, c, d, tx, ty } = transform.world;\r\n    const { x, y, right, bottom } = transform.extent;\r\n\r\n    const x0 = (x * a) + (y * c) + tx;\r\n    const y0 = (x * b) + (y * d) + ty;\r\n\r\n    const x1 = (x * a) + (bottom * c) + tx;\r\n    const y1 = (x * b) + (bottom * d) + ty;\r\n\r\n    const x2 = (right * a) + (bottom * c) + tx;\r\n    const y2 = (right * b) + (bottom * d) + ty;\r\n\r\n    const x3 = (right * a) + (y * c) + tx;\r\n    const y3 = (right * b) + (y * d) + ty;\r\n\r\n    return { x0, y0, x1, y1, x2, y2, x3, y3 };\r\n}\r\n", "import { DIRTY_CONST } from '../../DIRTY_CONST';\r\nimport { GetVertices } from '../transform/GetVertices';\r\nimport { IBoundsComponent } from './IBoundsComponent';\r\nimport { IGameObject } from '../../IGameObject';\r\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\r\n\r\nexport class BoundsComponent implements IBoundsComponent\r\n{\r\n    entity: IGameObject;\r\n\r\n    //  The bounds of the entity calculated in world space\r\n    private area: Rectangle;\r\n\r\n    fixed: boolean = false;\r\n\r\n    includeChildren: boolean = true;\r\n\r\n    visibleOnly: boolean = true;\r\n\r\n    constructor (entity: IGameObject)\r\n    {\r\n        this.entity = entity;\r\n\r\n        this.area = new Rectangle();\r\n    }\r\n\r\n    set (x: number, y: number, width: number, height: number): void\r\n    {\r\n        this.area.set(x, y, width, height);\r\n    }\r\n\r\n    get (): Rectangle\r\n    {\r\n        if (this.entity.isDirty(DIRTY_CONST.BOUNDS) && !this.fixed)\r\n        {\r\n            this.update();\r\n        }\r\n\r\n        return this.area;\r\n    }\r\n\r\n    updateLocal (): Rectangle\r\n    {\r\n        const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(this.entity.transform);\r\n\r\n        const x = Math.min(x0, x1, x2, x3);\r\n        const y = Math.min(y0, y1, y2, y3);\r\n        const right = Math.max(x0, x1, x2, x3);\r\n        const bottom = Math.max(y0, y1, y2, y3);\r\n\r\n        return this.area.set(\r\n            x,\r\n            y,\r\n            right - x,\r\n            bottom - y\r\n        );\r\n    }\r\n\r\n    update (): Rectangle\r\n    {\r\n        //  First we get the bounds for this Game Object\r\n        const bounds = this.updateLocal();\r\n\r\n        this.entity.clearDirty(DIRTY_CONST.BOUNDS);\r\n\r\n        if (!this.includeChildren || !this.entity.numChildren)\r\n        {\r\n            return bounds;\r\n        }\r\n\r\n        const visibleOnly = this.visibleOnly;\r\n        const children = this.entity.children;\r\n\r\n        let x = bounds.x;\r\n        let y = bounds.y;\r\n        let right = bounds.right;\r\n        let bottom = bounds.bottom;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            const child = children[i];\r\n\r\n            if (!child || (visibleOnly && !child.visible))\r\n            {\r\n                continue;\r\n            }\r\n\r\n            const childBounds = child.bounds.get();\r\n\r\n            if (childBounds.x < x)\r\n            {\r\n                x = childBounds.x;\r\n            }\r\n\r\n            if (childBounds.y < y)\r\n            {\r\n                y = childBounds.y;\r\n            }\r\n\r\n            if (childBounds.right > right)\r\n            {\r\n                right = childBounds.right;\r\n            }\r\n\r\n            if (childBounds.bottom > bottom)\r\n            {\r\n                bottom = childBounds.bottom;\r\n            }\r\n        }\r\n\r\n        return bounds.set(\r\n            x,\r\n            y,\r\n            right - x,\r\n            bottom - y\r\n        );\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.entity = null;\r\n        this.area = null;\r\n    }\r\n}\r\n", "import { BoundsComponent } from './BoundsComponent';\r\n\r\nexport {\r\n    BoundsComponent\r\n};\r\n", "import { IGameObject } from '../../IGameObject';\r\nimport { IInputComponent } from './IInputComponent';\r\nimport { IInteractiveArea } from '../../../input/IInteractiveArea';\r\n\r\nexport class InputComponent implements IInputComponent\r\n{\r\n    entity: IGameObject;\r\n    enabled: boolean = false;\r\n    enabledChildren: boolean = true;\r\n    hitArea: IInteractiveArea;\r\n\r\n    constructor (entity: IGameObject)\r\n    {\r\n        this.entity = entity;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.entity = null;\r\n        this.hitArea = null;\r\n    }\r\n}\r\n", "import { InputComponent } from './InputComponent';\r\n\r\nexport {\r\n    InputComponent\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Calculates the area of the given Rectangle object.\r\n *\r\n * @function Phaser.Geom.Rectangle.Area\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The rectangle to calculate the area of.\r\n *\r\n * @return {number} The area of the Rectangle object.\r\n */\r\nexport function Area (rect: IRectangle): number\r\n{\r\n    return rect.width * rect.height;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Rounds a Rectangle's position up to the smallest integer greater than or equal to each current coordinate.\r\n *\r\n * @function Phaser.Geom.Rectangle.Ceil\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to adjust.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The adjusted Rectangle.\r\n */\r\nexport function Ceil (rect: IRectangle): IRectangle\r\n{\r\n    rect.x = Math.ceil(rect.x);\r\n    rect.y = Math.ceil(rect.y);\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Rounds a Rectangle's position and size up to the smallest integer greater than or equal to each respective value.\r\n *\r\n * @function Phaser.Geom.Rectangle.CeilAll\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to modify.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified Rectangle.\r\n */\r\nexport function CeilAll (rect: IRectangle): IRectangle\r\n{\r\n    rect.x = Math.ceil(rect.x);\r\n    rect.y = Math.ceil(rect.y);\r\n    rect.width = Math.ceil(rect.width);\r\n    rect.height = Math.ceil(rect.height);\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Moves the top-left corner of a Rectangle so that its center is at the given coordinates.\r\n *\r\n * @function Phaser.Geom.Rectangle.CenterOn\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to be centered.\r\n * @param {number} x - The X coordinate of the Rectangle's center.\r\n * @param {number} y - The Y coordinate of the Rectangle's center.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The centered rectangle.\r\n */\r\nexport function CenterOn (rect: IRectangle, x: number, y: number): IRectangle\r\n{\r\n    rect.x = x - (rect.width / 2);\r\n    rect.y = y - (rect.height / 2);\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\nexport function CenterX (rect: IRectangle): number\r\n{\r\n    return rect.x + (rect.width / 2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\nexport function CenterY (rect: IRectangle): number\r\n{\r\n    return rect.y + (rect.height / 2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Rectangle } from './Rectangle';\r\n\r\n/**\r\n * Creates a new Rectangle which is identical to the given one.\r\n *\r\n * @function Phaser.Geom.Rectangle.Clone\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} source - The Rectangle to clone.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The newly created Rectangle, which is separate from the given one.\r\n */\r\nexport function Clone (source: IRectangle): Rectangle\r\n{\r\n    return new Rectangle(source.x, source.y, source.width, source.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Determines whether the specified point is contained within the rectangular region defined by this Rectangle object.\r\n *\r\n * @function Phaser.Geom.Rectangle.ContainsPoint\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle object.\r\n * @param {Phaser.Geom.Point} point - The point object to be checked. Can be a Phaser Point object or any object with x and y values.\r\n *\r\n * @return {boolean} A value of true if the Rectangle object contains the specified point, otherwise false.\r\n */\r\nexport function ContainsPoint (rect: IRectangle, point: Vec2): boolean\r\n{\r\n    return Contains(rect, point.x, point.y);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Tests if one rectangle fully contains another.\r\n *\r\n * @function Phaser.Geom.Rectangle.ContainsRect\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first rectangle.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second rectangle.\r\n *\r\n * @return {boolean} True only if rectA fully contains rectB.\r\n */\r\nexport function ContainsRect (rectA: IRectangle, rectB: IRectangle): boolean\r\n{\r\n    //  Volume check (if rectB volume > rectA then rectA cannot contain it)\r\n    if ((rectB.width * rectB.height) > (rectA.width * rectA.height))\r\n    {\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        (rectB.x > rectA.x && rectB.x < rectA.right) &&\r\n        (rectB.right > rectA.x && rectB.right < rectA.right) &&\r\n        (rectB.y > rectA.y && rectB.y < rectA.bottom) &&\r\n        (rectB.bottom > rectA.y && rectB.bottom < rectA.bottom)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Copy the values of one Rectangle to a destination Rectangle.\r\n *\r\n * @function Phaser.Geom.Rectangle.CopyFrom\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [dest,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} source - The source Rectangle to copy the values from.\r\n * @param {Phaser.Geom.Rectangle} dest - The destination Rectangle to copy the values to.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The destination Rectangle.\r\n */\r\nexport function CopyFrom (source: IRectangle, dest: IRectangle): IRectangle\r\n{\r\n    return dest.set(source.x, source.y, source.width, source.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Create an array of points for each corner of a Rectangle\r\n * If an array is specified, each point object will be added to the end of the array, otherwise a new array will be created.\r\n *\r\n * @function Phaser.Geom.Rectangle.Decompose\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle object to be decomposed.\r\n * @param {array} [out] - If provided, each point will be added to this array.\r\n *\r\n * @return {array} Will return the array you specified or a new array containing the points of the Rectangle.\r\n */\r\nexport function Decompose (rect: IRectangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    out.push(\r\n        new Vec2(rect.x, rect.y),\r\n        new Vec2(rect.right, rect.y),\r\n        new Vec2(rect.right, rect.bottom),\r\n        new Vec2(rect.x, rect.bottom)\r\n    );\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Compares the `x`, `y`, `width` and `height` properties of two rectangles.\r\n *\r\n * @function Phaser.Geom.Rectangle.Equals\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - Rectangle A\r\n * @param {Phaser.Geom.Rectangle} toCompare - Rectangle B\r\n *\r\n * @return {boolean} `true` if the rectangles' properties are an exact match, otherwise `false`.\r\n */\r\nexport function Equals (rect: IRectangle, toCompare: IRectangle): boolean\r\n{\r\n    return (\r\n        rect.x === toCompare.x &&\r\n        rect.y === toCompare.y &&\r\n        rect.width === toCompare.width &&\r\n        rect.height === toCompare.height\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Calculates the width/height ratio of a rectangle.\r\n *\r\n * @function Phaser.Geom.Rectangle.GetAspectRatio\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The rectangle.\r\n *\r\n * @return {number} The width/height ratio of the rectangle.\r\n */\r\nexport function GetAspectRatio (rect: IRectangle): number\r\n{\r\n    return (rect.height === 0) ? NaN : rect.width / rect.height;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { GetAspectRatio } from './GetAspectRatio';\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Adjusts the target rectangle, changing its width, height and position,\r\n * so that it fits inside the area of the source rectangle, while maintaining its original\r\n * aspect ratio.\r\n *\r\n * Unlike the `FitOutside` function, there may be some space inside the source area not covered.\r\n *\r\n * @function Phaser.Geom.Rectangle.FitInside\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [target,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} target - The target rectangle to adjust.\r\n * @param {Phaser.Geom.Rectangle} source - The source rectangle to envelop the target in.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified target rectangle instance.\r\n */\r\nexport function FitInside (target: IRectangle, source: IRectangle): IRectangle\r\n{\r\n    const ratio = GetAspectRatio(target);\r\n\r\n    let width: number = source.width;\r\n    let height: number = source.height;\r\n\r\n    if (ratio < GetAspectRatio(source))\r\n    {\r\n        //  Taller than Wide\r\n        width = source.height * ratio;\r\n    }\r\n    else\r\n    {\r\n        //  Wider than Tall\r\n        height = source.width / ratio;\r\n    }\r\n\r\n    return target.set(\r\n        CenterX(source) - (target.width / 2),\r\n        CenterY(source) - (target.height / 2),\r\n        width,\r\n        height\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { GetAspectRatio } from './GetAspectRatio';\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Adjusts the target rectangle, changing its width, height and position,\r\n * so that it fully covers the area of the source rectangle, while maintaining its original\r\n * aspect ratio.\r\n *\r\n * Unlike the `FitInside` function, the target rectangle may extend further out than the source.\r\n *\r\n * @function Phaser.Geom.Rectangle.FitOutside\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [target,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} target - The target rectangle to adjust.\r\n * @param {Phaser.Geom.Rectangle} source - The source rectangle to envelope the target in.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified target rectangle instance.\r\n */\r\nexport function FitOutside (target: IRectangle, source: IRectangle): IRectangle\r\n{\r\n    const ratio = GetAspectRatio(target);\r\n    let width = source.width;\r\n    let height = source.height;\r\n\r\n    if (ratio > GetAspectRatio(source))\r\n    {\r\n        //  Wider than Tall\r\n        width = source.height * ratio;\r\n    }\r\n    else\r\n    {\r\n        //  Taller than Wide\r\n        height = source.width / ratio;\r\n    }\r\n\r\n    return target.set(\r\n        CenterX(source) - target.width / 2,\r\n        CenterY(source) - target.height / 2,\r\n        width,\r\n        height\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Rounds down (floors) the top left X and Y coordinates of the given Rectangle to the largest integer less than or equal to them\r\n *\r\n * @function Phaser.Geom.Rectangle.Floor\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The rectangle to floor the top left X and Y coordinates of\r\n *\r\n * @return {Phaser.Geom.Rectangle} The rectangle that was passed to this function with its coordinates floored.\r\n */\r\nexport function Floor (rect: IRectangle): IRectangle\r\n{\r\n    rect.x = Math.floor(rect.x);\r\n    rect.y = Math.floor(rect.y);\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Rounds a Rectangle's position and size down to the largest integer less than or equal to each current coordinate or dimension.\r\n *\r\n * @function Phaser.Geom.Rectangle.FloorAll\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to adjust.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The adjusted Rectangle.\r\n */\r\nexport function FloorAll (rect: IRectangle): IRectangle\r\n{\r\n    rect.x = Math.floor(rect.x);\r\n    rect.y = Math.floor(rect.y);\r\n    rect.width = Math.floor(rect.width);\r\n    rect.height = Math.floor(rect.height);\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Rectangle } from './Rectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Constructs new Rectangle or repositions and resizes an existing Rectangle so that all of the given points are on or within its bounds.\r\n *\r\n * @function Phaser.Geom.Rectangle.FromPoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [out,$return]\r\n *\r\n * @param {array} points - An array of points (either arrays with two elements corresponding to the X and Y coordinate or an object with public `x` and `y` properties) which should be surrounded by the Rectangle.\r\n * @param {Phaser.Geom.Rectangle} [out] - Optional Rectangle to adjust.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The adjusted `out` Rectangle, or a new Rectangle if none was provided.\r\n */\r\nexport function FromPoints (points: Vec2[], out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    if (points.length === 0)\r\n    {\r\n        return out;\r\n    }\r\n\r\n    let minX = Number.MAX_VALUE;\r\n    let minY = Number.MAX_VALUE;\r\n\r\n    let maxX = MATH_CONST.MIN_SAFE_INTEGER;\r\n    let maxY = MATH_CONST.MIN_SAFE_INTEGER;\r\n\r\n    for (let i = 0; i < points.length; i++)\r\n    {\r\n        const px = points[i].x;\r\n        const py = points[i].y;\r\n\r\n        minX = Math.min(minX, px);\r\n        minY = Math.min(minY, py);\r\n\r\n        maxX = Math.max(maxX, px);\r\n        maxY = Math.max(maxY, py);\r\n    }\r\n\r\n    return out.set(\r\n        minX,\r\n        minY,\r\n        maxX - minX,\r\n        maxY - minY\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns the center of a Rectangle as a Point.\r\n *\r\n * @function Phaser.Geom.Rectangle.GetCenter\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to get the center of.\r\n * @param {(Phaser.Geom.Point|object)} [out] - Optional point-like object to update with the center coordinates.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The modified `out` object, or a new Point if none was provided.\r\n */\r\nexport function GetCenter (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(CenterX(rect), CenterY(rect));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Defines a Line segment, a part of a line between two endpoints.\r\n *\r\n * @class Line\r\n * @memberof Phaser.Geom\r\n * @constructor\r\n * @since 3.0.0\r\n *\r\n * @param {number} [x1=0] - The x coordinate of the lines starting point.\r\n * @param {number} [y1=0] - The y coordinate of the lines starting point.\r\n * @param {number} [x2=0] - The x coordinate of the lines ending point.\r\n * @param {number} [y2=0] - The y coordinate of the lines ending point.\r\n */\r\nexport class Line\r\n{\r\n    x1: number;\r\n    y1: number;\r\n    x2: number;\r\n    y2: number;\r\n\r\n    constructor (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0)\r\n    {\r\n        this.set(x1, y1, x2, y2);\r\n    }\r\n\r\n    set (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0): this\r\n    {\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n\r\n        return this;\r\n    }\r\n\r\n    get left (): number\r\n    {\r\n        return Math.min(this.x1, this.x2);\r\n    }\r\n\r\n    set left (value: number)\r\n    {\r\n        if (this.x1 <= this.x2)\r\n        {\r\n            this.x1 = value;\r\n        }\r\n        else\r\n        {\r\n            this.x2 = value;\r\n        }\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return Math.max(this.x1, this.x2);\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        if (this.x1 > this.x2)\r\n        {\r\n            this.x1 = value;\r\n        }\r\n        else\r\n        {\r\n            this.x2 = value;\r\n        }\r\n    }\r\n\r\n    get top (): number\r\n    {\r\n        return Math.min(this.y1, this.y2);\r\n    }\r\n\r\n    set top (value: number)\r\n    {\r\n        if (this.y1 <= this.y2)\r\n        {\r\n            this.y1 = value;\r\n        }\r\n        else\r\n        {\r\n            this.y2 = value;\r\n        }\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return Math.max(this.y1, this.y2);\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        if (this.y1 > this.y2)\r\n        {\r\n            this.y1 = value;\r\n        }\r\n        else\r\n        {\r\n            this.y2 = value;\r\n        }\r\n    }\r\n}\r\n", "import { IRectangle } from './IRectangle';\r\nimport { Line } from '../line/Line';\r\n\r\nexport function GetEdges (rectangle: IRectangle): Line[]\r\n{\r\n    const { x, y, right, bottom } = rectangle;\r\n\r\n    const line1 = new Line(x, y, right, y);\r\n    const line2 = new Line(right, y, right, bottom);\r\n    const line3 = new Line(right, bottom, x, bottom);\r\n    const line4 = new Line(x, bottom, x, y);\r\n\r\n    return [ line1, line2, line3, line4 ];\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Calculates the perimeter of a Rectangle.\r\n *\r\n * @function Phaser.Geom.Rectangle.Perimeter\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to use.\r\n *\r\n * @return {number} The perimeter of the Rectangle, equal to `(width * 2) + (height * 2)`.\r\n */\r\nexport function Perimeter (rect: IRectangle): number\r\n{\r\n    return 2 * (rect.width + rect.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Perimeter } from './Perimeter';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Calculates the coordinates of a point at a certain `position` on the Rectangle's perimeter.\r\n * \r\n * The `position` is a fraction between 0 and 1 which defines how far into the perimeter the point is.\r\n * \r\n * A value of 0 or 1 returns the point at the top left corner of the rectangle, while a value of 0.5 returns the point at the bottom right corner of the rectangle. Values between 0 and 0.5 are on the top or the right side and values between 0.5 and 1 are on the bottom or the left side.\r\n *\r\n * @function Phaser.Geom.Rectangle.GetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectangle - The Rectangle to get the perimeter point from.\r\n * @param {number} position - The normalized distance into the Rectangle's perimeter to return.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An object to update with the `x` and `y` coordinates of the point.\r\n *\r\n * @return {Phaser.Geom.Point} The updated `output` object, or a new Point if no `output` object was given.\r\n */\r\nexport function GetPoint (rectangle: IRectangle, position: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    if (position <= 0 || position >= 1)\r\n    {\r\n        return out.set(rectangle.x, rectangle.y);\r\n    }\r\n\r\n    let p = Perimeter(rectangle) * position;\r\n\r\n    if (position > 0.5)\r\n    {\r\n        p -= (rectangle.width + rectangle.height);\r\n\r\n        if (p <= rectangle.width)\r\n        {\r\n            //  Face 3\r\n            return out.set(rectangle.right - p, rectangle.bottom);\r\n        }\r\n        else\r\n        {\r\n            //  Face 4\r\n            return out.set(rectangle.x, rectangle.bottom - (p - rectangle.width));\r\n        }\r\n    }\r\n    else if (p <= rectangle.width)\r\n    {\r\n        //  Face 1\r\n        return out.set(rectangle.x + p, rectangle.y);\r\n    }\r\n    else\r\n    {\r\n        //  Face 2\r\n        return out.set(rectangle.right, rectangle.y + (p - rectangle.width));\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetPoint } from './GetPoint';\r\nimport { IRectangle } from './IRectangle';\r\nimport { Perimeter } from './Perimeter';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Return an array of points from the perimeter of the rectangle, each spaced out based on the quantity or step required.\r\n *\r\n * @function Phaser.Geom.Rectangle.GetPoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point[]} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectangle - The Rectangle object to get the points from.\r\n * @param {number} step - Step between points. Used to calculate the number of points to return when quantity is falsey. Ignored if quantity is positive.\r\n * @param {integer} quantity - The number of evenly spaced points from the rectangles perimeter to return. If falsey, step param will be used to calculate the number of points.\r\n * @param {(array|Phaser.Geom.Point[])} [out] - An optional array to store the points in.\r\n *\r\n * @return {(array|Phaser.Geom.Point[])} An array of Points from the perimeter of the rectangle.\r\n */\r\nexport function GetPoints (rectangle: IRectangle, step: number, quantity: number = 0, out: Vec2[] = []): Vec2[]\r\n{\r\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\r\n    if (!quantity)\r\n    {\r\n        quantity = Perimeter(rectangle) / step;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        out.push(GetPoint(rectangle, i / quantity));\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns the size of the Rectangle, expressed as a Point object.\r\n * With the value of the `width` as the `x` property and the `height` as the `y` property.\r\n *\r\n * @function Phaser.Geom.Rectangle.GetSize\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to get the size from.\r\n * @param {(Phaser.Geom.Point|object)} [out] - The Point object to store the size in. If not given, a new Point instance is created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object where `x` holds the width and `y` holds the height of the Rectangle.\r\n */\r\nexport function GetSize (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(rect.width, rect.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CenterOn } from './CenterOn';\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Increases the size of a Rectangle by a specified amount.\r\n *\r\n * The center of the Rectangle stays the same. The amounts are added to each side, so the actual increase in width or height is two times bigger than the respective argument.\r\n *\r\n * @function Phaser.Geom.Rectangle.Inflate\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to inflate.\r\n * @param {number} x - How many pixels the left and the right side should be moved by horizontally.\r\n * @param {number} y - How many pixels the top and the bottom side should be moved by vertically.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The inflated Rectangle.\r\n */\r\nexport function Inflate (rect: IRectangle, x: number, y: number): IRectangle\r\n{\r\n    const cx = CenterX(rect);\r\n    const cy = CenterY(rect);\r\n\r\n    rect.width = rect.width + (x * 2);\r\n    rect.height = rect.height + (y * 2);\r\n\r\n    return CenterOn(rect, cx, cy);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Rectangle } from './Rectangle';\r\nimport { RectangleToRectangle } from '../intersects/RectangleToRectangle';\r\n\r\n/**\r\n * Takes two Rectangles and first checks to see if they intersect.\r\n * If they intersect it will return the area of intersection in the `out` Rectangle.\r\n * If they do not intersect, the `out` Rectangle will have a width and height of zero.\r\n *\r\n * @function Phaser.Geom.Rectangle.Intersection\r\n * @since 3.11.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first Rectangle to get the intersection from.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second Rectangle to get the intersection from.\r\n * @param {Phaser.Geom.Rectangle} [out] - A Rectangle to store the intersection results in.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The intersection result. If the width and height are zero, no intersection occurred.\r\n */\r\nexport function Intersection (rectA: IRectangle, rectB: IRectangle, out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    if (RectangleToRectangle(rectA, rectB))\r\n    {\r\n        out.set(\r\n            Math.max(rectA.x, rectB.x),\r\n            Math.max(rectA.y, rectB.y),\r\n            Math.min(rectA.right, rectB.right) - out.x,\r\n            Math.min(rectA.bottom, rectB.bottom) - out.y\r\n        );\r\n    }\r\n    else\r\n    {\r\n        out.set();\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Perimeter } from './Perimeter';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns an array of points from the perimeter of the Rectangle, where each point is spaced out based\r\n * on either the `step` value, or the `quantity`.\r\n *\r\n * @function Phaser.Geom.Rectangle.MarchingAnts\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point[]} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to get the perimeter points from.\r\n * @param {number} [step] - The distance between each point of the perimeter. Set to `null` if you wish to use the `quantity` parameter instead.\r\n * @param {integer} [quantity] - The total number of points to return. The step is then calculated based on the length of the Rectangle, divided by this value.\r\n * @param {(array|Phaser.Geom.Point[])} [out] - An array in which the perimeter points will be stored. If not given, a new array instance is created.\r\n *\r\n * @return {(array|Phaser.Geom.Point[])} An array containing the perimeter points from the Rectangle.\r\n */\r\nexport function MarchingAnts (rect: IRectangle, step?: number, quantity?: number, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (!step && !quantity)\r\n    {\r\n        //  Bail out\r\n        return out;\r\n    }\r\n\r\n    //  If step is a falsey value (false, null, 0, undefined, etc) then we calculate\r\n    //  it based on the quantity instead, otherwise we always use the step value\r\n    if (!step)\r\n    {\r\n        step = Perimeter(rect) / quantity;\r\n    }\r\n    else\r\n    {\r\n        quantity = Math.round(Perimeter(rect) / step);\r\n    }\r\n\r\n    let x = rect.x;\r\n    let y = rect.y;\r\n    let face = 0;\r\n\r\n    //  Loop across each face of the rectangle\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        out.push(new Vec2(x, y));\r\n\r\n        switch (face)\r\n        {\r\n            //  Top face\r\n            case 0:\r\n                x += step;\r\n\r\n                if (x >= rect.right)\r\n                {\r\n                    face = 1;\r\n                    y += (x - rect.right);\r\n                    x = rect.right;\r\n                }\r\n                break;\r\n\r\n            //  Right face\r\n            case 1:\r\n                y += step;\r\n\r\n                if (y >= rect.bottom)\r\n                {\r\n                    face = 2;\r\n                    x -= (y - rect.bottom);\r\n                    y = rect.bottom;\r\n                }\r\n                break;\r\n\r\n            //  Bottom face\r\n            case 2:\r\n                x -= step;\r\n\r\n                if (x <= rect.x)\r\n                {\r\n                    face = 3;\r\n                    y -= (rect.x - x);\r\n                    x = rect.x;\r\n                }\r\n                break;\r\n\r\n            //  Left face\r\n            case 3:\r\n                y -= step;\r\n\r\n                if (y <= rect.y)\r\n                {\r\n                    face = 0;\r\n                    y = rect.y;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Merges a Rectangle with a list of points by repositioning and/or resizing it such that all points are located on or within its bounds.\r\n *\r\n * @function Phaser.Geom.Rectangle.MergePoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [target,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} target - The Rectangle which should be merged.\r\n * @param {Phaser.Geom.Point[]} points - An array of Points (or any object with public `x` and `y` properties) which should be merged with the Rectangle.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified Rectangle.\r\n */\r\nexport function MergePoints (target: IRectangle, points: Vec2[]): IRectangle\r\n{\r\n    let minX = target.x;\r\n    let maxX = target.right;\r\n    let minY = target.y;\r\n    let maxY = target.bottom;\r\n\r\n    for (let i = 0; i < points.length; i++)\r\n    {\r\n        minX = Math.min(minX, points[i].x);\r\n        maxX = Math.max(maxX, points[i].x);\r\n        minY = Math.min(minY, points[i].y);\r\n        maxY = Math.max(maxY, points[i].y);\r\n    }\r\n\r\n    return target.set(\r\n        minX,\r\n        minY,\r\n        maxX - minX,\r\n        maxY - minY\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Merges the source rectangle into the target rectangle and returns the target.\r\n * Neither rectangle should have a negative width or height.\r\n *\r\n * @function Phaser.Geom.Rectangle.MergeRect\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [target,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} target - Target rectangle. Will be modified to include source rectangle.\r\n * @param {Phaser.Geom.Rectangle} source - Rectangle that will be merged into target rectangle.\r\n *\r\n * @return {Phaser.Geom.Rectangle} Modified target rectangle that contains source rectangle.\r\n */\r\nexport function MergeRect (target: IRectangle, source: IRectangle): IRectangle\r\n{\r\n    const minX = Math.min(target.x, source.x);\r\n    const maxX = Math.max(target.right, source.right);\r\n    const minY = Math.min(target.y, source.y);\r\n    const maxY = Math.max(target.bottom, source.bottom);\r\n\r\n    return target.set(\r\n        minX,\r\n        minY,\r\n        maxX - minX,\r\n        maxY - minY\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Merges a Rectangle with a point by repositioning and/or resizing it so that the point is on or within its bounds.\r\n *\r\n * @function Phaser.Geom.Rectangle.MergeXY\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [target,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} target - The Rectangle which should be merged and modified.\r\n * @param {number} x - The X coordinate of the point which should be merged.\r\n * @param {number} y - The Y coordinate of the point which should be merged.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified `target` Rectangle.\r\n */\r\nexport function MergeXY (target: IRectangle, x: number, y: number): IRectangle\r\n{\r\n    const minX = Math.min(target.x, x);\r\n    const maxX = Math.max(target.right, x);\r\n    const minY = Math.min(target.y, y);\r\n    const maxY = Math.max(target.bottom, y);\r\n\r\n    return target.set(\r\n        minX,\r\n        minY,\r\n        maxX - minX,\r\n        maxY - minY\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Nudges (translates) the top left corner of a Rectangle by a given offset.\r\n *\r\n * @function Phaser.Geom.Rectangle.Offset\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to adjust.\r\n * @param {number} x - The distance to move the Rectangle horizontally.\r\n * @param {number} y - The distance to move the Rectangle vertically.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The adjusted Rectangle.\r\n */\r\nexport function Offset (rect: IRectangle, x: number, y: number): IRectangle\r\n{\r\n    rect.x += x;\r\n    rect.y += y;\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Nudges (translates) the top-left corner of a Rectangle by the coordinates of a point (translation vector).\r\n *\r\n * @function Phaser.Geom.Rectangle.OffsetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to adjust.\r\n * @param {(Phaser.Geom.Point|Phaser.Math.Vector2)} point - The point whose coordinates should be used as an offset.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The adjusted Rectangle.\r\n */\r\nexport function OffsetPoint (rect: IRectangle, point: Vec2): IRectangle\r\n{\r\n    rect.x += point.x;\r\n    rect.y += point.y;\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Checks if two Rectangles overlap. If a Rectangle is within another Rectangle, the two will be considered overlapping. Thus, the Rectangles are treated as \"solid\".\r\n *\r\n * @function Phaser.Geom.Rectangle.Overlaps\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first Rectangle to check.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second Rectangle to check.\r\n *\r\n * @return {boolean} `true` if the two Rectangles overlap, `false` otherwise.\r\n */\r\nexport function Overlaps (rectA: IRectangle, rectB: IRectangle): boolean\r\n{\r\n    return (\r\n        rectA.x < rectB.right &&\r\n        rectA.right > rectB.x &&\r\n        rectA.y < rectB.bottom &&\r\n        rectA.bottom > rectB.y\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { DegToRad } from '../../math/DegToRad';\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point from the perimeter of a Rectangle based on the given angle.\r\n *\r\n * @function Phaser.Geom.Rectangle.PerimeterPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectangle - The Rectangle to get the perimeter point from.\r\n * @param {number} angle - The angle of the point, in degrees.\r\n * @param {Phaser.Geom.Point} [out] - The Point object to store the position in. If not given, a new Point instance is created.\r\n *\r\n * @return {Phaser.Geom.Point} A Point object holding the coordinates of the Rectangle perimeter.\r\n */\r\nexport function PerimeterPoint (rectangle: IRectangle, angle: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    angle = DegToRad(angle);\r\n\r\n    const s = Math.sin(angle);\r\n    const c = Math.cos(angle);\r\n\r\n    let dx = (c > 0) ? rectangle.width / 2 : rectangle.width / -2;\r\n    let dy = (s > 0) ? rectangle.height / 2 : rectangle.height / -2;\r\n\r\n    if (Math.abs(dx * s) < Math.abs(dy * c))\r\n    {\r\n        dy = (dx * s) / c;\r\n    }\r\n    else\r\n    {\r\n        dx = (dy * c) / s;\r\n    }\r\n\r\n    return out.set(\r\n        dx + CenterX(rectangle),\r\n        dy + CenterY(rectangle)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a random point within a Rectangle.\r\n *\r\n * @function Phaser.Geom.Rectangle.Random\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The Rectangle to return a point from.\r\n * @param {Phaser.Geom.Point} out - The object to update with the point's coordinates.\r\n *\r\n * @return {Phaser.Geom.Point} The modified `out` object, or a new Point if none was provided.\r\n */\r\nexport function Random (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        rect.x + (Math.random() * rect.width),\r\n        rect.y + (Math.random() * rect.height)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Between } from '../../math/Between';\r\nimport { ContainsRect } from './ContainsRect';\r\nimport { IRectangle } from './IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Calculates a random point that lies within the `outer` Rectangle, but outside of the `inner` Rectangle.\r\n * The inner Rectangle must be fully contained within the outer rectangle.\r\n *\r\n * @function Phaser.Geom.Rectangle.RandomOutside\r\n * @since 3.10.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} outer - The outer Rectangle to get the random point within.\r\n * @param {Phaser.Geom.Rectangle} inner - The inner Rectangle to exclude from the returned point.\r\n * @param {Phaser.Geom.Point} [out] - A Point, or Point-like object to store the result in. If not specified, a new Point will be created.\r\n *\r\n * @return {Phaser.Geom.Point} A Point object containing the random values in its `x` and `y` properties.\r\n */\r\nexport function RandomOutside (outer: IRectangle, inner: IRectangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    if (ContainsRect(outer, inner))\r\n    {\r\n        //  Pick a random quadrant\r\n        //\r\n        //  The quadrants don't extend the full widths / heights of the outer rect to give\r\n        //  us a better uniformed distribution, otherwise you get clumping in the corners where\r\n        //  the 4 quads would overlap\r\n\r\n        switch (Between(0, 3))\r\n        {\r\n            case 0: // Top\r\n                out.x = outer.x + (Math.random() * (inner.right - outer.x));\r\n                out.y = outer.y + (Math.random() * (inner.y - outer.y));\r\n                break;\r\n\r\n            case 1: // Bottom\r\n                out.x = inner.x + (Math.random() * (outer.right - inner.x));\r\n                out.y = inner.bottom + (Math.random() * (outer.bottom - inner.bottom));\r\n                break;\r\n\r\n            case 2: // Left\r\n                out.x = outer.x + (Math.random() * (inner.x - outer.x));\r\n                out.y = inner.y + (Math.random() * (outer.bottom - inner.y));\r\n                break;\r\n\r\n            case 3: // Right\r\n                out.x = inner.right + (Math.random() * (outer.right - inner.right));\r\n                out.y = outer.y + (Math.random() * (inner.bottom - outer.y));\r\n                break;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Determines if the two objects (either Rectangles or Rectangle-like) have the same width and height values under strict equality.\r\n *\r\n * @function Phaser.Geom.Rectangle.SameDimensions\r\n * @since 3.15.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The first Rectangle object.\r\n * @param {Phaser.Geom.Rectangle} toCompare - The second Rectangle object.\r\n *\r\n * @return {boolean} `true` if the objects have equivalent values for the `width` and `height` properties, otherwise `false`.\r\n */\r\nexport function SameDimensions (rect: IRectangle, toCompare: IRectangle): boolean\r\n{\r\n    return (rect.width === toCompare.width && rect.height === toCompare.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\n\r\n/**\r\n * Scales the width and height of this Rectangle by the given amounts.\r\n *\r\n * @function Phaser.Geom.Rectangle.Scale\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [rect,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - The `Rectangle` object that will be scaled by the specified amount(s).\r\n * @param {number} x - The factor by which to scale the rectangle horizontally.\r\n * @param {number} y - The amount by which to scale the rectangle vertically. If this is not specified, the rectangle will be scaled by the factor `x` in both directions.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The rectangle object with updated `width` and `height` properties as calculated from the scaling factor(s).\r\n */\r\nexport function Scale (rect: IRectangle, x: number, y: number = x): IRectangle\r\n{\r\n    rect.width *= x;\r\n    rect.height *= y;\r\n\r\n    return rect;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from './IRectangle';\r\nimport { Rectangle } from './Rectangle';\r\n\r\n/**\r\n * Creates a new Rectangle or repositions and/or resizes an existing Rectangle so that it encompasses the two given Rectangles, i.e. calculates their union.\r\n *\r\n * @function Phaser.Geom.Rectangle.Union\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first Rectangle to use.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second Rectangle to use.\r\n * @param {Phaser.Geom.Rectangle} [out] - The Rectangle to store the union in.\r\n *\r\n * @return {Phaser.Geom.Rectangle} The modified `out` Rectangle, or a new Rectangle if none was provided.\r\n */\r\nexport function Union (rectA: IRectangle, rectB: IRectangle, out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    //  Cache vars so we can use one of the input rects as the output rect\r\n    const x = Math.min(rectA.x, rectB.x);\r\n    const y = Math.min(rectA.y, rectB.y);\r\n    const w = Math.max(rectA.right, rectB.right) - x;\r\n    const h = Math.max(rectA.bottom, rectB.bottom) - y;\r\n\r\n    return out.set(x, y, w, h);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Area } from './Area';\r\nimport { Ceil } from './Ceil';\r\nimport { CeilAll } from './CeilAll';\r\nimport { CenterOn } from './CenterOn';\r\nimport { CenterX } from './CenterX';\r\nimport { CenterY } from './CenterY';\r\nimport { Clone } from './Clone';\r\nimport { Contains } from './Contains';\r\nimport { ContainsPoint } from './ContainsPoint';\r\nimport { ContainsRect } from './ContainsRect';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Decompose } from './Decompose';\r\nimport { Equals } from './Equals';\r\nimport { FitInside } from './FitInside';\r\nimport { FitOutside } from './FitOutside';\r\nimport { Floor } from './Floor';\r\nimport { FloorAll } from './FloorAll';\r\nimport { FromPoints } from './FromPoints';\r\nimport { GetAspectRatio } from './GetAspectRatio';\r\nimport { GetCenter } from './GetCenter';\r\nimport { GetEdges } from './GetEdges';\r\nimport { GetPoint } from './GetPoint';\r\nimport { GetPoints } from './GetPoints';\r\nimport { GetSize } from './GetSize';\r\nimport { Inflate } from './Inflate';\r\nimport { Intersection } from './Intersection';\r\nimport { MarchingAnts } from './MarchingAnts';\r\nimport { MergePoints } from './MergePoints';\r\nimport { MergeRect } from './MergeRect';\r\nimport { MergeXY } from './MergeXY';\r\nimport { Offset } from './Offset';\r\nimport { OffsetPoint } from './OffsetPoint';\r\nimport { Overlaps } from './Overlaps';\r\nimport { Perimeter } from './Perimeter';\r\nimport { PerimeterPoint } from './PerimeterPoint';\r\nimport { Random } from './Random';\r\nimport { RandomOutside } from './RandomOutside';\r\nimport { Rectangle } from './Rectangle';\r\nimport { SameDimensions } from './SameDimensions';\r\nimport { Scale } from './Scale';\r\nimport { Union } from './Union';\r\n\r\nexport {\r\n    Area,\r\n    Ceil,\r\n    CeilAll,\r\n    CenterOn,\r\n    CenterX,\r\n    CenterY,\r\n    Clone,\r\n    Contains,\r\n    ContainsPoint,\r\n    ContainsRect,\r\n    CopyFrom,\r\n    Decompose,\r\n    Equals,\r\n    FitInside,\r\n    FitOutside,\r\n    Floor,\r\n    FloorAll,\r\n    FromPoints,\r\n    GetAspectRatio,\r\n    GetCenter,\r\n    GetEdges,\r\n    GetPoint,\r\n    GetPoints,\r\n    GetSize,\r\n    Inflate,\r\n    Intersection,\r\n    MarchingAnts,\r\n    MergePoints,\r\n    MergeRect,\r\n    MergeXY,\r\n    Offset,\r\n    OffsetPoint,\r\n    Overlaps,\r\n    Perimeter,\r\n    PerimeterPoint,\r\n    Random,\r\n    RandomOutside,\r\n    Rectangle,\r\n    SameDimensions,\r\n    Scale,\r\n    Union\r\n};\r\n", "import { ITransformComponent } from './ITransformComponent';\r\n\r\nexport function UpdateLocalTransform (transform: ITransformComponent): void\r\n{\r\n    const local = transform.local;\r\n\r\n    const x = transform.position.x;\r\n    const y = transform.position.y;\r\n    const rotation = transform.rotation;\r\n    const scaleX = transform.scale.x;\r\n    const scaleY = transform.scale.y;\r\n    const skewX = transform.skew.x;\r\n    const skewY = transform.skew.y;\r\n\r\n    local.set(\r\n        Math.cos(rotation + skewY) * scaleX,\r\n        Math.sin(rotation + skewY) * scaleX,\r\n        -Math.sin(rotation - skewX) * scaleY,\r\n        Math.cos(rotation - skewX) * scaleY,\r\n        x,\r\n        y\r\n    );\r\n}\r\n", "import { CopyFrom } from '../../../math/matrix2d/CopyFrom';\r\nimport { IGameObject } from '../../IGameObject';\r\n\r\nexport function UpdateWorldTransform (gameObject: IGameObject): void\r\n{\r\n    const parent = gameObject.parent;\r\n    const transform = gameObject.transform;\r\n\r\n    const lt = transform.local;\r\n    const wt = transform.world;\r\n\r\n    if (!parent)\r\n    {\r\n        CopyFrom(lt, wt);\r\n    }\r\n    else if (transform.passthru)\r\n    {\r\n        CopyFrom(parent.transform.world, wt);\r\n    }\r\n    else\r\n    {\r\n        const { a, b, c, d, tx, ty } = lt;\r\n        const { a: pa, b: pb, c: pc, d: pd, tx: ptx, ty: pty } = parent.transform.world;\r\n\r\n        wt.set(\r\n            a  * pa + b  * pc,\r\n            a  * pb + b  * pd,\r\n            c  * pa + d  * pc,\r\n            c  * pb + d  * pd,\r\n            tx * pa + ty * pc + ptx,\r\n            tx * pb + ty * pd + pty\r\n        );\r\n    }\r\n}\r\n", "import { Vec2, Vec2Callback } from '../../../math/vec2';\r\nimport { originX, originY } from '../../../config/DefaultOrigin';\r\n\r\nimport { DIRTY_CONST } from '../../DIRTY_CONST';\r\nimport { IGameObject } from '../../IGameObject';\r\nimport { ITransformComponent } from './ITransformComponent';\r\nimport { Matrix2D } from '../../../math/matrix2d/Matrix2D';\r\nimport { Rectangle } from '../../../geom/rectangle';\r\nimport { UpdateLocalTransform } from './UpdateLocalTransform';\r\nimport { UpdateWorldTransform } from './UpdateWorldTransform';\r\n\r\nexport class TransformComponent implements ITransformComponent\r\n{\r\n    entity: IGameObject;\r\n\r\n    //  This should be treated as read-only, it is always perfectly in sync with the properties in this class\r\n    local: Matrix2D;\r\n\r\n    world: Matrix2D;\r\n\r\n    position: Vec2Callback;\r\n    scale: Vec2Callback;\r\n    skew: Vec2Callback;\r\n    origin: Vec2Callback;\r\n    extent: Rectangle;\r\n\r\n    passthru: boolean = false;\r\n\r\n    private _rotation: number = 0;\r\n\r\n    constructor (entity: IGameObject, x: number = 0, y: number = 0)\r\n    {\r\n        this.entity = entity;\r\n\r\n        this.local = new Matrix2D();\r\n        this.world = new Matrix2D();\r\n\r\n        const update = () => this.update();\r\n        const updateExtent = () => this.updateExtent();\r\n\r\n        this.position = new Vec2Callback(update, x, y);\r\n        this.scale = new Vec2Callback(update, 1, 1);\r\n        this.skew = new Vec2Callback(update);\r\n        this.origin = new Vec2Callback(updateExtent, originX, originY);\r\n\r\n        this.extent = new Rectangle();\r\n    }\r\n\r\n    update (): void\r\n    {\r\n        this.updateLocal();\r\n        this.updateWorld();\r\n    }\r\n\r\n    updateLocal (): void\r\n    {\r\n        this.entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n\r\n        UpdateLocalTransform(this);\r\n    }\r\n\r\n    updateWorld (): void\r\n    {\r\n        const entity = this.entity;\r\n\r\n        entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n\r\n        UpdateWorldTransform(entity);\r\n\r\n        if (entity.numChildren)\r\n        {\r\n            this.updateChildren();\r\n        }\r\n    }\r\n\r\n    updateChildren (): void\r\n    {\r\n        //  Sweep all children - by this point our local and world transforms are correct\r\n        const children = this.entity.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            const child = children[i];\r\n\r\n            child.transform.updateWorld();\r\n        }\r\n    }\r\n\r\n    globalToLocal (x: number, y: number, out: Vec2 = new Vec2()): Vec2\r\n    {\r\n        const { a, b, c, d, tx, ty } = this.world;\r\n\r\n        const id: number = 1 / ((a * d) + (c * -b));\r\n\r\n        out.x = (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id);\r\n        out.y = (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id);\r\n\r\n        return out;\r\n    }\r\n\r\n    localToGlobal (x: number, y: number, out: Vec2 = new Vec2()): Vec2\r\n    {\r\n        const { a, b, c, d, tx, ty } = this.world;\r\n\r\n        out.x = (a * x) + (c * y) + tx;\r\n        out.y = (b * x) + (d * y) + ty;\r\n\r\n        return out;\r\n    }\r\n\r\n    //  The area covered by this transform component + origin + size (usually from a Frame)\r\n    setExtent (x: number, y: number, width: number, height: number): void\r\n    {\r\n        this.extent.set(x, y, width, height);\r\n\r\n        this.entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n    }\r\n\r\n    updateExtent (width?: number, height?: number): void\r\n    {\r\n        const extent = this.extent;\r\n        const entity = this.entity;\r\n\r\n        if (width !== undefined)\r\n        {\r\n            extent.width = width;\r\n        }\r\n\r\n        if (height !== undefined)\r\n        {\r\n            extent.height = height;\r\n        }\r\n\r\n        extent.x = -(this.origin.x) * extent.width;\r\n        extent.y = -(this.origin.y) * extent.height;\r\n\r\n        entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n    }\r\n\r\n    set rotation (value: number)\r\n    {\r\n        if (value !== this._rotation)\r\n        {\r\n            this._rotation = value;\r\n\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    get rotation (): number\r\n    {\r\n        return this._rotation;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.position.destroy();\r\n        this.scale.destroy();\r\n        this.skew.destroy();\r\n        this.origin.destroy();\r\n\r\n        this.entity = null;\r\n        this.local = null;\r\n        this.world = null;\r\n        this.position = null;\r\n        this.scale = null;\r\n        this.skew = null;\r\n        this.origin = null;\r\n        this.extent = null;\r\n    }\r\n}\r\n", "import { GetVertices } from './GetVertices';\r\nimport { TransformComponent } from './TransformComponent';\r\nimport { UpdateLocalTransform } from './UpdateLocalTransform';\r\nimport { UpdateWorldTransform } from './UpdateWorldTransform';\r\n\r\nexport {\r\n    GetVertices,\r\n    TransformComponent,\r\n    UpdateLocalTransform,\r\n    UpdateWorldTransform\r\n};\r\n", "export function PackColor (rgb: number, alpha: number): number\r\n{\r\n    const ua = ((alpha * 255) | 0) & 0xFF;\r\n\r\n    return ((ua << 24) | rgb) >>> 0;\r\n}\r\n", "import { PackColor } from '../../renderer/webgl1/colors/PackColor';\r\n\r\nexport class Vertex\r\n{\r\n    x: number = 0;\r\n    y: number = 0;\r\n    z: number = 0;\r\n\r\n    u: number = 0;\r\n    v: number = 0;\r\n\r\n    texture: number = 0;\r\n\r\n    tint: number = 0xffffff;\r\n    alpha: number = 1;\r\n    color: number = 4294967295;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    setPosition (x: number, y: number, z: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n\r\n        return this;\r\n    }\r\n\r\n    setUV (u: number, v: number): this\r\n    {\r\n        this.u = u;\r\n        this.v = v;\r\n\r\n        return this;\r\n    }\r\n\r\n    setColor (color: number, alpha: number = 1): this\r\n    {\r\n        this.tint = color;\r\n        this.alpha = alpha;\r\n\r\n        this.packColor();\r\n\r\n        return this;\r\n    }\r\n\r\n    setAlpha (value: number): this\r\n    {\r\n        this.alpha = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    setTint (value: number): this\r\n    {\r\n        this.tint = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    packColor (): void\r\n    {\r\n        this.color = PackColor(this.tint, this.alpha);\r\n    }\r\n}\r\n", "import * as Bounds from './bounds';\r\nimport * as Input from './input';\r\nimport * as Transform from './transform';\r\n\r\nimport { Vertex } from './Vertex';\r\n\r\nexport {\r\n    Bounds,\r\n    Input,\r\n    Transform,\r\n    Vertex\r\n};\r\n", "import { GetVertexBufferEntry } from '../renderpass/GetVertexBufferEntry';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { ISprite } from '../../../gameobjects/sprite/ISprite';\r\nimport { SetTexture } from '../renderpass/SetTexture';\r\n\r\nexport function BatchTexturedQuad <T extends ISprite> (sprite: T, renderPass: IRenderPass): void\r\n{\r\n    const { F32, U32, offset } = GetVertexBufferEntry(renderPass, 1);\r\n\r\n    const textureIndex = SetTexture(renderPass, sprite.texture);\r\n\r\n    let vertOffset = offset;\r\n\r\n    sprite.vertices.forEach(vertex =>\r\n    {\r\n        F32[vertOffset + 0] = vertex.x;\r\n        F32[vertOffset + 1] = vertex.y;\r\n        F32[vertOffset + 2] = vertex.u;\r\n        F32[vertOffset + 3] = vertex.v;\r\n        F32[vertOffset + 4] = textureIndex;\r\n        U32[vertOffset + 5] = vertex.color;\r\n\r\n        vertOffset += 6;\r\n    });\r\n}\r\n\r\n/*\r\n    vertexData array structure:\r\n\r\n    0 = topLeft.x\r\n    1 = topLeft.y\r\n    2 = frame.u0\r\n    3 = frame.v0\r\n    4 = textureIndex\r\n    5 = topLeft.packedColor\r\n\r\n    6 = bottomLeft.x\r\n    7 = bottomLeft.y\r\n    8 = frame.u0\r\n    9 = frame.v1\r\n    10 = textureIndex\r\n    11 = bottomLeft.packedColor\r\n\r\n    12 = bottomRight.x\r\n    13 = bottomRight.y\r\n    14 = frame.u1\r\n    15 = frame.v1\r\n    16 = textureIndex\r\n    17 = bottomRight.packedColor\r\n\r\n    18 = topRight.x\r\n    19 = topRight.y\r\n    20 = frame.u1\r\n    21 = frame.v0\r\n    22 = textureIndex\r\n    23 = topRight.packedColor\r\n*/\r\n", "import { BoundsComponent } from './components/bounds/BoundsComponent';\r\nimport { DIRTY_CONST } from './DIRTY_CONST';\r\nimport { DestroyChildren } from '../display/DestroyChildren';\r\nimport { DestroyEvent } from './events/DestroyEvent';\r\nimport { Emit } from '../events';\r\nimport { GameInstance } from '../GameInstance';\r\nimport { IBaseWorld } from '../world/IBaseWorld';\r\nimport { IBoundsComponent } from './components/bounds/IBoundsComponent';\r\nimport { ICanvasRenderer } from '../renderer/canvas/ICanvasRenderer';\r\nimport { IEventInstance } from '../events/IEventInstance';\r\nimport { IGameObject } from './IGameObject';\r\nimport { IInputComponent } from './components/input/IInputComponent';\r\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\r\nimport { ITransformComponent } from './components/transform/ITransformComponent';\r\nimport { InputComponent } from './components/input/InputComponent';\r\nimport { ReparentChildren } from '../display/ReparentChildren';\r\nimport { TransformComponent } from './components/transform/TransformComponent';\r\n\r\nexport class GameObject\r\n{\r\n    type: string = 'GameObject';\r\n    name: string = '';\r\n\r\n    //  The World this Game Object belongs to. A Game Object can only belong to one World instance at any one time.\r\n    world: IBaseWorld;\r\n\r\n    //  The direct parent of this Game Object in the scene graph (if any)\r\n    parent: IGameObject;\r\n\r\n    children: IGameObject[];\r\n\r\n    events: Map<string, Set<IEventInstance>>;\r\n\r\n    willUpdate: boolean = true;\r\n    willUpdateChildren: boolean = true;\r\n\r\n    willRender: boolean = true;\r\n    willRenderChildren: boolean = true;\r\n    willCacheChildren: boolean = false;\r\n\r\n    dirty: number = 0;\r\n    dirtyFrame: number = 0;\r\n\r\n    transform: ITransformComponent;\r\n    bounds: IBoundsComponent;\r\n    input: IInputComponent;\r\n\r\n    visible: boolean = true;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        this.children = [];\r\n\r\n        this.events = new Map();\r\n\r\n        this.transform = new TransformComponent(this, x, y);\r\n        this.bounds = new BoundsComponent(this);\r\n        this.input = new InputComponent(this);\r\n\r\n        this.dirty = DIRTY_CONST.DEFAULT;\r\n\r\n        this.transform.update();\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender);\r\n    }\r\n\r\n    isDirty (flag: number): boolean\r\n    {\r\n        return (this.dirty & flag) !== 0;\r\n    }\r\n\r\n    clearDirty (flag: number): this\r\n    {\r\n        if (this.isDirty(flag))\r\n        {\r\n            this.dirty ^= flag;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setDirty (flag: number, flag2?: number): this\r\n    {\r\n        if (!this.isDirty(flag))\r\n        {\r\n            this.dirty ^= flag;\r\n            this.dirtyFrame = GameInstance.getFrame();\r\n        }\r\n\r\n        if (!this.isDirty(flag2))\r\n        {\r\n            this.dirty ^= flag2;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        if (this.willUpdateChildren)\r\n        {\r\n            const children = this.children;\r\n\r\n            for (let i = 0; i < children.length; i++)\r\n            {\r\n                const child = children[i];\r\n\r\n                if (child && child.willUpdate)\r\n                {\r\n                    child.update(delta, time);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.postUpdate(delta, time);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postUpdate (delta: number, time: number): void\r\n    {\r\n        //  Empty for parent classes to use.\r\n        //  Called after this GameObject and all of its children have been updated.\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\r\n    {\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        //  Called after this GameObject and all of its children have been rendered.\r\n        //  If it doesn't have any children, this method is never called.\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postRenderCanvas <T extends ICanvasRenderer> (renderer: T): void\r\n    {\r\n        //  Called after this GameObject and all of its children have been rendered.\r\n        //  If it doesn't have any children, this method is never called.\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject): void\r\n    {\r\n        if (reparentChildren)\r\n        {\r\n            ReparentChildren(this, reparentChildren);\r\n        }\r\n        else\r\n        {\r\n            DestroyChildren(this);\r\n        }\r\n\r\n        Emit(this, DestroyEvent, this);\r\n\r\n        this.transform.destroy();\r\n        this.bounds.destroy();\r\n        this.input.destroy();\r\n\r\n        this.events.clear();\r\n\r\n        this.world = null;\r\n        this.parent = null;\r\n        this.children = null;\r\n    }\r\n}\r\n", "import { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { GameObject } from '../GameObject';\r\nimport { IContainer } from './IContainer';\r\n\r\nexport class Container extends GameObject implements IContainer\r\n{\r\n    protected _alpha: number = 1;\r\n\r\n    constructor (x: number = 0, y: number = 0)\r\n    {\r\n        super(x, y);\r\n\r\n        this.type = 'Container';\r\n    }\r\n\r\n    setSize (width: number, height: number = width): this\r\n    {\r\n        this.transform.updateExtent(width, height);\r\n\r\n        return this;\r\n    }\r\n\r\n    setPosition (x: number, y: number): this\r\n    {\r\n        this.transform.position.set(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    setOrigin (x: number, y: number = x): this\r\n    {\r\n        this.transform.origin.set(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    setSkew (x: number, y: number = x): this\r\n    {\r\n        this.transform.skew.set(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    setScale (x: number, y: number = x): this\r\n    {\r\n        this.transform.scale.set(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    setRotation (value: number): this\r\n    {\r\n        this.transform.rotation = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    set width (value: number)\r\n    {\r\n        this.transform.updateExtent(value);\r\n    }\r\n\r\n    get width (): number\r\n    {\r\n        return this.transform.extent.width;\r\n    }\r\n\r\n    set height (value: number)\r\n    {\r\n        this.transform.updateExtent(undefined, value);\r\n    }\r\n\r\n    get height (): number\r\n    {\r\n        return this.transform.extent.height;\r\n    }\r\n\r\n    set x (value: number)\r\n    {\r\n        this.transform.position.x = value;\r\n    }\r\n\r\n    get x (): number\r\n    {\r\n        return this.transform.position.x;\r\n    }\r\n\r\n    set y (value: number)\r\n    {\r\n        this.transform.position.y = value;\r\n    }\r\n\r\n    get y (): number\r\n    {\r\n        return this.transform.position.y;\r\n    }\r\n\r\n    set originX (value: number)\r\n    {\r\n        this.transform.origin.x = value;\r\n    }\r\n\r\n    get originX (): number\r\n    {\r\n        return this.transform.origin.x;\r\n    }\r\n\r\n    set originY (value: number)\r\n    {\r\n        this.transform.origin.y = value;\r\n    }\r\n\r\n    get originY (): number\r\n    {\r\n        return this.transform.origin.y;\r\n    }\r\n\r\n    set skewX (value: number)\r\n    {\r\n        this.transform.skew.x = value;\r\n    }\r\n\r\n    get skewX (): number\r\n    {\r\n        return this.transform.skew.x;\r\n    }\r\n\r\n    set skewY (value: number)\r\n    {\r\n        this.transform.skew.y = value;\r\n    }\r\n\r\n    get skewY (): number\r\n    {\r\n        return this.transform.skew.y;\r\n    }\r\n\r\n    set scaleX (value: number)\r\n    {\r\n        this.transform.scale.x = value;\r\n    }\r\n\r\n    get scaleX (): number\r\n    {\r\n        return this.transform.scale.x;\r\n    }\r\n\r\n    set scaleY (value: number)\r\n    {\r\n        this.transform.scale.y = value;\r\n    }\r\n\r\n    get scaleY (): number\r\n    {\r\n        return this.transform.scale.y;\r\n    }\r\n\r\n    set rotation (value: number)\r\n    {\r\n        this.transform.rotation = value;\r\n    }\r\n\r\n    get rotation (): number\r\n    {\r\n        return this.transform.rotation;\r\n    }\r\n\r\n    get alpha (): number\r\n    {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha (value: number)\r\n    {\r\n        if (value !== this._alpha)\r\n        {\r\n            this._alpha = value;\r\n\r\n            //  TODO - Switch to Alpha or Colors dirty flag instead\r\n            this.setDirty(DIRTY_CONST.TRANSFORM);\r\n        }\r\n    }\r\n}\r\n", "import { ICanvasRenderer } from '../ICanvasRenderer';\r\nimport { ISprite } from '../../../gameobjects/sprite/ISprite';\r\n\r\nexport function DrawTexturedQuad <T extends ISprite> (sprite: T, renderer: ICanvasRenderer): void\r\n{\r\n    const frame = sprite.frame;\r\n\r\n    if (!frame)\r\n    {\r\n        return;\r\n    }\r\n\r\n    const ctx = renderer.ctx;\r\n\r\n    const transform = sprite.transform;\r\n\r\n    const { a, b, c, d, tx, ty } = transform.world;\r\n    const { x, y } = transform.extent;\r\n\r\n    ctx.save();\r\n\r\n    ctx.setTransform(a, b, c, d, tx, ty);\r\n\r\n    ctx.globalAlpha = sprite.alpha;\r\n\r\n    ctx.drawImage(frame.texture.image as HTMLImageElement, frame.x, frame.y, frame.width, frame.height, x, y, frame.width, frame.height);\r\n\r\n    ctx.restore();\r\n}\r\n", "import { ISprite } from '../../../gameobjects/sprite/ISprite';\r\n\r\nexport function PackColors <T extends ISprite> (sprite: T): T\r\n{\r\n    sprite.vertices.forEach(vertex =>\r\n    {\r\n        vertex.packColor();\r\n    });\r\n\r\n    return sprite;\r\n}\r\n", "import { Frame } from '../../textures/Frame';\r\nimport { ISprite } from './ISprite';\r\nimport { Texture } from '../../textures';\r\n\r\nexport function SetFrame <T extends ISprite> (texture: Texture, key?: string | number | Frame, ...children: T[]): T[]\r\n{\r\n    const frame = texture.getFrame(key);\r\n\r\n    const { u0, u1, v0, v1, pivot } = frame;\r\n\r\n    children.forEach(child =>\r\n    {\r\n        //  TODO - If frame is dirty, reset it anyway\r\n        if (!child || frame === child.frame)\r\n        {\r\n            return;\r\n        }\r\n\r\n        child.frame = frame;\r\n\r\n        if (pivot)\r\n        {\r\n            child.setOrigin(pivot.x, pivot.y);\r\n        }\r\n\r\n        child.frame.setExtent(child);\r\n\r\n        child.hasTexture = true;\r\n\r\n        const vertices = child.vertices;\r\n\r\n        //  This rarely changes, so we'll set it here, rather than every game step:\r\n        vertices[0].setUV(u0, v0);\r\n        vertices[1].setUV(u0, v1);\r\n        vertices[2].setUV(u1, v1);\r\n        vertices[3].setUV(u1, v0);\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { TextureManager } from './TextureManager';\r\n\r\nlet instance: TextureManager;\r\n\r\nexport const TextureManagerInstance =\r\n{\r\n    get: (): TextureManager =>\r\n    {\r\n        return instance;\r\n    },\r\n\r\n    set: (manager: TextureManager | null): void =>\r\n    {\r\n        instance = manager;\r\n    }\r\n};\r\n", "import { Frame } from '../../textures/Frame';\r\nimport { ISprite } from './ISprite';\r\nimport { SetFrame } from './SetFrame';\r\nimport { Texture } from '../../textures/Texture';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\n\r\nexport function SetTexture <T extends ISprite> (key: string | Texture, frame: string | number | Frame, ...children: T[]): T[]\r\n{\r\n    if (!key)\r\n    {\r\n        //  Remove texture from all children\r\n        children.forEach(child =>\r\n        {\r\n            child.texture = null;\r\n            child.frame = null;\r\n            child.hasTexture = false;\r\n        });\r\n    }\r\n    else\r\n    {\r\n        let texture: Texture;\r\n\r\n        if (key instanceof Texture)\r\n        {\r\n            texture = key;\r\n        }\r\n        else\r\n        {\r\n            texture = TextureManagerInstance.get().get(key);\r\n        }\r\n\r\n        if (!texture)\r\n        {\r\n            console.warn(`Invalid Texture key: ${key as string}`);\r\n        }\r\n        else\r\n        {\r\n            children.forEach(child =>\r\n            {\r\n                child.texture = texture;\r\n            });\r\n\r\n            SetFrame(texture, frame, ...children);\r\n        }\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { GetVertices } from '../components/transform/GetVertices';\r\nimport { ISprite } from './ISprite';\r\n\r\nexport function UpdateVertices <T extends ISprite> (sprite: T): T\r\n{\r\n    const vertices = sprite.vertices;\r\n\r\n    const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(sprite.transform);\r\n\r\n    vertices[0].setPosition(x0, y0);\r\n    vertices[1].setPosition(x1, y1);\r\n    vertices[2].setPosition(x2, y2);\r\n    vertices[3].setPosition(x3, y3);\r\n\r\n    return sprite;\r\n}\r\n", "import { BatchTexturedQuad } from '../../renderer/webgl1/draw/BatchTexturedQuad';\r\nimport { Container } from '../container/Container';\r\nimport { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { DrawTexturedQuad } from '../../renderer/canvas/draw/DrawTexturedQuad';\r\nimport { Frame } from '../../textures/Frame';\r\nimport { ICanvasRenderer } from '../../renderer/canvas/ICanvasRenderer';\r\nimport { IGameObject } from '../IGameObject';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { ISprite } from './ISprite';\r\nimport { PackColors } from '../../renderer/webgl1/colors/PackColors';\r\nimport { SetFrame } from './SetFrame';\r\nimport { SetTexture } from './SetTexture';\r\nimport { Texture } from '../../textures/Texture';\r\nimport { UpdateVertices } from './UpdateVertices';\r\nimport { Vertex } from '../components/Vertex';\r\n\r\nexport class Sprite extends Container implements ISprite\r\n{\r\n    texture: Texture;\r\n    frame: Frame;\r\n    hasTexture: boolean = false;\r\n    vertices: Vertex[];\r\n\r\n    protected _tint: number = 0xffffff;\r\n\r\n    constructor (x: number, y: number, texture: string | Texture, frame?: string | number)\r\n    {\r\n        super(x, y);\r\n\r\n        this.type = 'Sprite';\r\n\r\n        this.vertices = [ new Vertex(), new Vertex(), new Vertex(), new Vertex() ];\r\n\r\n        this.setTexture(texture, frame);\r\n    }\r\n\r\n    setTexture (key: string | Texture, frame?: string | number): this\r\n    {\r\n        SetTexture(key, frame, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    setFrame (key?: string | number | Frame): this\r\n    {\r\n        SetFrame(this.texture, key, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender && this.hasTexture && this.alpha > 0);\r\n    }\r\n\r\n    preRender (): void\r\n    {\r\n        if (this.isDirty(DIRTY_CONST.COLORS))\r\n        {\r\n            PackColors(this);\r\n\r\n            this.clearDirty(DIRTY_CONST.COLORS);\r\n        }\r\n\r\n        if (this.isDirty(DIRTY_CONST.TRANSFORM))\r\n        {\r\n            UpdateVertices(this);\r\n\r\n            this.clearDirty(DIRTY_CONST.TRANSFORM);\r\n        }\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        this.preRender();\r\n\r\n        BatchTexturedQuad(this, renderPass);\r\n    }\r\n\r\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\r\n    {\r\n        this.preRender();\r\n\r\n        DrawTexturedQuad(this, renderer);\r\n    }\r\n\r\n    get alpha (): number\r\n    {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha (value: number)\r\n    {\r\n        if (value !== this._alpha)\r\n        {\r\n            this._alpha = value;\r\n\r\n            this.vertices.forEach(vertex =>\r\n            {\r\n                vertex.setAlpha(value);\r\n            });\r\n\r\n            this.setDirty(DIRTY_CONST.COLORS);\r\n        }\r\n    }\r\n\r\n    get tint (): number\r\n    {\r\n        return this._tint;\r\n    }\r\n\r\n    set tint (value: number)\r\n    {\r\n        if (value !== this._tint)\r\n        {\r\n            this._tint = value;\r\n\r\n            this.vertices.forEach(vertex =>\r\n            {\r\n                vertex.setTint(value);\r\n            });\r\n\r\n            this.setDirty(DIRTY_CONST.COLORS);\r\n        }\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject): void\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.texture = null;\r\n        this.frame = null;\r\n        this.hasTexture = false;\r\n        this.vertices = [];\r\n    }\r\n}\r\n", "import { Frame } from '../../textures/Frame';\r\nimport { IAnimationData } from './IAnimationData';\r\nimport { IContainer } from '../container/IContainer';\r\nimport { Sprite } from '../sprite/Sprite';\r\n\r\nexport class AnimatedSprite extends Sprite\r\n{\r\n    anims: Map<string, Frame[]>;\r\n    animData: IAnimationData;\r\n\r\n    constructor (x: number, y: number, texture: string, frame?: string | number)\r\n    {\r\n        super(x, y, texture, frame);\r\n\r\n        this.type = 'AnimatedSprite';\r\n\r\n        this.anims = new Map();\r\n\r\n        //  Holds all the data for the current animation only\r\n        this.animData = {\r\n            currentAnim: '',\r\n            currentFrames: [],\r\n            frameIndex: 0,\r\n            animSpeed: 0,\r\n            nextFrameTime: 0,\r\n            repeatCount: 0,\r\n            isPlaying: false,\r\n            yoyo: false,\r\n            pendingStart: false,\r\n            playingForward: true,\r\n            delay: 0,\r\n            repeatDelay: 0,\r\n            onStart: null,\r\n            onRepeat: null,\r\n            onComplete: null\r\n        };\r\n    }\r\n\r\n    private stop (): void\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.isPlaying = false;\r\n        data.currentAnim = '';\r\n\r\n        if (data.onComplete)\r\n        {\r\n            data.onComplete(this, data.currentAnim);\r\n        }\r\n    }\r\n\r\n    nextFrame (): void\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.frameIndex++;\r\n\r\n        //  There are no more frames, do we yoyo or repeat or end?\r\n        if (data.frameIndex === data.currentFrames.length)\r\n        {\r\n            if (data.yoyo)\r\n            {\r\n                data.frameIndex--;\r\n                data.playingForward = false;\r\n            }\r\n            else if (data.repeatCount === -1 || data.repeatCount > 0)\r\n            {\r\n                data.frameIndex = 0;\r\n\r\n                if (data.repeatCount !== -1)\r\n                {\r\n                    data.repeatCount--;\r\n                }\r\n\r\n                if (data.onRepeat)\r\n                {\r\n                    data.onRepeat(this, data.currentAnim);\r\n                }\r\n\r\n                data.nextFrameTime += data.repeatDelay;\r\n            }\r\n            else\r\n            {\r\n                data.frameIndex--;\r\n\r\n                return this.stop();\r\n            }\r\n        }\r\n\r\n        this.setFrame(data.currentFrames[data.frameIndex]);\r\n\r\n        data.nextFrameTime += data.animSpeed;\r\n    }\r\n\r\n    prevFrame (): void\r\n    {\r\n        const data = this.animData;\r\n\r\n        data.frameIndex--;\r\n\r\n        //  There are no more frames, do we repeat or end?\r\n        if (data.frameIndex === -1)\r\n        {\r\n            if (data.repeatCount === -1 || data.repeatCount > 0)\r\n            {\r\n                data.frameIndex = 0;\r\n                data.playingForward = true;\r\n\r\n                if (data.repeatCount !== -1)\r\n                {\r\n                    data.repeatCount--;\r\n                }\r\n\r\n                if (data.onRepeat)\r\n                {\r\n                    data.onRepeat(this, data.currentAnim);\r\n                }\r\n\r\n                data.nextFrameTime += data.repeatDelay;\r\n            }\r\n            else\r\n            {\r\n                data.frameIndex = 0;\r\n\r\n                return this.stop();\r\n            }\r\n        }\r\n\r\n        this.setFrame(data.currentFrames[data.frameIndex]);\r\n\r\n        data.nextFrameTime += data.animSpeed;\r\n    }\r\n\r\n    update (delta: number, now: number): void\r\n    {\r\n        super.update(delta, now);\r\n\r\n        const data = this.animData;\r\n\r\n        if (!data.isPlaying)\r\n        {\r\n            return;\r\n        }\r\n\r\n        data.nextFrameTime -= delta * 1000;\r\n\r\n        //  Clamp to zero, otherwise a huge delta could cause animation playback issues\r\n        data.nextFrameTime = Math.max(data.nextFrameTime, 0);\r\n\r\n        //  It's time for a new frame\r\n        if (data.nextFrameTime === 0)\r\n        {\r\n            //  Is this the start of our animation?\r\n            if (data.pendingStart)\r\n            {\r\n                if (data.onStart)\r\n                {\r\n                    data.onStart(this, data.currentAnim);\r\n                }\r\n\r\n                data.pendingStart = false;\r\n                data.nextFrameTime = data.animSpeed;\r\n            }\r\n            else if (data.playingForward)\r\n            {\r\n                this.nextFrame();\r\n            }\r\n            else\r\n            {\r\n                this.prevFrame();\r\n            }\r\n        }\r\n    }\r\n\r\n    get isPlaying (): boolean\r\n    {\r\n        return this.animData.isPlaying;\r\n    }\r\n\r\n    get isPlayingForward (): boolean\r\n    {\r\n        return (this.animData.isPlaying && this.animData.playingForward);\r\n    }\r\n\r\n    get currentAnimation (): string\r\n    {\r\n        return this.animData.currentAnim;\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer): void\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.anims.clear();\r\n        this.animData = null;\r\n    }\r\n}\r\n", "import { GetVertexBufferEntry } from '../renderpass/GetVertexBufferEntry';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\n\r\nexport function BatchSingleQuad (renderPass: IRenderPass, x: number, y: number, width: number, height: number, u0: number, v0: number, u1: number, v1: number, textureIndex: number = 0, packedColor: number = 4294967295): void\r\n{\r\n    const { F32, U32, offset } = GetVertexBufferEntry(renderPass, 1);\r\n\r\n    //  top left\r\n    F32[offset + 0] = x;\r\n    F32[offset + 1] = y;\r\n    F32[offset + 2] = u0;\r\n    F32[offset + 3] = v1;\r\n    F32[offset + 4] = textureIndex;\r\n    U32[offset + 5] = packedColor;\r\n\r\n    //  bottom left\r\n    F32[offset + 6] = x;\r\n    F32[offset + 7] = y + height;\r\n    F32[offset + 8] = u0;\r\n    F32[offset + 9] = v0;\r\n    F32[offset + 10] = textureIndex;\r\n    U32[offset + 11] = packedColor;\r\n\r\n    //  bottom right\r\n    F32[offset + 12] = x + width;\r\n    F32[offset + 13] = y + height;\r\n    F32[offset + 14] = u1;\r\n    F32[offset + 15] = v0;\r\n    F32[offset + 16] = textureIndex;\r\n    U32[offset + 17] = packedColor;\r\n\r\n    //  top right\r\n    F32[offset + 18] = x + width;\r\n    F32[offset + 19] = y;\r\n    F32[offset + 20] = u1;\r\n    F32[offset + 21] = v1;\r\n    F32[offset + 22] = textureIndex;\r\n    U32[offset + 23] = packedColor;\r\n}\r\n", "import { BindTexture, Flush, PopShader, PopVertexBuffer, SetShader, SetVertexBuffer, UnbindTexture } from '../renderpass';\r\n\r\nimport { BatchSingleQuad } from './BatchSingleQuad';\r\nimport { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { IShader } from '../shaders/IShader';\r\nimport { Texture } from '../../../textures';\r\n\r\nexport function DrawTexturedQuad (renderPass: IRenderPass, texture: Texture, shader?: IShader): void\r\n{\r\n    if (!shader)\r\n    {\r\n        shader = renderPass.quadShader;\r\n    }\r\n\r\n    const { u0, v0, u1, v1 } = texture.firstFrame;\r\n\r\n    BindTexture(texture, 0);\r\n\r\n    SetVertexBuffer(renderPass, renderPass.quadBuffer);\r\n    SetShader(renderPass, shader, 0);\r\n\r\n    BatchSingleQuad(renderPass, 0, 0, texture.width, texture.height, u0, v0, u1, v1, 0);\r\n\r\n    Flush(renderPass);\r\n\r\n    //  Should always pop the vbo first, so when the shader is popped the attributes are set correctly\r\n    PopVertexBuffer(renderPass);\r\n    PopShader(renderPass);\r\n\r\n    UnbindTexture(renderPass);\r\n}\r\n", "import { GameObject } from '../GameObject';\r\n\r\n//  A Layer is a way of grouping Game Objects together, without impacting their\r\n//  transforms. Children of a Layer do not inherit the layers transform, however\r\n//  you are able to control the visibility of the layers children in a single pass.\r\n\r\nexport class Layer extends GameObject\r\n{\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.type = 'Layer';\r\n        this.transform.passthru = true;\r\n        this.willRender = false;\r\n    }\r\n}\r\n", "import { Flush, PopFramebuffer, SetFramebuffer } from '../../renderer/webgl1/renderpass';\r\nimport { GetHeight, GetResolution, GetWidth } from '../../config';\r\n\r\nimport { CreateFramebuffer } from '../../renderer/webgl1/fbo/CreateFramebuffer';\r\nimport { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { DrawTexturedQuad } from '../../renderer/webgl1/draw/DrawTexturedQuad';\r\nimport { GLTextureBinding } from '../../renderer/webgl1/textures/GLTextureBinding';\r\nimport { IRenderLayer } from './IRenderLayer';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { Layer } from '../layer/Layer';\r\nimport { Texture } from '../../textures/Texture';\r\n\r\n//  The RenderLayer works like a normal Layer, except it automatically caches\r\n//  all of its renderable children to its own texture. The children are drawn\r\n//  to the RenderLayers texture and then the RenderLayer texture is drawn to\r\n//  the WebGL Renderer. You should use a RenderLayer if you've got a complex or\r\n//  large set of Game Objects that don't update very often, where you would\r\n//  benefit from not having to re-render every single child, every frame.\r\n\r\nexport class RenderLayer extends Layer implements IRenderLayer\r\n{\r\n    texture: Texture;\r\n    framebuffer: WebGLFramebuffer;\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.type = 'RenderLayer';\r\n\r\n        this.willRender = true;\r\n        this.willRenderChildren = true;\r\n        this.willCacheChildren = true;\r\n\r\n        this.setDirty(DIRTY_CONST.CHILD_CACHE);\r\n\r\n        const width = GetWidth();\r\n        const height = GetHeight();\r\n        const resolution = GetResolution();\r\n\r\n        //  TODO: Allow them to set this via a filterArea\r\n        //  TODO: This code is duplicate of Shader constructor, consolidate\r\n        const texture = new Texture(null, width * resolution, height * resolution);\r\n\r\n        const binding = new GLTextureBinding(texture);\r\n\r\n        texture.binding = binding;\r\n\r\n        binding.framebuffer = CreateFramebuffer(binding.texture);\r\n\r\n        this.texture = texture;\r\n        this.framebuffer = binding.framebuffer;\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        if (this.numChildren > 0)\r\n        {\r\n            Flush(renderPass);\r\n\r\n            if (!this.willCacheChildren || this.isDirty(DIRTY_CONST.CHILD_CACHE))\r\n            {\r\n                //  This RenderLayer has dirty children\r\n                SetFramebuffer(renderPass, this.framebuffer, true);\r\n\r\n                this.clearDirty(DIRTY_CONST.CHILD_CACHE);\r\n            }\r\n            else\r\n            {\r\n                //  This RenderLayer doesn't have any dirty children, so we'll use the previous fbo contents\r\n                SetFramebuffer(renderPass, this.framebuffer, false);\r\n\r\n                this.postRenderGL(renderPass);\r\n            }\r\n        }\r\n    }\r\n\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        Flush(renderPass);\r\n\r\n        PopFramebuffer(renderPass);\r\n\r\n        DrawTexturedQuad(renderPass, this.texture);\r\n\r\n        this.clearDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n}\r\n", "import { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { DrawTexturedQuad } from '../../renderer/webgl1/draw/DrawTexturedQuad';\r\nimport { Flush } from '../../renderer/webgl1/renderpass/Flush';\r\nimport { IEffectLayer } from './IEffectLayer';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { IShader } from '../../renderer/webgl1/shaders/IShader';\r\nimport { PopFramebuffer } from '../../renderer/webgl1/renderpass/PopFramebuffer';\r\nimport { RenderLayer } from '../renderlayer/RenderLayer';\r\n\r\n//  A WebGL specific EffectLayer\r\n//  EffectLayerCanvas is a canvas alternative\r\n\r\nexport class EffectLayer extends RenderLayer implements IEffectLayer\r\n{\r\n    shaders: IShader[] = [];\r\n\r\n    constructor (...shaders: IShader[])\r\n    {\r\n        super();\r\n\r\n        this.type = 'EffectLayer';\r\n\r\n        if (Array.isArray(shaders))\r\n        {\r\n            this.shaders = shaders;\r\n        }\r\n    }\r\n\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        const shaders = this.shaders;\r\n        const texture = this.texture;\r\n\r\n        Flush(renderPass);\r\n\r\n        PopFramebuffer(renderPass);\r\n\r\n        //  this.framebuffer contains a texture with all of this layers sprites drawn to it\r\n\r\n        if (shaders.length === 0)\r\n        {\r\n            DrawTexturedQuad(renderPass, texture);\r\n        }\r\n        else\r\n        {\r\n            let prevTexture = texture;\r\n\r\n            for (let i: number = 0; i < shaders.length; i++)\r\n            {\r\n                const shader = shaders[i];\r\n\r\n                DrawTexturedQuad(renderPass, prevTexture, shader);\r\n\r\n                prevTexture = shader.texture;\r\n            }\r\n\r\n            DrawTexturedQuad(renderPass, prevTexture);\r\n        }\r\n\r\n        this.clearDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n}\r\n", "import { IRenderPass } from '../renderpass/IRenderPass';\r\nimport { ISpriteBatch } from '../../../gameobjects/spritebatch/ISpriteBatch';\r\n\r\nexport function BatchTexturedQuadBuffer <T extends ISpriteBatch> (batch: T, renderPass: IRenderPass): void\r\n{\r\n    /*\r\n    const texture = batch.texture;\r\n    const shader = renderer.shaders.current;\r\n    const buffer = shader.buffer;\r\n\r\n    renderer.flush();\r\n\r\n    renderer.textures.request(texture);\r\n\r\n    batch.updateTextureIndex();\r\n\r\n    //const gl = renderer.gl; - use GL.gl\r\n\r\n    shader.setBuffers(batch.vertexBuffer, batch.indexBuffer);\r\n\r\n    gl.bufferData(gl.ARRAY_BUFFER, batch.data, gl.STATIC_DRAW);\r\n\r\n    gl.drawElements(gl.TRIANGLES, batch.count * buffer.entryIndexSize, gl.UNSIGNED_SHORT, 0);\r\n\r\n    shader.prevCount = batch.count;\r\n\r\n    renderer.flushTotal++;\r\n\r\n    //  Restore\r\n    shader.bindBuffers();\r\n    */\r\n}\r\n", "import { Vertices } from './Vertices';\r\n\r\nexport function GetVerticesFromValues (\r\n    left: number,\r\n    right: number,\r\n    top: number,\r\n    bottom: number,\r\n    x: number,\r\n    y: number,\r\n    rotation: number = 0,\r\n    scaleX: number = 1,\r\n    scaleY: number = 1,\r\n    skewX: number = 0,\r\n    skewY: number = 0): Vertices\r\n{\r\n    const a = Math.cos(rotation + skewY) * scaleX;\r\n    const b = Math.sin(rotation + skewY) * scaleX;\r\n    const c = -Math.sin(rotation - skewX) * scaleY;\r\n    const d = Math.cos(rotation - skewX) * scaleY;\r\n\r\n    const x0 = (left * a) + (top * c) + x;\r\n    const y0 = (left * b) + (top * d) + y;\r\n\r\n    const x1 = (left * a) + (bottom * c) + x;\r\n    const y1 = (left * b) + (bottom * d) + y;\r\n\r\n    const x2 = (right * a) + (bottom * c) + x;\r\n    const y2 = (right * b) + (bottom * d) + y;\r\n\r\n    const x3 = (right * a) + (top * c) + x;\r\n    const y3 = (right * b) + (top * d) + y;\r\n\r\n    return { x0, y0, x1, y1, x2, y2, x3, y3 };\r\n}\r\n", "import { BatchTexturedQuadBuffer } from '../../renderer/webgl1/draw/BatchTexturedQuadBuffer';\r\nimport { Clamp } from '../../math/Clamp';\r\nimport { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { DeleteFramebuffer } from '../../renderer/webgl1/fbo/DeleteFramebuffer';\r\nimport { Frame } from '../../textures';\r\nimport { GetVerticesFromValues } from '../components/transform/GetVerticesFromValues';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { ISpriteBatch } from './ISpriteBatch';\r\nimport { Layer } from '../layer/Layer';\r\nimport { PackColor } from '../../renderer/webgl1/colors/PackColor';\r\nimport { SpriteBatchAddConfig } from './SpriteBatchAddConfig';\r\nimport { Texture } from '../../textures/Texture';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\nimport { gl } from '../../renderer/webgl1/GL';\r\n\r\nexport class SpriteBatch extends Layer implements ISpriteBatch\r\n{\r\n    data: ArrayBuffer;\r\n    vertexViewF32: Float32Array;\r\n    vertexViewU32: Uint32Array;\r\n    index: Uint16Array;\r\n\r\n    vertexBuffer: WebGLBuffer;\r\n    indexBuffer: WebGLBuffer;\r\n\r\n    count: number;\r\n    maxSize: number;\r\n    glTextureIndex: number = 0;\r\n\r\n    texture: Texture;\r\n    hasTexture: boolean = false;\r\n\r\n    constructor (maxSize: number, texture: string | Texture)\r\n    {\r\n        super();\r\n\r\n        this.type = 'SpriteBatch';\r\n        this.willRender = true;\r\n\r\n        this.setTexture(texture);\r\n        this.setMaxSize(maxSize);\r\n    }\r\n\r\n    resetBuffers (): void\r\n    {\r\n        let ibo: number[] = [];\r\n\r\n        //  Seed the index buffer\r\n        for (let i = 0; i < (this.maxSize * 4); i += 4)\r\n        {\r\n            ibo.push(i + 0, i + 1, i + 2, i + 2, i + 3, i + 0);\r\n        }\r\n\r\n        //  96 = The size, in bytes, of a single quad in the array buffer\r\n        this.data = new ArrayBuffer(this.maxSize * 96);\r\n        this.index = new Uint16Array(ibo);\r\n\r\n        this.vertexViewF32 = new Float32Array(this.data);\r\n        this.vertexViewU32 = new Uint32Array(this.data);\r\n\r\n        if (gl)\r\n        {\r\n            DeleteFramebuffer(this.vertexBuffer);\r\n            DeleteFramebuffer(this.indexBuffer);\r\n\r\n            this.vertexBuffer = gl.createBuffer();\r\n            this.indexBuffer = gl.createBuffer();\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.STATIC_DRAW);\r\n\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        }\r\n\r\n        //  Tidy-up\r\n        ibo = [];\r\n\r\n        this.count = 0;\r\n    }\r\n\r\n    setMaxSize (value: number): this\r\n    {\r\n        this.maxSize = Clamp(value, 0, 65535);\r\n\r\n        this.resetBuffers();\r\n\r\n        return this;\r\n    }\r\n\r\n    setTexture (key: string | Texture): this\r\n    {\r\n        let texture: Texture;\r\n\r\n        if (key instanceof Texture)\r\n        {\r\n            texture = key;\r\n        }\r\n        else\r\n        {\r\n            texture = TextureManagerInstance.get().get(key);\r\n        }\r\n\r\n        if (!texture)\r\n        {\r\n            console.warn(`Invalid Texture key: ${key as string}`);\r\n        }\r\n        else\r\n        {\r\n            this.texture = texture;\r\n\r\n            this.hasTexture = true;\r\n\r\n            this.glTextureIndex = -1;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender && this.hasTexture && this.count > 0);\r\n    }\r\n\r\n    clear (): this\r\n    {\r\n        this.count = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    private addToBatch (frame: Frame, color: number, x0: number, y0: number, x1: number, y1: number, x2: number, y2: number, x3: number, y3: number): this\r\n    {\r\n        if (this.count >= this.maxSize)\r\n        {\r\n            console.warn('SpriteBatch full');\r\n            return this;\r\n        }\r\n\r\n        const { u0, u1, v0, v1 } = frame;\r\n\r\n        const F32 = this.vertexViewF32;\r\n        const U32 = this.vertexViewU32;\r\n        const offset = this.count * 24;\r\n        const textureIndex = (this.texture.binding) ? this.texture.binding.index : 0;\r\n\r\n        //  top left\r\n        F32[offset + 0] = x0;\r\n        F32[offset + 1] = y0;\r\n        F32[offset + 2] = u0;\r\n        F32[offset + 3] = v0;\r\n        F32[offset + 4] = textureIndex;\r\n        U32[offset + 5] = color;\r\n\r\n        //  bottom left\r\n        F32[offset + 6] = x1;\r\n        F32[offset + 7] = y1;\r\n        F32[offset + 8] = u0;\r\n        F32[offset + 9] = v1;\r\n        F32[offset + 10] = textureIndex;\r\n        U32[offset + 11] = color;\r\n\r\n        //  bottom right\r\n        F32[offset + 12] = x2;\r\n        F32[offset + 13] = y2;\r\n        F32[offset + 14] = u1;\r\n        F32[offset + 15] = v1;\r\n        F32[offset + 16] = textureIndex;\r\n        U32[offset + 17] = color;\r\n\r\n        //  top right\r\n        F32[offset + 18] = x3;\r\n        F32[offset + 19] = y3;\r\n        F32[offset + 20] = u1;\r\n        F32[offset + 21] = v0;\r\n        F32[offset + 22] = textureIndex;\r\n        U32[offset + 23] = color;\r\n\r\n        this.setDirty(DIRTY_CONST.TRANSFORM);\r\n\r\n        this.count++;\r\n\r\n        return this;\r\n    }\r\n\r\n    add (config: SpriteBatchAddConfig): this\r\n    {\r\n        const {\r\n            frame = null,\r\n            x = 0,\r\n            y = 0,\r\n            rotation = 0,\r\n            scaleX = 1,\r\n            scaleY = 1,\r\n            skewX = 0,\r\n            skewY = 0,\r\n            originX = 0,\r\n            originY = 0,\r\n            alpha = 1,\r\n            tint = 0xffffff\r\n        } = config;\r\n\r\n        const textureFrame = this.texture.getFrame(frame);\r\n\r\n        const { left, right, top, bottom } = textureFrame.getExtent(originX, originY);\r\n        const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVerticesFromValues(left, right, top, bottom, x, y, rotation, scaleX, scaleY, skewX, skewY);\r\n\r\n        const packedColor = PackColor(tint, alpha);\r\n\r\n        return this.addToBatch(textureFrame, packedColor, x0, y0, x1, y1, x2, y2, x3, y3);\r\n    }\r\n\r\n    addXY (x: number, y: number, frame?: string | number): this\r\n    {\r\n        const textureFrame = this.texture.getFrame(frame);\r\n\r\n        const { left, right, top, bottom } = textureFrame.getExtent(0, 0);\r\n        const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVerticesFromValues(left, right, top, bottom, x, y);\r\n\r\n        return this.addToBatch(textureFrame, 4294967295, x0, y0, x1, y1, x2, y2, x3, y3);\r\n    }\r\n\r\n    updateTextureIndex (): void\r\n    {\r\n        const textureIndex = this.texture.binding.index;\r\n\r\n        if (textureIndex === this.glTextureIndex)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const F32 = this.vertexViewF32;\r\n\r\n        this.glTextureIndex = textureIndex;\r\n\r\n        for (let i = 0; i < this.count; i++)\r\n        {\r\n            F32[(i * 24) + 4] = textureIndex;\r\n            F32[(i * 24) + 10] = textureIndex;\r\n            F32[(i * 24) + 16] = textureIndex;\r\n            F32[(i * 24) + 22] = textureIndex;\r\n        }\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        BatchTexturedQuadBuffer(this, renderPass);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        super.destroy();\r\n\r\n        DeleteFramebuffer(this.vertexBuffer);\r\n        DeleteFramebuffer(this.indexBuffer);\r\n\r\n        this.data = null;\r\n        this.vertexViewF32 = null;\r\n        this.vertexViewU32 = null;\r\n        this.index = null;\r\n        this.texture = null;\r\n        this.hasTexture = false;\r\n    }\r\n}\r\n", "export function CreateCanvas (width: number, height: number): CanvasRenderingContext2D\r\n{\r\n    const canvas = document.createElement('canvas');\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    return canvas.getContext('2d');\r\n}\r\n", "import { CreateCanvas } from '../CreateCanvas';\r\nimport { Texture } from '../Texture';\r\n\r\nexport function CanvasTexture (width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n", "import { CanvasTexture } from '../../textures/types/CanvasTexture';\r\nimport { DIRTY_CONST } from '../DIRTY_CONST';\r\nimport { GameInstance } from '../../GameInstance';\r\nimport { IContainer } from '../container/IContainer';\r\nimport { Sprite } from '../sprite/Sprite';\r\n\r\nexport type VerticalTextAlignment = 'ascent' | 'lineheight';\r\n\r\nexport class Text extends Sprite\r\n{\r\n    private _text: string;\r\n\r\n    preRenderCallback: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void;\r\n    wordWrapCallback: (text: string) => string;\r\n\r\n    canvas: HTMLCanvasElement;\r\n    context: CanvasRenderingContext2D;\r\n    splitRegExp: RegExp = /(?:\\r\\n|\\r|\\n)/;\r\n    padding = { left: 0, right: 0, top: 0, bottom: 0 };\r\n    verticalAlign: VerticalTextAlignment = 'ascent';\r\n    lineSpacing: number = 0;\r\n    resolution: number;\r\n    font: string = '16px monospace';\r\n    fillStyle: string | CanvasGradient | CanvasPattern = '#fff';\r\n    strokeStyle: string | CanvasGradient | CanvasPattern = '';\r\n    backgroundStyle: string | CanvasGradient | CanvasPattern = '';\r\n    cornerRadius: number = 0;\r\n    textAlign: CanvasTextAlign = 'left';\r\n    textBaseline: CanvasTextBaseline = 'alphabetic';\r\n    lineWidth: number = 0;\r\n    lineDash: number[] = [];\r\n    fixedWidth: number;\r\n    fixedHeight: number;\r\n    antialias: boolean = false;\r\n\r\n    constructor (x: number, y: number, text: string | string[] = '', font?: string, fillStyle?: string | CanvasGradient | CanvasPattern)\r\n    {\r\n        super(x, y, CanvasTexture());\r\n\r\n        this.type = 'Text';\r\n\r\n        const game = GameInstance.get();\r\n\r\n        this.resolution = game.renderer.resolution;\r\n\r\n        this.canvas = this.texture.image as HTMLCanvasElement;\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        // this.texture.glTexture = CreateGLTexture(this.canvas, 32, 32, false, this.antialias);\r\n\r\n        if (font)\r\n        {\r\n            this.font = font;\r\n        }\r\n\r\n        if (fillStyle)\r\n        {\r\n            this.fillStyle = fillStyle;\r\n        }\r\n\r\n        this.setText(text);\r\n    }\r\n\r\n    private syncContext (canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D): void\r\n    {\r\n        if (this.preRenderCallback)\r\n        {\r\n            this.preRenderCallback(canvas, ctx);\r\n        }\r\n\r\n        ctx.font = this.font;\r\n        ctx.textBaseline = this.textBaseline;\r\n        ctx.textAlign = this.textAlign;\r\n        ctx.fillStyle = this.fillStyle;\r\n        ctx.strokeStyle = this.strokeStyle;\r\n        ctx.lineWidth = this.lineWidth;\r\n        ctx.lineCap = 'round';\r\n        ctx.lineJoin = 'round';\r\n        ctx.setLineDash(this.lineDash);\r\n        ctx.imageSmoothingEnabled = this.antialias;\r\n\r\n        //  TODO Shadows\r\n    }\r\n\r\n    updateText (): this\r\n    {\r\n        const canvas = this.canvas;\r\n        const ctx = this.context;\r\n        const resolution = this.resolution;\r\n\r\n        const lines = this._text.split(this.splitRegExp);\r\n\r\n        const padding = this.padding;\r\n        const fillStyle = this.fillStyle;\r\n        const strokeStyle = this.strokeStyle;\r\n        const strokeWidth = this.lineWidth;\r\n        const lineSpacing = this.lineSpacing;\r\n        const strokeWidthHalf = (strokeWidth > 0) ? strokeWidth / 2 : 0;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        this.syncContext(canvas, ctx);\r\n\r\n        //  Use specifically for measureText\r\n        ctx.textAlign = 'start';\r\n\r\n        //  Measure each line and add them together (note: measure text excludes stroke style!)\r\n\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        let y = 0;\r\n\r\n        const lineMetrics = [];\r\n\r\n        const vAlignAscent: boolean = (this.verticalAlign === 'ascent');\r\n\r\n        //  Work out an average line height for this font\r\n        const metrics = ctx.measureText('|M\u00C9q');\r\n\r\n        const averageLineHeight: number = Math.ceil(Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent)) + strokeWidth;\r\n\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            const metrics = ctx.measureText(lines[i]);\r\n\r\n            const left = metrics.actualBoundingBoxLeft;\r\n            const right = metrics.actualBoundingBoxRight;\r\n            let ascent = metrics.actualBoundingBoxAscent;\r\n            let descent = metrics.actualBoundingBoxDescent;\r\n\r\n            //  Zero for a carriage-return, but we still need to add in the space\r\n            if ((!ascent && !descent) || lines[i] === '')\r\n            {\r\n                ascent = averageLineHeight;\r\n                descent = 0;\r\n            }\r\n\r\n            const lineWidth = Math.ceil(Math.abs(left) + Math.abs(right)) + strokeWidth;\r\n            const lineHeight = Math.ceil(Math.abs(ascent) + Math.abs(descent)) + strokeWidth;\r\n\r\n            if (vAlignAscent)\r\n            {\r\n                y += ascent + strokeWidthHalf;\r\n\r\n                if (i > 0)\r\n                {\r\n                    y += lineSpacing + strokeWidthHalf;\r\n                }\r\n\r\n                maxHeight = y + descent + strokeWidthHalf;\r\n            }\r\n            else\r\n            {\r\n                y = maxHeight + ((lineHeight - descent) - strokeWidthHalf);\r\n\r\n                maxHeight += lineHeight;\r\n\r\n                if (i < lines.length - 1)\r\n                {\r\n                    maxHeight += lineSpacing;\r\n                }\r\n            }\r\n\r\n            maxWidth = Math.max(maxWidth, lineWidth);\r\n\r\n            lineMetrics.push({ lineWidth, lineHeight, ascent, descent, left, right, y });\r\n        }\r\n\r\n        //  Account for lineSpacing + padding\r\n        maxWidth += padding.left + padding.right;\r\n        maxHeight += padding.top + padding.bottom;\r\n\r\n        const displayWidth = (this.fixedWidth) ? this.fixedWidth : maxWidth;\r\n        const displayHeight = (this.fixedHeight) ? this.fixedHeight : maxHeight;\r\n\r\n        const canvasWidth = Math.ceil(displayWidth * resolution);\r\n        const canvasHeight = Math.ceil(displayHeight * resolution);\r\n\r\n        if (canvas.width !== canvasWidth || canvas.height !== canvasHeight)\r\n        {\r\n            canvas.width = canvasWidth;\r\n            canvas.height = canvasHeight;\r\n\r\n            this.texture.setSize(displayWidth, displayHeight);\r\n            this.setSize(displayWidth, displayHeight);\r\n        }\r\n\r\n        ctx.save();\r\n        ctx.scale(resolution, resolution);\r\n\r\n        this.syncContext(canvas, ctx);\r\n\r\n        const backgroundStyle = this.backgroundStyle;\r\n\r\n        if (backgroundStyle)\r\n        {\r\n            ctx.save();\r\n\r\n            ctx.fillStyle = backgroundStyle;\r\n            ctx.strokeStyle = backgroundStyle;\r\n\r\n            const cornerRadius = this.cornerRadius;\r\n            const halfRadius = (cornerRadius > 0) ? cornerRadius / 2 : 0;\r\n\r\n            if (cornerRadius)\r\n            {\r\n                ctx.lineWidth = cornerRadius;\r\n\r\n                ctx.strokeRect(halfRadius, halfRadius, displayWidth - cornerRadius, displayHeight - cornerRadius);\r\n            }\r\n\r\n            ctx.fillRect(halfRadius, halfRadius, displayWidth - cornerRadius, displayHeight - cornerRadius);\r\n\r\n            ctx.restore();\r\n        }\r\n\r\n        //  Text Alignment\r\n        const textAlign = this.textAlign;\r\n        const isCenter: boolean = (textAlign === 'center');\r\n        const isRight: boolean = (textAlign === 'right' || textAlign === 'end');\r\n\r\n        const yOffset = ((displayHeight - maxHeight) / 2) + padding.top;\r\n\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            const line = lines[i];\r\n            const metrics = lineMetrics[i];\r\n\r\n            let tx = padding.left + metrics.left + strokeWidthHalf;\r\n            const ty = yOffset + metrics.y;\r\n\r\n            if (isCenter)\r\n            {\r\n                tx = displayWidth / 2;\r\n            }\r\n            else if (isRight)\r\n            {\r\n                tx = displayWidth - strokeWidthHalf;\r\n            }\r\n\r\n            if (strokeStyle)\r\n            {\r\n                ctx.strokeText(line, tx, ty);\r\n            }\r\n\r\n            if (fillStyle)\r\n            {\r\n                ctx.fillText(line, tx, ty);\r\n            }\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n        if (this.texture.binding)\r\n        {\r\n            this.texture.binding.update();\r\n        }\r\n\r\n        this.setDirty(DIRTY_CONST.TEXTURE);\r\n\r\n        return this;\r\n    }\r\n\r\n    get text (): string | string[]\r\n    {\r\n        return this._text;\r\n    }\r\n\r\n    set text (value: string | string[])\r\n    {\r\n        this.setText(value);\r\n    }\r\n\r\n    setText (value: string | string[] = ''): this\r\n    {\r\n        if (Array.isArray(value))\r\n        {\r\n            value = value.join('\\n');\r\n        }\r\n\r\n        if (value !== this._text)\r\n        {\r\n            this._text = value.toString();\r\n\r\n            this.updateText();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    destroy (reparentChildren?: IContainer): void\r\n    {\r\n        this.texture.destroy();\r\n\r\n        this.fillStyle = null;\r\n        this.strokeStyle = null;\r\n        this.backgroundStyle = null;\r\n\r\n        this.canvas = null;\r\n        this.context = null;\r\n\r\n        super.destroy(reparentChildren);\r\n    }\r\n}\r\n", "import * as Components from './components/';\r\n\r\nimport { AnimatedSprite } from './animatedsprite/AnimatedSprite';\r\nimport { Container } from './container/Container';\r\nimport { EffectLayer } from './effectlayer/EffectLayer';\r\nimport { GameObject } from './GameObject';\r\nimport { Layer } from './layer/Layer';\r\nimport { RenderLayer } from './renderlayer/RenderLayer';\r\nimport { Sprite } from './sprite/Sprite';\r\nimport { SpriteBatch } from './spritebatch/SpriteBatch';\r\nimport { Text } from './text/Text';\r\n\r\nexport {\r\n    AnimatedSprite,\r\n    Components,\r\n    Container,\r\n    EffectLayer,\r\n    Layer,\r\n    RenderLayer,\r\n    GameObject,\r\n    Sprite,\r\n    SpriteBatch,\r\n    Text\r\n};\r\n", "import { Forward, Right, Up, Vec3, Vec3Callback } from '../../../math/vec3';\r\nimport { FromRotationTranslationScale, Invert, Matrix4, Transpose } from '../../../math/mat4';\r\nimport { Quaternion, RotateX, RotateY, RotateZ } from '../../../math/quaternion';\r\n\r\nimport { DIRTY_CONST } from '../../../gameobjects/DIRTY_CONST';\r\nimport { IGameObject3D } from '../../IGameObject3D';\r\n\r\nexport class Transform3DComponent\r\n{\r\n    entity: IGameObject3D;\r\n\r\n    local: Matrix4;\r\n    world: Matrix4;\r\n    normal: Matrix4;\r\n\r\n    position: Vec3Callback;\r\n    scale: Vec3Callback;\r\n    origin: Vec3Callback;\r\n    rotation: Quaternion;\r\n\r\n    forward: Vec3;\r\n    up: Vec3;\r\n    right: Vec3;\r\n\r\n    passthru: boolean = false;\r\n\r\n    constructor (entity: IGameObject3D, x: number = 0, y: number = 0, z: number = 0)\r\n    {\r\n        this.entity = entity;\r\n\r\n        this.local = new Matrix4();\r\n        this.world = new Matrix4();\r\n        this.normal = new Matrix4();\r\n\r\n        this.position = new Vec3Callback(() => this.update(), x, y, z);\r\n        this.scale = new Vec3Callback(() => this.update(), 1, 1, 1);\r\n        this.origin = new Vec3Callback(() => this.update());\r\n        this.rotation = new Quaternion();\r\n\r\n        this.rotation.onChange = () => this.update();\r\n\r\n        this.forward = Forward();\r\n        this.up = Up();\r\n        this.right = Right();\r\n\r\n        this.update();\r\n    }\r\n\r\n    rotateX (angle: number): void\r\n    {\r\n        RotateX(this.rotation, angle, this.rotation);\r\n    }\r\n\r\n    rotateY (angle: number): void\r\n    {\r\n        RotateY(this.rotation, angle, this.rotation);\r\n    }\r\n\r\n    rotateZ (angle: number): void\r\n    {\r\n        RotateZ(this.rotation, angle, this.rotation);\r\n    }\r\n\r\n    update (): void\r\n    {\r\n        const model = this.local;\r\n        const normal = this.normal;\r\n\r\n        FromRotationTranslationScale(this.rotation, this.position, this.scale, model);\r\n\r\n        Invert(model, normal);\r\n        Transpose(normal, normal);\r\n    }\r\n\r\n    updateLocal (): void\r\n    {\r\n        this.entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n\r\n        // UpdateLocalTransform(this);\r\n    }\r\n\r\n    updateWorld (): void\r\n    {\r\n        const entity = this.entity;\r\n\r\n        entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\r\n\r\n        // UpdateWorldTransform(entity);\r\n\r\n        if (entity.numChildren)\r\n        {\r\n            this.updateChildren();\r\n        }\r\n    }\r\n\r\n    updateChildren (): void\r\n    {\r\n        //  Sweep all children - by this point our local and world transforms are correct\r\n        const children = this.entity.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            const child = children[i];\r\n\r\n            // child.transform.updateWorld();\r\n        }\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.position.destroy();\r\n        this.scale.destroy();\r\n        this.origin.destroy();\r\n        this.rotation.destroy();\r\n\r\n        this.entity = null;\r\n        this.local = null;\r\n        this.world = null;\r\n        this.position = null;\r\n        this.scale = null;\r\n        this.origin = null;\r\n        this.rotation = null;\r\n    }\r\n}\r\n", "import { Transform3DComponent } from './transform3d/Transform3DComponent';\r\n\r\nexport {\r\n    Transform3DComponent\r\n};\r\n", "import { VertexSet } from './VertexSet';\r\n\r\nexport function CreateVertexSet (): VertexSet\r\n{\r\n    return {\r\n        vertices: [],\r\n        normals: [],\r\n        uvs: [],\r\n        indices: [],\r\n        numberOfVertices: 0\r\n    };\r\n}\r\n", "import { CreateFramebuffer } from './fbo/CreateFramebuffer';\r\nimport { CreateGLTexture } from './textures/CreateGLTexture';\r\nimport { DeleteFramebuffer } from './fbo/DeleteFramebuffer';\r\nimport { DeleteGLBuffer } from './buffers/DeleteGLBuffer';\r\nimport { DeleteGLTexture } from './textures/DeleteGLTexture';\r\nimport { GL } from './GL';\r\nimport { PackColor } from './colors/PackColor';\r\nimport { PackColors } from './colors/PackColors';\r\nimport { SetGLTextureFilterMode } from './textures/SetGLTextureFilterMode';\r\nimport { UpdateGLTexture } from './textures/UpdateGLTexture';\r\nimport { WebGLRenderer } from './WebGLRenderer';\r\n\r\n// TODO - Create indexes in all sub-folders and just export those\r\nexport {\r\n    CreateFramebuffer,\r\n    CreateGLTexture,\r\n    DeleteFramebuffer,\r\n    DeleteGLBuffer,\r\n    DeleteGLTexture,\r\n    GL,\r\n    PackColor,\r\n    PackColors,\r\n    SetGLTextureFilterMode,\r\n    UpdateGLTexture,\r\n    WebGLRenderer\r\n};\r\n", "import { IVec2Like } from '../../math/vec2/IVec2Like';\r\nimport { IVec3Like } from '../../math/vec3/IVec3Like';\r\nimport { PackColor } from '../../renderer/webgl1';\r\nimport { Vertex } from '../../gameobjects/components';\r\n\r\nexport class FaceUVNormalTexture\r\n{\r\n    vertex1: Vertex;\r\n    vertex2: Vertex;\r\n    vertex3: Vertex;\r\n\r\n    normal1: IVec3Like;\r\n    normal2: IVec3Like;\r\n    normal3: IVec3Like;\r\n\r\n    color: number = 0xffffff;\r\n    alpha: number = 1;\r\n\r\n    size: number = 30;\r\n\r\n    private _packedColor: number;\r\n\r\n    constructor (v1: IVec3Like, v2: IVec3Like, v3: IVec3Like, n1: IVec3Like, n2: IVec3Like, n3: IVec3Like, uv1: IVec2Like, uv2: IVec2Like, uv3: IVec2Like, scale: number = 1)\r\n    {\r\n        this.vertex1 = new Vertex(v1.x * scale, v1.y * scale, v1.z * scale);\r\n        this.vertex2 = new Vertex(v2.x * scale, v2.y * scale, v2.z * scale);\r\n        this.vertex3 = new Vertex(v3.x * scale, v3.y * scale, v3.z * scale);\r\n\r\n        this.vertex1.setUV(uv1.x, uv1.y);\r\n        this.vertex2.setUV(uv2.x, uv2.y);\r\n        this.vertex3.setUV(uv3.x, uv3.y);\r\n\r\n        this.normal1 = n1;\r\n        this.normal2 = n2;\r\n        this.normal3 = n3;\r\n\r\n        this._packedColor = PackColor(this.color, this.alpha);\r\n    }\r\n\r\n    setColor (color: number, alpha: number = 1): void\r\n    {\r\n        this.color = color;\r\n        this.alpha = alpha;\r\n\r\n        this._packedColor = PackColor(color, alpha);\r\n    }\r\n\r\n    addToBuffer (F32: Float32Array, U32: Uint32Array, textureID: number, offset: number): number\r\n    {\r\n        const v1 = this.vertex1;\r\n        const v2 = this.vertex2;\r\n        const v3 = this.vertex3;\r\n\r\n        const n1 = this.normal1;\r\n        const n2 = this.normal2;\r\n        const n3 = this.normal3;\r\n\r\n        const color = this._packedColor;\r\n\r\n        F32[offset++] = v1.x;\r\n        F32[offset++] = v1.y;\r\n        F32[offset++] = v1.z;\r\n        F32[offset++] = n1.x;\r\n        F32[offset++] = n1.y;\r\n        F32[offset++] = n1.z;\r\n        F32[offset++] = v1.u;\r\n        F32[offset++] = v1.v;\r\n        F32[offset++] = textureID;\r\n        U32[offset++] = color;\r\n\r\n        F32[offset++] = v2.x;\r\n        F32[offset++] = v2.y;\r\n        F32[offset++] = v2.z;\r\n        F32[offset++] = n2.x;\r\n        F32[offset++] = n2.y;\r\n        F32[offset++] = n2.z;\r\n        F32[offset++] = v2.u;\r\n        F32[offset++] = v2.v;\r\n        F32[offset++] = textureID;\r\n        U32[offset++] = color;\r\n\r\n        F32[offset++] = v3.x;\r\n        F32[offset++] = v3.y;\r\n        F32[offset++] = v3.z;\r\n        F32[offset++] = n3.x;\r\n        F32[offset++] = n3.y;\r\n        F32[offset++] = n3.z;\r\n        F32[offset++] = v3.u;\r\n        F32[offset++] = v3.v;\r\n        F32[offset++] = textureID;\r\n        U32[offset++] = color;\r\n\r\n        return offset;\r\n    }\r\n}\r\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\r\nimport { IndexedVertexBuffer } from './IndexedVertexBuffer';\r\nimport { VertexBuffer } from './VertexBuffer';\r\n\r\nexport {\r\n    DeleteGLBuffer,\r\n    IndexedVertexBuffer,\r\n    VertexBuffer\r\n};\r\n", "import { VertexBuffer } from '../../renderer/webgl1/buffers';\r\nimport { VertexSet } from './VertexSet';\r\n\r\nfunction GetVec3 (data: number[], index: number): number[]\r\n{\r\n    const x = data[ (index * 3) + 0 ];\r\n    const y = data[ (index * 3) + 1 ];\r\n    const z = data[ (index * 3) + 2 ];\r\n\r\n    return [ x, y, z ];\r\n}\r\n\r\nfunction GetVec2 (data: number[], index: number): number[]\r\n{\r\n    const x = data[ (index * 2) + 0 ];\r\n    const y = data[ (index * 2) + 1 ];\r\n\r\n    return [ x, y ];\r\n}\r\n\r\nfunction CreateNonIndexedVertexBuffer (data: VertexSet): VertexBuffer\r\n{\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs\r\n    } = data;\r\n\r\n    // console.log(vertices);\r\n    // console.log(normals);\r\n    // console.log(uvs);\r\n\r\n    const total = vertices.length;\r\n    const count = total / 3;\r\n    const batchSize = count / 3;\r\n\r\n    const buffer = new VertexBuffer({ batchSize, isDynamic: false, vertexElementSize: 8, elementsPerEntry: 3 });\r\n\r\n    const F32 = buffer.vertexViewF32;\r\n\r\n    let offset = 0;\r\n    let uvIndex = 0;\r\n\r\n    for (let i = 0; i < total; i += 3)\r\n    {\r\n        F32[offset++] = vertices[i + 0];\r\n        F32[offset++] = vertices[i + 1];\r\n        F32[offset++] = vertices[i + 2];\r\n        F32[offset++] = normals[i + 0];\r\n        F32[offset++] = normals[i + 1];\r\n        F32[offset++] = normals[i + 2];\r\n        F32[offset++] = uvs[uvIndex + 0];\r\n        F32[offset++] = uvs[uvIndex + 1];\r\n\r\n        uvIndex += 2;\r\n    }\r\n\r\n    buffer.count = count;\r\n\r\n    return buffer;\r\n}\r\n\r\nfunction CreateVertexBuffer (data: VertexSet): VertexBuffer\r\n{\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    // console.log(vertices);\r\n    // console.log(normals);\r\n    // console.log(uvs);\r\n    // console.log(indices);\r\n\r\n    const buffer = new VertexBuffer({ batchSize: indices.length / 3, isDynamic: false, vertexElementSize: 8, elementsPerEntry: 3 });\r\n\r\n    const F32 = buffer.vertexViewF32;\r\n\r\n    let offset = 0;\r\n\r\n    for (let i = 0; i < indices.length; i += 3)\r\n    {\r\n        const i1 = indices[i + 0];\r\n        const i2 = indices[i + 1];\r\n        const i3 = indices[i + 2];\r\n\r\n        const v1 = GetVec3(vertices, i1);\r\n        const v2 = GetVec3(vertices, i2);\r\n        const v3 = GetVec3(vertices, i3);\r\n\r\n        const n1 = GetVec3(normals, i1);\r\n        const n2 = GetVec3(normals, i2);\r\n        const n3 = GetVec3(normals, i3);\r\n\r\n        const uv1 = GetVec2(uvs, i1);\r\n        const uv2 = GetVec2(uvs, i2);\r\n        const uv3 = GetVec2(uvs, i3);\r\n\r\n        F32[offset++] = v1[0];\r\n        F32[offset++] = v1[1];\r\n        F32[offset++] = v1[2];\r\n        F32[offset++] = n1[0];\r\n        F32[offset++] = n1[1];\r\n        F32[offset++] = n1[2];\r\n        F32[offset++] = uv1[0];\r\n        F32[offset++] = uv1[1];\r\n\r\n        F32[offset++] = v2[0];\r\n        F32[offset++] = v2[1];\r\n        F32[offset++] = v2[2];\r\n        F32[offset++] = n2[0];\r\n        F32[offset++] = n2[1];\r\n        F32[offset++] = n2[2];\r\n        F32[offset++] = uv2[0];\r\n        F32[offset++] = uv2[1];\r\n\r\n        F32[offset++] = v3[0];\r\n        F32[offset++] = v3[1];\r\n        F32[offset++] = v3[2];\r\n        F32[offset++] = n3[0];\r\n        F32[offset++] = n3[1];\r\n        F32[offset++] = n3[2];\r\n        F32[offset++] = uv3[0];\r\n        F32[offset++] = uv3[1];\r\n    }\r\n\r\n    buffer.count = indices.length;\r\n\r\n    return buffer;\r\n}\r\n\r\nexport function GetBufferFromVertexSet (data: VertexSet): VertexBuffer\r\n{\r\n    if (data.indices && data.indices.length > 0)\r\n    {\r\n        return CreateVertexBuffer(data);\r\n    }\r\n    else\r\n    {\r\n        return CreateNonIndexedVertexBuffer(data);\r\n    }\r\n}\r\n", "import { GetBufferFromVertexSet } from './GetBufferFromVertexSet';\r\nimport { IIndexedVertexBuffer } from '../../renderer/webgl1/buffers/IIndexedVertexBuffer';\r\nimport { IVertexBuffer } from '../../renderer/webgl1/buffers/IVertexBuffer';\r\nimport { VertexSet } from './VertexSet';\r\n\r\nexport class Geometry\r\n{\r\n    buffer: IVertexBuffer | IIndexedVertexBuffer;\r\n\r\n    constructor (data?: VertexSet | IVertexBuffer)\r\n    {\r\n        if (data)\r\n        {\r\n            if (data.hasOwnProperty('vertices'))\r\n            {\r\n                this.buffer = GetBufferFromVertexSet(data as VertexSet);\r\n            }\r\n            else\r\n            {\r\n                this.buffer = data as IVertexBuffer;\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.buffer.destroy();\r\n    }\r\n}\r\n", "export interface IParseObjResult\r\n{\r\n    models: IParseObjModel[];\r\n    materialLibraries: string[];\r\n}\r\n\r\nexport interface IParseObjModel\r\n{\r\n    name: string;\r\n    vertices: IParseObjVertex[];\r\n    textureCoords: IParseObjTextureVertex[];\r\n    vertexNormals: IParseObjVertex[];\r\n    faces: IParseObjFace[];\r\n}\r\n\r\nexport interface IParseObjFace\r\n{\r\n    material: string;\r\n    group: string;\r\n    smoothingGroup: number;\r\n    vertices: IParseObjFaceVertexIndicies[];\r\n}\r\n\r\nexport interface IParseObjFaceVertexIndicies\r\n{\r\n    vertexIndex: number;\r\n    textureCoordsIndex: number;\r\n    vertexNormalIndex: number;\r\n}\r\n\r\nexport interface IParseObjVertex\r\n{\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n}\r\n\r\nexport interface IParseObjTextureVertex\r\n{\r\n    u: number;\r\n    v: number;\r\n    w: number;\r\n}\r\n\r\n//  Make sure your Obj files have been exported with 'Triangulate faces' enabled\r\n\r\nexport class ParseObj\r\n{\r\n    private fileContents: string;\r\n    private defaultModelName: string;\r\n    private currentMaterial: string = '';\r\n    private currentGroup: string = '';\r\n    private smoothingGroup: number = 0;\r\n\r\n    private result: IParseObjResult = {\r\n        materialLibraries: [],\r\n        models: []\r\n    };\r\n\r\n    private flipUVs: boolean;\r\n\r\n    constructor (fileContents: string, flipUVs: boolean = true, defaultModelName: string = 'untitled')\r\n    {\r\n        this.fileContents = fileContents;\r\n        this.defaultModelName = defaultModelName;\r\n        this.flipUVs = flipUVs;\r\n    }\r\n\r\n    parseAsync (): Promise<IParseObjResult>\r\n    {\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            try\r\n            {\r\n                resolve(this.parse());\r\n            }\r\n            catch (theError)\r\n            {\r\n                reject(theError);\r\n            }\r\n        });\r\n    }\r\n\r\n    parse (): IParseObjResult\r\n    {\r\n        const stripComments = (line: string) =>\r\n        {\r\n            const commentIndex = line.indexOf('#');\r\n\r\n            if (commentIndex > -1)\r\n            {\r\n                return line.substring(0, commentIndex);\r\n            }\r\n\r\n            return line;\r\n        };\r\n\r\n        const lines = this.fileContents.split('\\n');\r\n\r\n        for (const line of lines)\r\n        {\r\n            const strippedline = stripComments(line);\r\n\r\n            const lineItems = strippedline\r\n                .replace(/\\s\\s+/g, ' ')\r\n                .trim()\r\n                .split(' ');\r\n\r\n            switch (lineItems[0].toLowerCase())\r\n            {\r\n                case 'o': // Start A New Model\r\n                    this.parseObject(lineItems);\r\n                    break;\r\n                case 'g': // Start a new polygon group\r\n                    this.parseGroup(lineItems);\r\n                    break;\r\n                case 'v': // Define a vertex for the current model\r\n                    this.parseVertexCoords(lineItems);\r\n                    break;\r\n                case 'vt': // Texture Coords\r\n                    this.parseTextureCoords(lineItems);\r\n                    break;\r\n                case 'vn': // Define a vertex normal for the current model\r\n                    this.parseVertexNormal(lineItems);\r\n                    break;\r\n                case 's': // Smooth shading statement\r\n                    this.parseSmoothShadingStatement(lineItems);\r\n                    break;\r\n                case 'f': // Define a Face/Polygon\r\n                    this.parsePolygon(lineItems);\r\n                    break;\r\n                case 'mtllib': // Reference to a material library file (.mtl)\r\n                    this.parseMtlLib(lineItems);\r\n                    break;\r\n                case 'usemtl': // Sets the current material to be applied to polygons defined from this point forward\r\n                    this.parseUseMtl(lineItems);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        //  Free-up memory before returning\r\n        this.fileContents = '';\r\n\r\n        return this.result;\r\n    }\r\n\r\n    private currentModel (): IParseObjModel\r\n    {\r\n        if (this.result.models.length === 0)\r\n        {\r\n            this.result.models.push({\r\n                faces: [],\r\n                name: this.defaultModelName,\r\n                textureCoords: [],\r\n                vertexNormals: [],\r\n                vertices: []\r\n            });\r\n\r\n            this.currentGroup = '';\r\n            this.smoothingGroup = 0;\r\n        }\r\n\r\n        return this.result.models[this.result.models.length - 1];\r\n    }\r\n\r\n    private parseObject (lineItems: string[]): void\r\n    {\r\n        const modelName = lineItems.length >= 2 ? lineItems[1] : this.defaultModelName;\r\n\r\n        this.result.models.push({\r\n            faces: [],\r\n            name: modelName,\r\n            textureCoords: [],\r\n            vertexNormals: [],\r\n            vertices: []\r\n        });\r\n\r\n        this.currentGroup = '';\r\n        this.smoothingGroup = 0;\r\n    }\r\n\r\n    private parseGroup (lineItems: string[]): void\r\n    {\r\n        if (lineItems.length !== 2)\r\n        {\r\n            throw 'Group statements must have exactly 1 argument (eg. g group_1)';\r\n        }\r\n\r\n        this.currentGroup = lineItems[1];\r\n    }\r\n\r\n    private parseVertexCoords (lineItems: string[]): void\r\n    {\r\n        const len = lineItems.length;\r\n\r\n        const x = (len >= 2) ? parseFloat(lineItems[1]) : 0;\r\n        const y = (len >= 3) ? parseFloat(lineItems[2]) : 0;\r\n        const z = (len >= 4) ? parseFloat(lineItems[3]) : 0;\r\n\r\n        this.currentModel().vertices.push({ x, y, z });\r\n    }\r\n\r\n    private parseTextureCoords (lineItems: string[]): void\r\n    {\r\n        const len = lineItems.length;\r\n\r\n        let u = (len >= 2) ? parseFloat(lineItems[1]) : 0;\r\n        let v = (len >= 3) ? parseFloat(lineItems[2]) : 0;\r\n        let w = (len >= 4) ? parseFloat(lineItems[3]) : 0;\r\n\r\n        if (isNaN(u))\r\n        {\r\n            u = 0;\r\n        }\r\n\r\n        if (isNaN(v))\r\n        {\r\n            v = 0;\r\n        }\r\n\r\n        if (isNaN(w))\r\n        {\r\n            w = 0;\r\n        }\r\n\r\n        if (this.flipUVs)\r\n        {\r\n            v = 1 - v;\r\n        }\r\n\r\n        this.currentModel().textureCoords.push({ u, v, w });\r\n    }\r\n\r\n    private parseVertexNormal (lineItems: string[]): void\r\n    {\r\n        const len = lineItems.length;\r\n\r\n        const x = (len >= 2) ? parseFloat(lineItems[1]) : 0;\r\n        const y = (len >= 3) ? parseFloat(lineItems[2]) : 0;\r\n        const z = (len >= 4) ? parseFloat(lineItems[3]) : 0;\r\n\r\n        this.currentModel().vertexNormals.push({ x, y, z });\r\n    }\r\n\r\n    private parsePolygon (lineItems: string[]): void\r\n    {\r\n        const totalVertices = lineItems.length - 1;\r\n\r\n        if (totalVertices < 3)\r\n        {\r\n            throw 'Face < 3 vertices';\r\n        }\r\n\r\n        const face: IParseObjFace = {\r\n            group: this.currentGroup,\r\n            material: this.currentMaterial,\r\n            smoothingGroup: this.smoothingGroup,\r\n            vertices: []\r\n        };\r\n\r\n        for (let i = 0; i < totalVertices; i++)\r\n        {\r\n            const vertexString = lineItems[i + 1];\r\n            const vertexValues = vertexString.split('/');\r\n            const vvLen = vertexValues.length;\r\n\r\n            if (vvLen < 1 || vvLen > 3)\r\n            {\r\n                throw 'Too many / values for single vertex';\r\n            }\r\n\r\n            let vertexIndex = 0;\r\n            let textureCoordsIndex = 0;\r\n            let vertexNormalIndex = 0;\r\n\r\n            vertexIndex = parseInt(vertexValues[0], 10);\r\n\r\n            if (vvLen > 1 && vertexValues[1] !== '')\r\n            {\r\n                textureCoordsIndex = parseInt(vertexValues[1], 10);\r\n            }\r\n\r\n            if (vvLen > 2)\r\n            {\r\n                vertexNormalIndex = parseInt(vertexValues[2], 10);\r\n            }\r\n\r\n            if (vertexIndex === 0)\r\n            {\r\n                throw 'Faces uses invalid vertex index of 0';\r\n            }\r\n\r\n            // Negative vertex indices refer to the nth last defined vertex\r\n            // convert these to postive indices for simplicity\r\n            if (vertexIndex < 0)\r\n            {\r\n                vertexIndex = this.currentModel().vertices.length + 1 + vertexIndex;\r\n            }\r\n\r\n            textureCoordsIndex -= 1;\r\n            vertexIndex -= 1;\r\n            vertexNormalIndex -= 1;\r\n\r\n            face.vertices.push({\r\n                textureCoordsIndex,\r\n                vertexIndex,\r\n                vertexNormalIndex\r\n            });\r\n        }\r\n\r\n        this.currentModel().faces.push(face);\r\n    }\r\n\r\n    private parseMtlLib (lineItems: string[]): void\r\n    {\r\n        if (lineItems.length >= 2)\r\n        {\r\n            this.result.materialLibraries.push(lineItems[1]);\r\n        }\r\n    }\r\n\r\n    private parseUseMtl (lineItems: string[]): void\r\n    {\r\n        if (lineItems.length >= 2)\r\n        {\r\n            this.currentMaterial = lineItems[1];\r\n        }\r\n    }\r\n\r\n    private parseSmoothShadingStatement (lineItems: string[]): void\r\n    {\r\n        if (lineItems.length !== 2)\r\n        {\r\n            throw 'Smoothing group statements must have exactly 1 argument (eg. s <number|off>)';\r\n        }\r\n\r\n        const groupNumber = lineItems[1].toLowerCase() === 'off' ? 0 : parseInt(lineItems[1], 10);\r\n\r\n        this.smoothingGroup = groupNumber;\r\n    }\r\n}\r\n", "import { IVertexBuffer } from '../../renderer/webgl1/buffers/IVertexBuffer';\r\nimport { ParseObj } from './ParseObj';\r\nimport { VertexBuffer } from '../../renderer/webgl1/buffers/VertexBuffer';\r\n\r\nexport type VertexBufferArray = {\r\n    name: string;\r\n    buffer: IVertexBuffer;\r\n};\r\n\r\nexport function GetBufferFromObj (data: string, flipUVs: boolean = true): VertexBufferArray[]\r\n{\r\n    const parser = new ParseObj(data, flipUVs);\r\n\r\n    const result = parser.parse();\r\n\r\n    const output: VertexBufferArray[] = [];\r\n\r\n    result.models.forEach(model =>\r\n    {\r\n        const {\r\n            faces,\r\n            textureCoords,\r\n            vertexNormals,\r\n            vertices\r\n        } = model;\r\n\r\n        let totalFaces = 0;\r\n\r\n        for (let i = 0; i < faces.length; i++)\r\n        {\r\n            totalFaces += (faces[i].vertices.length === 4) ? 6 : 3;\r\n        }\r\n\r\n        const buffer = new VertexBuffer({ batchSize: totalFaces, isDynamic: false, vertexElementSize: 8, elementsPerEntry: 3 });\r\n\r\n        const F32 = buffer.vertexViewF32;\r\n\r\n        let offset = 0;\r\n\r\n        for (let i = 0; i < faces.length; i++)\r\n        {\r\n            const face = faces[i];\r\n\r\n            const i1 = face.vertices[0];\r\n            const i2 = face.vertices[1];\r\n            const i3 = face.vertices[2];\r\n\r\n            const v1 = vertices[i1.vertexIndex];\r\n            const v2 = vertices[i2.vertexIndex];\r\n            const v3 = vertices[i3.vertexIndex];\r\n\r\n            const n1 = vertexNormals[i1.vertexNormalIndex];\r\n            const n2 = vertexNormals[i2.vertexNormalIndex];\r\n            const n3 = vertexNormals[i3.vertexNormalIndex];\r\n\r\n            const uv1 = textureCoords[i1.textureCoordsIndex];\r\n            const uv2 = textureCoords[i2.textureCoordsIndex];\r\n            const uv3 = textureCoords[i3.textureCoordsIndex];\r\n\r\n            F32[offset++] = v1.x;\r\n            F32[offset++] = v1.y;\r\n            F32[offset++] = v1.z;\r\n            F32[offset++] = n1.x;\r\n            F32[offset++] = n1.y;\r\n            F32[offset++] = n1.z;\r\n            F32[offset++] = uv1.u;\r\n            F32[offset++] = uv1.v;\r\n\r\n            F32[offset++] = v2.x;\r\n            F32[offset++] = v2.y;\r\n            F32[offset++] = v2.z;\r\n            F32[offset++] = n2.x;\r\n            F32[offset++] = n2.y;\r\n            F32[offset++] = n2.z;\r\n            F32[offset++] = uv2.u;\r\n            F32[offset++] = uv2.v;\r\n\r\n            F32[offset++] = v3.x;\r\n            F32[offset++] = v3.y;\r\n            F32[offset++] = v3.z;\r\n            F32[offset++] = n3.x;\r\n            F32[offset++] = n3.y;\r\n            F32[offset++] = n3.z;\r\n            F32[offset++] = uv3.u;\r\n            F32[offset++] = uv3.v;\r\n\r\n            buffer.count += 3;\r\n\r\n            if (face.vertices.length === 4)\r\n            {\r\n                const i4 = face.vertices[3];\r\n                const v4 = vertices[i4.vertexIndex];\r\n                const n4 = vertexNormals[i4.vertexNormalIndex];\r\n                const uv4 = textureCoords[i4.textureCoordsIndex];\r\n\r\n                F32[offset++] = v1.x;\r\n                F32[offset++] = v1.y;\r\n                F32[offset++] = v1.z;\r\n                F32[offset++] = n1.x;\r\n                F32[offset++] = n1.y;\r\n                F32[offset++] = n1.z;\r\n                F32[offset++] = uv1.u;\r\n                F32[offset++] = uv1.v;\r\n\r\n                F32[offset++] = v3.x;\r\n                F32[offset++] = v3.y;\r\n                F32[offset++] = v3.z;\r\n                F32[offset++] = n3.x;\r\n                F32[offset++] = n3.y;\r\n                F32[offset++] = n3.z;\r\n                F32[offset++] = uv3.u;\r\n                F32[offset++] = uv3.v;\r\n\r\n                F32[offset++] = v4.x;\r\n                F32[offset++] = v4.y;\r\n                F32[offset++] = v4.z;\r\n                F32[offset++] = n4.x;\r\n                F32[offset++] = n4.y;\r\n                F32[offset++] = n4.z;\r\n                F32[offset++] = uv4.u;\r\n                F32[offset++] = uv4.v;\r\n\r\n                buffer.count += 3;\r\n            }\r\n        }\r\n\r\n        output.push({ name: model.name, buffer });\r\n\r\n    });\r\n\r\n    return output;\r\n}\r\n", "import { FaceUVNormalTexture } from './FaceUVNormalTexture';\r\nimport { IFace } from './IFace';\r\nimport { VertexSet } from './VertexSet';\r\n\r\nfunction GetVec3 (data: number[], index: number): number[]\r\n{\r\n    const x = data[ (index * 3) + 0 ];\r\n    const y = data[ (index * 3) + 1 ];\r\n    const z = data[ (index * 3) + 2 ];\r\n\r\n    return [ x, y, z ];\r\n}\r\n\r\nfunction GetVec2 (data: number[], index: number): number[]\r\n{\r\n    const x = data[ (index * 2) + 0 ];\r\n    const y = data[ (index * 2) + 1 ];\r\n\r\n    return [ x, y ];\r\n}\r\n\r\nexport function GetFacesFromVertexSet (data: VertexSet): IFace[]\r\n{\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    // console.log(vertices);\r\n    // console.log(normals);\r\n    // console.log(uvs);\r\n    // console.log(indices);\r\n\r\n    const faces = [];\r\n\r\n    for (let i = 0; i < indices.length; i += 3)\r\n    {\r\n        const i1 = indices[i + 0];\r\n        const i2 = indices[i + 1];\r\n        const i3 = indices[i + 2];\r\n\r\n        const v1 = GetVec3(vertices, i1);\r\n        const v2 = GetVec3(vertices, i2);\r\n        const v3 = GetVec3(vertices, i3);\r\n\r\n        const n1 = GetVec3(normals, i1);\r\n        const n2 = GetVec3(normals, i2);\r\n        const n3 = GetVec3(normals, i3);\r\n\r\n        const uv1 = GetVec2(uvs, i1);\r\n        const uv2 = GetVec2(uvs, i2);\r\n        const uv3 = GetVec2(uvs, i3);\r\n\r\n        const f = new FaceUVNormalTexture(\r\n            { x: v1[0], y: v1[1], z: v1[2] },\r\n            { x: v2[0], y: v2[1], z: v2[2] },\r\n            { x: v3[0], y: v3[1], z: v3[2] },\r\n            { x: n1[0], y: n1[1], z: n1[2] },\r\n            { x: n2[0], y: n2[1], z: n2[2] },\r\n            { x: n3[0], y: n3[1], z: n3[2] },\r\n            { x: uv1[0], y: uv1[1] },\r\n            { x: uv2[0], y: uv2[1] },\r\n            { x: uv3[0], y: uv3[1] },\r\n            1\r\n        );\r\n\r\n        faces.push(f);\r\n    }\r\n\r\n    return faces;\r\n}\r\n", "export type VertexSet = {\r\n    vertices: number[];\r\n    normals: number[];\r\n    uvs: number[];\r\n    indices?: number[];\r\n    numberOfVertices: number;\r\n};\r\n", "import { CreateVertexSet } from './CreateVertexSet';\r\nimport { FaceUVNormalTexture } from './FaceUVNormalTexture';\r\nimport { Geometry } from './Geometry';\r\nimport { GetBufferFromObj } from './GetBufferFromObj';\r\nimport { GetBufferFromVertexSet } from './GetBufferFromVertexSet';\r\nimport { GetFacesFromVertexSet } from './GetFacesFromVertexSet';\r\nimport { ParseObj } from './ParseObj';\r\nimport { VertexSet } from './VertexSet';\r\n\r\nexport {\r\n    CreateVertexSet,\r\n    FaceUVNormalTexture,\r\n    Geometry,\r\n    GetBufferFromObj,\r\n    GetBufferFromVertexSet,\r\n    GetFacesFromVertexSet,\r\n    ParseObj,\r\n    VertexSet\r\n};\r\n", "import { CreateVertexSet } from '../gameobjects3d/geometry/CreateVertexSet';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nexport function PlaneGeometry (data?: VertexSet, x: number = 0, y: number = 0, z: number = 0, u: number = 0, v: number = 1, w: number = 2, udir: number = 1, vdir: number = -1, width: number = 1, height: number = 1, depth: number = 1, gridX: number = 1, gridY: number = 1): VertexSet\r\n{\r\n    if (!data)\r\n    {\r\n        data = CreateVertexSet();\r\n    }\r\n\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices,\r\n        numberOfVertices\r\n    } = data;\r\n\r\n    const segmentWidth = width / gridX;\r\n    const segmentHeight = height / gridY;\r\n\r\n    const widthHalf = width / 2;\r\n    const heightHalf = height / 2;\r\n    const depthHalf = depth / 2;\r\n\r\n    const gridX1 = gridX + 1;\r\n    const gridY1 = gridY + 1;\r\n\r\n    let vertexCounter = 0;\r\n\r\n    const vector = [];\r\n\r\n    // generate vertices, normals and uvs\r\n\r\n    for (let iy = 0; iy < gridY1; iy++)\r\n    {\r\n        const by = iy * segmentHeight - heightHalf;\r\n\r\n        for (let ix = 0; ix < gridX1; ix++)\r\n        {\r\n            const bx = ix * segmentWidth - widthHalf;\r\n\r\n            // set values to correct vector component\r\n\r\n            vector[ u ] = bx * udir;\r\n            vector[ v ] = by * vdir;\r\n            vector[ w ] = depthHalf;\r\n\r\n            // now apply vector to vertex buffer\r\n            vertices.push(x + vector[0], y + vector[1], z + vector[2]);\r\n\r\n            // set values to correct vector component\r\n\r\n            vector[ u ] = 0;\r\n            vector[ v ] = 0;\r\n            vector[ w ] = depth > 0 ? 1 : - 1;\r\n\r\n            // now apply vector to normal buffer\r\n            normals.push(vector[0], vector[1], vector[2]);\r\n\r\n            // uvs\r\n\r\n            uvs.push(ix / gridX);\r\n            uvs.push(1 - (iy / gridY));\r\n\r\n            // counters\r\n\r\n            vertexCounter += 1;\r\n        }\r\n    }\r\n\r\n    // indices\r\n\r\n    // 1. you need three indices to draw a single face\r\n    // 2. a single segment consists of two faces\r\n    // 3. so we need to generate six (2*3) indices per segment\r\n\r\n    for (let iy = 0; iy < gridY; iy++)\r\n    {\r\n        for (let ix = 0; ix < gridX; ix++)\r\n        {\r\n            const a = numberOfVertices + ix + gridX1 * iy;\r\n            const b = numberOfVertices + ix + gridX1 * (iy + 1);\r\n            const c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\r\n            const d = numberOfVertices + (ix + 1) + gridX1 * iy;\r\n\r\n            // faces\r\n\r\n            indices.push(a, b, d);\r\n            indices.push(b, c, d);\r\n        }\r\n    }\r\n\r\n    // update total number of vertices\r\n    data.numberOfVertices += vertexCounter;\r\n\r\n    return data;\r\n}\r\n", "import { CreateVertexSet } from '../gameobjects3d/geometry/CreateVertexSet';\r\nimport { PlaneGeometry } from './PlaneGeometry';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nexport function BoxGeometry (x: number = 0, y: number = 0, z: number = 0, width: number = 1, height: number = 1, depth: number = 1, widthSegments: number = 1, heightSegments: number = 1, depthSegments: number = 1): VertexSet\r\n{\r\n    const data = CreateVertexSet();\r\n\r\n    PlaneGeometry(data, x, y, z, 2, 1, 0, -1, -1, depth, height, width, depthSegments, heightSegments); // left\r\n    PlaneGeometry(data, x, y, z, 2, 1, 0, 1, -1, depth, height, -width, depthSegments, heightSegments); // right\r\n    PlaneGeometry(data, x, y, z, 0, 2, 1, 1, 1, width, depth, height, widthSegments, depthSegments); // top\r\n    PlaneGeometry(data, x, y, z, 0, 2, 1, 1, -1, width, depth, -height, widthSegments, depthSegments); // bottom\r\n    PlaneGeometry(data, x, y, z, 0, 1, 2, 1, -1, width, height, depth, widthSegments, heightSegments); // front\r\n    PlaneGeometry(data, x, y, z, 0, 1, 2, -1, -1, width, height, -depth, widthSegments, heightSegments); // rear\r\n\r\n    return data;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { DestroyEvent } from '../gameobjects/events';\r\nimport { Emit } from '../events';\r\nimport { GameInstance } from '../GameInstance';\r\nimport { IBaseWorld3D } from '../world3d/IBaseWorld3D';\r\nimport { IEventInstance } from '../events/IEventInstance';\r\nimport { IGameObject3D } from './IGameObject3D';\r\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\r\nimport { Transform3DComponent } from './components/transform3d/Transform3DComponent';\r\n\r\nexport class GameObject3D\r\n{\r\n    type: string = 'GameObject3D';\r\n    name: string = '';\r\n\r\n    //  The World this Game Object belongs to. A Game Object can only belong to one World instance at any one time.\r\n    world: IBaseWorld3D;\r\n\r\n    //  The direct parent of this Game Object in the scene graph (if any)\r\n    parent: IGameObject3D;\r\n\r\n    children: IGameObject3D[];\r\n\r\n    events: Map<string, Set<IEventInstance>>;\r\n\r\n    willUpdate: boolean = true;\r\n    willUpdateChildren: boolean = true;\r\n\r\n    willRender: boolean = true;\r\n    willRenderChildren: boolean = true;\r\n    willCacheChildren: boolean = false;\r\n\r\n    dirty: number = 0;\r\n    dirtyFrame: number = 0;\r\n\r\n    transform: Transform3DComponent;\r\n    // bounds: IBoundsComponent;\r\n    // input: IInputComponent;\r\n\r\n    visible: boolean = true;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0)\r\n    {\r\n        this.children = [];\r\n\r\n        this.events = new Map();\r\n\r\n        this.transform = new Transform3DComponent(this, x, y, z);\r\n        // this.bounds = new BoundsComponent(this);\r\n        // this.input = new InputComponent(this);\r\n\r\n        this.dirty = DIRTY_CONST.DEFAULT;\r\n\r\n        // this.transform.update();\r\n    }\r\n\r\n    isRenderable (): boolean\r\n    {\r\n        return (this.visible && this.willRender);\r\n    }\r\n\r\n    isDirty (flag: number): boolean\r\n    {\r\n        return (this.dirty & flag) !== 0;\r\n    }\r\n\r\n    clearDirty (flag: number): this\r\n    {\r\n        if (this.isDirty(flag))\r\n        {\r\n            this.dirty ^= flag;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setDirty (flag: number, flag2?: number): this\r\n    {\r\n        if (!this.isDirty(flag))\r\n        {\r\n            this.dirty ^= flag;\r\n            this.dirtyFrame = GameInstance.getFrame();\r\n        }\r\n\r\n        if (!this.isDirty(flag2))\r\n        {\r\n            this.dirty ^= flag2;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        if (this.willUpdateChildren)\r\n        {\r\n            const children = this.children;\r\n\r\n            for (let i = 0; i < children.length; i++)\r\n            {\r\n                const child = children[i];\r\n\r\n                if (child && child.willUpdate)\r\n                {\r\n                    child.update(delta, time);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.postUpdate(delta, time);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postUpdate (delta: number, time: number): void\r\n    {\r\n        //  Empty for parent classes to use.\r\n        //  Called after this GameObject and all of its children have been updated.\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        //  Called after this GameObject and all of its children have been rendered.\r\n        //  If it doesn't have any children, this method is never called.\r\n    }\r\n\r\n    get numChildren (): number\r\n    {\r\n        return this.children.length;\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject3D): void\r\n    {\r\n        if (reparentChildren)\r\n        {\r\n            // ReparentChildren(this, reparentChildren);\r\n        }\r\n        else\r\n        {\r\n            // DestroyChildren(this);\r\n        }\r\n\r\n        Emit(this, DestroyEvent, this);\r\n\r\n        this.transform.destroy();\r\n        // this.bounds.destroy();\r\n        // this.input.destroy();\r\n\r\n        this.events.clear();\r\n\r\n        this.world = null;\r\n        this.parent = null;\r\n        this.children = null;\r\n    }\r\n}\r\n", "import { Clamp } from '../../math';\r\nimport { IShader } from '../../renderer/webgl1/shaders/IShader';\r\nimport { RGBCallback } from '../../math/vec3';\r\n\r\nexport type MaterialConfig = {\r\n    ambient?: number[];\r\n    diffuse?: number[];\r\n    specular?: number[];\r\n    shine?: number;\r\n};\r\n\r\nexport class Material\r\n{\r\n    ambient: RGBCallback;\r\n    diffuse: RGBCallback;\r\n    specular: RGBCallback;\r\n\r\n    isDirty: boolean = false;\r\n\r\n    private _shine: number;\r\n\r\n    constructor (config: MaterialConfig = {})\r\n    {\r\n        const {\r\n            ambient = [ 1, 1, 1 ],\r\n            diffuse = [ 1, 1, 1 ],\r\n            specular = [ 1, 1, 1 ],\r\n            shine = 0.25\r\n        } = config;\r\n\r\n        const onChange = () => this.update();\r\n\r\n        this.ambient = new RGBCallback(onChange).fromArray(ambient);\r\n        this.diffuse = new RGBCallback(onChange).fromArray(diffuse);\r\n        this.specular = new RGBCallback(onChange).fromArray(specular);\r\n\r\n        this._shine = shine;\r\n    }\r\n\r\n    get shine (): number\r\n    {\r\n        return this._shine;\r\n    }\r\n\r\n    set shine (value: number)\r\n    {\r\n        this._shine = Clamp(value, 0, 1);\r\n\r\n        this.isDirty = true;\r\n    }\r\n\r\n    private update (): void\r\n    {\r\n        this.isDirty = true;\r\n    }\r\n\r\n    setUniforms (shader: IShader): void\r\n    {\r\n        //  TODO - Only set if dirty (different to bound material?)\r\n\r\n        //  TODO - Don't use `toArray` !\r\n        shader.setUniform('uMaterialAmbient', this.ambient.toArray());\r\n        shader.setUniform('uMaterialDiffuse', this.diffuse.toArray());\r\n        shader.setUniform('uMaterialSpecular', this.specular.toArray());\r\n        shader.setUniform('uMaterialShine', this._shine * 256); // pow of 32\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.ambient.destroy();\r\n        this.diffuse.destroy();\r\n        this.specular.destroy();\r\n    }\r\n}\r\n", "import { Frame } from '../../textures/Frame';\r\nimport { IMesh } from './IMesh';\r\nimport { Texture } from '../../textures';\r\n\r\nexport function SetFrame <T extends IMesh> (texture: Texture, key?: string | number | Frame, ...children: T[]): T[]\r\n{\r\n    const frame = texture.getFrame(key);\r\n\r\n    children.forEach(child =>\r\n    {\r\n        if (!child || frame === child.frame)\r\n        {\r\n            return;\r\n        }\r\n\r\n        child.frame = frame;\r\n        child.hasTexture = true;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import { Frame } from '../../textures/Frame';\r\nimport { IMesh } from './IMesh';\r\nimport { SetFrame } from './SetFrame';\r\nimport { Texture } from '../../textures/Texture';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\n\r\nexport function SetTexture <T extends IMesh> (key: string | Texture, frame: string | number | Frame, ...children: T[]): T[]\r\n{\r\n    if (!key)\r\n    {\r\n        //  Remove texture from all children\r\n        children.forEach(child =>\r\n        {\r\n            child.texture = null;\r\n            child.frame = null;\r\n            child.hasTexture = false;\r\n        });\r\n    }\r\n    else\r\n    {\r\n        let texture: Texture;\r\n\r\n        if (key instanceof Texture)\r\n        {\r\n            texture = key;\r\n        }\r\n        else\r\n        {\r\n            texture = TextureManagerInstance.get().get(key);\r\n        }\r\n\r\n        if (!texture)\r\n        {\r\n            console.warn(`Invalid Texture key: ${key as string}`);\r\n        }\r\n        else\r\n        {\r\n            children.forEach(child =>\r\n            {\r\n                child.texture = texture;\r\n            });\r\n\r\n            SetFrame(texture, frame, ...children);\r\n        }\r\n    }\r\n\r\n    return children;\r\n}\r\n", "import { FlushBuffer } from '../../renderer/webgl1/renderpass';\r\nimport { Frame } from '../../textures/Frame';\r\nimport { GameObject3D } from '../GameObject3D';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { IGameObject3D } from '../IGameObject3D';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { Material } from '../material/Material';\r\nimport { SetTexture as RequestTexture } from '../../renderer/webgl1/renderpass/SetTexture';\r\nimport { SetFrame } from './SetFrame';\r\nimport { SetTexture } from './SetTexture';\r\nimport { Texture } from '../../textures/Texture';\r\n\r\nexport class Mesh extends GameObject3D\r\n{\r\n    texture: Texture;\r\n    frame: Frame;\r\n    hasTexture: boolean = false;\r\n\r\n    geometry: Geometry;\r\n    material: Material;\r\n\r\n    cullFaces: boolean = true;\r\n\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, geometry?: Geometry, material: Material = new Material())\r\n    {\r\n        super(x, y, z);\r\n\r\n        this.geometry = geometry;\r\n        this.material = material;\r\n\r\n        this.setTexture('__WHITE');\r\n    }\r\n\r\n    setTexture (key: string | Texture, frame?: string | number): this\r\n    {\r\n        SetTexture(key, frame, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    setFrame (key?: string | number | Frame): this\r\n    {\r\n        SetFrame(this.texture, key, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    setMaterial (material: Material): this\r\n    {\r\n        this.material = material;\r\n\r\n        return this;\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        const shader = renderPass.currentShader.shader;\r\n\r\n        shader.setUniform('uModelMatrix', this.transform.local.data);\r\n        shader.setUniform('uNormalMatrix', this.transform.normal.data);\r\n\r\n        if (this.hasTexture)\r\n        {\r\n            const textureIndex = RequestTexture(renderPass, this.texture);\r\n\r\n            shader.setUniform('uTexture', textureIndex);\r\n        }\r\n\r\n        this.material.setUniforms(shader);\r\n\r\n        FlushBuffer(renderPass, this.geometry.buffer);\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject3D): void\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        this.geometry = null;\r\n        this.material = null;\r\n        this.texture = null;\r\n        this.frame = null;\r\n        this.hasTexture = false;\r\n    }\r\n}\r\n", "import { BoxGeometry } from '../../geom3d/BoxGeometry';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { Mesh } from '../mesh/Mesh';\r\n\r\nexport class Box extends Mesh\r\n{\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, width: number = 1, height: number = 1, depth: number = 1, widthSegments: number = 1, heightSegments: number = 1, depthSegments: number = 1)\r\n    {\r\n        const data = BoxGeometry(0, 0, 0, width, height, depth, widthSegments, heightSegments, depthSegments);\r\n\r\n        const geometry = new Geometry(data);\r\n\r\n        super(x, y, z, geometry);\r\n    }\r\n}\r\n", "import { CreateVertexSet } from '../gameobjects3d/geometry/CreateVertexSet';\r\nimport { Normalize } from '../math/vec3/Normalize';\r\nimport { Vec2 } from '../math/vec2/Vec2';\r\nimport { Vec3 } from '../math/vec3/Vec3';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nfunction GenerateCap (top: boolean, data: VertexSet, index: number, halfHeight: number, radiusTop: number, radiusBottom: number, radialSegments: number, thetaStart: number, thetaLength: number): number\r\n{\r\n    // buffers\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    const uv = new Vec2();\r\n    const vertex = new Vec3();\r\n\r\n    const radius = (top === true) ? radiusTop : radiusBottom;\r\n    const sign = (top === true) ? 1 : - 1;\r\n\r\n    // save the index of the first center vertex\r\n    const centerIndexStart = index;\r\n\r\n    // first we generate the center vertex data of the cap.\r\n    // because the geometry needs one set of uvs per face,\r\n    // we must generate a center vertex per face/segment\r\n\r\n    for (let x = 1; x <= radialSegments; x++)\r\n    {\r\n        // vertex\r\n        vertices.push(0, halfHeight * sign, 0);\r\n\r\n        // normal\r\n        normals.push(0, sign, 0);\r\n\r\n        // uv\r\n        uvs.push(0.5, 0.5);\r\n\r\n        // increase index\r\n        index++;\r\n    }\r\n\r\n    // save the index of the last center vertex\r\n    const centerIndexEnd = index;\r\n\r\n    // now we generate the surrounding vertices, normals and uvs\r\n\r\n    for (let x = 0; x <= radialSegments; x++)\r\n    {\r\n        const u = x / radialSegments;\r\n        const theta = u * thetaLength + thetaStart;\r\n\r\n        const cosTheta = Math.cos(theta);\r\n        const sinTheta = Math.sin(theta);\r\n\r\n        // vertex\r\n        vertex.x = radius * sinTheta;\r\n        vertex.y = halfHeight * sign;\r\n        vertex.z = radius * cosTheta;\r\n\r\n        vertices.push(vertex.x, vertex.y, vertex.z);\r\n\r\n        // normal\r\n        normals.push(0, sign, 0);\r\n\r\n        // uv\r\n        uv.x = (cosTheta * 0.5) + 0.5;\r\n        uv.y = (sinTheta * 0.5 * sign) + 0.5;\r\n        uvs.push(uv.x, uv.y);\r\n\r\n        // increase index\r\n        index++;\r\n    }\r\n\r\n    // generate indices\r\n\r\n    for (let x = 0; x < radialSegments; x++)\r\n    {\r\n        const c = centerIndexStart + x;\r\n        const i = centerIndexEnd + x;\r\n\r\n        if (top)\r\n        {\r\n            // face top\r\n            indices.push(i, i + 1, c);\r\n        }\r\n        else\r\n        {\r\n            // face bottom\r\n            indices.push(i + 1, i, c);\r\n        }\r\n    }\r\n\r\n    return index;\r\n}\r\n\r\nexport function CylinderGeometry (radiusTop: number = 1, radiusBottom: number = 1, height: number = 1, radialSegments: number = 8, heightSegments: number = 1, openEnded: boolean = false, thetaStart: number = 0, thetaLength: number = Math.PI * 2): VertexSet\r\n{\r\n    const data = CreateVertexSet();\r\n\r\n    // buffers\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    // helper variables\r\n    let index = 0;\r\n\r\n    const indexArray = [];\r\n    const halfHeight = height / 2;\r\n\r\n    const normal = new Vec3();\r\n    const vertex = new Vec3();\r\n\r\n    //  This will be used to calculate the normal\r\n    const slope = (radiusBottom - radiusTop) / height;\r\n\r\n    // generate vertices, normals and uvs\r\n\r\n    for (let y = 0; y <= heightSegments; y++)\r\n    {\r\n        const indexRow = [];\r\n\r\n        const v = y / heightSegments;\r\n\r\n        // calculate the radius of the current row\r\n\r\n        const radius = v * (radiusBottom - radiusTop) + radiusTop;\r\n\r\n        for (let x = 0; x <= radialSegments; x++)\r\n        {\r\n            const u = x / radialSegments;\r\n\r\n            const theta = u * thetaLength + thetaStart;\r\n\r\n            const sinTheta = Math.sin(theta);\r\n            const cosTheta = Math.cos(theta);\r\n\r\n            // vertex\r\n            vertex.x = radius * sinTheta;\r\n            vertex.y = - v * height + halfHeight;\r\n            vertex.z = radius * cosTheta;\r\n\r\n            vertices.push(vertex.x, vertex.y, vertex.z);\r\n\r\n            // normal\r\n            normal.set(sinTheta, slope, cosTheta);\r\n\r\n            Normalize(normal, normal);\r\n\r\n            normals.push(normal.x, normal.y, normal.z);\r\n\r\n            // uv\r\n            uvs.push(u, 1 - v);\r\n\r\n            // save index of vertex in respective row\r\n            indexRow.push(index++);\r\n        }\r\n\r\n        // now save vertices of the row in our index array\r\n        indexArray.push(indexRow);\r\n    }\r\n\r\n    // generate indices\r\n\r\n    for (let x = 0; x < radialSegments; x++)\r\n    {\r\n        for (let y = 0; y < heightSegments; y++)\r\n        {\r\n            // we use the index array to access the correct indices\r\n\r\n            const a = indexArray[y][x];\r\n            const b = indexArray[y + 1][x];\r\n            const c = indexArray[y + 1][x + 1];\r\n            const d = indexArray[y][x + 1];\r\n\r\n            // faces\r\n            indices.push(a, b, d);\r\n            indices.push(b, c, d);\r\n\r\n            // update group counter\r\n            // groupCount += 6;\r\n        }\r\n    }\r\n\r\n    if (!openEnded)\r\n    {\r\n        if (radiusTop > 0)\r\n        {\r\n            index = GenerateCap(true, data, index, halfHeight, radiusTop, radiusBottom, radialSegments, thetaStart, thetaLength);\r\n        }\r\n\r\n        if (radiusBottom > 0)\r\n        {\r\n            GenerateCap(false, data, index, halfHeight, radiusTop, radiusBottom, radialSegments, thetaStart, thetaLength);\r\n        }\r\n    }\r\n\r\n    data.numberOfVertices = vertices.length;\r\n\r\n    return data;\r\n}\r\n", "import { CylinderGeometry } from './CylinderGeometry';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nexport function ConeGeometry (radius: number = 1, height: number = 1, radialSegments: number = 8, heightSegments: number = 1, openEnded: boolean = false, thetaStart: number = 0, thetaLength: number = Math.PI * 2): VertexSet\r\n{\r\n    return CylinderGeometry(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\r\n}\r\n", "import { ConeGeometry } from '../../geom3d/ConeGeometry';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { Mesh } from '../mesh/Mesh';\r\n\r\nexport class Cone extends Mesh\r\n{\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, radius: number = 1, height: number = 1, radialSegments: number = 8, heightSegments: number = 1, openEnded: boolean = false, thetaStart: number = 0, thetaLength: number = Math.PI * 2)\r\n    {\r\n        const data = ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\r\n\r\n        const geometry = new Geometry(data);\r\n\r\n        super(x, y, z, geometry);\r\n    }\r\n}\r\n", "import { RGBCallback, Vec3Callback } from '../../math/vec3';\r\n\r\nimport { IShader } from '../../renderer/webgl1/shaders/IShader';\r\n\r\n/*\r\n    Color vectors for each of the Phong lighting's components.\r\n    The ambient material vector defines what color the surface reflects under\r\n    ambient lighting; this is usually the same as the surface's color.\r\n    The diffuse material vector defines the color of the surface under diffuse lighting.\r\n    The diffuse color is (just like ambient lighting) set to the desired surface's color.\r\n    The specular material vector sets the color of the specular highlight on the surface\r\n    (or possibly even reflect a surface-specific color). Lastly, the shininess impacts\r\n    the scattering/radius of the specular highlight.\r\n*/\r\n\r\nexport type LightConfig = {\r\n    x?: number;\r\n    y?: number;\r\n    z?: number;\r\n    ambient?: number[];\r\n    diffuse?: number[];\r\n    specular?: number[];\r\n};\r\n\r\nexport class Light\r\n{\r\n    position: Vec3Callback;\r\n\r\n    ambient: RGBCallback;\r\n    diffuse: RGBCallback;\r\n    specular: RGBCallback;\r\n\r\n    isDirty: boolean = false;\r\n\r\n    constructor (config: LightConfig = {})\r\n    {\r\n        const {\r\n            x = 0,\r\n            y = 0,\r\n            z = 0.1,\r\n            ambient = [ 1, 1, 1 ],\r\n            diffuse = [ 1, 1, 1 ],\r\n            specular = [ 1, 1, 1 ]\r\n        } = config;\r\n\r\n        const onChange = () => this.update();\r\n\r\n        this.position = new Vec3Callback(onChange, x, y, z);\r\n\r\n        this.ambient = new RGBCallback(onChange).fromArray(ambient);\r\n        this.diffuse = new RGBCallback(onChange).fromArray(diffuse);\r\n        this.specular = new RGBCallback(onChange).fromArray(specular);\r\n    }\r\n\r\n    setUniforms (shader: IShader): void\r\n    {\r\n        //  TODO - Only set if dirty (different to bound light?)\r\n\r\n        shader.setUniform('uLightPosition', this.position.toArray());\r\n        shader.setUniform('uLightAmbient', this.ambient.toArray());\r\n        shader.setUniform('uLightDiffuse', this.diffuse.toArray());\r\n        shader.setUniform('uLightSpecular', this.specular.toArray());\r\n    }\r\n\r\n    private update (): void\r\n    {\r\n        this.isDirty = true;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.position.destroy();\r\n\r\n        this.ambient.destroy();\r\n        this.diffuse.destroy();\r\n        this.specular.destroy();\r\n    }\r\n}\r\n", "import { Geometry } from '../geometry/Geometry';\r\nimport { Mesh } from '../mesh/Mesh';\r\nimport { PlaneGeometry } from '../../geom3d/PlaneGeometry';\r\n\r\nexport class Plane extends Mesh\r\n{\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, width: number = 1, height: number = 1, widthSegments: number = 1, heightSegments: number = 1)\r\n    {\r\n        const data = PlaneGeometry(null, 0, 0, 0, 0, 1, 2, 1, -1, width, height, 1, widthSegments, heightSegments);\r\n\r\n        const geometry = new Geometry(data);\r\n\r\n        super(x, y, z, geometry);\r\n    }\r\n}\r\n", "import { Flush, PopFramebuffer, SetFramebuffer } from '../../renderer/webgl1/renderpass';\r\nimport { GetHeight, GetResolution, GetWidth } from '../../config';\r\n\r\nimport { CreateDepthBuffer } from '../../renderer/webgl1/fbo/CreateDepthBuffer';\r\nimport { CreateFramebuffer } from '../../renderer/webgl1/fbo/CreateFramebuffer';\r\nimport { DIRTY_CONST } from '../../gameobjects/DIRTY_CONST';\r\nimport { DrawTexturedQuad } from '../../renderer/webgl1/draw/DrawTexturedQuad';\r\nimport { GLTextureBinding } from '../../renderer/webgl1/textures/GLTextureBinding';\r\nimport { IRenderLayer3D } from './IRenderLayer3D';\r\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\r\nimport { Layer } from '../../gameobjects/layer/Layer';\r\nimport { Texture } from '../../textures/Texture';\r\n\r\nexport class RenderLayer3D extends Layer implements IRenderLayer3D\r\n{\r\n    texture: Texture;\r\n    framebuffer: WebGLFramebuffer;\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.type = 'RenderLayer';\r\n\r\n        this.willRender = true;\r\n        this.willRenderChildren = true;\r\n        this.willCacheChildren = true;\r\n\r\n        this.setDirty(DIRTY_CONST.CHILD_CACHE);\r\n\r\n        const width = GetWidth();\r\n        const height = GetHeight();\r\n        const resolution = GetResolution();\r\n\r\n        //  TODO: Allow them to set this via a filterArea\r\n        //  TODO: This code is duplicate of Shader constructor, consolidate\r\n        const texture = new Texture(null, width * resolution, height * resolution);\r\n\r\n        const binding = new GLTextureBinding(texture);\r\n\r\n        texture.binding = binding;\r\n\r\n        binding.framebuffer = CreateFramebuffer(binding.texture);\r\n        binding.depthbuffer = CreateDepthBuffer(binding.framebuffer, texture.width, texture.height);\r\n\r\n        this.texture = texture;\r\n        this.framebuffer = binding.framebuffer;\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        if (this.numChildren > 0)\r\n        {\r\n            Flush(renderPass);\r\n\r\n            if (!this.willCacheChildren || this.isDirty(DIRTY_CONST.CHILD_CACHE))\r\n            {\r\n                //  This RenderLayer has dirty children\r\n                SetFramebuffer(renderPass, this.framebuffer, true);\r\n\r\n                this.clearDirty(DIRTY_CONST.CHILD_CACHE);\r\n            }\r\n            else\r\n            {\r\n                //  This RenderLayer doesn't have any dirty children, so we'll use the previous fbo contents\r\n                SetFramebuffer(renderPass, this.framebuffer, false);\r\n\r\n                this.postRenderGL(renderPass);\r\n            }\r\n        }\r\n    }\r\n\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        Flush(renderPass);\r\n\r\n        PopFramebuffer(renderPass);\r\n\r\n        DrawTexturedQuad(renderPass, this.texture);\r\n\r\n        this.clearDirty(DIRTY_CONST.TRANSFORM);\r\n    }\r\n}\r\n", "import { CreateVertexSet } from '../gameobjects3d/geometry/CreateVertexSet';\r\nimport { Normalize } from '../math/vec3/Normalize';\r\nimport { Vec3 } from '../math/vec3/Vec3';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nexport function SphereGeometry (radius = 1, widthSegments = 3, heightSegments = 3, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI): VertexSet\r\n{\r\n    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\r\n    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\r\n\r\n    const thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\r\n\r\n    const data = CreateVertexSet();\r\n\r\n    // buffers\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    let index = 0;\r\n\r\n    const grid = [];\r\n\r\n    const vertex = new Vec3();\r\n    const normal = new Vec3();\r\n\r\n    // generate vertices, normals and uvs\r\n\r\n    for (let iy = 0; iy <= heightSegments; iy++)\r\n    {\r\n        const verticesRow = [];\r\n\r\n        const v = iy / heightSegments;\r\n\r\n        // special case for the poles\r\n\r\n        let uOffset = 0;\r\n\r\n        if (iy === 0 && thetaStart === 0)\r\n        {\r\n            uOffset = 0.5 / widthSegments;\r\n        }\r\n        else if (iy === heightSegments && thetaEnd == Math.PI)\r\n        {\r\n            uOffset = - 0.5 / widthSegments;\r\n        }\r\n\r\n        for (let ix = 0; ix <= widthSegments; ix++)\r\n        {\r\n            const u = ix / widthSegments;\r\n\r\n            // vertex\r\n\r\n            vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\r\n            vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\r\n            vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\r\n\r\n            vertices.push(vertex.x, vertex.y, vertex.z);\r\n\r\n            // normal\r\n\r\n            Normalize(vertex, normal);\r\n\r\n            normals.push(normal.x, normal.y, normal.z);\r\n\r\n            // uv\r\n\r\n            uvs.push(u + uOffset, 1 - v);\r\n\r\n            verticesRow.push(index++);\r\n        }\r\n\r\n        grid.push(verticesRow);\r\n    }\r\n\r\n    // indices\r\n\r\n    for (let iy = 0; iy < heightSegments; iy++)\r\n    {\r\n        for (let ix = 0; ix < widthSegments; ix++)\r\n        {\r\n            const a = grid[ iy ][ ix + 1 ];\r\n            const b = grid[ iy ][ ix ];\r\n            const c = grid[ iy + 1 ][ ix ];\r\n            const d = grid[ iy + 1 ][ ix + 1 ];\r\n\r\n            if (iy !== 0 || thetaStart > 0)\r\n            {\r\n                indices.push(a, b, d);\r\n            }\r\n\r\n            if (iy !== heightSegments - 1 || thetaEnd < Math.PI)\r\n            {\r\n                indices.push(b, c, d);\r\n            }\r\n        }\r\n    }\r\n\r\n    data.numberOfVertices = vertices.length;\r\n\r\n    return data;\r\n}\r\n", "import { Geometry } from '../geometry/Geometry';\r\nimport { Mesh } from '../mesh/Mesh';\r\nimport { SphereGeometry } from '../../geom3d/SphereGeometry';\r\n\r\nexport class Sphere extends Mesh\r\n{\r\n    constructor (x: number = 0, y: number = 0, z: number = 0, radius = 1, widthSegments = 3, heightSegments = 3, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI)\r\n    {\r\n        const data = SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength);\r\n\r\n        const geometry = new Geometry(data);\r\n\r\n        super(x, y, z, geometry);\r\n    }\r\n}\r\n", "import * as Components from './components/';\r\nimport * as Geometry from './geometry/';\r\n\r\nimport { Box } from './box/Box';\r\nimport { Cone } from './cone/Cone';\r\nimport { GameObject3D } from './GameObject3D';\r\nimport { Light } from './light/Light';\r\nimport { Material } from './material/Material';\r\nimport { Mesh } from './mesh/Mesh';\r\nimport { Plane } from './plane/Plane';\r\nimport { RenderLayer3D } from './renderlayer3d/RenderLayer3D';\r\nimport { Sphere } from './sphere/Sphere';\r\n\r\nexport {\r\n    Components,\r\n    Geometry,\r\n    Box,\r\n    Cone,\r\n    Light,\r\n    Material,\r\n    Mesh,\r\n    Plane,\r\n    RenderLayer3D,\r\n    Sphere,\r\n    GameObject3D\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Calculates the area of the circle.\r\n *\r\n * @function Phaser.Geom.Circle.Area\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the area of.\r\n *\r\n * @return {number} The area of the Circle.\r\n */\r\nexport function Area (circle: ICircle): number\r\n{\r\n    return (circle.radius > 0) ? Math.PI * circle.radius * circle.radius : 0;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Check to see if the Circle contains the given x / y coordinates.\r\n *\r\n * @function Phaser.Geom.Circle.Contains\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to check.\r\n * @param {number} x - The x coordinate to check within the circle.\r\n * @param {number} y - The y coordinate to check within the circle.\r\n *\r\n * @return {boolean} True if the coordinates are within the circle, otherwise false.\r\n */\r\nexport function Contains (circle: ICircle, x: number, y: number): boolean\r\n{\r\n    //  Check if x/y are within the bounds first\r\n    if (circle.radius > 0 && x >= circle.left && x <= circle.right && y >= circle.top && y <= circle.bottom)\r\n    {\r\n        const dx = (circle.x - x) * (circle.x - x);\r\n        const dy = (circle.y - y) * (circle.y - y);\r\n\r\n        return (dx + dy) <= (circle.radius * circle.radius);\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\n\r\n/**\r\n * @classdesc\r\n * A Circle object.\r\n *\r\n * This is a geometry object, containing numerical values and related methods to inspect and modify them.\r\n * It is not a Game Object, in that you cannot add it to the display list, and it has no texture.\r\n * To render a Circle you should look at the capabilities of the Graphics class.\r\n *\r\n * @class Circle\r\n * @memberof Phaser.Geom\r\n * @constructor\r\n * @since 3.0.0\r\n *\r\n * @param {number} [x=0] - The x position of the center of the circle.\r\n * @param {number} [y=0] - The y position of the center of the circle.\r\n * @param {number} [radius=0] - The radius of the circle.\r\n */\r\nexport class Circle\r\n{\r\n    x: number;\r\n    y: number;\r\n\r\n    private _radius: number;\r\n    private _diameter: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, radius: number = 0)\r\n    {\r\n        this.set(x, y, radius);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, radius: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.radius = radius;\r\n\r\n        return this;\r\n    }\r\n\r\n    contains (x: number, y: number): boolean\r\n    {\r\n        return Contains(this, x, y);\r\n    }\r\n\r\n    get radius (): number\r\n    {\r\n        return this._radius;\r\n    }\r\n\r\n    set radius (value: number)\r\n    {\r\n        this._radius = value;\r\n        this._diameter = value * 2;\r\n    }\r\n\r\n    get diameter (): number\r\n    {\r\n        return this._diameter;\r\n    }\r\n\r\n    set diameter (value: number)\r\n    {\r\n        this._diameter = value;\r\n        this._radius = value * 0.5;\r\n    }\r\n\r\n    get left (): number\r\n    {\r\n        return this.x - this._radius;\r\n    }\r\n\r\n    set left (value: number)\r\n    {\r\n        this.x = value + this._radius;\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return this.x + this._radius;\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        this.x = value - this._radius;\r\n    }\r\n\r\n    get top (): number\r\n    {\r\n        return this.y - this._radius;\r\n    }\r\n\r\n    set top (value: number)\r\n    {\r\n        this.y = value + this._radius;\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return this.y + this._radius;\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        this.y = value - this._radius;\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Returns the circumference of the given Circle.\r\n *\r\n * @function Phaser.Geom.Circle.Circumference\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the circumference of.\r\n *\r\n * @return {number} The circumference of the Circle.\r\n */\r\nexport function Circumference (circle: ICircle): number\r\n{\r\n    return 2 * (Math.PI * circle.radius);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point object containing the coordinates of a point on the circumference of the Circle based on the given angle.\r\n *\r\n * @function Phaser.Geom.Circle.CircumferencePoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the circumference point on.\r\n * @param {number} angle - The angle from the center of the Circle to the circumference to return the point from. Given in radians.\r\n * @param {(Phaser.Geom.Point|object)} [out] - A Point, or point-like object, to store the results in. If not given a Point will be created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object where the `x` and `y` properties are the point on the circumference.\r\n */\r\nexport function CircumferencePoint (circle: ICircle, angle: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        circle.x + (circle.radius * Math.cos(angle)),\r\n        circle.y + (circle.radius * Math.sin(angle))\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Circle } from './Circle';\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Creates a new Circle instance based on the values contained in the given source.\r\n *\r\n * @function Phaser.Geom.Circle.Clone\r\n * @since 3.0.0\r\n *\r\n * @param {(Phaser.Geom.Circle|object)} source - The Circle to be cloned. Can be an instance of a Circle or a circle-like object, with x, y and radius properties.\r\n *\r\n * @return {Phaser.Geom.Circle} A clone of the source Circle.\r\n */\r\nexport function Clone (source: ICircle): Circle\r\n{\r\n    return new Circle(source.x, source.y, source.radius);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { ICircle } from './ICircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Check to see if the Circle contains the given Point object.\r\n *\r\n * @function Phaser.Geom.Circle.ContainsPoint\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to check.\r\n * @param {(Phaser.Geom.Point|object)} point - The Point object to check if it's within the Circle or not.\r\n *\r\n * @return {boolean} True if the Point coordinates are within the circle, otherwise false.\r\n */\r\nexport function ContainsPoint (circle: ICircle, point: Vec2): boolean\r\n{\r\n    return Contains(circle, point.x, point.y);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { ICircle } from './ICircle';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\n\r\n/**\r\n * Check to see if the Circle contains all four points of the given Rectangle object.\r\n *\r\n * @function Phaser.Geom.Circle.ContainsRect\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to check.\r\n * @param {(Phaser.Geom.Rectangle|object)} rect - The Rectangle object to check if it's within the Circle or not.\r\n *\r\n * @return {boolean} True if all of the Rectangle coordinates are within the circle, otherwise false.\r\n */\r\nexport function ContainsRect (circle: ICircle, rect: IRectangle): boolean\r\n{\r\n    return (\r\n        Contains(circle, rect.x, rect.y) &&\r\n        Contains(circle, rect.right, rect.y) &&\r\n        Contains(circle, rect.x, rect.bottom) &&\r\n        Contains(circle, rect.right, rect.bottom)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Copies the `x`, `y` and `radius` properties from the `source` Circle\r\n * into the given `dest` Circle, then returns the `dest` Circle.\r\n *\r\n * @function Phaser.Geom.Circle.CopyFrom\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Circle} O - [dest,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} source - The source Circle to copy the values from.\r\n * @param {Phaser.Geom.Circle} dest - The destination Circle to copy the values to.\r\n *\r\n * @return {Phaser.Geom.Circle} The destination Circle.\r\n */\r\nexport function CopyFrom (source: ICircle, dest: ICircle): ICircle\r\n{\r\n    return dest.set(source.x, source.y, source.radius);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Compares the `x`, `y` and `radius` properties of the two given Circles.\r\n * Returns `true` if they all match, otherwise returns `false`.\r\n *\r\n * @function Phaser.Geom.Circle.Equals\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The first Circle to compare.\r\n * @param {Phaser.Geom.Circle} toCompare - The second Circle to compare.\r\n *\r\n * @return {boolean} `true` if the two Circles equal each other, otherwise `false`.\r\n */\r\nexport function Equals (circle: ICircle, toCompare: ICircle): boolean\r\n{\r\n    return (\r\n        circle.x === toCompare.x &&\r\n        circle.y === toCompare.y &&\r\n        circle.radius === toCompare.radius\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\nimport { Rectangle } from '../rectangle/Rectangle';\r\n\r\n/**\r\n * Returns the bounds of the Circle object.\r\n *\r\n * @function Phaser.Geom.Circle.GetBounds\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the bounds from.\r\n * @param {(Phaser.Geom.Rectangle|object)} [out] - A Rectangle, or rectangle-like object, to store the circle bounds in. If not given a new Rectangle will be created.\r\n *\r\n * @return {(Phaser.Geom.Rectangle|object)} The Rectangle object containing the Circles bounds.\r\n */\r\nexport function GetBounds (circle: ICircle, out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    return out.set(\r\n        circle.left,\r\n        circle.top,\r\n        circle.diameter,\r\n        circle.diameter\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { FromPercent } from '../../math/FromPercent';\r\nimport { ICircle } from './ICircle';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point object containing the coordinates of a point on the circumference of the Circle\r\n * based on the given angle normalized to the range 0 to 1. I.e. a value of 0.5 will give the point\r\n * at 180 degrees around the circle.\r\n *\r\n * @function Phaser.Geom.Circle.GetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the circumference point on.\r\n * @param {number} position - A value between 0 and 1, where 0 equals 0 degrees, 0.5 equals 180 degrees and 1 equals 360 around the circle.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An object to store the return values in. If not given a Point object will be created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point, or point-like object, containing the coordinates of the point around the circle.\r\n */\r\nexport function GetPoint (circle: ICircle, position: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const angle = FromPercent(position, 0, MATH_CONST.PI2);\r\n\r\n    return CircumferencePoint(circle, angle, out);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Circumference } from './Circumference';\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { FromPercent } from '../../math/FromPercent';\r\nimport { ICircle } from './ICircle';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns an array of Point objects containing the coordinates of the points around the circumference of the Circle,\r\n * based on the given quantity or stepRate values.\r\n *\r\n * @function Phaser.Geom.Circle.GetPoints\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get the points from.\r\n * @param {number} step - Sets the quantity by getting the circumference of the circle and dividing it by the stepRate.\r\n * @param {integer} [quantity=0] - The amount of points to return. If a falsey value the quantity will be derived from the `stepRate` instead.\r\n * @param {array} [output] - An array to insert the points in to. If not provided a new array will be created.\r\n *\r\n * @return {Phaser.Geom.Point[]} An array of Point objects pertaining to the points around the circumference of the circle.\r\n */\r\nexport function GetPoints (circle: ICircle, step: number, quantity: number = 0, out: Vec2[] = []): Vec2[]\r\n{\r\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\r\n    if (!quantity)\r\n    {\r\n        quantity = Circumference(circle) / step;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        const angle = FromPercent(i / quantity, 0, MATH_CONST.PI2);\r\n\r\n        out.push(CircumferencePoint(circle, angle));\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\n\r\n/**\r\n * Offsets the Circle by the values given.\r\n *\r\n * @function Phaser.Geom.Circle.Offset\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Circle} O - [circle,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to be offset (translated.)\r\n * @param {number} x - The amount to horizontally offset the Circle by.\r\n * @param {number} y - The amount to vertically offset the Circle by.\r\n *\r\n * @return {Phaser.Geom.Circle} The Circle that was offset.\r\n */\r\nexport function Offset (circle: ICircle, x: number, y: number): ICircle\r\n{\r\n    circle.x += x;\r\n    circle.y += y;\r\n\r\n    return circle;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Offsets the Circle by the values given in the `x` and `y` properties of the Point object.\r\n *\r\n * @function Phaser.Geom.Circle.OffsetVec2\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Circle} O - [circle,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to be offset (translated.)\r\n * @param {(Phaser.Geom.Point|object)} point - The Point object containing the values to offset the Circle by.\r\n *\r\n * @return {Phaser.Geom.Circle} The Circle that was offset.\r\n */\r\nexport function OffsetPoint (circle: ICircle, point: Vec2): ICircle\r\n{\r\n    circle.x += point.x;\r\n    circle.y += point.y;\r\n\r\n    return circle;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from './ICircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a uniformly distributed random point from anywhere within the given Circle.\r\n *\r\n * @function Phaser.Geom.Circle.Random\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The Circle to get a random point from.\r\n * @param {(Phaser.Geom.Point|object)} [out] - A Point or point-like object to set the random `x` and `y` values in.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object with the random values set in the `x` and `y` properties.\r\n */\r\nexport function Random (circle: ICircle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const t = 2 * Math.PI * Math.random();\r\n    const u = Math.random() + Math.random();\r\n    const r = (u > 1) ? 2 - u : u;\r\n    const x = r * Math.cos(t);\r\n    const y = r * Math.sin(t);\r\n\r\n    return out.set(\r\n        circle.x + (x * circle.radius),\r\n        circle.y + (y * circle.radius)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Area } from './Area';\r\nimport { Circle } from './Circle';\r\nimport { Circumference } from './Circumference';\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { Clone } from './Clone';\r\nimport { Contains } from './Contains';\r\nimport { ContainsPoint } from './ContainsPoint';\r\nimport { ContainsRect } from './ContainsRect';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Equals } from './Equals';\r\nimport { GetBounds } from './GetBounds';\r\nimport { GetPoint } from './GetPoint';\r\nimport { GetPoints } from './GetPoints';\r\nimport { Offset } from './Offset';\r\nimport { OffsetPoint } from './OffsetPoint';\r\nimport { Random } from './Random';\r\n\r\nexport {\r\n    Area,\r\n    Circle,\r\n    Circumference,\r\n    CircumferencePoint,\r\n    Clone,\r\n    Contains,\r\n    ContainsPoint,\r\n    ContainsRect,\r\n    CopyFrom,\r\n    Equals,\r\n    GetBounds,\r\n    GetPoint,\r\n    GetPoints,\r\n    Offset,\r\n    OffsetPoint,\r\n    Random\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Calculates the area of the Ellipse.\r\n *\r\n * @function Phaser.Geom.Ellipse.Area\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the area of.\r\n *\r\n * @return {number} The area of the Ellipse.\r\n */\r\nexport function Area (ellipse: IEllipse): number\r\n{\r\n    if ((ellipse.width <= 0 || ellipse.height <= 0))\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    //  units squared\r\n    return (ellipse.getMajorRadius() * ellipse.getMinorRadius() * Math.PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Returns the circumference of the given Ellipse.\r\n *\r\n * @function Phaser.Geom.Ellipse.Circumference\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the circumference of.\r\n *\r\n * @return {number} The circumference of th Ellipse.\r\n */\r\nexport function Circumference (ellipse: IEllipse): number\r\n{\r\n    const rx = ellipse.width / 2;\r\n    const ry = ellipse.height / 2;\r\n    const h = Math.pow((rx - ry), 2) / Math.pow((rx + ry), 2);\r\n\r\n    return (Math.PI * (rx + ry)) * (1 + ((3 * h) / (10 + Math.sqrt(4 - (3 * h)))));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point object containing the coordinates of a point on the circumference of the Ellipse based on the given angle.\r\n *\r\n * @function Phaser.Geom.Ellipse.CircumferencePoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the circumference point on.\r\n * @param {number} angle - The angle from the center of the Ellipse to the circumference to return the point from. Given in radians.\r\n * @param {(Phaser.Geom.Point|object)} [out] - A Point, or point-like object, to store the results in. If not given a Point will be created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object where the `x` and `y` properties are the point on the circumference.\r\n */\r\nexport function CircumferencePoint (ellipse: IEllipse, angle: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const halfWidth = ellipse.width / 2;\r\n    const halfHeight = ellipse.height / 2;\r\n\r\n    return out.set(\r\n        ellipse.x + halfWidth * Math.cos(angle),\r\n        ellipse.y + halfHeight * Math.sin(angle)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Check to see if the Ellipse contains the given x / y coordinates.\r\n *\r\n * @function Phaser.Geom.Ellipse.Contains\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to check.\r\n * @param {number} x - The x coordinate to check within the ellipse.\r\n * @param {number} y - The y coordinate to check within the ellipse.\r\n *\r\n * @return {boolean} True if the coordinates are within the ellipse, otherwise false.\r\n */\r\nexport function Contains (ellipse: IEllipse, x: number, y: number): boolean\r\n{\r\n    if (ellipse.width <= 0 || ellipse.height <= 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    //  Normalize the coords to an ellipse with center 0,0 and a radius of 0.5\r\n    let normx = ((x - ellipse.x) / ellipse.width);\r\n    let normy = ((y - ellipse.y) / ellipse.height);\r\n\r\n    normx *= normx;\r\n    normy *= normy;\r\n\r\n    return (normx + normy < 0.25);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\n\r\n/**\r\n * @classdesc\r\n * An Ellipse object.\r\n *\r\n * This is a geometry object, containing numerical values and related methods to inspect and modify them.\r\n * It is not a Game Object, in that you cannot add it to the display list, and it has no texture.\r\n * To render an Ellipse you should look at the capabilities of the Graphics class.\r\n *\r\n * @class Ellipse\r\n * @memberof Phaser.Geom\r\n * @constructor\r\n * @since 3.0.0\r\n *\r\n * @param {number} [x=0] - The x position of the center of the ellipse.\r\n * @param {number} [y=0] - The y position of the center of the ellipse.\r\n * @param {number} [width=0] - The width of the ellipse.\r\n * @param {number} [height=0] - The height of the ellipse.\r\n */\r\nexport class Ellipse\r\n{\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n\r\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\r\n    {\r\n        this.set(x, y, width, height);\r\n    }\r\n\r\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0): this\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Check to see if the Ellipse contains the given x / y coordinates.\r\n     *\r\n     * @method Phaser.Geom.Ellipse#contains\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} x - The x coordinate to check within the ellipse.\r\n     * @param {number} y - The y coordinate to check within the ellipse.\r\n     *\r\n     * @return {boolean} True if the coordinates are within the ellipse, otherwise false.\r\n     */\r\n    contains (x: number, y: number): boolean\r\n    {\r\n        return Contains(this, x, y);\r\n    }\r\n\r\n    /**\r\n     * Returns the minor radius of the ellipse. Also known as the Semi Minor Axis.\r\n     *\r\n     * @method Phaser.Geom.Ellipse#getMinorRadius\r\n     * @since 3.0.0\r\n     *\r\n     * @return {number} The minor radius.\r\n     */\r\n    getMinorRadius (): number\r\n    {\r\n        return Math.min(this.width, this.height) / 2;\r\n    }\r\n\r\n    /**\r\n     * Returns the major radius of the ellipse. Also known as the Semi Major Axis.\r\n     *\r\n     * @method Phaser.Geom.Ellipse#getMajorRadius\r\n     * @since 3.0.0\r\n     *\r\n     * @return {number} The major radius.\r\n     */\r\n    getMajorRadius (): number\r\n    {\r\n        return Math.max(this.width, this.height) / 2;\r\n    }\r\n\r\n    get left (): number\r\n    {\r\n        return this.x - (this.width / 2);\r\n    }\r\n\r\n    set left (value: number)\r\n    {\r\n        this.x = value + (this.width / 2);\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return this.x + (this.width / 2);\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        this.x = value - (this.width / 2);\r\n    }\r\n\r\n    get top (): number\r\n    {\r\n        return this.y - (this.height / 2);\r\n    }\r\n\r\n    set top (value: number)\r\n    {\r\n        this.y = value + (this.height / 2);\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return this.y + (this.height / 2);\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        this.y = value - (this.height / 2);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Ellipse } from './Ellipse';\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Creates a new Ellipse instance based on the values contained in the given source.\r\n *\r\n * @function Phaser.Geom.Ellipse.Clone\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} source - The Ellipse to be cloned. Can be an instance of an Ellipse or a ellipse-like object, with x, y, width and height properties.\r\n *\r\n * @return {Phaser.Geom.Ellipse} A clone of the source Ellipse.\r\n */\r\nexport function Clone (source: IEllipse): Ellipse\r\n{\r\n    return new Ellipse(source.x, source.y, source.width, source.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { IEllipse } from './IEllipse';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Check to see if the Ellipse contains the given Point object.\r\n *\r\n * @function Phaser.Geom.Ellipse.ContainsPoint\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to check.\r\n * @param {(Phaser.Geom.Point|object)} point - The Point object to check if it's within the Circle or not.\r\n *\r\n * @return {boolean} True if the Point coordinates are within the circle, otherwise false.\r\n */\r\nexport function ContainsPoint (ellipse: IEllipse, point: Vec2): boolean\r\n{\r\n    return Contains(ellipse, point.x, point.y);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { IEllipse } from './IEllipse';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\n\r\n/**\r\n * Check to see if the Ellipse contains all four points of the given Rectangle object.\r\n *\r\n * @function Phaser.Geom.Ellipse.ContainsRect\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to check.\r\n * @param {(Phaser.Geom.Rectangle|object)} rect - The Rectangle object to check if it's within the Ellipse or not.\r\n *\r\n * @return {boolean} True if all of the Rectangle coordinates are within the ellipse, otherwise false.\r\n */\r\nexport function ContainsRect (ellipse: IEllipse, rect: IRectangle): boolean\r\n{\r\n    return (\r\n        Contains(ellipse, rect.x, rect.y) &&\r\n        Contains(ellipse, rect.right, rect.y) &&\r\n        Contains(ellipse, rect.x, rect.bottom) &&\r\n        Contains(ellipse, rect.right, rect.bottom)\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Copies the `x`, `y`, `width` and `height` properties from the `source` Ellipse\r\n * into the given `dest` Ellipse, then returns the `dest` Ellipse.\r\n *\r\n * @function Phaser.Geom.Ellipse.CopyFrom\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Ellipse} O - [dest,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} source - The source Ellipse to copy the values from.\r\n * @param {Phaser.Geom.Ellipse} dest - The destination Ellipse to copy the values to.\r\n *\r\n * @return {Phaser.Geom.Ellipse} The destination Ellipse.\r\n */\r\nexport function CopyFrom (source: IEllipse, dest: IEllipse): IEllipse\r\n{\r\n    return dest.set(source.x, source.y, source.width, source.height);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Compares the `x`, `y`, `width` and `height` properties of the two given Ellipses.\r\n * Returns `true` if they all match, otherwise returns `false`.\r\n *\r\n * @function Phaser.Geom.Ellipse.Equals\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The first Ellipse to compare.\r\n * @param {Phaser.Geom.Ellipse} toCompare - The second Ellipse to compare.\r\n *\r\n * @return {boolean} `true` if the two Ellipse equal each other, otherwise `false`.\r\n */\r\nexport function Equals (ellipse: IEllipse, toCompare: IEllipse): boolean\r\n{\r\n    return (\r\n        ellipse.x === toCompare.x &&\r\n        ellipse.y === toCompare.y &&\r\n        ellipse.width === toCompare.width &&\r\n        ellipse.height === toCompare.height\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\nimport { Rectangle } from '../rectangle/Rectangle';\r\n\r\n/**\r\n * Returns the bounds of the Ellipse object.\r\n *\r\n * @function Phaser.Geom.Ellipse.GetBounds\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the bounds from.\r\n * @param {(Phaser.Geom.Rectangle|object)} [out] - A Rectangle, or rectangle-like object, to store the ellipse bounds in. If not given a new Rectangle will be created.\r\n *\r\n * @return {(Phaser.Geom.Rectangle|object)} The Rectangle object containing the Ellipse bounds.\r\n */\r\nexport function GetBounds (ellipse: IEllipse, out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    return out.set(\r\n        ellipse.left,\r\n        ellipse.top,\r\n        ellipse.width,\r\n        ellipse.height\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { FromPercent } from '../../math/FromPercent';\r\nimport { IEllipse } from './IEllipse';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point object containing the coordinates of a point on the circumference of the Ellipse\r\n * based on the given angle normalized to the range 0 to 1. I.e. a value of 0.5 will give the point\r\n * at 180 degrees around the circle.\r\n *\r\n * @function Phaser.Geom.Ellipse.GetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the circumference point on.\r\n * @param {number} position - A value between 0 and 1, where 0 equals 0 degrees, 0.5 equals 180 degrees and 1 equals 360 around the ellipse.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An object to store the return values in. If not given a Point object will be created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point, or point-like object, containing the coordinates of the point around the ellipse.\r\n */\r\nexport function GetPoint (ellipse: IEllipse, position: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const angle = FromPercent(position, 0, MATH_CONST.PI2);\r\n\r\n    return CircumferencePoint(ellipse, angle, out);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Circumference } from './Circumference';\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { FromPercent } from '../../math/FromPercent';\r\nimport { IEllipse } from './IEllipse';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns an array of Point objects containing the coordinates of the points around the circumference of the Ellipse,\r\n * based on the given quantity or stepRate values.\r\n *\r\n * @function Phaser.Geom.Ellipse.GetPoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point[]} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get the points from.\r\n * @param {integer} quantity - The amount of points to return. If a falsey value the quantity will be derived from the `stepRate` instead.\r\n * @param {number} [stepRate] - Sets the quantity by getting the circumference of the ellipse and dividing it by the stepRate.\r\n * @param {(array|Phaser.Geom.Point[])} [out] - An array to insert the points in to. If not provided a new array will be created.\r\n *\r\n * @return {(array|Phaser.Geom.Point[])} An array of Point objects pertaining to the points around the circumference of the ellipse.\r\n */\r\nexport function GetPoints (ellipse: IEllipse, step: number, quantity: number = 0,  out: Vec2[] = []): Vec2[]\r\n{\r\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\r\n    if (!quantity)\r\n    {\r\n        quantity = Circumference(ellipse) / step;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        const angle = FromPercent(i / quantity, 0, MATH_CONST.PI2);\r\n\r\n        out.push(CircumferencePoint(ellipse, angle));\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\n\r\n/**\r\n * Offsets the Ellipse by the values given.\r\n *\r\n * @function Phaser.Geom.Ellipse.Offset\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Ellipse} O - [ellipse,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to be offset (translated.)\r\n * @param {number} x - The amount to horizontally offset the Ellipse by.\r\n * @param {number} y - The amount to vertically offset the Ellipse by.\r\n *\r\n * @return {Phaser.Geom.Ellipse} The Ellipse that was offset.\r\n */\r\nexport function Offset (ellipse: IEllipse, x: number, y: number): IEllipse\r\n{\r\n    ellipse.x += x;\r\n    ellipse.y += y;\r\n\r\n    return ellipse;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Offsets the Ellipse by the values given in the `x` and `y` properties of the Point object.\r\n *\r\n * @function Phaser.Geom.Ellipse.OffsetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Ellipse} O - [ellipse,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to be offset (translated.)\r\n * @param {(Phaser.Geom.Point|object)} point - The Point object containing the values to offset the Ellipse by.\r\n *\r\n * @return {Phaser.Geom.Ellipse} The Ellipse that was offset.\r\n */\r\nexport function OffsetPoint (ellipse: IEllipse, point: Vec2): IEllipse\r\n{\r\n    ellipse.x += point.x;\r\n    ellipse.y += point.y;\r\n\r\n    return ellipse;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IEllipse } from './IEllipse';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a uniformly distributed random point from anywhere within the given Ellipse.\r\n *\r\n * @function Phaser.Geom.Ellipse.Random\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Ellipse} ellipse - The Ellipse to get a random point from.\r\n * @param {(Phaser.Geom.Point|object)} [out] - A Point or point-like object to set the random `x` and `y` values in.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object with the random values set in the `x` and `y` properties.\r\n */\r\nexport function Random (ellipse: IEllipse, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const p = Math.random() * Math.PI * 2;\r\n    const s = Math.sqrt(Math.random());\r\n\r\n    out.x = ellipse.x + ((s * Math.cos(p)) * ellipse.width / 2);\r\n    out.y = ellipse.y + ((s * Math.sin(p)) * ellipse.height / 2);\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Area } from './Area';\r\nimport { Circumference } from './Circumference';\r\nimport { CircumferencePoint } from './CircumferencePoint';\r\nimport { Clone } from './Clone';\r\nimport { Contains } from './Contains';\r\nimport { ContainsPoint } from './ContainsPoint';\r\nimport { ContainsRect } from './ContainsRect';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Ellipse } from './Ellipse';\r\nimport { Equals } from './Equals';\r\nimport { GetBounds } from './GetBounds';\r\nimport { GetPoint } from './GetPoint';\r\nimport { GetPoints } from './GetPoints';\r\nimport { Offset } from './Offset';\r\nimport { OffsetPoint } from './OffsetPoint';\r\nimport { Random } from './Random';\r\n\r\nexport {\r\n    Area,\r\n    Circumference,\r\n    CircumferencePoint,\r\n    Clone,\r\n    Contains,\r\n    ContainsPoint,\r\n    ContainsRect,\r\n    CopyFrom,\r\n    Ellipse,\r\n    Equals,\r\n    GetBounds,\r\n    GetPoint,\r\n    GetPoints,\r\n    Offset,\r\n    OffsetPoint,\r\n    Random\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Distance } from '../../math/vec2/Distance';\r\nimport { ICircle } from '../circle/ICircle';\r\n\r\n/**\r\n * Checks if two Circles intersect.\r\n *\r\n * @function Phaser.Geom.Intersects.CircleToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circleA - The first Circle to check for intersection.\r\n * @param {Phaser.Geom.Circle} circleB - The second Circle to check for intersection.\r\n *\r\n * @return {boolean} `true` if the two Circles intersect, otherwise `false`.\r\n */\r\nexport function CircleToCircle (circleA: ICircle, circleB: ICircle): boolean\r\n{\r\n    return (Distance(circleA, circleB) <= (circleA.radius + circleB.radius));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\n\r\n/**\r\n * Checks for intersection between a circle and a rectangle.\r\n *\r\n * @function Phaser.Geom.Intersects.CircleToRectangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The circle to be checked.\r\n * @param {Phaser.Geom.Rectangle} rect - The rectangle to be checked.\r\n *\r\n * @return {boolean} `true` if the two objects intersect, otherwise `false`.\r\n */\r\nexport function CircleToRectangle (circle: ICircle, rect: IRectangle): boolean\r\n{\r\n    const halfWidth = rect.width / 2;\r\n    const halfHeight = rect.height / 2;\r\n\r\n    const cx = Math.abs(circle.x - rect.x - halfWidth);\r\n    const cy = Math.abs(circle.y - rect.y - halfHeight);\r\n    const xDist = halfWidth + circle.radius;\r\n    const yDist = halfHeight + circle.radius;\r\n\r\n    if (cx > xDist || cy > yDist)\r\n    {\r\n        return false;\r\n    }\r\n    else if (cx <= halfWidth || cy <= halfHeight)\r\n    {\r\n        return true;\r\n    }\r\n    else\r\n    {\r\n        const xCornerDist = cx - halfWidth;\r\n        const yCornerDist = cy - halfHeight;\r\n        const xCornerDistSq = xCornerDist * xCornerDist;\r\n        const yCornerDistSq = yCornerDist * yCornerDist;\r\n        const maxCornerDistSq = circle.radius * circle.radius;\r\n\r\n        return (xCornerDistSq + yCornerDistSq <= maxCornerDistSq);\r\n    }\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CircleToCircle } from './CircleToCircle';\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if two Circles intersect and returns the intersection points as a Point object array.\r\n *\r\n * @function Phaser.Geom.Intersects.GetCircleToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circleA - The first Circle to check for intersection.\r\n * @param {Phaser.Geom.Circle} circleB - The second Circle to check for intersection.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetCircleToCircle (circleA: ICircle, circleB: ICircle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (CircleToCircle(circleA, circleB))\r\n    {\r\n        const x0 = circleA.x;\r\n        const y0 = circleA.y;\r\n        const r0 = circleA.radius;\r\n\r\n        const x1 = circleB.x;\r\n        const y1 = circleB.y;\r\n        const r1 = circleB.radius;\r\n\r\n        let coefficientA: number;\r\n        let coefficientB: number;\r\n        let coefficientC: number;\r\n        let lambda: number;\r\n        let x: number;\r\n\r\n        if (y0 === y1)\r\n        {\r\n            x = ((r1 * r1) - (r0 * r0) - (x1 * x1) + (x0 * x0)) / (2 * (x0 - x1));\r\n\r\n            coefficientA = 1;\r\n            coefficientB = -2 * y1;\r\n            coefficientC = (x1 * x1) + (x * x) - (2 * x1 * x) + (y1 * y1) - (r1 * r1);\r\n\r\n            lambda = (coefficientB * coefficientB) - (4 * coefficientA * coefficientC);\r\n\r\n            if (lambda === 0)\r\n            {\r\n                out.push(new Vec2(x, (-coefficientB / (2 * coefficientA))));\r\n            }\r\n            else if (lambda > 0)\r\n            {\r\n                out.push(new Vec2(x, (-coefficientB + Math.sqrt(lambda)) / (2 * coefficientA)));\r\n                out.push(new Vec2(x, (-coefficientB - Math.sqrt(lambda)) / (2 * coefficientA)));\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const v1 = (x0 - x1) / (y0 - y1);\r\n            const n = (r1 * r1 - r0 * r0 - x1 * x1 + x0 * x0 - y1 * y1 + y0 * y0) / (2 * (y0 - y1));\r\n\r\n            coefficientA = (v1 * v1) + 1;\r\n            coefficientB = (2 * y0 * v1) - (2 * n * v1) - (2 * x0);\r\n            coefficientC = (x0 * x0) + (y0 * y0) + (n * n) - (r0 * r0) - (2 * y0 * n);\r\n\r\n            lambda = (coefficientB * coefficientB) - (4 * coefficientA * coefficientC);\r\n\r\n            if (lambda === 0)\r\n            {\r\n                x = (-coefficientB / (2 * coefficientA));\r\n                out.push(new Vec2(x, (n - (x * v1))));\r\n            }\r\n            else if (lambda > 0)\r\n            {\r\n                x = (-coefficientB + Math.sqrt(lambda)) / (2 * coefficientA);\r\n                out.push(new Vec2(x, (n - (x * v1))));\r\n\r\n                x = (-coefficientB - Math.sqrt(lambda)) / (2 * coefficientA);\r\n                out.push(new Vec2(x, (n - (x * v1))));\r\n            }\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from '../circle/Contains';\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { ILine } from '../line/ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\nconst tmp: Vec2 = new Vec2();\r\n\r\n/**\r\n * Checks for intersection between the line segment and circle.\r\n *\r\n * Based on code by [Matt DesLauriers](https://github.com/mattdesl/line-circle-collision/blob/master/LICENSE.md).\r\n *\r\n * @function Phaser.Geom.Intersects.LineToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line segment to check.\r\n * @param {Phaser.Geom.Circle} circle - The circle to check against the line.\r\n * @param {(Phaser.Geom.Point|any)} [nearest] - An optional Point-like object. If given the closest point on the Line where the circle intersects will be stored in this object.\r\n *\r\n * @return {boolean} `true` if the two objects intersect, otherwise `false`.\r\n */\r\nexport function LineToCircle (line: ILine, circle: ICircle, nearest?: Vec2): boolean\r\n{\r\n    if (!nearest)\r\n    {\r\n        nearest = tmp;\r\n    }\r\n\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    if (Contains(circle, x1, y1))\r\n    {\r\n        nearest.set(x1, y1);\r\n\r\n        return true;\r\n    }\r\n\r\n    if (Contains(circle, x2, y2))\r\n    {\r\n        nearest.set(x2, y2);\r\n\r\n        return true;\r\n    }\r\n\r\n    const dx = x2 - x1;\r\n    const dy = y2 - y1;\r\n\r\n    const lcx = circle.x - x1;\r\n    const lcy = circle.y - y1;\r\n\r\n    //  project lc onto d, resulting in vector p\r\n    const dLen2 = (dx * dx) + (dy * dy);\r\n    let px = dx;\r\n    let py = dy;\r\n\r\n    if (dLen2 > 0)\r\n    {\r\n        const dp = ((lcx * dx) + (lcy * dy)) / dLen2;\r\n\r\n        px *= dp;\r\n        py *= dp;\r\n    }\r\n\r\n    nearest.set(x1 + px, y1 + py);\r\n\r\n    //  len2 of p\r\n    const pLen2 = (px * px) + (py * py);\r\n\r\n    return (\r\n        pLen2 <= dLen2 &&\r\n        ((px * dx) + (py * dy)) >= 0 &&\r\n        Contains(circle, nearest.x, nearest.y)\r\n    );\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { ILine } from '../line/ILine';\r\nimport { LineToCircle } from './LineToCircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks for intersection between the line segment and circle,\r\n * and returns the intersection points as a Point object array.\r\n *\r\n * @function Phaser.Geom.Intersects.GetLineToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line segment to check.\r\n * @param {Phaser.Geom.Circle} circle - The circle to check against the line.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetLineToCircle (line: ILine, circle: ICircle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (LineToCircle(line, circle))\r\n    {\r\n        const { x1, y1, x2, y2 } = line;\r\n\r\n        const cr = circle.radius;\r\n\r\n        const lDirX = x2 - x1;\r\n        const lDirY = y2 - y1;\r\n        const oDirX = x1 - circle.x;\r\n        const oDirY = y1 - circle.y;\r\n\r\n        const coefficientA = lDirX * lDirX + lDirY * lDirY;\r\n        const coefficientB = 2 * (lDirX * oDirX + lDirY * oDirY);\r\n        const coefficientC = oDirX * oDirX + oDirY * oDirY - cr * cr;\r\n\r\n        const lambda = (coefficientB * coefficientB) - (4 * coefficientA * coefficientC);\r\n\r\n        let x: number;\r\n        let y: number;\r\n\r\n        if (lambda === 0)\r\n        {\r\n            const root = -coefficientB / (2 * coefficientA);\r\n\r\n            x = x1 + root * lDirX;\r\n            y = y1 + root * lDirY;\r\n\r\n            if (root >= 0 && root <= 1)\r\n            {\r\n                out.push(new Vec2(x, y));\r\n            }\r\n        }\r\n        else if (lambda > 0)\r\n        {\r\n            const root1 = (-coefficientB - Math.sqrt(lambda)) / (2 * coefficientA);\r\n\r\n            x = x1 + root1 * lDirX;\r\n            y = y1 + root1 * lDirY;\r\n\r\n            if (root1 >= 0 && root1 <= 1)\r\n            {\r\n                out.push(new Vec2(x, y));\r\n            }\r\n\r\n            const root2 = (-coefficientB + Math.sqrt(lambda)) / (2 * coefficientA);\r\n\r\n            x = x1 + root2 * lDirX;\r\n            y = y1 + root2 * lDirY;\r\n\r\n            if (root2 >= 0 && root2 <= 1)\r\n            {\r\n                out.push(new Vec2(x, y));\r\n            }\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { CircleToRectangle } from './CircleToRectangle';\r\nimport { GetEdges } from '../rectangle/GetEdges';\r\nimport { GetLineToCircle } from './GetLineToCircle';\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks for intersection between a circle and a rectangle,\r\n * and returns the intersection points as a Point object array.\r\n *\r\n * @function Phaser.Geom.Intersects.GetCircleToRectangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Circle} circle - The circle to be checked.\r\n * @param {Phaser.Geom.Rectangle} rect - The rectangle to be checked.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetCircleToRectangle (circle: ICircle, rect: IRectangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (CircleToRectangle(circle, rect))\r\n    {\r\n        const [ line1, line2, line3, line4 ] = GetEdges(rect);\r\n\r\n        GetLineToCircle(line1, circle, out);\r\n        GetLineToCircle(line2, circle, out);\r\n        GetLineToCircle(line3, circle, out);\r\n        GetLineToCircle(line4, circle, out);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from '../line/ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if two Lines intersect.\r\n * If the Lines are identical, they will be treated as parallel and thus non-intersecting.\r\n * \r\n * This is based off an explanation and expanded math presented by Paul Bourke:\r\n * See http://local.wasp.uwa.edu.au/~pbourke/geometry/lineline2d/\r\n *\r\n * @function Phaser.Geom.Intersects.LineToLine\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line1 - The first Line to check.\r\n * @param {Phaser.Geom.Line} line2 - The second Line to check.\r\n * @param {Phaser.Geom.Point} [out] - A Point in which to optionally store the point of intersection.\r\n *\r\n * @return {boolean} `true` if the two Lines intersect, and the `out` object will be populated, if given. Otherwise, `false`.\r\n */\r\nexport function LineToLine (line1: ILine, line2: ILine, out?: Vec2): boolean\r\n{\r\n    const { x1, y1, x2, y2 } = line1;\r\n    const { x1: x3, y1: y3, x2: x4, y2: y4 } = line2;\r\n\r\n    const numA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\r\n    const numB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\r\n    const deNom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\r\n\r\n    //  Make sure there is not a division by zero - this also indicates that the lines are parallel.\r\n    //  If numA and numB were both equal to zero the lines would be on top of each other (coincidental).\r\n    //  This check is not done because it is not necessary for this implementation (the parallel check accounts for this).\r\n\r\n    if (deNom === 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    //  Calculate the intermediate fractional point that the lines potentially intersect.\r\n\r\n    const uA = numA / deNom;\r\n    const uB = numB / deNom;\r\n\r\n    //  The fractional point will be between 0 and 1 inclusive if the lines intersect.\r\n    //  If the fractional calculation is larger than 1 or smaller than 0 the lines would need to be longer to intersect.\r\n\r\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1)\r\n    {\r\n        if (out)\r\n        {\r\n            out.set(\r\n                x1 + (uA * (x2 - x1)),\r\n                y1 + (uA * (y2 - y1))\r\n            );\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from '../line/ILine';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\n\r\n/**\r\n * Checks for intersection between the Line and a Rectangle shape, or a rectangle-like\r\n * object, with public `x`, `y`, `right` and `bottom` properties, such as a Sprite or Body.\r\n *\r\n * An intersection is considered valid if:\r\n *\r\n * The line starts within, or ends within, the Rectangle.\r\n * The line segment intersects one of the 4 rectangle edges.\r\n *\r\n * The for the purposes of this function rectangles are considered 'solid'.\r\n *\r\n * @function Phaser.Geom.Intersects.LineToRectangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The Line to check for intersection.\r\n * @param {(Phaser.Geom.Rectangle|object)} rect - The Rectangle to check for intersection.\r\n *\r\n * @return {boolean} `true` if the Line and the Rectangle intersect, `false` otherwise.\r\n */\r\nexport function LineToRectangle (line: ILine, rect: IRectangle): boolean\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n    const { x, y, right, bottom } = rect;\r\n\r\n    let t = 0;\r\n\r\n    //  If the start or end of the line is inside the rect then we assume\r\n    //  collision, as rects are solid for our use-case.\r\n\r\n    if ((x1 >= x && x1 <= right && y1 >= y && y1 <= bottom) ||\r\n        (x2 >= x && x2 <= right && y2 >= y && y2 <= bottom))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    if (x1 < x && x2 >= x)\r\n    {\r\n        //  Left edge\r\n        t = y1 + (y2 - y1) * (x - x1) / (x2 - x1);\r\n\r\n        if (t > y && t <= bottom)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n    else if (x1 > right && x2 <= right)\r\n    {\r\n        //  Right edge\r\n        t = y1 + (y2 - y1) * (right - x1) / (x2 - x1);\r\n\r\n        if (t >= y && t <= bottom)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    if (y1 < y && y2 >= y)\r\n    {\r\n        //  Top edge\r\n        t = x1 + (x2 - x1) * (y - y1) / (y2 - y1);\r\n\r\n        if (t >= x && t <= right)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n    else if (y1 > bottom && y2 <= bottom)\r\n    {\r\n        //  Bottom edge\r\n        t = x1 + (x2 - x1) * (bottom - y1) / (y2 - y1);\r\n\r\n        if (t >= x && t <= right)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../rectangle/GetEdges';\r\nimport { ILine } from '../line/ILine';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { LineToLine } from './LineToLine';\r\nimport { LineToRectangle } from './LineToRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks for intersection between the Line and a Rectangle shape,\r\n * and returns the intersection points as a Point object array.\r\n *\r\n * @function Phaser.Geom.Intersects.GetLineToRectangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The Line to check for intersection.\r\n * @param {(Phaser.Geom.Rectangle|object)} rect - The Rectangle to check for intersection.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetLineToRectangle (line: ILine, rect: IRectangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (LineToRectangle(line, rect))\r\n    {\r\n        const [ lineA, lineB, lineC, lineD ] = GetEdges(rect);\r\n\r\n        const points = [ new Vec2(), new Vec2(), new Vec2(), new Vec2() ];\r\n\r\n        const results = [\r\n            LineToLine(lineA, line, points[0]),\r\n            LineToLine(lineB, line, points[1]),\r\n            LineToLine(lineC, line, points[2]),\r\n            LineToLine(lineD, line, points[3])\r\n        ];\r\n\r\n        for (let i = 0; i < results.length; i++)\r\n        {\r\n            if (results[i])\r\n            {\r\n                out.push(points[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { Rectangle } from '../rectangle/Rectangle';\r\nimport { RectangleToRectangle } from './RectangleToRectangle';\r\n\r\n/**\r\n * Checks if two Rectangle shapes intersect and returns the area of this intersection as Rectangle object.\r\n *\r\n * If optional `output` parameter is omitted, new Rectangle object is created and returned. If there is intersection, it will contain intersection area. If there is no intersection, it wil be empty Rectangle (all values set to zero).\r\n *\r\n * If Rectangle object is passed as `output` and there is intersection, then intersection area data will be loaded into it and it will be returned. If there is no intersection, it will be returned without any change.\r\n *\r\n * @function Phaser.Geom.Intersects.GetRectangleIntersection\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Rectangle} O - [output,$return]\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first Rectangle object.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second Rectangle object.\r\n * @param {Phaser.Geom.Rectangle} [output] - Optional Rectangle object. If given, the intersection data will be loaded into it (in case of no intersection, it will be left unchanged). Otherwise, new Rectangle object will be created and returned with either intersection data or empty (all values set to zero), if there is no intersection.\r\n *\r\n * @return {Phaser.Geom.Rectangle} A rectangle object with intersection data.\r\n */\r\nexport function GetRectangleIntersection (rectA: IRectangle, rectB: IRectangle, out: Rectangle = new Rectangle()): Rectangle\r\n{\r\n    if (RectangleToRectangle(rectA, rectB))\r\n    {\r\n        const x = Math.max(rectA.x, rectB.x);\r\n        const y = Math.max(rectA.y, rectB.y);\r\n\r\n        return out.set(\r\n            x,\r\n            y,\r\n            Math.min(rectA.right, rectB.right) - x,\r\n            Math.min(rectA.bottom, rectB.bottom) - y\r\n        );\r\n    }\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../rectangle/GetEdges';\r\nimport { GetLineToRectangle } from './GetLineToRectangle';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { RectangleToRectangle } from './RectangleToRectangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if two Rectangles intersect and returns the intersection points as a Point object array.\r\n *\r\n * A Rectangle intersects another Rectangle if any part of its bounds is within the other Rectangle's bounds. As such, the two Rectangles are considered \"solid\". A Rectangle with no width or no height will never intersect another Rectangle.\r\n *\r\n * @function Phaser.Geom.Intersects.GetRectangleToRectangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rectA - The first Rectangle to check for intersection.\r\n * @param {Phaser.Geom.Rectangle} rectB - The second Rectangle to check for intersection.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetRectangleToRectangle (rectA: IRectangle, rectB: IRectangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (RectangleToRectangle(rectA, rectB))\r\n    {\r\n        const [ lineA, lineB, lineC, lineD ] = GetEdges(rectA);\r\n\r\n        GetLineToRectangle(lineA, rectB, out);\r\n        GetLineToRectangle(lineB, rectB, out);\r\n        GetLineToRectangle(lineC, rectB, out);\r\n        GetLineToRectangle(lineD, rectB, out);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "import { ITriangle } from './ITriangle';\r\nimport { Line } from '../line/Line';\r\n\r\nexport function GetEdges (triangle: ITriangle): Line[]\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    const edge1 = new Line(x1, y1, x2, y2);\r\n    const edge2 = new Line(x2, y2, x3, y3);\r\n    const edge3 = new Line(x3, y3, x1, y1);\r\n\r\n    return [ edge1, edge2, edge3 ];\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Checks if a point (as a pair of coordinates) is inside a Triangle's bounds.\r\n * \r\n * http://www.blackpawn.com/texts/pointinpoly/\r\n *\r\n * @function Phaser.Geom.Triangle.Contains\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to check.\r\n * @param {number} x - The X coordinate of the point to check.\r\n * @param {number} y - The Y coordinate of the point to check.\r\n *\r\n * @return {boolean} `true` if the point is inside the Triangle, otherwise `false`.\r\n */\r\nexport function Contains (triangle: ITriangle, x: number, y: number): boolean\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    const v0x = x3 - x1;\r\n    const v0y = y3 - y1;\r\n\r\n    const v1x = x2 - x1;\r\n    const v1y = y2 - y1;\r\n\r\n    const v2x = x - x1;\r\n    const v2y = y - y1;\r\n\r\n    const dot00 = (v0x * v0x) + (v0y * v0y);\r\n    const dot01 = (v0x * v1x) + (v0y * v1y);\r\n    const dot02 = (v0x * v2x) + (v0y * v2y);\r\n    const dot11 = (v1x * v1x) + (v1y * v1y);\r\n    const dot12 = (v1x * v2x) + (v1y * v2y);\r\n\r\n    // Compute barycentric coordinates\r\n    const b = ((dot00 * dot11) - (dot01 * dot01));\r\n    const inv = (b === 0) ? 0 : (1 / b);\r\n    const u = ((dot11 * dot02) - (dot01 * dot12)) * inv;\r\n    const v = ((dot00 * dot12) - (dot01 * dot02)) * inv;\r\n\r\n    return (u >= 0 && v >= 0 && (u + v < 1));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Filters an array of point-like objects to only those contained within a triangle.\r\n * If `returnFirst` is true, will return an array containing only the first point in the provided array that is within the triangle (or an empty array if there are no such points).\r\n *\r\n * http://www.blackpawn.com/texts/pointinpoly/\r\n *\r\n * points is an array of Point-like objects with public x/y properties\r\n * returns an array containing all points that are within the triangle, or an empty array if none\r\n * if 'returnFirst' is true it will return after the first point within the triangle is found\r\n *\r\n * @function Phaser.Geom.Triangle.ContainsArray\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The triangle that the points are being checked in.\r\n * @param {Phaser.Geom.Point[]} points - An array of point-like objects (objects that have an `x` and `y` property)\r\n * @param {boolean} [returnFirst=false] - If `true`, return an array containing only the first point found that is within the triangle.\r\n * @param {array} [out] - If provided, the points that are within the triangle will be appended to this array instead of being added to a new array. If `returnFirst` is true, only the first point found within the triangle will be appended. This array will also be returned by this function.\r\n *\r\n * @return {Phaser.Geom.Point[]} An array containing all the points from `points` that are within the triangle, if an array was provided as `out`, points will be appended to that array and it will also be returned here.\r\n */\r\nexport function ContainsArray (triangle: ITriangle, points: Vec2[], returnFirst: boolean = false, out: Vec2[] = []): Vec2[]\r\n{\r\n    let skip = false;\r\n\r\n    points.forEach(point =>\r\n    {\r\n        if (skip)\r\n        {\r\n            return;\r\n        }\r\n\r\n        const { x, y } = point;\r\n\r\n        if (Contains(triangle, x, y))\r\n        {\r\n            out.push(new Vec2(x, y));\r\n\r\n            if (returnFirst)\r\n            {\r\n                skip = true;\r\n            }\r\n        }\r\n    });\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from '../rectangle/Contains';\r\nimport { ContainsArray } from '../triangle/ContainsArray';\r\nimport { Decompose } from '../rectangle/Decompose';\r\nimport { GetEdges as GetRectangleEdges } from '../rectangle/GetEdges';\r\nimport { GetEdges as GetTriangleEdges } from '../triangle/GetEdges';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { LineToLine } from './LineToLine';\r\n\r\n/**\r\n * Checks for intersection between Rectangle shape and Triangle shape.\r\n *\r\n * @function Phaser.Geom.Intersects.RectangleToTriangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - Rectangle object to test.\r\n * @param {Phaser.Geom.Triangle} triangle - Triangle object to test.\r\n *\r\n * @return {boolean} A value of `true` if objects intersect; otherwise `false`.\r\n */\r\nexport function RectangleToTriangle (rect: IRectangle, triangle: ITriangle): boolean\r\n{\r\n    //  First the cheapest ones:\r\n\r\n    if (\r\n        triangle.left > rect.right ||\r\n        triangle.right < rect.x ||\r\n        triangle.top > rect.bottom ||\r\n        triangle.bottom < rect.y)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    const [ triA, triB, triC ] = GetTriangleEdges(triangle);\r\n\r\n    //  Are any of the triangle points within the rectangle?\r\n\r\n    if (Contains(rect, triA.x1, triA.y1) || Contains(rect, triA.x2, triA.y2))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    if (Contains(rect, triB.x1, triB.y1) || Contains(rect, triB.x2, triB.y2))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    if (Contains(rect, triC.x1, triC.y1) || Contains(rect, triC.x2, triC.y2))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    //  Cheap tests over, now to see if any of the lines intersect ...\r\n\r\n    const [ rectA, rectB, rectC, rectD ] = GetRectangleEdges(rect);\r\n\r\n    if (LineToLine(triA, rectA) || LineToLine(triA, rectB) || LineToLine(triA, rectC) || LineToLine(triA, rectD))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    if (LineToLine(triB, rectA) || LineToLine(triB, rectB) || LineToLine(triB, rectC) || LineToLine(triB, rectD))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    if (LineToLine(triC, rectA) || LineToLine(triC, rectB) || LineToLine(triC, rectC) || LineToLine(triC, rectD))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    //  None of the lines intersect, so are any rectangle points within the triangle?\r\n\r\n    const within = ContainsArray(triangle, Decompose(rect), true);\r\n\r\n    return (within.length > 0);\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { GetLineToRectangle } from './GetLineToRectangle';\r\nimport { IRectangle } from '../rectangle/IRectangle';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { RectangleToTriangle } from './RectangleToTriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks for intersection between Rectangle shape and Triangle shape,\r\n * and returns the intersection points as a Point object array.\r\n *\r\n * @function Phaser.Geom.Intersects.GetRectangleToTriangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Rectangle} rect - Rectangle object to test.\r\n * @param {Phaser.Geom.Triangle} triangle - Triangle object to test.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetRectangleToTriangle (rect: IRectangle, triangle: ITriangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (RectangleToTriangle(rect, triangle))\r\n    {\r\n        const [ lineA, lineB, lineC ] = GetEdges(triangle);\r\n\r\n        GetLineToRectangle(lineA, rect, out);\r\n        GetLineToRectangle(lineB, rect, out);\r\n        GetLineToRectangle(lineC, rect, out);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from '../triangle/Contains';\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { LineToCircle } from './LineToCircle';\r\n\r\n/**\r\n * Checks if a Triangle and a Circle intersect.\r\n *\r\n * A Circle intersects a Triangle if its center is located within it or if any of the Triangle's sides intersect the Circle. As such, the Triangle and the Circle are considered \"solid\" for the intersection.\r\n *\r\n * @function Phaser.Geom.Intersects.TriangleToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to check for intersection.\r\n * @param {Phaser.Geom.Circle} circle - The Circle to check for intersection.\r\n *\r\n * @return {boolean} `true` if the Triangle and the `Circle` intersect, otherwise `false`.\r\n */\r\nexport function TriangleToCircle (triangle: ITriangle, circle: ICircle): boolean\r\n{\r\n    //  First the cheapest ones:\r\n\r\n    if (\r\n        triangle.left > circle.right ||\r\n        triangle.right < circle.left ||\r\n        triangle.top > circle.bottom ||\r\n        triangle.bottom < circle.top)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    if (Contains(triangle, circle.x, circle.y))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    const [ line1, line2, line3 ] = GetEdges(triangle);\r\n\r\n    return (\r\n        LineToCircle(line1, circle) ||\r\n        LineToCircle(line2, circle) ||\r\n        LineToCircle(line3, circle)\r\n    );\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { GetLineToCircle } from './GetLineToCircle';\r\nimport { ICircle } from '../circle/ICircle';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { TriangleToCircle } from './TriangleToCircle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if a Triangle and a Circle intersect, and returns the intersection points as a Point object array.\r\n *\r\n * A Circle intersects a Triangle if its center is located within it or if any of the Triangle's sides intersect the Circle. As such, the Triangle and the Circle are considered \"solid\" for the intersection.\r\n *\r\n * @function Phaser.Geom.Intersects.GetTriangleToCircle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to check for intersection.\r\n * @param {Phaser.Geom.Circle} circle - The Circle to check for intersection.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetTriangleToCircle (triangle: ITriangle, circle: ICircle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (TriangleToCircle(triangle, circle))\r\n    {\r\n        const [ lineA, lineB, lineC ] = GetEdges(triangle);\r\n\r\n        GetLineToCircle(lineA, circle, out);\r\n        GetLineToCircle(lineB, circle, out);\r\n        GetLineToCircle(lineC, circle, out);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from '../triangle/Contains';\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { ILine } from '../line/ILine';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { LineToLine } from './LineToLine';\r\n\r\n/**\r\n * Checks if a Triangle and a Line intersect.\r\n *\r\n * The Line intersects the Triangle if it starts inside of it, ends inside of it, or crosses any of the Triangle's sides. Thus, the Triangle is considered \"solid\".\r\n *\r\n * @function Phaser.Geom.Intersects.TriangleToLine\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to check with.\r\n * @param {Phaser.Geom.Line} line - The Line to check with.\r\n *\r\n * @return {boolean} `true` if the Triangle and the Line intersect, otherwise `false`.\r\n */\r\nexport function TriangleToLine (triangle: ITriangle, line: ILine): boolean\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    //  If the Triangle contains either the start or end point of the line, it intersects\r\n    if (Contains(triangle, x1, y1) || Contains(triangle, x2, y2))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    const [ line1, line2, line3 ] = GetEdges(triangle);\r\n\r\n    //  Now check the line against each line of the Triangle\r\n    return (\r\n        LineToLine(line1, line) ||\r\n        LineToLine(line2, line) ||\r\n        LineToLine(line3, line)\r\n    );\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { ILine } from '../line/ILine';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { LineToLine } from './LineToLine';\r\nimport { TriangleToLine } from './TriangleToLine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if a Triangle and a Line intersect, and returns the intersection points as a Point object array.\r\n *\r\n * The Line intersects the Triangle if it starts inside of it, ends inside of it, or crosses any of the Triangle's sides. Thus, the Triangle is considered \"solid\".\r\n *\r\n * @function Phaser.Geom.Intersects.GetTriangleToLine\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to check with.\r\n * @param {Phaser.Geom.Line} line - The Line to check with.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetTriangleToLine (triangle: ITriangle, line: ILine, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (TriangleToLine(triangle, line))\r\n    {\r\n        const [ lineA, lineB, lineC ] = GetEdges(triangle);\r\n\r\n        const points = [ new Vec2(), new Vec2(), new Vec2() ];\r\n\r\n        const results = [\r\n            LineToLine(lineA, line, points[0]),\r\n            LineToLine(lineB, line, points[1]),\r\n            LineToLine(lineC, line, points[2])\r\n        ];\r\n\r\n        for (let i = 0; i < results.length; i++)\r\n        {\r\n            if (results[i])\r\n            {\r\n                out.push(points[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Decomposes a Triangle into an array of its points.\r\n *\r\n * @function Phaser.Geom.Triangle.Decompose\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to decompose.\r\n * @param {array} [out] - An array to store the points into.\r\n *\r\n * @return {array} The provided `out` array, or a new array if none was provided, with three objects with `x` and `y` properties representing each point of the Triangle appended to it.\r\n */\r\nexport function Decompose (triangle: ITriangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    out.push(\r\n        new Vec2(x1, y1),\r\n        new Vec2(x2, y2),\r\n        new Vec2(x3, y3)\r\n    );\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ContainsArray } from '../triangle/ContainsArray';\r\nimport { Decompose } from '../triangle/Decompose';\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { LineToLine } from './LineToLine';\r\n\r\n/**\r\n * Checks if two Triangles intersect.\r\n *\r\n * A Triangle intersects another Triangle if any pair of their lines intersects or if any point of one Triangle is within the other Triangle. Thus, the Triangles are considered \"solid\".\r\n *\r\n * @function Phaser.Geom.Intersects.TriangleToTriangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangleA - The first Triangle to check for intersection.\r\n * @param {Phaser.Geom.Triangle} triangleB - The second Triangle to check for intersection.\r\n *\r\n * @return {boolean} `true` if the Triangles intersect, otherwise `false`.\r\n */\r\nexport function TriangleToTriangle (triangleA: ITriangle, triangleB: ITriangle): boolean\r\n{\r\n    //  First the cheapest ones:\r\n    if (\r\n        triangleA.left > triangleB.right ||\r\n        triangleA.right < triangleB.left ||\r\n        triangleA.top > triangleB.bottom ||\r\n        triangleA.bottom < triangleB.top)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    const [ lineAA, lineAB, lineAC ] = GetEdges(triangleA);\r\n    const [ lineBA, lineBB, lineBC ] = GetEdges(triangleB);\r\n\r\n    //  Now check the lines against each line of TriangleB\r\n    if (\r\n        LineToLine(lineAA, lineBA) ||\r\n        LineToLine(lineAA, lineBB) ||\r\n        LineToLine(lineAA, lineBC) ||\r\n        LineToLine(lineAB, lineBA) ||\r\n        LineToLine(lineAB, lineBB) ||\r\n        LineToLine(lineAB, lineBC) ||\r\n        LineToLine(lineAC, lineBA) ||\r\n        LineToLine(lineAC, lineBB) ||\r\n        LineToLine(lineAC, lineBC)\r\n    )\r\n    {\r\n        return true;\r\n    }\r\n\r\n    //  Nope, so check to see if any of the points of triangleA are within triangleB\r\n\r\n    const withinA = ContainsArray(triangleB, Decompose(triangleA), true);\r\n\r\n    if (withinA.length > 0)\r\n    {\r\n        return true;\r\n    }\r\n\r\n    //  Finally check to see if any of the points of triangleB are within triangleA\r\n\r\n    const withinB = ContainsArray(triangleA, Decompose(triangleB), true);\r\n\r\n    return (withinB.length > 0);\r\n}\r\n", "/**\r\n * @author       Florian Vazelle\r\n * @author       Geoffrey Glaive\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from '../triangle/GetEdges';\r\nimport { GetTriangleToLine } from './GetTriangleToLine';\r\nimport { ITriangle } from '../triangle/ITriangle';\r\nimport { TriangleToTriangle } from './TriangleToTriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if two Triangles intersect, and returns the intersection points as a Point object array.\r\n *\r\n * A Triangle intersects another Triangle if any pair of their lines intersects or if any point of one Triangle is within the other Triangle. Thus, the Triangles are considered \"solid\".\r\n *\r\n * @function Phaser.Geom.Intersects.GetTriangleToTriangle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangleA - The first Triangle to check for intersection.\r\n * @param {Phaser.Geom.Triangle} triangleB - The second Triangle to check for intersection.\r\n * @param {array} [out] - An optional array in which to store the points of intersection.\r\n *\r\n * @return {array} An array with the points of intersection if objects intersect, otherwise an empty array.\r\n */\r\nexport function GetTriangleToTriangle (triangleA: ITriangle, triangleB: ITriangle, out: Vec2[] = []): Vec2[]\r\n{\r\n    if (TriangleToTriangle(triangleA, triangleB))\r\n    {\r\n        const [ lineA, lineB, lineC ] = GetEdges(triangleB);\r\n\r\n        GetTriangleToLine(triangleA, lineA, out);\r\n        GetTriangleToLine(triangleA, lineB, out);\r\n        GetTriangleToLine(triangleA, lineC, out);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @author       Florian Mertens\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from '../line/ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if the a Point falls between the two end-points of a Line, based on the given line thickness.\r\n *\r\n * Assumes that the line end points are circular, not square.\r\n *\r\n * @function Phaser.Geom.Intersects.PointToLine\r\n * @since 3.0.0\r\n *\r\n * @param {(Phaser.Geom.Point|any)} point - The point, or point-like object to check.\r\n * @param {Phaser.Geom.Line} line - The line segment to test for intersection on.\r\n * @param {number} [lineThickness=1] - The line thickness. Assumes that the line end points are circular.\r\n *\r\n * @return {boolean} `true` if the Point falls on the Line, otherwise `false`.\r\n */\r\nexport function PointToLine (point: Vec2, line: ILine, lineThickness: number = 1): boolean\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n    const { x: px, y: py } = point;\r\n\r\n    const L2 = (((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n\r\n    if (L2 === 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    const r = (((px - x1) * (x2 - x1)) + ((py - y1) * (y2 - y1))) / L2;\r\n\r\n    //  Assume line thickness is circular\r\n    if (r < 0)\r\n    {\r\n        //  Outside line1\r\n        return (Math.sqrt(((x1 - px) * (x1 - px)) + ((y1 - py) * (y1 - py))) <= lineThickness);\r\n    }\r\n    else if ((r >= 0) && (r <= 1))\r\n    {\r\n        //  On the line segment\r\n        const s = (((y1 - py) * (x2 - x1)) - ((x1 - px) * (y2 - y1))) / L2;\r\n\r\n        return (Math.abs(s) * Math.sqrt(L2) <= lineThickness);\r\n    }\r\n    else\r\n    {\r\n        //  Outside line2\r\n        return (Math.sqrt(((x2 - px) * (x2 - px)) + ((y2 - py) * (y2 - py))) <= lineThickness);\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from '../line/ILine';\r\nimport { PointToLine } from './PointToLine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Checks if a Point is located on the given line segment.\r\n *\r\n * @function Phaser.Geom.Intersects.PointToLineSegment\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Point} point - The Point to check for intersection.\r\n * @param {Phaser.Geom.Line} line - The line segment to check for intersection.\r\n *\r\n * @return {boolean} `true` if the Point is on the given line segment, otherwise `false`.\r\n */\r\nexport function PointToLineSegment (point: Vec2, line: ILine): boolean\r\n{\r\n    if (!PointToLine(point, line))\r\n    {\r\n        return false;\r\n    }\r\n\r\n    const { x1, y1, x2, y2 } = line;\r\n    const { x, y } = point;\r\n\r\n    const xMin = Math.min(x1, x2);\r\n    const xMax = Math.max(x1, x2);\r\n    const yMin = Math.min(y1, y2);\r\n    const yMax = Math.max(y1, y2);\r\n\r\n    return ((x >= xMin && x <= xMax) && (y >= yMin && y <= yMax));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * @namespace Phaser.Geom.Intersects\r\n */\r\n\r\nimport { CircleToCircle } from './CircleToCircle';\r\nimport { CircleToRectangle } from './CircleToRectangle';\r\nimport { GetCircleToCircle } from './GetCircleToCircle';\r\nimport { GetCircleToRectangle } from './GetCircleToRectangle';\r\nimport { GetLineToCircle } from './GetLineToCircle';\r\nimport { GetLineToRectangle } from './GetLineToRectangle';\r\nimport { GetRectangleIntersection } from './GetRectangleIntersection';\r\nimport { GetRectangleToRectangle } from './GetRectangleToRectangle';\r\nimport { GetRectangleToTriangle } from './GetRectangleToTriangle';\r\nimport { GetTriangleToCircle } from './GetTriangleToCircle';\r\nimport { GetTriangleToLine } from './GetTriangleToLine';\r\nimport { GetTriangleToTriangle } from './GetTriangleToTriangle';\r\nimport { LineToCircle } from './LineToCircle';\r\nimport { LineToLine } from './LineToLine';\r\nimport { LineToRectangle } from './LineToRectangle';\r\nimport { PointToLine } from './PointToLine';\r\nimport { PointToLineSegment } from './PointToLineSegment';\r\nimport { RectangleToRectangle } from './RectangleToRectangle';\r\nimport { RectangleToTriangle } from './RectangleToTriangle';\r\nimport { TriangleToCircle } from './TriangleToCircle';\r\nimport { TriangleToLine } from './TriangleToLine';\r\nimport { TriangleToTriangle } from './TriangleToTriangle';\r\n\r\nexport {\r\n    CircleToCircle,\r\n    CircleToRectangle,\r\n    GetCircleToCircle,\r\n    GetCircleToRectangle,\r\n    GetLineToCircle,\r\n    GetLineToRectangle,\r\n    GetRectangleIntersection,\r\n    GetRectangleToRectangle,\r\n    GetRectangleToTriangle,\r\n    GetTriangleToCircle,\r\n    GetTriangleToLine,\r\n    GetTriangleToTriangle,\r\n    LineToCircle,\r\n    LineToLine,\r\n    LineToRectangle,\r\n    PointToLine,\r\n    PointToLineSegment,\r\n    RectangleToRectangle,\r\n    RectangleToTriangle,\r\n    TriangleToCircle,\r\n    TriangleToLine,\r\n    TriangleToTriangle\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the angle of the line in radians.\r\n *\r\n * @function Phaser.Geom.Line.Angle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the angle of.\r\n *\r\n * @return {number} The angle of the line, in radians.\r\n */\r\nexport function Angle (line: ILine): number\r\n{\r\n    return Math.atan2(line.y2 - line.y1, line.x2 - line.x1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Using Bresenham's line algorithm this will return an array of all coordinates on this line.\r\n *\r\n * The `start` and `end` points are rounded before this runs as the algorithm works on integers.\r\n *\r\n * @function Phaser.Geom.Line.BresenhamPoints\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line.\r\n * @param {integer} [stepRate=1] - The optional step rate for the points on the line.\r\n * @param {Phaser.Types.Math.Vector2Like[]} [results] - An optional array to push the resulting coordinates into.\r\n *\r\n * @return {Phaser.Types.Math.Vector2Like[]} The array of coordinates on the line.\r\n */\r\nexport function BresenhamPoints (line: ILine, stepRate: number = 1, results: Vec2[] = []): Vec2[]\r\n{\r\n    let x1 = Math.round(line.x1);\r\n    let y1 = Math.round(line.y1);\r\n    const x2 = Math.round(line.x2);\r\n    const y2 = Math.round(line.y2);\r\n\r\n    const dx = Math.abs(x2 - x1);\r\n    const dy = Math.abs(y2 - y1);\r\n    const sx = (x1 < x2) ? 1 : -1;\r\n    const sy = (y1 < y2) ? 1 : -1;\r\n    let err = dx - dy;\r\n\r\n    results.push(new Vec2(x1, y1));\r\n\r\n    let i = 1;\r\n\r\n    while (!((x1 === x2) && (y1 === y2)))\r\n    {\r\n        const e2 = err << 1;\r\n\r\n        if (e2 > -dy)\r\n        {\r\n            err -= dy;\r\n            x1 += sx;\r\n        }\r\n\r\n        if (e2 < dx)\r\n        {\r\n            err += dx;\r\n            y1 += sy;\r\n        }\r\n\r\n        if (i % stepRate === 0)\r\n        {\r\n            results.push(new Vec2(x1, y1));\r\n        }\r\n\r\n        i++;\r\n    }\r\n\r\n    return results;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Center a line on the given coordinates.\r\n *\r\n * @function Phaser.Geom.Line.CenterOn\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to center.\r\n * @param {number} x - The horizontal coordinate to center the line on.\r\n * @param {number} y - The vertical coordinate to center the line on.\r\n *\r\n * @return {Phaser.Geom.Line} The centered line.\r\n */\r\nexport function CenterOn (line: ILine, x: number, y: number): ILine\r\n{\r\n    const tx = x - ((line.x1 + line.x2) / 2);\r\n    const ty = y - ((line.y1 + line.y2) / 2);\r\n\r\n    line.x1 += tx;\r\n    line.y1 += ty;\r\n\r\n    line.x2 += tx;\r\n    line.y2 += ty;\r\n\r\n    return line;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Line } from './Line';\r\n\r\n/**\r\n * Clone the given line.\r\n *\r\n * @function Phaser.Geom.Line.Clone\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} source - The source line to clone.\r\n *\r\n * @return {Phaser.Geom.Line} The cloned line.\r\n */\r\nexport function Clone (source: ILine): Line\r\n{\r\n    return new Line(source.x1, source.y1, source.x2, source.y2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Copy the values of one line to a destination line.\r\n *\r\n * @function Phaser.Geom.Line.CopyFrom\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [dest,$return]\r\n *\r\n * @param {Phaser.Geom.Line} source - The source line to copy the values from.\r\n * @param {Phaser.Geom.Line} dest - The destination line to copy the values to.\r\n *\r\n * @return {Phaser.Geom.Line} The destination line.\r\n */\r\nexport function CopyFrom (source: ILine, dest: ILine): ILine\r\n{\r\n    return dest.set(source.x1, source.y1, source.x2, source.y2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Compare two lines for strict equality.\r\n *\r\n * @function Phaser.Geom.Line.Equals\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The first line to compare.\r\n * @param {Phaser.Geom.Line} toCompare - The second line to compare.\r\n *\r\n * @return {boolean} Whether the two lines are equal.\r\n */\r\nexport function Equals (line: ILine, toCompare: ILine): boolean\r\n{\r\n    return (\r\n        line.x1 === toCompare.x1 &&\r\n        line.y1 === toCompare.y1 &&\r\n        line.x2 === toCompare.x2 &&\r\n        line.y2 === toCompare.y2\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the length of the given line.\r\n *\r\n * @function Phaser.Geom.Line.Length\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the length of.\r\n *\r\n * @return {number} The length of the line.\r\n */\r\nexport function Length (line: ILine): number\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Length } from './Length';\r\n\r\n/**\r\n * Extends the start and end points of a Line by the given amounts.\r\n *\r\n * The amounts can be positive or negative. Positive points will increase the length of the line,\r\n * while negative ones will decrease it.\r\n *\r\n * If no `right` value is provided it will extend the length of the line equally in both directions.\r\n *\r\n * Pass a value of zero to leave the start or end point unchanged.\r\n *\r\n * @function Phaser.Geom.Line.Extend\r\n * @since 3.16.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line instance to extend.\r\n * @param {number} left - The amount to extend the start of the line by.\r\n * @param {number} [right] - The amount to extend the end of the line by. If not given it will be set to the `left` value.\r\n *\r\n * @return {Phaser.Geom.Line} The modified Line instance.\r\n */\r\nexport function Extend (line: ILine, left: number, right: number = left): ILine\r\n{\r\n    const length = Length(line);\r\n\r\n    const slopX = line.x2 - line.x1;\r\n    const slopY = line.y2 - line.y1;\r\n\r\n    if (left)\r\n    {\r\n        line.x1 = line.x1 - slopX / length * left;\r\n        line.y1 = line.y1 - slopY / length * left;\r\n    }\r\n\r\n    if (right)\r\n    {\r\n        line.x2 = line.x2 + slopX / length * right;\r\n        line.y2 = line.y2 + slopY / length * right;\r\n    }\r\n\r\n    return line;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Get the midpoint of the given line.\r\n *\r\n * @function Phaser.Geom.Line.GetMidPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to get the midpoint of.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An optional point object to store the midpoint in.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The midpoint of the Line.\r\n */\r\nexport function GetMidPoint (line: ILine, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    out.x = (line.x1 + line.x2) / 2;\r\n    out.y = (line.y1 + line.y2) / 2;\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @author       Florian Mertens\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Get the nearest point on a line perpendicular to the given point.\r\n *\r\n * @function Phaser.Geom.Line.GetNearestPoint\r\n * @since 3.16.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to get the nearest point on.\r\n * @param {(Phaser.Geom.Point|object)} point - The point to get the nearest point to.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An optional point, or point-like object, to store the coordinates of the nearest point on the line.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The nearest point on the line.\r\n */\r\nexport function GetNearestPoint (line: ILine, point: Vec2, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    const L2 = (((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n\r\n    if (L2 === 0)\r\n    {\r\n        return out;\r\n    }\r\n\r\n    const r = (((point.x - x1) * (x2 - x1)) + ((point.y - y1) * (y2 - y1))) / L2;\r\n\r\n    out.x = x1 + (r * (x2 - x1));\r\n    out.y = y1 + (r * (y2 - y1));\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { ILine } from './ILine';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Calculate the normal of the given line.\r\n *\r\n * The normal of a line is a vector that points perpendicular from it.\r\n *\r\n * @function Phaser.Geom.Line.GetNormal\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the normal of.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An optional point object to store the normal in.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The normal of the Line.\r\n */\r\nexport function GetNormal (line: ILine, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const a = Angle(line) - MATH_CONST.HALF_PI;\r\n\r\n    out.x = Math.cos(a);\r\n    out.y = Math.sin(a);\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Get a point on a line that's a given percentage along its length.\r\n *\r\n * @function Phaser.Geom.Line.GetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line.\r\n * @param {number} position - A value between 0 and 1, where 0 is the start, 0.5 is the middle and 1 is the end of the line.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An optional point, or point-like object, to store the coordinates of the point on the line.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The point on the line.\r\n */\r\nexport function GetPoint (line: ILine, position: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    out.x = line.x1 + (line.x2 - line.x1) * position;\r\n    out.y = line.y1 + (line.y2 - line.y1) * position;\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Length } from './Length';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Get a number of points along a line's length.\r\n *\r\n * Provide a `quantity` to get an exact number of points along the line.\r\n *\r\n * Provide a `stepRate` to ensure a specific distance between each point on the line. Set `quantity` to `0` when\r\n * providing a `stepRate`.\r\n *\r\n * @function Phaser.Geom.Line.GetPoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point[]} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line.\r\n * @param {integer} quantity - The number of points to place on the line. Set to `0` to use `stepRate` instead.\r\n * @param {number} [stepRate] - The distance between each point on the line. When set, `quantity` is implied and should be set to `0`.\r\n * @param {(array|Phaser.Geom.Point[])} [out] - An optional array of Points, or point-like objects, to store the coordinates of the points on the line.\r\n *\r\n * @return {(array|Phaser.Geom.Point[])} An array of Points, or point-like objects, containing the coordinates of the points on the line.\r\n */\r\nexport function GetPoints (line: ILine, quantity: number, stepRate: number = 0, out: Vec2[] = []): Vec2[]\r\n{\r\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\r\n    if (!quantity)\r\n    {\r\n        quantity = Length(line) / stepRate;\r\n    }\r\n\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        const position = i / quantity;\r\n\r\n        const x = x1 + (x2 - x1) * position;\r\n        const y = y1 + (y2 - y1) * position;\r\n\r\n        out.push(new Vec2(x, y));\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @author       Florian Mertens\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Get the shortest distance from a Line to the given Point.\r\n *\r\n * @function Phaser.Geom.Line.GetShortestDistance\r\n * @since 3.16.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to get the distance from.\r\n * @param {(Phaser.Geom.Point|object)} point - The point to get the shortest distance to.\r\n *\r\n * @return {number} The shortest distance from the line to the point.\r\n */\r\nexport function GetShortestDistance (line: ILine, point: Vec2): number\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    const L2 = (((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n\r\n    if (L2 === 0)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    const s = (((y1 - point.y) * (x2 - x1)) - ((x1 - point.x) * (y2 - y1))) / L2;\r\n\r\n    return Math.abs(s) * Math.sqrt(L2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the height of the given line.\r\n *\r\n * @function Phaser.Geom.Line.Height\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the height of.\r\n *\r\n * @return {number} The height of the line.\r\n */\r\nexport function Height (line: ILine): number\r\n{\r\n    return Math.abs(line.y1 - line.y2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { ILine } from './ILine';\r\nimport { MATH_CONST } from '../../math/const';\r\nimport { Wrap } from '../../math/Wrap';\r\n\r\n/**\r\n * Get the angle of the normal of the given line in radians.\r\n *\r\n * @function Phaser.Geom.Line.NormalAngle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the angle of the normal of.\r\n *\r\n * @return {number} The angle of the normal of the line in radians.\r\n */\r\nexport function NormalAngle (line: ILine): number\r\n{\r\n    const angle = Angle(line) - MATH_CONST.HALF_PI;\r\n\r\n    return Wrap(angle, -Math.PI, Math.PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { ILine } from './ILine';\r\nimport { MATH_CONST } from '../../math/const';\r\n\r\n/**\r\n * Returns the x component of the normal vector of the given line.\r\n *\r\n * @function Phaser.Geom.Line.NormalX\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The Line object to get the normal value from.\r\n *\r\n * @return {number} The x component of the normal vector of the line.\r\n */\r\nexport function NormalX (line: ILine): number\r\n{\r\n    return Math.cos(Angle(line) - MATH_CONST.HALF_PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { ILine } from './ILine';\r\nimport { MATH_CONST } from '../../math/const';\r\n\r\n/**\r\n * The Y value of the normal of the given line.\r\n * The normal of a line is a vector that points perpendicular from it.\r\n *\r\n * @function Phaser.Geom.Line.NormalY\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the normal of.\r\n *\r\n * @return {number} The Y value of the normal of the Line.\r\n */\r\nexport function NormalY (line: ILine): number\r\n{\r\n    return Math.sin(Angle(line) - MATH_CONST.HALF_PI);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Offset a line by the given amount.\r\n *\r\n * @function Phaser.Geom.Line.Offset\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [line,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to offset.\r\n * @param {number} x - The horizontal offset to add to the line.\r\n * @param {number} y - The vertical offset to add to the line.\r\n *\r\n * @return {Phaser.Geom.Line} The offset line.\r\n */\r\nexport function Offset (line: ILine, x: number, y: number): ILine\r\n{\r\n    line.x1 += x;\r\n    line.y1 += y;\r\n\r\n    line.x2 += x;\r\n    line.y2 += y;\r\n\r\n    return line;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the perpendicular slope of the given line.\r\n *\r\n * @function Phaser.Geom.Line.PerpSlope\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the perpendicular slope of.\r\n *\r\n * @return {number} The perpendicular slope of the line.\r\n */\r\nexport function PerpSlope (line: ILine): number\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    return -((x2 - x1) / (y2 - y1));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a random point on a given Line.\r\n *\r\n * @function Phaser.Geom.Line.Random\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The Line to calculate the random Point on.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An instance of a Point to be modified.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A random Point on the Line.\r\n */\r\nexport function Random (line: ILine, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const t = Math.random();\r\n\r\n    out.x = line.x1 + t * (line.x2 - line.x1);\r\n    out.y = line.y1 + t * (line.y2 - line.y1);\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { ILine } from './ILine';\r\nimport { NormalAngle } from './NormalAngle';\r\n\r\n/**\r\n * Calculate the reflected angle between two lines.\r\n *\r\n * This is the outgoing angle based on the angle of Line 1 and the normalAngle of Line 2.\r\n *\r\n * @function Phaser.Geom.Line.ReflectAngle\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} lineA - The first line.\r\n * @param {Phaser.Geom.Line} lineB - The second line.\r\n *\r\n * @return {number} The reflected angle between each line.\r\n */\r\nexport function ReflectAngle (lineA: ILine, lineB: ILine): number\r\n{\r\n    return (2 * NormalAngle(lineB) - Math.PI - Angle(lineA));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Rotate a line around the given coordinates by the given angle in radians.\r\n *\r\n * @function Phaser.Geom.Line.RotateAroundXY\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [line,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to rotate.\r\n * @param {number} x - The horizontal coordinate to rotate the line around.\r\n * @param {number} y - The vertical coordinate to rotate the line around.\r\n * @param {number} angle - The angle of rotation in radians.\r\n *\r\n * @return {Phaser.Geom.Line} The rotated line.\r\n */\r\nexport function RotateAroundXY (line: ILine, x: number, y: number, angle: number): ILine\r\n{\r\n    const c = Math.cos(angle);\r\n    const s = Math.sin(angle);\r\n\r\n    let tx = line.x1 - x;\r\n    let ty = line.y1 - y;\r\n\r\n    line.x1 = tx * c - ty * s + x;\r\n    line.y1 = tx * s + ty * c + y;\r\n\r\n    tx = line.x2 - x;\r\n    ty = line.y2 - y;\r\n\r\n    line.x2 = tx * c - ty * s + x;\r\n    line.y2 = tx * s + ty * c + y;\r\n\r\n    return line;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\n\r\n/**\r\n * Rotate a line around its midpoint by the given angle in radians.\r\n *\r\n * @function Phaser.Geom.Line.Rotate\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [line,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to rotate.\r\n * @param {number} angle - The angle of rotation in radians.\r\n *\r\n * @return {Phaser.Geom.Line} The rotated line.\r\n */\r\nexport function Rotate (line: ILine, angle: number): ILine\r\n{\r\n    const x = (line.x1 + line.x2) / 2;\r\n    const y = (line.y1 + line.y2) / 2;\r\n\r\n    return RotateAroundXY(line, x, y, angle);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Rotate a line around a point by the given angle in radians.\r\n *\r\n * @function Phaser.Geom.Line.RotateAroundPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [line,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to rotate.\r\n * @param {(Phaser.Geom.Point|object)} point - The point to rotate the line around.\r\n * @param {number} angle - The angle of rotation in radians.\r\n *\r\n * @return {Phaser.Geom.Line} The rotated line.\r\n */\r\nexport function RotateAroundPoint (line: ILine, point: Vec2, angle: number): ILine\r\n{\r\n    return RotateAroundXY(line, point.x, point.y, angle);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Set a line to a given position, angle and length.\r\n *\r\n * @function Phaser.Geom.Line.SetToAngle\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Line} O - [line,$return]\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to set.\r\n * @param {number} x - The horizontal start position of the line.\r\n * @param {number} y - The vertical start position of the line.\r\n * @param {number} angle - The angle of the line in radians.\r\n * @param {number} length - The length of the line.\r\n *\r\n * @return {Phaser.Geom.Line} The updated line.\r\n */\r\nexport function SetToAngle (line: ILine, x: number, y: number, angle: number, length: number): ILine\r\n{\r\n    line.x1 = x;\r\n    line.y1 = y;\r\n\r\n    line.x2 = x + (Math.cos(angle) * length);\r\n    line.y2 = y + (Math.sin(angle) * length);\r\n\r\n    return line;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the slope of the given line.\r\n *\r\n * @function Phaser.Geom.Line.Slope\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the slope of.\r\n *\r\n * @return {number} The slope of the line.\r\n */\r\nexport function Slope (line: ILine): number\r\n{\r\n    const { x1, y1, x2, y2 } = line;\r\n\r\n    return (y2 - y1) / (x2 - x1);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ILine } from './ILine';\r\n\r\n/**\r\n * Calculate the width of the given line.\r\n *\r\n * @function Phaser.Geom.Line.Width\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Line} line - The line to calculate the width of.\r\n *\r\n * @return {number} The width of the line.\r\n */\r\nexport function Width (line: ILine): number\r\n{\r\n    return Math.abs(line.x1 - line.x2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Angle } from './Angle';\r\nimport { BresenhamPoints } from './BresenhamPoints';\r\nimport { CenterOn } from './CenterOn';\r\nimport { Clone } from './Clone';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Equals } from './Equals';\r\nimport { Extend } from './Extend';\r\nimport { GetMidPoint } from './GetMidPoint';\r\nimport { GetNearestPoint } from './GetNearestPoint';\r\nimport { GetNormal } from './GetNormal';\r\nimport { GetPoint } from './GetPoint';\r\nimport { GetPoints } from './GetPoints';\r\nimport { GetShortestDistance } from './GetShortestDistance';\r\nimport { Height } from './Height';\r\nimport { Length } from './Length';\r\nimport { Line } from './Line';\r\nimport { NormalAngle } from './NormalAngle';\r\nimport { NormalX } from './NormalX';\r\nimport { NormalY } from './NormalY';\r\nimport { Offset } from './Offset';\r\nimport { PerpSlope } from './PerpSlope';\r\nimport { Random } from './Random';\r\nimport { ReflectAngle } from './ReflectAngle';\r\nimport { Rotate } from './Rotate';\r\nimport { RotateAroundPoint } from './RotateAroundPoint';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\nimport { SetToAngle } from './SetToAngle';\r\nimport { Slope } from './Slope';\r\nimport { Width } from './Width';\r\n\r\nexport {\r\n    Angle,\r\n    BresenhamPoints,\r\n    CenterOn,\r\n    Clone,\r\n    CopyFrom,\r\n    Equals,\r\n    Extend,\r\n    GetMidPoint,\r\n    GetNearestPoint,\r\n    GetNormal,\r\n    GetPoint,\r\n    GetPoints,\r\n    GetShortestDistance,\r\n    Height,\r\n    Length,\r\n    Line,\r\n    NormalAngle,\r\n    NormalX,\r\n    NormalY,\r\n    Offset,\r\n    PerpSlope,\r\n    Random,\r\n    ReflectAngle,\r\n    Rotate,\r\n    RotateAroundPoint,\r\n    RotateAroundXY,\r\n    SetToAngle,\r\n    Slope,\r\n    Width\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Returns the 2D area of a triangle. The area value is always non-negative.\r\n *\r\n * @function Phaser.Geom.Triangle.Area\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to use.\r\n *\r\n * @return {number} The area of the Triangle, always non-negative.\r\n */\r\nexport function Area (triangle: ITriangle): number\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    return Math.abs(((x3 - x1) * (y2 - y1) - (x2 - x1) * (y3 - y1)) / 2);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\n\r\n/**\r\n * @classdesc\r\n * A triangle is a plane created by connecting three points.\r\n * The first two arguments specify the first point, the middle two arguments\r\n * specify the second point, and the last two arguments specify the third point.\r\n *\r\n * @class Triangle\r\n * @memberof Phaser.Geom\r\n * @constructor\r\n * @since 3.0.0\r\n *\r\n * @param {number} [x1=0] - `x` coordinate of the first point.\r\n * @param {number} [y1=0] - `y` coordinate of the first point.\r\n * @param {number} [x2=0] - `x` coordinate of the second point.\r\n * @param {number} [y2=0] - `y` coordinate of the second point.\r\n * @param {number} [x3=0] - `x` coordinate of the third point.\r\n * @param {number} [y3=0] - `y` coordinate of the third point.\r\n */\r\nexport class Triangle\r\n{\r\n    x1: number;\r\n    y1: number;\r\n    x2: number;\r\n    y2: number;\r\n    x3: number;\r\n    y3: number;\r\n\r\n    constructor (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0, x3: number = 0, y3: number = 0)\r\n    {\r\n        this.set(x1, y1, x2, y2, x3, y3);\r\n    }\r\n\r\n    set (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0, x3: number = 0, y3: number = 0): this\r\n    {\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n\r\n        this.x3 = x3;\r\n        this.y3 = y3;\r\n\r\n        return this;\r\n    }\r\n\r\n    contains (x: number, y: number): boolean\r\n    {\r\n        return Contains(this, x, y);\r\n    }\r\n\r\n    get left (): number\r\n    {\r\n        return Math.min(this.x1, this.x2, this.x3);\r\n    }\r\n\r\n    set left (value: number)\r\n    {\r\n        let diff = 0;\r\n\r\n        if (this.x1 <= this.x2 && this.x1 <= this.x3)\r\n        {\r\n            diff = this.x1 - value;\r\n        }\r\n        else if (this.x2 <= this.x1 && this.x2 <= this.x3)\r\n        {\r\n            diff = this.x2 - value;\r\n        }\r\n        else\r\n        {\r\n            diff = this.x3 - value;\r\n        }\r\n\r\n        this.x1 -= diff;\r\n        this.x2 -= diff;\r\n        this.x3 -= diff;\r\n    }\r\n\r\n    get right (): number\r\n    {\r\n        return Math.max(this.x1, this.x2, this.x3);\r\n    }\r\n\r\n    set right (value: number)\r\n    {\r\n        let diff = 0;\r\n\r\n        if (this.x1 >= this.x2 && this.x1 >= this.x3)\r\n        {\r\n            diff = this.x1 - value;\r\n        }\r\n        else if (this.x2 >= this.x1 && this.x2 >= this.x3)\r\n        {\r\n            diff = this.x2 - value;\r\n        }\r\n        else\r\n        {\r\n            diff = this.x3 - value;\r\n        }\r\n\r\n        this.x1 -= diff;\r\n        this.x2 -= diff;\r\n        this.x3 -= diff;\r\n    }\r\n\r\n    get top (): number\r\n    {\r\n        return Math.min(this.y1, this.y2, this.y3);\r\n    }\r\n\r\n    set top (value: number)\r\n    {\r\n        let diff = 0;\r\n\r\n        if (this.y1 <= this.y2 && this.y1 <= this.y3)\r\n        {\r\n            diff = this.y1 - value;\r\n        }\r\n        else if (this.y2 <= this.y1 && this.y2 <= this.y3)\r\n        {\r\n            diff = this.y2 - value;\r\n        }\r\n        else\r\n        {\r\n            diff = this.y3 - value;\r\n        }\r\n\r\n        this.y1 -= diff;\r\n        this.y2 -= diff;\r\n        this.y3 -= diff;\r\n    }\r\n\r\n    get bottom (): number\r\n    {\r\n        return Math.max(this.y1, this.y2, this.y3);\r\n    }\r\n\r\n    set bottom (value: number)\r\n    {\r\n        let diff = 0;\r\n\r\n        if (this.y1 >= this.y2 && this.y1 >= this.y3)\r\n        {\r\n            diff = this.y1 - value;\r\n        }\r\n        else if (this.y2 >= this.y1 && this.y2 >= this.y3)\r\n        {\r\n            diff = this.y2 - value;\r\n        }\r\n        else\r\n        {\r\n            diff = this.y3 - value;\r\n        }\r\n\r\n        this.y1 -= diff;\r\n        this.y2 -= diff;\r\n        this.y3 -= diff;\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Triangle } from './Triangle';\r\n\r\n/**\r\n * Builds an equilateral triangle. In the equilateral triangle, all the sides are the same length (congruent) and all the angles are the same size (congruent).\r\n * The x/y specifies the top-middle of the triangle (x1/y1) and length is the length of each side.\r\n *\r\n * @function Phaser.Geom.Triangle.BuildEquilateral\r\n * @since 3.0.0\r\n *\r\n * @param {number} x - x coordinate of the top point of the triangle.\r\n * @param {number} y - y coordinate of the top point of the triangle.\r\n * @param {number} length - Length of each side of the triangle.\r\n *\r\n * @return {Triangle} The Triangle object of the given size.\r\n */\r\nexport function BuildEquilateral (x: number, y: number, length: number): Triangle\r\n{\r\n    const height = length * (Math.sqrt(3) / 2);\r\n\r\n    const x1 = x;\r\n    const y1 = y;\r\n\r\n    const x2 = x + (length / 2);\r\n    const y2 = y + height;\r\n\r\n    const x3 = x - (length / 2);\r\n    const y3 = y + height;\r\n\r\n    return new Triangle(x1, y1, x2, y2, x3, y3);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Triangle } from './Triangle';\r\n\r\n/**\r\n * Builds a right triangle, i.e. one which has a 90-degree angle and two acute angles.\r\n * The x/y is the coordinate of the 90 degree angle (and will map to x1/y1 in the resulting Triangle)\r\n * w/h can be positive or negative and represent the length of each side\r\n *\r\n * @function Phaser.Geom.Triangle.BuildRight\r\n * @since 3.0.0\r\n *\r\n * @param {number} x - The X coordinate of the right angle, which will also be the first X coordinate of the constructed Triangle.\r\n * @param {number} y - The Y coordinate of the right angle, which will also be the first Y coordinate of the constructed Triangle.\r\n * @param {number} width - The length of the side which is to the left or to the right of the right angle.\r\n * @param {number} height - The length of the side which is above or below the right angle.\r\n *\r\n * @return {Triangle} The constructed right Triangle.\r\n */\r\nexport function BuildRight (x: number, y: number, width: number, height: number = width): Triangle\r\n{\r\n    //  90 degree angle\r\n    const x1 = x;\r\n    const y1 = y;\r\n\r\n    const x2 = x;\r\n    const y2 = y - height;\r\n\r\n    const x3 = x + width;\r\n    const y3 = y;\r\n\r\n    return new Triangle(x1, y1, x2, y2, x3, y3);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n\r\n/**\r\n * Calculates the position of a Triangle's centroid, which is also its center of mass (center of gravity).\r\n *\r\n * The centroid is the point in a Triangle at which its three medians (the lines drawn from the vertices to the bisectors of the opposite sides) meet. It divides each one in a 2:1 ratio.\r\n * \r\n * The three medians (the lines drawn from the vertices to the bisectors of the opposite sides)\r\n * meet in the centroid or center of mass (center of gravity).\r\n * The centroid divides each median in a ratio of 2:1\r\n *\r\n * @function Phaser.Geom.Triangle.Centroid\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to use.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An object to store the coordinates in.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} The `out` object with modified `x` and `y` properties, or a new Point if none was provided.\r\n */\r\nexport function Centroid (triangle: ITriangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    return out.set(\r\n        (triangle.x1 + triangle.x2 + triangle.x3) / 3,\r\n        (triangle.y1 + triangle.y2 + triangle.y3) / 3\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Moves each point (vertex) of a Triangle by a given offset, thus moving the entire Triangle by that offset.\r\n *\r\n * @function Phaser.Geom.Triangle.Offset\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [triangle,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to move.\r\n * @param {number} x - The horizontal offset (distance) by which to move each point. Can be positive or negative.\r\n * @param {number} y - The vertical offset (distance) by which to move each point. Can be positive or negative.\r\n *\r\n * @return {Phaser.Geom.Triangle} The modified Triangle.\r\n */\r\nexport function Offset (triangle: ITriangle, x: number, y: number): ITriangle\r\n{\r\n    triangle.x1 += x;\r\n    triangle.y1 += y;\r\n\r\n    triangle.x2 += x;\r\n    triangle.y2 += y;\r\n\r\n    triangle.x3 += x;\r\n    triangle.y3 += y;\r\n\r\n    return triangle;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Centroid } from './Centroid';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Offset } from './Offset';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * @callback CenterFunction\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to return the center coordinates of.\r\n *\r\n * @return {Phaser.Math.Vector2} The center point of the Triangle according to the function.\r\n */\r\n\r\ntype CenterFunction = (triangle: ITriangle) => Vec2;\r\n\r\n/**\r\n * Positions the Triangle so that it is centered on the given coordinates.\r\n *\r\n * @function Phaser.Geom.Triangle.CenterOn\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [triangle,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The triangle to be positioned.\r\n * @param {number} x - The horizontal coordinate to center on.\r\n * @param {number} y - The vertical coordinate to center on.\r\n * @param {CenterFunction} [centerFunc] - The function used to center the triangle. Defaults to Centroid centering.\r\n *\r\n * @return {Phaser.Geom.Triangle} The Triangle that was centered.\r\n */\r\nexport function CenterOn (triangle: ITriangle, x: number, y: number, centerFunc: CenterFunction = Centroid): ITriangle\r\n{\r\n    //  Get the center of the triangle\r\n    const center = centerFunc(triangle);\r\n\r\n    //  Difference\r\n    const diffX = x - center.x;\r\n    const diffY = y - center.y;\r\n\r\n    return Offset(triangle, diffX, diffY);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Computes the determinant of a 2x2 matrix. Uses standard double-precision arithmetic, so is susceptible to round-off error.\r\n *\r\n * Adapted from http://bjornharrtell.github.io/jsts/doc/api/jsts_geom_Triangle.js.html\r\n *\r\n * @function det\r\n * @private\r\n * @since 3.0.0\r\n *\r\n * @param {number} m00 - The [0,0] entry of the matrix.\r\n * @param {number} m01 - The [0,1] entry of the matrix.\r\n * @param {number} m10 - The [1,0] entry of the matrix.\r\n * @param {number} m11 - The [1,1] entry of the matrix.\r\n *\r\n * @return {number} the determinant.\r\n */\r\nfunction Det (m00: number, m01: number, m10: number, m11: number): number\r\n{\r\n    return (m00 * m11) - (m01 * m10);\r\n}\r\n\r\n/**\r\n * Computes the circumcentre of a triangle. The circumcentre is the centre of\r\n * the circumcircle, the smallest circle which encloses the triangle. It is also\r\n * the common intersection point of the perpendicular bisectors of the sides of\r\n * the triangle, and is the only point which has equal distance to all three\r\n * vertices of the triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.CircumCenter\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Math.Vector2} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to get the circumcenter of.\r\n * @param {Phaser.Math.Vector2} [out] - The Vector2 object to store the position in. If not given, a new Vector2 instance is created.\r\n *\r\n * @return {Phaser.Math.Vector2} A Vector2 object holding the coordinates of the circumcenter of the Triangle.\r\n */\r\nexport function CircumCenter (triangle: ITriangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const cx = triangle.x3;\r\n    const cy = triangle.y3;\r\n\r\n    const ax = triangle.x1 - cx;\r\n    const ay = triangle.y1 - cy;\r\n\r\n    const bx = triangle.x2 - cx;\r\n    const by = triangle.y2 - cy;\r\n\r\n    const denom = 2 * Det(ax, ay, bx, by);\r\n    const numx = Det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\r\n    const numy = Det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\r\n\r\n    return out.set(\r\n        cx - numx / denom,\r\n        cy + numy / denom\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Circle } from '../Circle/Circle';\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Finds the circumscribed circle (circumcircle) of a Triangle object.\r\n * The circumcircle is the circle which touches all of the triangle's vertices.\r\n *\r\n * Adapted from https://gist.github.com/mutoo/5617691\r\n *\r\n * @function Phaser.Geom.Triangle.CircumCircle\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Circle} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to use as input.\r\n * @param {Phaser.Geom.Circle} [out] - An optional Circle to store the result in.\r\n *\r\n * @return {Phaser.Geom.Circle} The updated `out` Circle, or a new Circle if none was provided.\r\n */\r\nexport function CircumCircle (triangle: ITriangle, out: Circle = new Circle()): Circle\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    const A = x2 - x1;\r\n    const B = y2 - y1;\r\n    const C = x3 - x1;\r\n    const D = y3 - y1;\r\n    const E = A * (x1 + x2) + B * (y1 + y2);\r\n    const F = C * (x1 + x3) + D * (y1 + y3);\r\n    const G = 2 * (A * (y3 - y2) - B * (x3 - x2));\r\n\r\n    //  If the points of the triangle are collinear, then just find the\r\n    //  extremes and use the midpoint as the center of the circumcircle.\r\n\r\n    if (Math.abs(G) < 0.000001)\r\n    {\r\n        const minX = Math.min(x1, x2, x3);\r\n        const minY = Math.min(y1, y2, y3);\r\n\r\n        const dx = (Math.max(x1, x2, x3) - minX) * 0.5;\r\n        const dy = (Math.max(y1, y2, y3) - minY) * 0.5;\r\n\r\n        return out.set(\r\n            minX + dx,\r\n            minY + dy,\r\n            Math.sqrt(dx * dx + dy * dy)\r\n        );\r\n    }\r\n    else\r\n    {\r\n        const cx = (D * E - B * F) / G;\r\n        const cy = (A * F - C * E) / G;\r\n\r\n        const dx = cx - x1;\r\n        const dy = cy - y1;\r\n\r\n        return out.set(\r\n            cx,\r\n            cy,\r\n            Math.sqrt(dx * dx + dy * dy)\r\n        );\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Triangle } from './Triangle';\r\n\r\n\r\n/**\r\n * Clones a Triangle object.\r\n *\r\n * @function Phaser.Geom.Triangle.Clone\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} source - The Triangle to clone.\r\n *\r\n * @return {Phaser.Geom.Triangle} A new Triangle identical to the given one but separate from it.\r\n */\r\nexport function Clone (source: ITriangle): Triangle\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = source;\r\n\r\n    return new Triangle(x1, y1, x2, y2, x3, y3);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Contains } from './Contains';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Tests if a triangle contains a point.\r\n *\r\n * @function Phaser.Geom.Triangle.ContainsPoint\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The triangle.\r\n * @param {(Phaser.Geom.Point|Phaser.Math.Vector2|any)} point - The point to test, or any point-like object with public `x` and `y` properties.\r\n *\r\n * @return {boolean} `true` if the point is within the triangle, otherwise `false`.\r\n */\r\nexport function ContainsPoint (triangle: ITriangle, point: Vec2): boolean\r\n{\r\n    return Contains(triangle, point.x, point.y);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Copy the values of one Triangle to a destination Triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.CopyFrom\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [dest,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} source - The source Triangle to copy the values from.\r\n * @param {Phaser.Geom.Triangle} dest - The destination Triangle to copy the values to.\r\n *\r\n * @return {Phaser.Geom.Triangle} The destination Triangle.\r\n */\r\nexport function CopyFrom (source: ITriangle, dest: ITriangle): ITriangle\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = source;\r\n\r\n    return dest.set(x1, y1, x2, y2, x3, y3);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Returns true if two triangles have the same coordinates.\r\n *\r\n * @function Phaser.Geom.Triangle.Equals\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The first triangle to check.\r\n * @param {Phaser.Geom.Triangle} toCompare - The second triangle to check.\r\n *\r\n * @return {boolean} `true` if the two given triangles have the exact same coordinates, otherwise `false`.\r\n */\r\nexport function Equals (triangle: ITriangle, toCompare: ITriangle): boolean\r\n{\r\n    return (\r\n        triangle.x1 === toCompare.x1 &&\r\n        triangle.y1 === toCompare.y1 &&\r\n        triangle.x2 === toCompare.x2 &&\r\n        triangle.y2 === toCompare.y2 &&\r\n        triangle.x3 === toCompare.x3 &&\r\n        triangle.y3 === toCompare.y3\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from './GetEdges';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Length } from '../line/Length';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a Point from around the perimeter of a Triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.GetPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to get the point on its perimeter from.\r\n * @param {number} position - The position along the perimeter of the triangle. A value between 0 and 1.\r\n * @param {(Phaser.Geom.Point|object)} [out] - An option Point, or Point-like object to store the value in. If not given a new Point will be created.\r\n *\r\n * @return {(Phaser.Geom.Point|object)} A Point object containing the given position from the perimeter of the triangle.\r\n */\r\nexport function GetPoint (triangle: ITriangle, position: number, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const [ line1, line2, line3 ] = GetEdges(triangle);\r\n\r\n    if (position <= 0 || position >= 1)\r\n    {\r\n        return out.set(\r\n            line1.x1,\r\n            line1.y1\r\n        );\r\n    }\r\n\r\n    const length1 = Length(line1);\r\n    const length2 = Length(line2);\r\n    const length3 = Length(line3);\r\n\r\n    const perimeter = length1 + length2 + length3;\r\n\r\n    let p = perimeter * position;\r\n    let localPosition = 0;\r\n\r\n    //  Which line is it on?\r\n\r\n    if (p < length1)\r\n    {\r\n        //  Line 1\r\n        localPosition = p / length1;\r\n\r\n        const { x1, y1, x2, y2 } = line1;\r\n\r\n        return out.set(\r\n            x1 + (x2 - x1) * localPosition,\r\n            y1 + (y2 - y1) * localPosition\r\n        );\r\n    }\r\n    else if (p > length1 + length2)\r\n    {\r\n        //  Line 3\r\n        p -= length1 + length2;\r\n        localPosition = p / length3;\r\n\r\n        const { x1, y1, x2, y2 } = line3;\r\n\r\n        return out.set(\r\n            x1 + (x2 - x1) * localPosition,\r\n            y1 + (y2 - y1) * localPosition\r\n        );\r\n    }\r\n    else\r\n    {\r\n        //  Line 2\r\n        p -= length1;\r\n        localPosition = p / length2;\r\n\r\n        const { x1, y1, x2, y2 } = line2;\r\n\r\n        return out.set(\r\n            x1 + (x2 - x1) * localPosition,\r\n            y1 + (y2 - y1) * localPosition\r\n        );\r\n    }\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from './GetEdges';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Length } from '../line/Length';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns an array of evenly spaced points on the perimeter of a Triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.GetPoints\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to get the points from.\r\n * @param {integer} quantity - The number of evenly spaced points to return. Set to 0 to return an arbitrary number of points based on the `stepRate`.\r\n * @param {number} stepRate - If `quantity` is 0, the distance between each returned point.\r\n * @param {(array|Phaser.Geom.Point[])} [out] - An array to which the points should be appended.\r\n *\r\n * @return {(array|Phaser.Geom.Point[])} The modified `out` array, or a new array if none was provided.\r\n */\r\nexport function GetPoints (triangle: ITriangle, quantity: number, stepRate: number, out: Vec2[] = []): Vec2[]\r\n{\r\n    const [ line1, line2, line3 ] = GetEdges(triangle);\r\n\r\n    const length1 = Length(line1);\r\n    const length2 = Length(line2);\r\n    const length3 = Length(line3);\r\n\r\n    const perimeter = length1 + length2 + length3;\r\n\r\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\r\n    if (!quantity)\r\n    {\r\n        quantity = perimeter / stepRate;\r\n    }\r\n\r\n    for (let i = 0; i < quantity; i++)\r\n    {\r\n        let p = perimeter * (i / quantity);\r\n        let localPosition = 0;\r\n        let point: Vec2;\r\n\r\n        if (p < length1)\r\n        {\r\n            //  Line 1\r\n            localPosition = p / length1;\r\n\r\n            const { x1, y1, x2, y2 } = line1;\r\n\r\n            point = new Vec2(\r\n                x1 + (x2 - x1) * localPosition,\r\n                y1 + (y2 - y1) * localPosition\r\n            );\r\n        }\r\n        else if (p > length1 + length2)\r\n        {\r\n            //  Line 3\r\n            p -= length1 + length2;\r\n            localPosition = p / length3;\r\n\r\n            const { x1, y1, x2, y2 } = line3;\r\n\r\n            point = new Vec2(\r\n                x1 + (x2 - x1) * localPosition,\r\n                y1 + (y2 - y1) * localPosition\r\n            );\r\n        }\r\n        else\r\n        {\r\n            //  Line 2\r\n            p -= length1;\r\n            localPosition = p / length2;\r\n\r\n            const { x1, y1, x2, y2 } = line2;\r\n\r\n            point = new Vec2(\r\n                x1 + (x2 - x1) * localPosition,\r\n                y1 + (y2 - y1) * localPosition\r\n            );\r\n        }\r\n\r\n        out.push(point);\r\n    }\r\n\r\n    return out;\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\nfunction GetLength (x1: number, y1: number, x2: number, y2: number): number\r\n{\r\n    const x = x1 - x2;\r\n    const y = y1 - y2;\r\n    const magnitude = (x * x) + (y * y);\r\n\r\n    return Math.sqrt(magnitude);\r\n}\r\n\r\n/**\r\n * Calculates the position of the incenter of a Triangle object.\r\n * This is the point where its three angle bisectors meet and it's also the center\r\n * of the incircle, which is the circle inscribed in the triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.InCenter\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to find the incenter of.\r\n * @param {Phaser.Geom.Point} [out] - An optional Point in which to store the coordinates.\r\n *\r\n * @return {Phaser.Geom.Point} Point (x, y) of the center pixel of the triangle.\r\n */\r\nexport function InCenter (triangle: ITriangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    const d1 = GetLength(x3, y3, x2, y2);\r\n    const d2 = GetLength(x1, y1, x3, y3);\r\n    const d3 = GetLength(x2, y2, x1, y1);\r\n\r\n    const p = d1 + d2 + d3;\r\n\r\n    return out.set(\r\n        (x1 * d1 + x2 * d2 + x3 * d3) / p,\r\n        (y1 * d1 + y2 * d2 + y3 * d3) / p\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { GetEdges } from './GetEdges';\r\nimport { ITriangle } from './ITriangle';\r\nimport { Length } from '../line/Length';\r\n\r\n/**\r\n * Gets the length of the perimeter of the given triangle.\r\n * Calculated by adding together the length of each of the three sides.\r\n *\r\n * @function Phaser.Geom.Triangle.Perimeter\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to get the length from.\r\n *\r\n * @return {number} The length of the Triangle.\r\n */\r\nexport function Perimeter (triangle: ITriangle): number\r\n{\r\n    const [ line1, line2, line3 ] = GetEdges(triangle);\r\n\r\n    return (Length(line1) + Length(line2) + Length(line3));\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Returns a random Point from within the area of the given Triangle.\r\n *\r\n * @function Phaser.Geom.Triangle.Random\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Point} O - [out,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to get a random point from.\r\n * @param {Phaser.Geom.Point} [out] - The Point object to store the position in. If not given, a new Point instance is created.\r\n *\r\n * @return {Phaser.Geom.Point} A Point object holding the coordinates of a random position within the Triangle.\r\n */\r\nexport function Random (triangle: ITriangle, out: Vec2 = new Vec2()): Vec2\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    //  Basis vectors\r\n    const ux = x2 - x1;\r\n    const uy = y2 - y1;\r\n\r\n    const vx = x3 - x1;\r\n    const vy = y3 - y1;\r\n\r\n    //  Random point within the unit square\r\n    let r = Math.random();\r\n    let s = Math.random();\r\n\r\n    //  Point outside the triangle? Remap it.\r\n    if (r + s >= 1)\r\n    {\r\n        r = 1 - r;\r\n        s = 1 - s;\r\n    }\r\n\r\n    return out.set(\r\n        x1 + ((ux * r) + (vx * s)),\r\n        y1 + ((uy * r) + (vy * s))\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\n\r\n/**\r\n * Rotates an entire Triangle at a given angle about a specific point.\r\n *\r\n * @function Phaser.Geom.Triangle.RotateAroundXY\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [triangle,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to rotate.\r\n * @param {number} x - The X coordinate of the point to rotate the Triangle about.\r\n * @param {number} y - The Y coordinate of the point to rotate the Triangle about.\r\n * @param {number} angle - The angle by which to rotate the Triangle, in radians.\r\n *\r\n * @return {Phaser.Geom.Triangle} The rotated Triangle.\r\n */\r\nexport function RotateAroundXY (triangle: ITriangle, x: number, y: number, angle: number): ITriangle\r\n{\r\n    const { x1, y1, x2, y2, x3, y3 } = triangle;\r\n\r\n    const c = Math.cos(angle);\r\n    const s = Math.sin(angle);\r\n\r\n    return triangle.set(\r\n        (x1 - x) * c - (y1 - y) * s + x,\r\n        (x1 - x) * s + (y1 - y) * c + y,\r\n        (x2 - x) * c - (y2 - y) * s + x,\r\n        (x2 - x) * s + (y2 - y) * c + y,\r\n        (x3 - x) * c - (y3 - y) * s + x,\r\n        (x3 - x) * s + (y3 - y) * c + y\r\n    );\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { InCenter } from './InCenter';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\n\r\n/**\r\n * Rotates a Triangle about its incenter, which is the point at which its three angle bisectors meet.\r\n *\r\n * @function Phaser.Geom.Triangle.Rotate\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [triangle,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to rotate.\r\n * @param {number} angle - The angle by which to rotate the Triangle, in radians.\r\n *\r\n * @return {Phaser.Geom.Triangle} The rotated Triangle.\r\n */\r\nexport function Rotate (triangle: ITriangle, angle: number): ITriangle\r\n{\r\n    const point = InCenter(triangle);\r\n\r\n    return RotateAroundXY(triangle, point.x, point.y, angle);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { ITriangle } from './ITriangle';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\n/**\r\n * Rotates a Triangle at a certain angle about a given Point or object with public `x` and `y` properties.\r\n *\r\n * @function Phaser.Geom.Triangle.RotateAroundPoint\r\n * @since 3.0.0\r\n *\r\n * @generic {Phaser.Geom.Triangle} O - [triangle,$return]\r\n *\r\n * @param {Phaser.Geom.Triangle} triangle - The Triangle to rotate.\r\n * @param {Phaser.Geom.Point} point - The Point to rotate the Triangle about.\r\n * @param {number} angle - The angle by which to rotate the Triangle, in radians.\r\n *\r\n * @return {Phaser.Geom.Triangle} The rotated Triangle.\r\n */\r\nexport function RotateAroundPoint (triangle: ITriangle, point: Vec2, angle: number): ITriangle\r\n{\r\n    return RotateAroundXY(triangle, point.x, point.y, angle);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Area } from './Area';\r\nimport { BuildEquilateral } from './BuildEquilateral';\r\nimport { BuildRight } from './BuildRight';\r\nimport { CenterOn } from './CenterOn';\r\nimport { Centroid } from './Centroid';\r\nimport { CircumCenter } from './CircumCenter';\r\nimport { CircumCircle } from './CircumCircle';\r\nimport { Clone } from './Clone';\r\nimport { Contains } from './Contains';\r\nimport { ContainsArray } from './ContainsArray';\r\nimport { ContainsPoint } from './ContainsPoint';\r\nimport { CopyFrom } from './CopyFrom';\r\nimport { Decompose } from './Decompose';\r\nimport { Equals } from './Equals';\r\nimport { GetEdges } from './GetEdges';\r\nimport { GetPoint } from './GetPoint';\r\nimport { GetPoints } from './GetPoints';\r\nimport { InCenter } from './InCenter';\r\nimport { Offset } from './Offset';\r\nimport { Perimeter } from './Perimeter';\r\nimport { Random } from './Random';\r\nimport { Rotate } from './Rotate';\r\nimport { RotateAroundPoint } from './RotateAroundPoint';\r\nimport { RotateAroundXY } from './RotateAroundXY';\r\nimport { Triangle } from './Triangle';\r\n\r\nexport {\r\n    Area,\r\n    BuildEquilateral,\r\n    BuildRight,\r\n    CenterOn,\r\n    Centroid,\r\n    CircumCenter,\r\n    CircumCircle,\r\n    Clone,\r\n    Contains,\r\n    ContainsArray,\r\n    ContainsPoint,\r\n    CopyFrom,\r\n    Decompose,\r\n    Equals,\r\n    GetEdges,\r\n    GetPoint,\r\n    GetPoints,\r\n    InCenter,\r\n    Offset,\r\n    Perimeter,\r\n    Random,\r\n    Rotate,\r\n    RotateAroundPoint,\r\n    RotateAroundXY,\r\n    Triangle\r\n};\r\n", "import * as Circle from './circle';\r\nimport * as Ellipse from './ellipse';\r\nimport * as Intersects from './intersects';\r\nimport * as Line from './line';\r\nimport * as Rectangle from './rectangle';\r\nimport * as Triangle from './triangle';\r\n\r\nexport {\r\n    Circle,\r\n    Ellipse,\r\n    Intersects,\r\n    Line,\r\n    Rectangle,\r\n    Triangle\r\n};\r\n", "import { Normalize, Subtract, Vec3 } from '../math/vec3';\r\n\r\nimport { CreateVertexSet } from '../gameobjects3d/geometry/CreateVertexSet';\r\nimport { VertexSet } from '../gameobjects3d/geometry/VertexSet';\r\n\r\nexport function TorusGeometry (radius: number = 1, tube: number = 0.4, radialSegments: number = 8, tubularSegments: number = 6, arc: number = Math.PI * 2): VertexSet\r\n{\r\n    const data = CreateVertexSet();\r\n\r\n    const {\r\n        vertices,\r\n        normals,\r\n        uvs,\r\n        indices\r\n    } = data;\r\n\r\n    // helper variables\r\n\r\n    const center = new Vec3();\r\n    const vertex = new Vec3();\r\n    const normal = new Vec3();\r\n\r\n    // generate vertices, normals and uvs\r\n\r\n    for (let j = 0; j <= radialSegments; j++)\r\n    {\r\n        for (let i = 0; i <= tubularSegments; i++)\r\n        {\r\n            const u = i / tubularSegments * arc;\r\n            const v = j / radialSegments * Math.PI * 2;\r\n\r\n            // vertex\r\n            vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\r\n            vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\r\n            vertex.z = tube * Math.sin(v);\r\n\r\n            vertices.push(vertex.x, vertex.y, vertex.z);\r\n\r\n            // normal\r\n            center.x = radius * Math.cos(u);\r\n            center.y = radius * Math.sin(u);\r\n\r\n            Subtract(vertex, center, normal);\r\n            Normalize(normal, normal);\r\n\r\n            normals.push(normal.x, normal.y, normal.z);\r\n\r\n            // uv\r\n            uvs.push(i / tubularSegments);\r\n            uvs.push(j / radialSegments);\r\n        }\r\n    }\r\n\r\n    // generate indices\r\n    for (let j = 1; j <= radialSegments; j++)\r\n    {\r\n        for (let i = 1; i <= tubularSegments; i++)\r\n        {\r\n            // indices\r\n\r\n            const a = (tubularSegments + 1) * j + i - 1;\r\n            const b = (tubularSegments + 1) * (j - 1) + i - 1;\r\n            const c = (tubularSegments + 1) * (j - 1) + i;\r\n            const d = (tubularSegments + 1) * j + i;\r\n\r\n            // faces\r\n            indices.push(a, b, d);\r\n            indices.push(b, c, d);\r\n        }\r\n    }\r\n\r\n    data.numberOfVertices = vertices.length;\r\n\r\n    return data;\r\n}\r\n", "import { BoxGeometry } from './BoxGeometry';\r\nimport { ConeGeometry } from './ConeGeometry';\r\nimport { CylinderGeometry } from './CylinderGeometry';\r\nimport { PlaneGeometry } from './PlaneGeometry';\r\nimport { SphereGeometry } from './SphereGeometry';\r\nimport { TorusGeometry } from './TorusGeometry';\r\n\r\nexport {\r\n    BoxGeometry,\r\n    ConeGeometry,\r\n    CylinderGeometry,\r\n    PlaneGeometry,\r\n    SphereGeometry,\r\n    TorusGeometry\r\n};\r\n", "import { Emit } from '../../events';\r\nimport { IEventInstance } from '../../events/IEventInstance';\r\nimport { IKey } from './IKey';\r\n\r\nexport class Key implements IKey\r\n{\r\n    //  The KeyEvent.key identifier\r\n    readonly value: string;\r\n\r\n    events: Map<string, Set<IEventInstance>>;\r\n\r\n    //  Will it invoke preventDefault?\r\n    capture: boolean = true;\r\n\r\n    //  Is it currently down?\r\n    isDown: boolean = false;\r\n\r\n    //  Process this key?\r\n    enabled: boolean = true;\r\n\r\n    //  rate of repeats in ms\r\n    repeatRate: number = 0;\r\n\r\n    //  Can this key repeat, or do you have to release it before pressing again\r\n    canRepeat: boolean = true;\r\n\r\n    //  The game time this key was last pressed down\r\n    timeDown: number = 0;\r\n\r\n    //  The game time this key was last updated (i.e. if down and repeating)\r\n    timeUpdated: number = 0;\r\n\r\n    //  The game time this key was last released\r\n    timeUp: number = 0;\r\n\r\n    shiftKey: boolean;\r\n    ctrlKey: boolean;\r\n    altKey: boolean;\r\n\r\n    downCallback: (key: IKey) => void;\r\n    upCallback: (key: IKey) => void;\r\n\r\n    constructor (value: string)\r\n    {\r\n        this.value = value;\r\n        this.events = new Map();\r\n    }\r\n\r\n    getValue (): string\r\n    {\r\n        return this.value;\r\n    }\r\n\r\n    down (event: KeyboardEvent): void\r\n    {\r\n        if (!this.enabled)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if (this.capture)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        this.shiftKey = event.shiftKey;\r\n        this.ctrlKey = event.ctrlKey;\r\n        this.altKey = event.altKey;\r\n\r\n        if (this.isDown && this.canRepeat)\r\n        {\r\n            this.timeUpdated = event.timeStamp;\r\n\r\n            const delay = this.timeUpdated - this.timeDown;\r\n\r\n            //  Key is repeating\r\n            if (delay >= this.repeatRate)\r\n            {\r\n                Emit(this, 'keydown', this);\r\n\r\n                if (this.downCallback)\r\n                {\r\n                    this.downCallback(this);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            //  Key is first down\r\n            this.isDown = true;\r\n\r\n            this.timeDown = event.timeStamp;\r\n            this.timeUpdated = event.timeStamp;\r\n\r\n            Emit(this, 'keydown', this);\r\n\r\n            if (this.downCallback)\r\n            {\r\n                this.downCallback(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    up (event: KeyboardEvent): void\r\n    {\r\n        if (!this.enabled)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if (this.capture)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        this.shiftKey = event.shiftKey;\r\n        this.ctrlKey = event.ctrlKey;\r\n        this.altKey = event.altKey;\r\n\r\n        if (this.isDown)\r\n        {\r\n            //  Key is up\r\n            this.isDown = false;\r\n            this.timeUp = event.timeStamp;\r\n            this.timeUpdated = event.timeStamp;\r\n\r\n            Emit(this, 'keyup', this);\r\n\r\n            if (this.upCallback)\r\n            {\r\n                this.upCallback(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        this.isDown = false;\r\n        this.timeUpdated = this.timeDown;\r\n        this.timeUp = this.timeDown;\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        this.downCallback = null;\r\n        this.upCallback = null;\r\n\r\n        this.events.clear();\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class AKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('a');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nexport type ArrowKeysConfig = {\r\n    left: boolean;\r\n    right: boolean;\r\n    up: boolean;\r\n    down: boolean;\r\n    space: boolean;\r\n};\r\n\r\nexport class ArrowKeys\r\n{\r\n    left: Key;\r\n    right: Key;\r\n    up: Key;\r\n    down: Key;\r\n    space: Key;\r\n\r\n    constructor (keyboardManager: Keyboard, config?: ArrowKeysConfig)\r\n    {\r\n        const {\r\n            left = true,\r\n            right = true,\r\n            up = true,\r\n            down = true,\r\n            space = true\r\n        } = config;\r\n\r\n        const keys = keyboardManager.keys;\r\n\r\n        if (left)\r\n        {\r\n            this.left = new Key('ArrowLeft');\r\n\r\n            keys.set(this.left.value, this.left);\r\n        }\r\n\r\n        if (right)\r\n        {\r\n            this.right = new Key('ArrowRight');\r\n\r\n            keys.set(this.right.value, this.right);\r\n        }\r\n\r\n        if (up)\r\n        {\r\n            this.up = new Key('ArrowUp');\r\n\r\n            keys.set(this.up.value, this.up);\r\n        }\r\n\r\n        if (down)\r\n        {\r\n            this.down = new Key('ArrowDown');\r\n\r\n            keys.set(this.down.value, this.down);\r\n        }\r\n\r\n        if (space)\r\n        {\r\n            this.space = new Key(' ');\r\n\r\n            keys.set(this.space.value, this.space);\r\n        }\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class BKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('b');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class CKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('c');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class DKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('d');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class DownKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('ArrowDown');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class EKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('e');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class FKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('f');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class GKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('g');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class HKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('h');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class IKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('i');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class JKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('j');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class KKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('k');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class LKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('l');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class LeftKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('ArrowLeft');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class MKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('m');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class NKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('n');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class OKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('o');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class PKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('p');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class QKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('q');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class RKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('r');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class RightKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('ArrowRight');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class SKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('s');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class SpaceKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super(' ');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class TKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('t');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class UKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('u');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class UpKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('ArrowUp');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class VKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('v');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nexport type WASDKeysConfig = {\r\n    W: boolean;\r\n    A: boolean;\r\n    S: boolean;\r\n    D: boolean;\r\n    space: boolean;\r\n};\r\n\r\nexport class WASDKeys\r\n{\r\n    W: Key;\r\n    A: Key;\r\n    S: Key;\r\n    D: Key;\r\n    space: Key;\r\n\r\n    constructor (keyboardManager: Keyboard, config?: WASDKeysConfig)\r\n    {\r\n        const {\r\n            W = true,\r\n            A = true,\r\n            S = true,\r\n            D = true,\r\n            space = true\r\n        } = config;\r\n\r\n        const keys = keyboardManager.keys;\r\n\r\n        if (W)\r\n        {\r\n            this.W = new Key('w');\r\n\r\n            keys.set(this.W.value, this.W);\r\n        }\r\n\r\n        if (A)\r\n        {\r\n            this.A = new Key('a');\r\n\r\n            keys.set(this.A.value, this.A);\r\n        }\r\n\r\n        if (S)\r\n        {\r\n            this.S = new Key('s');\r\n\r\n            keys.set(this.S.value, this.S);\r\n        }\r\n\r\n        if (D)\r\n        {\r\n            this.D = new Key('d');\r\n\r\n            keys.set(this.D.value, this.D);\r\n        }\r\n\r\n        if (space)\r\n        {\r\n            this.space = new Key(' ');\r\n\r\n            keys.set(this.space.value, this.space);\r\n        }\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class WKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('w');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class XKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('x');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class YKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('y');\r\n    }\r\n}\r\n", "import { Key } from '../Key';\r\n\r\nexport class ZKey extends Key\r\n{\r\n    constructor ()\r\n    {\r\n        super('z');\r\n    }\r\n}\r\n", "import { AKey } from './AKey';\r\nimport { ArrowKeys } from './ArrowKeys';\r\nimport { BKey } from './BKey';\r\nimport { CKey } from './CKey';\r\nimport { DKey } from './DKey';\r\nimport { DownKey } from './DownKey';\r\nimport { EKey } from './EKey';\r\nimport { FKey } from './FKey';\r\nimport { GKey } from './GKey';\r\nimport { HKey } from './HKey';\r\nimport { IKey } from './IKey';\r\nimport { JKey } from './JKey';\r\nimport { KKey } from './KKey';\r\nimport { LKey } from './LKey';\r\nimport { LeftKey } from './LeftKey';\r\nimport { MKey } from './MKey';\r\nimport { NKey } from './NKey';\r\nimport { OKey } from './OKey';\r\nimport { PKey } from './PKey';\r\nimport { QKey } from './QKey';\r\nimport { RKey } from './RKey';\r\nimport { RightKey } from './RightKey';\r\nimport { SKey } from './SKey';\r\nimport { SpaceKey } from './SpaceKey';\r\nimport { TKey } from './TKey';\r\nimport { UKey } from './UKey';\r\nimport { UpKey } from './UpKey';\r\nimport { VKey } from './VKey';\r\nimport { WASDKeys } from './WASDKeys';\r\nimport { WKey } from './WKey';\r\nimport { XKey } from './XKey';\r\nimport { YKey } from './YKey';\r\nimport { ZKey } from './ZKey';\r\n\r\nexport {\r\n    AKey,\r\n    BKey,\r\n    CKey,\r\n    DKey,\r\n    EKey,\r\n    FKey,\r\n    GKey,\r\n    HKey,\r\n    IKey,\r\n    JKey,\r\n    KKey,\r\n    LKey,\r\n    MKey,\r\n    NKey,\r\n    OKey,\r\n    PKey,\r\n    QKey,\r\n    RKey,\r\n    SKey,\r\n    TKey,\r\n    UKey,\r\n    VKey,\r\n    WKey,\r\n    XKey,\r\n    YKey,\r\n    ZKey,\r\n    ArrowKeys,\r\n    DownKey,\r\n    LeftKey,\r\n    RightKey,\r\n    SpaceKey,\r\n    UpKey,\r\n    WASDKeys\r\n};\r\n", "import { IKey } from './IKey';\r\n\r\nexport function GetKeyDownDuration (key: IKey): number\r\n{\r\n    if (key.isDown)\r\n    {\r\n        return key.timeUpdated - key.timeDown;\r\n    }\r\n    else\r\n    {\r\n        return key.timeUp - key.timeDown;\r\n    }\r\n}\r\n", "import { Emit, EventEmitter } from '../../events';\r\n\r\nimport { IKey } from './IKey';\r\n\r\nexport class Keyboard extends EventEmitter\r\n{\r\n    keys: Map<string, IKey>;\r\n\r\n    private keydownHandler: { (event: KeyboardEvent): void; (this: Window, ev: KeyboardEvent): void };\r\n    private keyupHandler: { (event: KeyboardEvent): void; (this: Window, ev: KeyboardEvent): void };\r\n    private blurHandler: { (): void; (this: Window, ev: FocusEvent): void };\r\n\r\n    /* eslint-disable @typescript-eslint/naming-convention */\r\n    keyConversion: { [ key: string ]: string } = {\r\n        Up: 'ArrowUp',\r\n        Down: 'ArrowDown',\r\n        Left: 'ArrowLeft',\r\n        Right: 'ArrowRight',\r\n        Spacebar: ' ',\r\n        Win: 'Meta',\r\n        Scroll: 'ScrollLock',\r\n        Del: 'Delete',\r\n        Apps: 'ContextMenu',\r\n        Esc: 'Escape',\r\n        Add: '+',\r\n        Subtract: '-',\r\n        Multiply: '*',\r\n        Decimal: '.',\r\n        Divide: '/'\r\n    };\r\n    /* eslint-enable @typescript-eslint/naming-convention */\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.keydownHandler = (event: KeyboardEvent): void => this.onKeyDown(event);\r\n        this.keyupHandler = (event: KeyboardEvent): void => this.onKeyUp(event);\r\n        this.blurHandler = (): void => this.onBlur();\r\n\r\n        window.addEventListener('keydown', this.keydownHandler);\r\n        window.addEventListener('keyup', this.keyupHandler);\r\n        window.addEventListener('blur', this.blurHandler);\r\n\r\n        this.keys = new Map();\r\n    }\r\n\r\n    addKeys (...keys: IKey[]): void\r\n    {\r\n        keys.forEach(key =>\r\n        {\r\n            this.keys.set(key.getValue(), key);\r\n        });\r\n    }\r\n\r\n    clearKeys (): void\r\n    {\r\n        this.keys.clear();\r\n    }\r\n\r\n    private onBlur (): void\r\n    {\r\n        //  Iterate Keys and reset their state\r\n        this.keys.forEach(key =>\r\n        {\r\n            key.reset();\r\n        });\r\n    }\r\n\r\n    private getKeyValue (key: string): string\r\n    {\r\n        if (this.keyConversion.hasOwnProperty(key))\r\n        {\r\n            return this.keyConversion[key];\r\n        }\r\n        else\r\n        {\r\n            return key;\r\n        }\r\n    }\r\n\r\n    private onKeyDown (event: KeyboardEvent): void\r\n    {\r\n        const value = this.getKeyValue(event.key);\r\n\r\n        if (this.keys.has(value))\r\n        {\r\n            const key = this.keys.get(value);\r\n\r\n            key.down(event);\r\n        }\r\n\r\n        //  Key specific event\r\n        Emit(this, 'keydown-' + value, event);\r\n\r\n        //  Global keydown event\r\n        Emit(this, 'keydown', event);\r\n    }\r\n\r\n    private onKeyUp (event: KeyboardEvent): void\r\n    {\r\n        const value = this.getKeyValue(event.key);\r\n\r\n        if (this.keys.has(value))\r\n        {\r\n            const key = this.keys.get(value);\r\n\r\n            key.up(event);\r\n        }\r\n\r\n        //  Key specific event\r\n        Emit(this, 'keyup-' + value, event);\r\n\r\n        //  Global keyup event\r\n        Emit(this, 'keyup', event);\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        window.removeEventListener('keydown', this.keydownHandler);\r\n        window.removeEventListener('keyup', this.keyupHandler);\r\n        window.removeEventListener('blur', this.blurHandler);\r\n\r\n        Emit(this, 'destroy');\r\n    }\r\n}\r\n", "import { IKey } from './IKey';\r\n\r\nexport function SetKeyRepeatRate (rate: number, ...keys: IKey[]): IKey[]\r\n{\r\n    keys.forEach(key =>\r\n    {\r\n        key.repeatRate = rate;\r\n    });\r\n\r\n    return keys;\r\n}\r\n", "import * as Keys from './keys';\r\n\r\nimport { GetKeyDownDuration } from './GetKeyDownDuration';\r\nimport { Key } from './Key';\r\nimport { Keyboard } from './Keyboard';\r\nimport { SetKeyRepeatRate } from './SetKeyRepeatRate';\r\n\r\nexport {\r\n    GetKeyDownDuration,\r\n    Key,\r\n    Keys,\r\n    Keyboard,\r\n    SetKeyRepeatRate\r\n};\r\n", "import { Emit, EventEmitter } from '../../events';\r\n\r\nimport { Append } from '../../math/matrix2d/Append';\r\nimport { GameInstance } from '../../GameInstance';\r\nimport { GlobalToLocal } from '../../math/matrix2d/GlobalToLocal';\r\nimport { IGameObject } from '../../gameobjects/IGameObject';\r\nimport { Vec2 } from '../../math/vec2/Vec2';\r\n\r\nexport class Mouse extends EventEmitter\r\n{\r\n    primaryDown: boolean = false;\r\n    auxDown: boolean = false;\r\n    secondaryDown: boolean = false;\r\n\r\n    blockContextMenu: boolean = true;\r\n\r\n    localPoint: Vec2;\r\n    hitPoint: Vec2;\r\n\r\n    private target: HTMLElement;\r\n    private resolution: number = 1;\r\n\r\n    private mousedownHandler: { (event: MouseEvent): void; (this: Window, ev: MouseEvent): void };\r\n    private mouseupHandler: { (event: MouseEvent): void; (this: Window, ev: MouseEvent): void };\r\n    private mousemoveHandler: { (event: MouseEvent): void; (this: Window, ev: MouseEvent): void };\r\n    private mousewheelHandler: { (event: MouseWheelEvent): void; (this: Window, ev: MouseWheelEvent): void };\r\n    private contextmenuHandler: { (event: MouseEvent): void; (this: Window, ev: MouseEvent): void };\r\n    private blurHandler: { (): void; (this: Window, ev: FocusEvent): void };\r\n\r\n    private transPoint: Vec2;\r\n\r\n    constructor (target?: HTMLElement)\r\n    {\r\n        super();\r\n\r\n        this.mousedownHandler = (event: MouseEvent): void => this.onMouseDown(event);\r\n        this.mouseupHandler = (event: MouseEvent): void => this.onMouseUp(event);\r\n        this.mousemoveHandler = (event: MouseEvent): void => this.onMouseMove(event);\r\n        this.mousewheelHandler = (event: MouseWheelEvent): void => this.onMouseWheel(event);\r\n        this.contextmenuHandler = (event: MouseEvent): void => this.onContextMenuEvent(event);\r\n        this.blurHandler = (): void => this.onBlur();\r\n\r\n        this.localPoint = new Vec2();\r\n        this.hitPoint = new Vec2();\r\n        this.transPoint = new Vec2();\r\n\r\n        if (!target)\r\n        {\r\n            target = GameInstance.get().renderer.canvas;\r\n        }\r\n\r\n        target.addEventListener('mousedown', this.mousedownHandler);\r\n        target.addEventListener('mouseup', this.mouseupHandler);\r\n        target.addEventListener('wheel', this.mousewheelHandler, { passive: false });\r\n        target.addEventListener('contextmenu', this.contextmenuHandler);\r\n\r\n        window.addEventListener('mouseup', this.mouseupHandler);\r\n        window.addEventListener('mousemove', this.mousemoveHandler);\r\n        window.addEventListener('blur', this.blurHandler);\r\n\r\n        this.target = target;\r\n    }\r\n\r\n    private onBlur (): void\r\n    {\r\n    }\r\n\r\n    private onMouseDown (event: MouseEvent): void\r\n    {\r\n        this.positionToPoint(event);\r\n\r\n        this.primaryDown = (event.button === 0);\r\n        this.auxDown = (event.button === 1);\r\n        this.secondaryDown = (event.button === 2);\r\n\r\n        Emit(this, 'pointerdown', this.localPoint.x, this.localPoint.y, event.button, event);\r\n    }\r\n\r\n    private onMouseUp (event: MouseEvent): void\r\n    {\r\n        this.positionToPoint(event);\r\n\r\n        this.primaryDown = !(event.button === 0);\r\n        this.auxDown = !(event.button === 1);\r\n        this.secondaryDown = !(event.button === 2);\r\n\r\n        Emit(this, 'pointerup', this.localPoint.x, this.localPoint.y, event.button, event);\r\n    }\r\n\r\n    private onMouseMove (event: MouseEvent): void\r\n    {\r\n        this.positionToPoint(event);\r\n\r\n        Emit(this, 'pointermove', this.localPoint.x, this.localPoint.y, event);\r\n    }\r\n\r\n    private onMouseWheel (event: MouseWheelEvent): void\r\n    {\r\n        Emit(this, 'wheel', event.deltaX, event.deltaY, event.deltaZ, event);\r\n    }\r\n\r\n    private onContextMenuEvent (event: MouseEvent): void\r\n    {\r\n        if (this.blockContextMenu)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        Emit(this, 'contextmenu', event);\r\n    }\r\n\r\n    positionToPoint (event: MouseEvent): Vec2\r\n    {\r\n        return this.localPoint.set(event.offsetX, event.offsetY);\r\n    }\r\n\r\n    getInteractiveChildren <T extends IGameObject> (parent: T, results: IGameObject[]): void\r\n    {\r\n        const children = parent.children;\r\n\r\n        for (let i = 0; i < children.length; i++)\r\n        {\r\n            const child = children[i];\r\n\r\n            if (!child.visible || !child.input.enabled)\r\n            {\r\n                continue;\r\n            }\r\n\r\n            results.push(child);\r\n\r\n            if (child.input.enabledChildren && child.numChildren)\r\n            {\r\n                this.getInteractiveChildren(child, results);\r\n            }\r\n        }\r\n    }\r\n\r\n    checkHitArea <T extends IGameObject> (entity: T, px: number, py: number): boolean\r\n    {\r\n        if (entity.input.hitArea)\r\n        {\r\n            if (entity.input.hitArea.contains(px, py))\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return entity.transform.extent.contains(px, py);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    hitTest <T extends IGameObject> (...entities: T[]): boolean\r\n    {\r\n        const localX = this.localPoint.x;\r\n        const localY = this.localPoint.y;\r\n        const point = this.transPoint;\r\n\r\n        for (let i: number = 0; i < entities.length; i++)\r\n        {\r\n            const entity = entities[i];\r\n\r\n            if (!entity.world)\r\n            {\r\n                //  Can't hit test an entity if it hasn't been added to a World yet\r\n                continue;\r\n            }\r\n\r\n            const mat = Append(entity.world.camera.worldTransform, entity.transform.world);\r\n\r\n            GlobalToLocal(mat, localX, localY, point);\r\n\r\n            if (this.checkHitArea(entity, point.x, point.y))\r\n            {\r\n                this.hitPoint.set(point.x, point.y);\r\n\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    hitTestChildren <T extends IGameObject> (parent: T, topOnly: boolean = true): IGameObject[]\r\n    {\r\n        const output: IGameObject[] = [];\r\n\r\n        if (!parent.visible)\r\n        {\r\n            return output;\r\n        }\r\n\r\n        //  Build a list of potential input candidates\r\n        const candidates: IGameObject[] = [];\r\n        const parentInput = parent.input;\r\n\r\n        if (parentInput && parentInput.enabled)\r\n        {\r\n            candidates.push(parent);\r\n        }\r\n\r\n        if (parentInput.enabledChildren && parent.numChildren)\r\n        {\r\n            this.getInteractiveChildren(parent, candidates);\r\n        }\r\n\r\n        for (let i: number = candidates.length - 1; i >= 0; i--)\r\n        {\r\n            const entity = candidates[i];\r\n\r\n            if (this.hitTest(entity))\r\n            {\r\n                output.push(entity);\r\n\r\n                if (topOnly)\r\n                {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    shutdown (): void\r\n    {\r\n        const target = this.target;\r\n\r\n        target.removeEventListener('mousedown', this.mousedownHandler);\r\n        target.removeEventListener('mouseup', this.mouseupHandler);\r\n        target.removeEventListener('wheel', this.mousewheelHandler);\r\n        target.removeEventListener('contextmenu', this.contextmenuHandler);\r\n\r\n        window.removeEventListener('mouseup', this.mouseupHandler);\r\n        window.removeEventListener('mousemove', this.mousemoveHandler);\r\n        window.removeEventListener('blur', this.blurHandler);\r\n    }\r\n}\r\n", "import { Mouse } from './Mouse';\r\n\r\nexport {\r\n    Mouse\r\n};\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\n\r\nexport function SetInteractive <T extends IGameObject> (...children: T[]): T[]\r\n{\r\n    children.forEach(child =>\r\n    {\r\n        child.input.enabled = true;\r\n    });\r\n\r\n    return children;\r\n}\r\n", "import * as Keyboard from './keyboard';\r\nimport * as Mouse from './mouse';\r\n\r\nimport { SetInteractive } from './SetInteractive';\r\n\r\nexport {\r\n    Keyboard,\r\n    Mouse,\r\n    SetInteractive\r\n};\r\n", "/* eslint-disable @typescript-eslint/no-unsafe-call */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\n\r\nimport { Frame } from '../Frame';\r\nimport { Texture } from '../Texture';\r\n\r\nexport function AtlasParser (texture: Texture, data: any): void\r\n{\r\n    let frames;\r\n\r\n    if (Array.isArray(data.textures))\r\n    {\r\n        //  TP3 Format\r\n        frames = data.textures[0].frames;\r\n    }\r\n    else if (Array.isArray(data.frames))\r\n    {\r\n        //  TP2 Format Array\r\n        frames = data.frames;\r\n    }\r\n    else if (data.hasOwnProperty('frames'))\r\n    {\r\n        //  TP2 Format Hash\r\n        frames = Object.values(data.frames);\r\n    }\r\n    else\r\n    {\r\n        console.warn('Invalid Texture Atlas JSON');\r\n    }\r\n\r\n    if (frames)\r\n    {\r\n        let newFrame: Frame;\r\n\r\n        for (let i = 0; i < frames.length; i++)\r\n        {\r\n            const src = frames[i];\r\n\r\n            //  The frame values are the exact coordinates to cut the frame out of the atlas from\r\n            newFrame = texture.addFrame(src.filename, src.frame.x, src.frame.y, src.frame.w, src.frame.h);\r\n\r\n            //  These are the original (non-trimmed) sprite values\r\n            if (src.trimmed)\r\n            {\r\n                newFrame.setTrim(\r\n                    src.sourceSize.w,\r\n                    src.sourceSize.h,\r\n                    src.spriteSourceSize.x,\r\n                    src.spriteSourceSize.y,\r\n                    src.spriteSourceSize.w,\r\n                    src.spriteSourceSize.h\r\n                );\r\n            }\r\n            else\r\n            {\r\n                newFrame.setSourceSize(src.sourceSize.w, src.sourceSize.h);\r\n            }\r\n\r\n            if (src.rotated)\r\n            {\r\n                // newFrame.rotated = true;\r\n                // newFrame.updateUVsInverted();\r\n            }\r\n\r\n            if (src.anchor)\r\n            {\r\n                newFrame.setPivot(src.anchor.x, src.anchor.y);\r\n            }\r\n        }\r\n    }\r\n}\r\n", "import { Loader } from './Loader';\r\n\r\nexport class File\r\n{\r\n    key: string;\r\n    url: string;\r\n    responseType: XMLHttpRequestResponseType = 'text';\r\n    crossOrigin: string | undefined = undefined;\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    data: any;\r\n\r\n    error: ErrorEvent | undefined;\r\n    config: unknown;\r\n    skipCache: boolean = false;\r\n    hasLoaded: boolean = false;\r\n    loader: Loader;\r\n    load: () => Promise<File>;\r\n\r\n    constructor (key: string, url: string, config?: unknown)\r\n    {\r\n        this.key = key;\r\n        this.url = url;\r\n        this.config = config;\r\n    }\r\n}\r\n", "import { Loader } from './Loader';\r\n\r\nexport function GetURL (key: string, url: string, extension: string, loader?: Loader): string\r\n{\r\n    if (!url)\r\n    {\r\n        url = key + extension;\r\n    }\r\n\r\n    if ((/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/).exec(url))\r\n    {\r\n        return url;\r\n    }\r\n    else if (loader)\r\n    {\r\n        return loader.baseURL + loader.path + url;\r\n    }\r\n    else\r\n    {\r\n        return url;\r\n    }\r\n}\r\n", "import { File } from './File';\r\n\r\nexport function ImageTagLoader (file: File): Promise<File>\r\n{\r\n    file.data = new Image();\r\n\r\n    if (file.crossOrigin)\r\n    {\r\n        file.data.crossOrigin = file.crossOrigin;\r\n    }\r\n\r\n    return new Promise((resolve, reject) =>\r\n    {\r\n        file.data.onload = (): void =>\r\n        {\r\n            if (file.data.onload)\r\n            {\r\n                file.data.onload = null;\r\n                file.data.onerror = null;\r\n                resolve(file);\r\n            }\r\n        };\r\n\r\n        file.data.onerror = (event: ErrorEvent): void =>\r\n        {\r\n            if (file.data.onload)\r\n            {\r\n                file.data.onload = null;\r\n                file.data.onerror = null;\r\n                file.error = event;\r\n                reject(file);\r\n            }\r\n        };\r\n\r\n        file.data.src = file.url;\r\n\r\n        // Image is immediately-available or cached\r\n\r\n        if (file.data.complete && file.data.width && file.data.height)\r\n        {\r\n            file.data.onload = null;\r\n            file.data.onerror = null;\r\n            resolve(file);\r\n        }\r\n    });\r\n}\r\n", "import { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { ImageTagLoader } from '../ImageTagLoader';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\n\r\nexport function ImageFile (key: string, url?: string, glConfig?: IGLTextureBindingConfig): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.png', file.loader);\r\n\r\n        if (file.loader)\r\n        {\r\n            file.crossOrigin = file.loader.crossOrigin;\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const textureManager = TextureManagerInstance.get();\r\n\r\n            if (textureManager.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                ImageTagLoader(file).then(file =>\r\n                {\r\n                    textureManager.add(file.key, file.data as HTMLImageElement, glConfig);\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "const caches = new Map();\r\n\r\nexport const Cache = {\r\n\r\n    get: (type: string): Map<string, unknown> =>\r\n    {\r\n        if (!caches.has(type))\r\n        {\r\n            caches.set(type, new Map());\r\n        }\r\n\r\n        return caches.get(type);\r\n    },\r\n\r\n    getEntry: (cache: string, entry: string): unknown =>\r\n    {\r\n        if (caches.has(cache))\r\n        {\r\n            return caches.get(cache).get(entry);\r\n        }\r\n    }\r\n\r\n};\r\n", "import { File } from './File';\r\n\r\nexport function XHRLoader (file: File): Promise<File>\r\n{\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('GET', file.url, true);\r\n\r\n    xhr.responseType = file.responseType;\r\n\r\n    return new Promise((resolve, reject) =>\r\n    {\r\n        xhr.onload = (): void =>\r\n        {\r\n            file.data = xhr.responseText;\r\n            file.hasLoaded = true;\r\n\r\n            resolve(file);\r\n        };\r\n\r\n        xhr.onerror = (): void =>\r\n        {\r\n            file.hasLoaded = true;\r\n\r\n            reject(file);\r\n\r\n        };\r\n\r\n        xhr.send();\r\n    });\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport function JSONFile (key: string, url?: string): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.json', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('JSON');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    file.data = JSON.parse(file.data);\r\n\r\n                    if (!file.skipCache)\r\n                    {\r\n                        cache.set(file.key, file.data);\r\n                    }\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { AtlasParser } from '../../textures/parsers/AtlasParser';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { ImageFile } from './ImageFile';\r\nimport { JSONFile } from './JSONFile';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\n\r\nexport function AtlasFile (key: string, textureURL?: string, atlasURL?: string, glConfig?: IGLTextureBindingConfig): File\r\n{\r\n    const json = JSONFile(key, atlasURL);\r\n    const image = ImageFile(key, textureURL, glConfig);\r\n\r\n    const file = new File(key, '');\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        //  If called via a Loader, it has been set into the file const\r\n        json.url = GetURL(json.key, json.url, '.json', file.loader);\r\n        image.url = GetURL(image.key, image.url, '.png', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            json.skipCache = true;\r\n\r\n            json.load().then(() =>\r\n            {\r\n                image.load().then(() =>\r\n                {\r\n                    //  By this stage, the JSON and image are loaded and in the texture manager\r\n\r\n                    AtlasParser(TextureManagerInstance.get().get(key), json.data);\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(() =>\r\n                {\r\n                    reject(file);\r\n                });\r\n\r\n            }).catch(() =>\r\n            {\r\n                reject(file);\r\n            });\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { Frame } from '../Frame';\r\nimport { Texture } from '../Texture';\r\n\r\n/**\r\n * Read an integer value from an XML Node.\r\n *\r\n * @function getValue\r\n * @since 3.0.0\r\n * @private\r\n *\r\n * @param {Node} node - The XML Node.\r\n * @param {string} attribute - The attribute to read.\r\n *\r\n * @return {integer} The parsed value.\r\n */\r\nfunction GetValue (node: any, attribute: string): number\r\n{\r\n    return parseInt(node.getAttribute(attribute), 10);\r\n}\r\n\r\ntype BitmapCharacter = {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    // centerX: number;\r\n    // centerY: number,\r\n    xOffset: number;\r\n    yOffset: number;\r\n    xAdvance: number;\r\n    // data: {};\r\n    kerning: Record<number, number>;\r\n};\r\n\r\ntype BitmapData = {\r\n    font: string;\r\n    size: number;\r\n    lineHeight: number;\r\n    chars: Record<number, BitmapCharacter>;\r\n};\r\n\r\nexport function BitmapTextParser (texture: Texture, xml: XMLDocument, frame?: Frame): BitmapData\r\n{\r\n    const xSpacing = 0;\r\n    const ySpacing = 0;\r\n\r\n    const info = xml.getElementsByTagName('info')[0];\r\n    const common = xml.getElementsByTagName('common')[0];\r\n\r\n    const data: BitmapData = {\r\n        font: info.getAttribute('face'),\r\n        size: GetValue(info, 'size'),\r\n        lineHeight: GetValue(common, 'lineHeight') + ySpacing,\r\n        chars: {}\r\n    };\r\n\r\n    const letters = xml.getElementsByTagName('char');\r\n\r\n    // var adjustForTrim = (frame !== undefined && frame.trimmed);\r\n\r\n    // if (adjustForTrim)\r\n    // {\r\n    //     var top = frame.height;\r\n    //     var left = frame.width;\r\n    // }\r\n\r\n    for (let i: number = 0; i < letters.length; i++)\r\n    {\r\n        const node = letters[i];\r\n\r\n        const charCode = GetValue(node, 'id');\r\n        const x = GetValue(node, 'x');\r\n        const y = GetValue(node, 'y');\r\n        const width = GetValue(node, 'width');\r\n        const height = GetValue(node, 'height');\r\n\r\n        //  Handle frame trim issues\r\n\r\n        // if (adjustForTrim)\r\n        // {\r\n        //     if (gx < left)\r\n        //     {\r\n        //         left = gx;\r\n        //     }\r\n\r\n        //     if (gy < top)\r\n        //     {\r\n        //         top = gy;\r\n        //     }\r\n        // }\r\n\r\n        data.chars[charCode] =\r\n        {\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n            // centerX: Math.floor(width / 2),\r\n            // centerY: Math.floor(height / 2),\r\n            xOffset: GetValue(node, 'xoffset'),\r\n            yOffset: GetValue(node, 'yoffset'),\r\n            xAdvance: GetValue(node, 'xadvance') + xSpacing,\r\n            // data: {},\r\n            kerning: {}\r\n        };\r\n\r\n        texture.addFrame(charCode, x, y, width, height);\r\n    }\r\n\r\n    /*\r\n    if (adjustForTrim && top !== 0 && left !== 0)\r\n    {\r\n        //  Now we know the top and left coordinates of the glyphs in the original data\r\n        //  so we can work out how much to adjust the glyphs by\r\n\r\n        for (var code in data.chars)\r\n        {\r\n            var glyph = data.chars[code];\r\n\r\n            glyph.x -= frame.x;\r\n            glyph.y -= frame.y;\r\n        }\r\n    }\r\n    */\r\n\r\n    const kernings = xml.getElementsByTagName('kerning');\r\n\r\n    for (let i: number = 0; i < kernings.length; i++)\r\n    {\r\n        const kern = kernings[i];\r\n\r\n        const first = GetValue(kern, 'first');\r\n        const second = GetValue(kern, 'second');\r\n        const amount = GetValue(kern, 'amount');\r\n\r\n        data.chars[second].kerning[first] = amount;\r\n    }\r\n\r\n    return data;\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { ParseXML } from '../../dom/ParseXML';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport function XMLFile (key: string, url?: string): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.xml', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('XML');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    const xml = ParseXML(file.data);\r\n\r\n                    if (xml !== null)\r\n                    {\r\n                        file.data = xml;\r\n\r\n                        if (!file.skipCache)\r\n                        {\r\n                            cache.set(file.key, xml);\r\n                        }\r\n\r\n                        resolve(file);\r\n                    }\r\n                    else\r\n                    {\r\n                        reject(file);\r\n                    }\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { BitmapTextParser } from '../../textures/parsers/BitmapTextParser';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { ImageFile } from './ImageFile';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\nimport { XMLFile } from './XMLFile';\r\n\r\nexport function BitmapTextFile (key: string, textureURL?: string, fontDataURL?: string, glConfig?: IGLTextureBindingConfig): File\r\n{\r\n    const xml = XMLFile(key, fontDataURL);\r\n    const image = ImageFile(key, textureURL, glConfig);\r\n\r\n    const file = new File(key, '');\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        //  If called via a Loader, it has been set into the file const\r\n        xml.url = GetURL(xml.key, xml.url, '.xml', file.loader);\r\n        image.url = GetURL(image.key, image.url, '.png', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            xml.skipCache = true;\r\n\r\n            xml.load().then(() =>\r\n            {\r\n                image.load().then(() =>\r\n                {\r\n                    //  By this stage, the XML and image are loaded and in the texture manager\r\n                    const texture = TextureManagerInstance.get().get(key);\r\n\r\n                    const fontData = BitmapTextParser(texture, xml.data as XMLDocument);\r\n\r\n                    texture.data = fontData;\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(() =>\r\n                {\r\n                    reject(file);\r\n                });\r\n\r\n            }).catch(() =>\r\n            {\r\n                reject(file);\r\n            });\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport function CSVFile (key: string, url?: string): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.csv', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('CSV');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    if (!file.skipCache)\r\n                    {\r\n                        cache.set(file.key, file.data);\r\n                    }\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { Geometry } from '../../gameobjects3d/geometry/Geometry';\r\nimport { GetURL } from '../GetURL';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport type JSONGeometryMappingConfig = {\r\n    vertices?: string;\r\n    normals?: string;\r\n    uvs?: string;\r\n    numberOfVertices?: number;\r\n};\r\n\r\nexport function JSONGeometryFile (key: string, url?: string, mappingConfig?: JSONGeometryMappingConfig): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    const {\r\n        vertices = 'verts',\r\n        normals = 'normals',\r\n        uvs = 'uvs',\r\n        numberOfVertices = 0\r\n    } = mappingConfig;\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.json', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('Geometry');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    const data = JSON.parse(file.data);\r\n\r\n                    const geom = new Geometry({\r\n                        vertices: data[vertices],\r\n                        normals: data[normals],\r\n                        uvs: data[uvs],\r\n                        numberOfVertices: numberOfVertices\r\n                    });\r\n\r\n                    file.data = geom;\r\n\r\n                    if (!file.skipCache)\r\n                    {\r\n                        cache.set(file.key, geom);\r\n                    }\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport function OBJFile (key: string, url?: string): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.obj', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('Obj');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    if (!file.skipCache)\r\n                    {\r\n                        cache.set(file.key, file.data);\r\n                    }\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { Cache } from '../../cache/Cache';\r\nimport { File } from '../File';\r\nimport { Geometry } from '../../gameobjects3d/geometry/Geometry';\r\nimport { GetBufferFromObj } from '../../gameobjects3d/geometry/GetBufferFromObj';\r\nimport { GetURL } from '../GetURL';\r\nimport { XHRLoader } from '../XHRLoader';\r\n\r\nexport function OBJGeometryFile (key: string, url?: string, flipUVs: boolean = true): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.obj', file.loader);\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const cache = Cache.get('Geometry');\r\n\r\n            if (!file.skipCache && cache.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                XHRLoader(file).then(file =>\r\n                {\r\n                    const models = GetBufferFromObj(file.data, flipUVs);\r\n\r\n                    file.data = models;\r\n\r\n                    if (!file.skipCache)\r\n                    {\r\n                        let key = file.key;\r\n\r\n                        models.forEach((model, index) =>\r\n                        {\r\n                            if (index > 0)\r\n                            {\r\n                                key = file.key + index.toString();\r\n                            }\r\n\r\n                            const geom = new Geometry(model.buffer);\r\n\r\n                            cache.set(key, geom);\r\n\r\n                        });\r\n                    }\r\n\r\n                    resolve(file);\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { IFrameConfig } from '../IFrameConfig';\r\nimport { Texture } from '../Texture';\r\n\r\nexport function SpriteSheetParser (texture: Texture, x: number, y: number, width: number, height: number, frameConfig: IFrameConfig): void\r\n{\r\n    const {\r\n        frameWidth = null,\r\n        endFrame = -1,\r\n        margin = 0,\r\n        spacing = 0\r\n    } = frameConfig;\r\n\r\n    let {\r\n        frameHeight = null,\r\n        startFrame = 0\r\n    } = frameConfig;\r\n\r\n    if (!frameHeight)\r\n    {\r\n        frameHeight = frameWidth;\r\n    }\r\n\r\n    //  If missing we can't proceed\r\n    if (frameWidth === null)\r\n    {\r\n        throw new Error('SpriteSheetParser: Invalid frameWidth');\r\n    }\r\n\r\n    const row: number = Math.floor((width - margin + spacing) / (frameWidth + spacing));\r\n    const column: number = Math.floor((height - margin + spacing) / (frameHeight + spacing));\r\n    let total: number = row * column;\r\n\r\n    if (total === 0)\r\n    {\r\n        console.warn('SpriteSheetParser: Frame config will result in zero frames');\r\n    }\r\n\r\n    if (startFrame > total || startFrame < -total)\r\n    {\r\n        startFrame = 0;\r\n    }\r\n\r\n    if (startFrame < 0)\r\n    {\r\n        //  Allow negative skipframes.\r\n        startFrame = total + startFrame;\r\n    }\r\n\r\n    if (endFrame !== -1)\r\n    {\r\n        total = startFrame + (endFrame + 1);\r\n    }\r\n\r\n    let fx: number = margin;\r\n    let fy: number = margin;\r\n    let ax: number = 0;\r\n    let ay: number = 0;\r\n\r\n    for (let i: number = 0; i < total; i++)\r\n    {\r\n        ax = 0;\r\n        ay = 0;\r\n\r\n        const w: number = fx + frameWidth;\r\n        const h: number = fy + frameHeight;\r\n\r\n        if (w > width)\r\n        {\r\n            ax = w - width;\r\n        }\r\n\r\n        if (h > height)\r\n        {\r\n            ay = h - height;\r\n        }\r\n\r\n        texture.addFrame(i, x + fx, y + fy, frameWidth - ax, frameHeight - ay);\r\n\r\n        fx += frameWidth + spacing;\r\n\r\n        if (fx + frameWidth > width)\r\n        {\r\n            fx = margin;\r\n            fy += frameHeight + spacing;\r\n        }\r\n    }\r\n}\r\n", "import { File } from '../File';\r\nimport { GetURL } from '../GetURL';\r\nimport { IFrameConfig } from '../../textures/IFrameConfig';\r\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { ImageTagLoader } from '../ImageTagLoader';\r\nimport { SpriteSheetParser } from '../../textures/parsers/SpriteSheetParser';\r\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\r\n\r\nexport function SpriteSheetFile (key: string, url: string, frameConfig: IFrameConfig, glConfig?: IGLTextureBindingConfig): File\r\n{\r\n    const file = new File(key, url);\r\n\r\n    file.load = (): Promise<File> =>\r\n    {\r\n        file.url = GetURL(file.key, file.url, '.png', file.loader);\r\n\r\n        if (file.loader)\r\n        {\r\n            file.crossOrigin = file.loader.crossOrigin;\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const textureManager = TextureManagerInstance.get();\r\n\r\n            if (textureManager.has(file.key))\r\n            {\r\n                resolve(file);\r\n            }\r\n            else\r\n            {\r\n                ImageTagLoader(file).then(file =>\r\n                {\r\n                    const texture = textureManager.add(file.key, file.data as HTMLImageElement, glConfig);\r\n\r\n                    if (texture)\r\n                    {\r\n                        SpriteSheetParser(texture, 0, 0, texture.width, texture.height, frameConfig);\r\n\r\n                        resolve(file);\r\n                    }\r\n                    else\r\n                    {\r\n                        reject(file);\r\n                    }\r\n\r\n                }).catch(file =>\r\n                {\r\n                    reject(file);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    return file;\r\n}\r\n", "import { AtlasFile } from './AtlasFile';\r\nimport { BitmapTextFile } from './BitmapTextFile';\r\nimport { CSVFile } from './CSVFile';\r\nimport { ImageFile } from './ImageFile';\r\nimport { JSONFile } from './JSONFile';\r\nimport { JSONGeometryFile } from './JSONGeometryFile';\r\nimport { OBJFile } from './OBJFile';\r\nimport { OBJGeometryFile } from './OBJGeometryFile';\r\nimport { SpriteSheetFile } from './SpriteSheetFile';\r\nimport { XMLFile } from './XMLFile';\r\n\r\nexport {\r\n    AtlasFile,\r\n    BitmapTextFile,\r\n    CSVFile,\r\n    ImageFile,\r\n    JSONFile,\r\n    JSONGeometryFile,\r\n    OBJFile,\r\n    OBJGeometryFile,\r\n    SpriteSheetFile,\r\n    XMLFile\r\n};\r\n", "import { Emit, EventEmitter } from '../events';\r\n\r\nimport { File } from './File';\r\n\r\nexport class Loader extends EventEmitter\r\n{\r\n    baseURL: string = '';\r\n    path: string = '';\r\n    crossOrigin: string = 'anonymous';\r\n\r\n    //  -1 means load everything at once (only recommended on http/2 servers)\r\n    maxParallelDownloads: number = -1;\r\n\r\n    isLoading: boolean = false;\r\n    progress: number;\r\n\r\n    queue: Set<File>;\r\n    inflight: Set<File>;\r\n    completed: Set<File>;\r\n\r\n    onComplete: Function;\r\n    onError: Function;\r\n\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset (): void\r\n    {\r\n        this.isLoading = false;\r\n\r\n        this.queue = new Set();\r\n        this.inflight = new Set();\r\n        this.completed = new Set();\r\n\r\n        this.progress = 0;\r\n    }\r\n\r\n    add (...file: File[]): this\r\n    {\r\n        file.forEach(entity =>\r\n        {\r\n            entity.loader = this;\r\n\r\n            this.queue.add(entity);\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    start (): Promise<Loader>\r\n    {\r\n        if (this.isLoading)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            this.completed.clear();\r\n            this.progress = 0;\r\n\r\n            if (this.queue.size > 0)\r\n            {\r\n                this.isLoading = true;\r\n\r\n                this.onComplete = resolve;\r\n                this.onError = reject;\r\n\r\n                // console.log('Loader.start');\r\n\r\n                Emit(this, 'start');\r\n\r\n                this.nextFile();\r\n            }\r\n            else\r\n            {\r\n                this.progress = 1;\r\n\r\n                Emit(this, 'complete');\r\n\r\n                resolve();\r\n                // onComplete();\r\n            }\r\n        });\r\n\r\n        /*\r\n        if (this.isLoading)\r\n        {\r\n            return this;\r\n        }\r\n\r\n        this.completed.clear();\r\n        this.progress = 0;\r\n\r\n        if (this.queue.size > 0)\r\n        {\r\n            this.isLoading = true;\r\n\r\n            this.onComplete = onComplete;\r\n\r\n            // console.log('Loader.start');\r\n\r\n            Emit(this, 'start');\r\n\r\n            this.nextFile();\r\n        }\r\n        else\r\n        {\r\n            this.progress = 1;\r\n\r\n            Emit(this, 'complete');\r\n\r\n            onComplete();\r\n        }\r\n\r\n        return this;\r\n        */\r\n    }\r\n\r\n    nextFile (): void\r\n    {\r\n        let limit = this.queue.size;\r\n\r\n        if (this.maxParallelDownloads !== -1)\r\n        {\r\n            limit = Math.min(limit, this.maxParallelDownloads) - this.inflight.size;\r\n        }\r\n\r\n        // console.log('Loader.nextFile', limit);\r\n\r\n        if (limit)\r\n        {\r\n            // console.log('Batching', limit, 'files to download');\r\n\r\n            const iterator = this.queue.values();\r\n\r\n            while (limit > 0)\r\n            {\r\n                const file = iterator.next().value;\r\n\r\n                // console.log('Loader.nextFile', file.key, '=>', file.url);\r\n\r\n                this.inflight.add(file);\r\n\r\n                this.queue.delete(file);\r\n\r\n                file.load()\r\n                    .then(\r\n                        (file: File) => this.fileComplete(file)\r\n                    )\r\n                    .catch(\r\n                        (file: File) => this.fileError(file)\r\n                    );\r\n\r\n                limit--;\r\n            }\r\n        }\r\n        else if (this.inflight.size === 0)\r\n        {\r\n            // console.log('Loader inflight zero');\r\n\r\n            this.stop();\r\n\r\n            // window.setTimeout(() => this.stop(), 0);\r\n        }\r\n    }\r\n\r\n    stop (): void\r\n    {\r\n        if (!this.isLoading)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.isLoading = false;\r\n\r\n        Emit(this, 'complete', this.completed);\r\n\r\n        this.onComplete();\r\n\r\n        this.completed.clear();\r\n    }\r\n\r\n    private updateProgress (file: File): void\r\n    {\r\n        this.inflight.delete(file);\r\n        this.completed.add(file);\r\n\r\n        const totalCompleted = this.completed.size;\r\n        const totalQueued = this.queue.size + this.inflight.size;\r\n\r\n        if (totalCompleted > 0)\r\n        {\r\n            this.progress = totalCompleted / (totalCompleted + totalQueued);\r\n        }\r\n\r\n        Emit(this, 'progress', this.progress, totalCompleted, totalQueued);\r\n\r\n        this.nextFile();\r\n    }\r\n\r\n    private fileComplete (file: File): void\r\n    {\r\n        Emit(this, 'filecomplete', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    private fileError (file: File): void\r\n    {\r\n        Emit(this, 'fileerror', file);\r\n\r\n        this.updateProgress(file);\r\n    }\r\n\r\n    totalFilesToLoad (): number\r\n    {\r\n        return this.queue.size + this.inflight.size;\r\n    }\r\n\r\n    setBaseURL (url: string = ''): this\r\n    {\r\n        if (url !== '' && url.substr(-1) !== '/')\r\n        {\r\n            url = url.concat('/');\r\n        }\r\n\r\n        this.baseURL = url;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPath (path: string = ''): this\r\n    {\r\n        if (path !== '' && path.substr(-1) !== '/')\r\n        {\r\n            path = path.concat('/');\r\n        }\r\n\r\n        this.path = path;\r\n\r\n        return this;\r\n    }\r\n\r\n    setCORS (crossOrigin: string): this\r\n    {\r\n        this.crossOrigin = crossOrigin;\r\n\r\n        return this;\r\n    }\r\n\r\n    setMaxParallelDownloads (max: number): this\r\n    {\r\n        this.maxParallelDownloads = max;\r\n\r\n        return this;\r\n    }\r\n}\r\n", "import * as Files from './files';\r\nimport { File } from './File';\r\nimport { Loader } from './Loader';\r\n\r\nexport {\r\n    File,\r\n    Files,\r\n    Loader\r\n};\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const BlackPlastic = new Material({\r\n    ambient: [ 0, 0, 0 ],\r\n    diffuse: [ 0.01, 0.01, 0.01 ],\r\n    specular: [ 0.5, 0.5, 0.5 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const BlackRubber = new Material({\r\n    ambient: [ 0.02, 0.02, 0.02 ],\r\n    diffuse: [ 0.01, 0.01, 0.01 ],\r\n    specular: [ 0.4, 0.4, 0.4 ],\r\n    shine: 0.078125\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Brass = new Material({\r\n    ambient: [ 0.329412, 0.223529, 0.027451 ],\r\n    diffuse: [ 0.780392, 0.568627, 0.113725 ],\r\n    specular: [ 0.992157, 0.941176, 0.807843 ],\r\n    shine: 0.21794872\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Bronze = new Material({\r\n    ambient: [ 0.2125, 0.1275, 0.054 ],\r\n    diffuse: [ 0.714, 0.4284, 0.18144 ],\r\n    specular: [ 0.393548, 0.271906, 0.166721 ],\r\n    shine: 0.2\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Chrome = new Material({\r\n    ambient: [ 0.25, 0.25, 0.25 ],\r\n    diffuse: [ 0.4, 0.4, 0.4 ],\r\n    specular: [ 0.774597, 0.774597, 0.774597 ],\r\n    shine: 0.6\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Copper = new Material({\r\n    ambient: [ 0.19125, 0.0735, 0.0225 ],\r\n    diffuse: [ 0.7038, 0.27048, 0.0828 ],\r\n    specular: [ 0.256777, 0.137622, 0.086014 ],\r\n    shine: 0.1\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const CyanPlastic = new Material({\r\n    ambient: [ 0, 0.1, 0.06 ],\r\n    diffuse: [ 0, 0.50980392, 0.50980392 ],\r\n    specular: [ 0.50196078, 0.50196078, 0.50196078 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const CyanRubber = new Material({\r\n    ambient: [ 0, 0.05, 0.05 ],\r\n    diffuse: [ 0.4, 0.5, 0.5 ],\r\n    specular: [ 0.04, 0.7, 0.7 ],\r\n    shine: 0.078125\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Emerald = new Material({\r\n    ambient: [ 0.0215, 0.1745, 0.0215 ],\r\n    diffuse: [ 0.07568, 0.61424, 0.07568 ],\r\n    specular: [ 0.633, 0.727811, 0.633 ],\r\n    shine: 0.6\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Gold = new Material({\r\n    ambient: [ 0.24725, 0.1995, 0.0745 ],\r\n    diffuse: [ 0.75164, 0.60648, 0.22648 ],\r\n    specular: [ 0.628281, 0.555802, 0.366065 ],\r\n    shine: 0.4\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const GreenPlastic = new Material({\r\n    ambient: [ 0, 0, 0 ],\r\n    diffuse: [ 0.1, 0.35, 0.1 ],\r\n    specular: [ 0.45, 0.55, 0.45 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const GreenRubber = new Material({\r\n    ambient: [ 0, 0.05, 0 ],\r\n    diffuse: [ 0.4, 0.5, 0.4 ],\r\n    specular: [ 0.04, 0.7, 0.04 ],\r\n    shine: 0.078125\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Jade = new Material({\r\n    ambient: [ 0.135, 0.2225, 0.1575 ],\r\n    diffuse: [ 0.54, 0.89, 0.63 ],\r\n    specular: [ 0.316228, 0.316228, 0.316228 ],\r\n    shine: 0.1\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Obsidian = new Material({\r\n    ambient: [ 0.05375, 0.05, 0.06625 ],\r\n    diffuse: [ 0.18275, 0.17, 0.22525 ],\r\n    specular: [ 0.332741, 0.328634, 0.346435 ],\r\n    shine: 0.3\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Pearl = new Material({\r\n    ambient: [ 0.25, 0.20725, 0.20725 ],\r\n    diffuse: [ 1, 0.829, 0.829 ],\r\n    specular: [ 0.296648, 0.296648, 0.296648 ],\r\n    shine: 0.088\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const RedPlastic = new Material({\r\n    ambient: [ 0, 0, 0 ],\r\n    diffuse: [ 0.5, 0, 0 ],\r\n    specular: [ 0.7, 0.6, 0.6 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const RedRubber = new Material({\r\n    ambient: [ 0.05, 0, 0 ],\r\n    diffuse: [ 0.5, 0.4, 0.4 ],\r\n    specular: [ 0.7, 0.04, 0.04 ],\r\n    shine: 0.078125\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Ruby = new Material({\r\n    ambient: [ 0.1745, 0.01175, 0.01175 ],\r\n    diffuse: [ 0.61424, 0.04136, 0.04136 ],\r\n    specular: [ 0.727811, 0.626959, 0.626959 ],\r\n    shine: 0.6\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Silver = new Material({\r\n    ambient: [ 0.19225, 0.19225, 0.19225 ],\r\n    diffuse: [ 0.50754, 0.50754, 0.50754 ],\r\n    specular: [ 0.508273, 0.508273, 0.508273 ],\r\n    shine: 0.4\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const Turquoise = new Material({\r\n    ambient: [ 0.1, 0.18725, 0.1745 ],\r\n    diffuse: [ 0.396, 0.74151, 0.69102 ],\r\n    specular: [ 0.297254, 0.30829, 0.306678 ],\r\n    shine: 0.1\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const WhitePlastic = new Material({\r\n    ambient: [ 0, 0, 0 ],\r\n    diffuse: [ 0.55, 0.55, 0.55 ],\r\n    specular: [ 0.7, 0.7, 0.7 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const WhiteRubber = new Material({\r\n    ambient: [ 0.05, 0.05, 0.05 ],\r\n    diffuse: [ 0.5, 0.5, 0.5 ],\r\n    specular: [ 0.7, 0.7, 0.7 ],\r\n    shine: 0.078125\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const YellowPlastic = new Material({\r\n    ambient: [ 0, 0, 0 ],\r\n    diffuse: [ 0.5, 0.5, 0 ],\r\n    specular: [ 0.6, 0.6, 0.5 ],\r\n    shine: 0.25\r\n});\r\n", "import { Material } from '../gameobjects3d/material/Material';\r\n\r\nexport const YellowRubber = new Material({\r\n    ambient: [ 0.05, 0.05, 0 ],\r\n    diffuse: [ 0.5, 0.5, 0.4 ],\r\n    specular: [ 0.7, 0.7, 0.04 ],\r\n    shine: 0.078125\r\n});\r\n", "import { BlackPlastic } from './BlackPlastic';\r\nimport { BlackRubber } from './BlackRubber';\r\nimport { Brass } from './Brass';\r\nimport { Bronze } from './Bronze';\r\nimport { Chrome } from './Chrome';\r\nimport { Copper } from './Copper';\r\nimport { CyanPlastic } from './CyanPlastic';\r\nimport { CyanRubber } from './CyanRubber';\r\nimport { Emerald } from './Emerald';\r\nimport { Gold } from './Gold';\r\nimport { GreenPlastic } from './GreenPlastic';\r\nimport { GreenRubber } from './GreenRubber';\r\nimport { Jade } from './Jade';\r\nimport { Obsidian } from './Obsidian';\r\nimport { Pearl } from './Pearl';\r\nimport { RedPlastic } from './RedPlastic';\r\nimport { RedRubber } from './RedRubber';\r\nimport { Ruby } from './Ruby';\r\nimport { Silver } from './Silver';\r\nimport { Turquoise } from './Turquoise';\r\nimport { WhitePlastic } from './WhitePlastic';\r\nimport { WhiteRubber } from './WhiteRubber';\r\nimport { YellowPlastic } from './YellowPlastic';\r\nimport { YellowRubber } from './YellowRubber';\r\n\r\nexport {\r\n    BlackPlastic,\r\n    BlackRubber,\r\n    Brass,\r\n    Bronze,\r\n    Chrome,\r\n    Copper,\r\n    CyanPlastic,\r\n    CyanRubber,\r\n    Emerald,\r\n    Gold,\r\n    GreenPlastic,\r\n    GreenRubber,\r\n    Jade,\r\n    Obsidian,\r\n    Pearl,\r\n    RedPlastic,\r\n    RedRubber,\r\n    Ruby,\r\n    Silver,\r\n    Turquoise,\r\n    WhitePlastic,\r\n    WhiteRubber,\r\n    YellowPlastic,\r\n    YellowRubber\r\n};\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n */\r\nexport const Arne16 = [\r\n    '#000',\r\n    '#9D9D9D',\r\n    '#FFF',\r\n    '#BE2633',\r\n    '#E06F8B',\r\n    '#493C2B',\r\n    '#A46422',\r\n    '#EB8931',\r\n    '#F7E26B',\r\n    '#2F484E',\r\n    '#44891A',\r\n    '#A3CE27',\r\n    '#1B2632',\r\n    '#005784',\r\n    '#31A2F2',\r\n    '#B2DCEF'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette inspired by the Commodore 64.\r\n */\r\nexport const C64 = [\r\n    '#000',\r\n    '#fff',\r\n    '#8b4131',\r\n    '#7bbdc5',\r\n    '#8b41ac',\r\n    '#6aac41',\r\n    '#3931a4',\r\n    '#d5de73',\r\n    '#945a20',\r\n    '#5a4100',\r\n    '#bd736a',\r\n    '#525252',\r\n    '#838383',\r\n    '#acee8b',\r\n    '#7b73de',\r\n    '#acacac'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color CGA inspired palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n */\r\nexport const CGA = [\r\n    '#000',\r\n    '#2234d1',\r\n    '#0c7e45',\r\n    '#44aacc',\r\n    '#8a3622',\r\n    '#5c2e78',\r\n    '#aa5c3d',\r\n    '#b5b5b5',\r\n    '#5e606e',\r\n    '#4c81fb',\r\n    '#6cd947',\r\n    '#7be2f9',\r\n    '#eb8a60',\r\n    '#e23d69',\r\n    '#ffd93f',\r\n    '#fff'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color JMP palette by [Arne](http://androidarts.com/palette/16pal.htm)\r\n */\r\nexport const JMP = [\r\n    '#000',\r\n    '#191028',\r\n    '#46af45',\r\n    '#a1d685',\r\n    '#453e78',\r\n    '#7664fe',\r\n    '#833129',\r\n    '#9ec2e8',\r\n    '#dc534b',\r\n    '#e18d79',\r\n    '#d6b97b',\r\n    '#e9d8a1',\r\n    '#216c4b',\r\n    '#d365c8',\r\n    '#afaab9',\r\n    '#f5f4eb'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette inspired by Japanese computers like the MSX.\r\n */\r\nexport const MSX = [\r\n    '#000',\r\n    '#191028',\r\n    '#46af45',\r\n    '#a1d685',\r\n    '#453e78',\r\n    '#7664fe',\r\n    '#833129',\r\n    '#9ec2e8',\r\n    '#dc534b',\r\n    '#e18d79',\r\n    '#d6b97b',\r\n    '#e9d8a1',\r\n    '#216c4b',\r\n    '#d365c8',\r\n    '#afaab9',\r\n    '#fff'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * A 16 color palette as used in Pico8. */\r\nexport const PICO8 = [\r\n    '#000',\r\n    '#1D2B53',\r\n    '#7E2553',\r\n    '#008751',\r\n    '#AB5236',\r\n    '#5F574F',\r\n    '#C2C3C7',\r\n    '#FFF1E8',\r\n    '#FF004D',\r\n    '#FFA300',\r\n    '#FFEC27',\r\n    '#00E436',\r\n    '#29ADFF',\r\n    '#83769C',\r\n    '#FF77A8',\r\n    '#FFCCAA'\r\n];\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Arne16 } from './Arne16';\r\nimport { C64 } from './C64';\r\nimport { CGA } from './CGA';\r\nimport { JMP } from './JMP';\r\nimport { MSX } from './MSX';\r\nimport { PICO8 } from './PICO8';\r\n\r\nexport {\r\n    Arne16,\r\n    C64,\r\n    CGA,\r\n    JMP,\r\n    MSX,\r\n    PICO8\r\n};\r\n", "import { AtlasParser } from './AtlasParser';\r\nimport { BitmapTextParser } from './BitmapTextParser';\r\nimport { SpriteSheetParser } from './SpriteSheetParser';\r\n\r\nexport {\r\n    AtlasParser,\r\n    BitmapTextParser,\r\n    SpriteSheetParser\r\n};\r\n", "import { CreateCanvas } from '../CreateCanvas';\r\nimport { Texture } from '../Texture';\r\n\r\nexport function GridTexture (color1: string, color2: string, width: number = 32, height: number = 32, cols: number = 2, rows: number = 2): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    const colWidth = width / cols;\r\n    const rowHeight = height / rows;\r\n\r\n    ctx.fillStyle = color1;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    ctx.fillStyle = color2;\r\n\r\n    for (let y: number = 0; y < rows; y++)\r\n    {\r\n        for (let x: number = (y % 2); x < cols; x += 2)\r\n        {\r\n            ctx.fillRect(x * colWidth, y * rowHeight, colWidth, rowHeight);\r\n        }\r\n    }\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n", "/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2020 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\nimport { Arne16 } from '../palettes/Arne16';\r\nimport { CreateCanvas } from '../CreateCanvas';\r\nimport { Texture } from '../Texture';\r\n\r\n/**\r\n * @callback Phaser.Types.Create.GenerateTextureCallback\r\n * @since 3.0.0\r\n *\r\n * @param {HTMLCanvasElement} canvas - The HTML Canvas element to operate on.\r\n * @param {CanvasRenderingContext2D} context - The context of the HTML Canvas element.\r\n */\r\n\r\n/**\r\n * @typedef {object} Phaser.Types.Create.GenerateTextureConfig\r\n * @since 3.0.0\r\n *\r\n * @property {array} [data=[]] - An array of data, where each row is a string of single values 0-9A-F, or the period character.\r\n * @property {HTMLCanvasElement} [canvas=null] - The HTML Canvas to draw the texture to.\r\n * @property {Phaser.Types.Create.Palette} [palette=Arne16] - The indexed palette that the data cell values map to.\r\n * @property {number} [pixelWidth=1] - The width of each 'pixel' in the generated texture.\r\n * @property {number} [pixelHeight=1] - The height of each 'pixel' in the generated texture.\r\n * @property {boolean} [resizeCanvas=true] - Should the canvas be resized before the texture is drawn?\r\n * @property {boolean} [clearCanvas=true] - Should the canvas be cleared before the texture is drawn?\r\n * @property {Phaser.Types.Create.GenerateTextureCallback} [preRender] - A callback to send the canvas to prior to the texture being drawn.\r\n * @property {Phaser.Types.Create.GenerateTextureCallback} [postRender] - A callback to send the canvas to after the texture has been drawn.\r\n */\r\n\r\nexport type PixelTextureConfig = {\r\n    data: string[];\r\n    canvas?: HTMLCanvasElement;\r\n    palette?: string[];\r\n    pixelWidth?: number;\r\n    pixelHeight?: number;\r\n    resizeCanvas?: boolean;\r\n    clearCanvas?: boolean;\r\n    preRender?: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void;\r\n    postRender?: (canvas: HTMLCanvasElement, context: CanvasRenderingContext2D) => void;\r\n};\r\n\r\n/**\r\n * Generates a texture based on the given Create configuration object.\r\n *\r\n * The texture is drawn using a fixed-size indexed palette of 16 colors, where the hex value in the\r\n * data cells map to a single color. For example, if the texture config looked like this:\r\n *\r\n * ```javascript\r\n * var star = [\r\n *   '.....828.....',\r\n *   '....72227....',\r\n *   '....82228....',\r\n *   '...7222227...',\r\n *   '2222222222222',\r\n *   '8222222222228',\r\n *   '.72222222227.',\r\n *   '..787777787..',\r\n *   '..877777778..',\r\n *   '.78778887787.',\r\n *   '.27887.78872.',\r\n *   '.787.....787.'\r\n * ];\r\n *\r\n * this.textures.generate('star', { data: star, pixelWidth: 4 });\r\n * ```\r\n *\r\n * Then it would generate a texture that is 52 x 48 pixels in size, because each cell of the data array\r\n * represents 1 pixel multiplied by the `pixelWidth` value. The cell values, such as `8`, maps to color\r\n * number 8 in the palette. If a cell contains a period character `.` then it is transparent.\r\n *\r\n * The default palette is Arne16, but you can specify your own using the `palette` property.\r\n *\r\n * @function Phaser.Create.GenerateTexture\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Types.Create.GenerateTextureConfig} config - The Generate Texture Configuration object.\r\n *\r\n * @return {Texture} An HTMLCanvasElement which contains the generated texture drawn to it.\r\n */\r\nexport function PixelTexture (config: PixelTextureConfig): Texture\r\n{\r\n    const {\r\n        data = [],\r\n        palette = Arne16,\r\n        pixelWidth = 1,\r\n        pixelHeight = pixelWidth,\r\n        preRender = null,\r\n        postRender = null\r\n    } = config;\r\n\r\n    let {\r\n        canvas = null,\r\n        resizeCanvas = true,\r\n        clearCanvas = true\r\n    } = config;\r\n\r\n    const width = Math.floor(Math.abs(data[0].length * pixelWidth));\r\n    const height = Math.floor(Math.abs(data.length * pixelHeight));\r\n\r\n    if (!canvas)\r\n    {\r\n        canvas = CreateCanvas(width, height).canvas;\r\n        resizeCanvas = false;\r\n        clearCanvas = false;\r\n    }\r\n\r\n    if (resizeCanvas)\r\n    {\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n    }\r\n\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    if (clearCanvas)\r\n    {\r\n        ctx.clearRect(0, 0, width, height);\r\n    }\r\n\r\n    //  preRender Callback?\r\n    if (preRender)\r\n    {\r\n        preRender(canvas, ctx);\r\n    }\r\n\r\n    //  Draw it\r\n    for (let y = 0; y < data.length; y++)\r\n    {\r\n        const row = data[y];\r\n\r\n        for (let x = 0; x < row.length; x++)\r\n        {\r\n            const d: string = row[x];\r\n\r\n            if (d !== '.' && d !== ' ')\r\n            {\r\n                ctx.fillStyle = palette[parseInt('0x' + d.toUpperCase())];\r\n                ctx.fillRect(x * pixelWidth, y * pixelHeight, pixelWidth, pixelHeight);\r\n            }\r\n        }\r\n    }\r\n\r\n    //  postRender Callback?\r\n    if (postRender)\r\n    {\r\n        postRender(canvas, ctx);\r\n    }\r\n\r\n    return new Texture(canvas);\r\n}\r\n", "import { CreateFramebuffer } from '../../renderer/webgl1/fbo/CreateFramebuffer';\r\nimport { GLTextureBinding } from '../../renderer/webgl1/textures/GLTextureBinding';\r\nimport { ISprite } from '../../gameobjects/sprite/ISprite';\r\nimport { Texture } from '../Texture';\r\nimport { WebGLRenderer } from '../../renderer/webgl1/WebGLRenderer';\r\nimport { gl } from '../../renderer/webgl1/GL';\r\n\r\nexport class RenderTexture extends Texture\r\n{\r\n    renderer: WebGLRenderer;\r\n    cameraMatrix: Float32Array;\r\n    projectionMatrix: Float32Array;\r\n\r\n    constructor (renderer: WebGLRenderer, width: number = 256, height: number = width)\r\n    {\r\n        super(null, width, height);\r\n\r\n        this.renderer = renderer;\r\n\r\n        /*\r\n        const [ texture, framebuffer ] = CreateFramebuffer(width, height);\r\n\r\n        this.binding = new GLTextureBinding(this);\r\n\r\n        this.binding.texture = texture;\r\n        this.binding.framebuffer = framebuffer;\r\n\r\n        this.projectionMatrix = Ortho(width, height);\r\n        this.cameraMatrix = new Float32Array([ 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, height, 0, 1 ]);\r\n        */\r\n    }\r\n\r\n    cls (): this\r\n    {\r\n        // const renderer = this.renderer;\r\n\r\n        // renderer.reset(this.binding.framebuffer, this.width, this.height);\r\n        // gl.clearColor(0, 0, 0, 0);\r\n        // gl.clear(gl.COLOR_BUFFER_BIT);\r\n        // renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    batchStart (): this\r\n    {\r\n        // const renderer = this.renderer;\r\n\r\n        // renderer.reset(this.binding.framebuffer, this.width, this.height);\r\n\r\n        // renderer.currentShader.bind(this.projectionMatrix, this.cameraMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    batchDraw (sprites: ISprite[]): this\r\n    {\r\n        // const renderer = this.renderer;\r\n\r\n        for (let i = 0, len = sprites.length; i < len; i++)\r\n        {\r\n            // sprites[i].renderGL(renderer);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    batchEnd (): this\r\n    {\r\n        const renderer = this.renderer;\r\n\r\n        // renderer.flush();\r\n\r\n        renderer.reset();\r\n\r\n        return this;\r\n    }\r\n\r\n    draw (...sprites: ISprite[]): this\r\n    {\r\n        this.batchStart();\r\n        this.batchDraw(sprites);\r\n        this.batchEnd();\r\n\r\n        return this;\r\n    }\r\n}\r\n", "import { CreateCanvas } from '../CreateCanvas';\r\nimport { Texture } from '../Texture';\r\n\r\nexport function SolidColorTexture (color: string = 'rgba(0,0,0,0)', width: number = 32, height: number = 32): Texture\r\n{\r\n    const ctx = CreateCanvas(width, height);\r\n\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    return new Texture(ctx.canvas);\r\n}\r\n", "import { CanvasTexture } from './CanvasTexture';\r\nimport { GridTexture } from './GridTexture';\r\nimport { PixelTexture } from './PixelTexture';\r\nimport { RenderTexture } from './RenderTexture';\r\nimport { SolidColorTexture } from './SolidColorTexture';\r\n\r\nexport {\r\n    CanvasTexture,\r\n    GridTexture,\r\n    PixelTexture,\r\n    RenderTexture,\r\n    SolidColorTexture\r\n};\r\n", "import { Frame } from './Frame';\r\nimport { ITexture } from './ITexture';\r\n\r\nexport function GetFrames (texture: ITexture, frames: string[] | number[]): Frame[]\r\n{\r\n    const output: Frame[] = [];\r\n\r\n    frames.forEach((key: string | number) =>\r\n    {\r\n        output.push(texture.getFrame(key));\r\n    });\r\n\r\n    return output;\r\n}\r\n", "import { Frame } from './Frame';\r\nimport { ITexture } from './ITexture';\r\n\r\nexport type GetFramesInRangeConfig =\r\n{\r\n    prefix?: string;\r\n    start?: number;\r\n    end: number;\r\n    zeroPad?: number;\r\n    suffix?: string;\r\n};\r\n\r\nexport function GetFramesInRange (texture: ITexture, config: GetFramesInRangeConfig): Frame[]\r\n{\r\n    const {\r\n        prefix = '',\r\n        start = 0,\r\n        zeroPad = 0,\r\n        suffix = ''\r\n    } = config;\r\n\r\n    let end = config.end;\r\n\r\n    const output: Frame[] = [];\r\n\r\n    const diff: number = (start < end) ? 1 : -1;\r\n\r\n    //  Adjust because we use i !== end in the for loop\r\n    end += diff;\r\n\r\n    for (let i: number = start; i !== end; i += diff)\r\n    {\r\n        const frameKey = (prefix + i.toString().padStart(zeroPad, '0') + suffix);\r\n\r\n        output.push(texture.getFrame(frameKey));\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { Texture } from './Texture';\r\n\r\nexport function SetFilter (linear: boolean, ...textures: Texture[]): Texture[]\r\n{\r\n    textures.forEach(texture =>\r\n    {\r\n        if (texture.binding)\r\n        {\r\n            texture.binding.setFilter(linear);\r\n        }\r\n    });\r\n\r\n    return textures;\r\n}\r\n", "import { CreateCanvas } from './CreateCanvas';\r\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\r\nimport { Texture } from './Texture';\r\nimport { TextureManagerInstance } from './TextureManagerInstance';\r\n\r\nexport class TextureManager\r\n{\r\n    textures: Map<string, Texture>;\r\n\r\n    constructor ()\r\n    {\r\n        this.textures = new Map();\r\n\r\n        this.createDefaultTextures();\r\n\r\n        TextureManagerInstance.set(this);\r\n    }\r\n\r\n    private createDefaultTextures (): void\r\n    {\r\n        this.add('__BLANK', new Texture(CreateCanvas(32, 32).canvas));\r\n\r\n        const missing = CreateCanvas(32, 32);\r\n\r\n        missing.strokeStyle = '#0f0';\r\n        missing.moveTo(0, 0);\r\n        missing.lineTo(32, 32);\r\n        missing.stroke();\r\n        missing.strokeRect(0.5, 0.5, 31, 31);\r\n\r\n        this.add('__MISSING', new Texture(missing.canvas));\r\n\r\n        const white = CreateCanvas(32, 32);\r\n\r\n        white.fillStyle = '#fff';\r\n        white.fillRect(0, 0, 32, 32);\r\n\r\n        this.add('__WHITE', new Texture(white.canvas));\r\n    }\r\n\r\n    get (key: string): Texture\r\n    {\r\n        const textures = this.textures;\r\n\r\n        if (textures.has(key))\r\n        {\r\n            return textures.get(key);\r\n        }\r\n        else\r\n        {\r\n            return textures.get('__MISSING');\r\n        }\r\n    }\r\n\r\n    has (key: string): boolean\r\n    {\r\n        return this.textures.has(key);\r\n    }\r\n\r\n    add (key: string, source: Texture | HTMLImageElement, glConfig?: IGLTextureBindingConfig): Texture\r\n    {\r\n        let texture: Texture;\r\n        const textures = this.textures;\r\n\r\n        if (!textures.has(key))\r\n        {\r\n            if (source instanceof Texture)\r\n            {\r\n                texture = source;\r\n            }\r\n            else\r\n            {\r\n                texture = new Texture(source, 0, 0, glConfig);\r\n            }\r\n\r\n            texture.key = key;\r\n\r\n            textures.set(key, texture);\r\n        }\r\n\r\n        return texture;\r\n    }\r\n}\r\n", "import * as Palettes from './palettes';\r\nimport * as Parsers from './parsers';\r\nimport * as Types from './types';\r\n\r\nimport { CreateCanvas } from './CreateCanvas';\r\nimport { Frame } from './Frame';\r\nimport { GetFrames } from './GetFrames';\r\nimport { GetFramesInRange } from './GetFramesInRange';\r\nimport { SetFilter } from './SetFilter';\r\nimport { Texture } from './Texture';\r\nimport { TextureManager } from './TextureManager';\r\n\r\nexport {\r\n    CreateCanvas,\r\n    Frame,\r\n    GetFrames,\r\n    GetFramesInRange,\r\n    SetFilter,\r\n    Palettes,\r\n    Parsers,\r\n    Types,\r\n    Texture,\r\n    TextureManager\r\n};\r\n", "export function NOOP (): void\r\n{\r\n\r\n}\r\n", "import { Clock } from './Clock';\r\nimport { ITimerEvent } from './ITimerEvent';\r\nimport { ITimerEventConfig } from './ITimerEventConfig';\r\nimport { NOOP } from './NOOP';\r\n\r\nexport function AddTimer (clock: Clock, config: ITimerEventConfig): void\r\n{\r\n    const {\r\n        duration = 0,\r\n        repeat = 0,\r\n        delay = -1,\r\n        onStart = NOOP,\r\n        onUpdate = NOOP,\r\n        onRepeat = NOOP,\r\n        onComplete = NOOP\r\n    } = config;\r\n\r\n    const timer: ITimerEvent = {\r\n        elapsed: duration,\r\n        duration,\r\n        repeat,\r\n        delay,\r\n        update: null,\r\n        onStart,\r\n        onUpdate,\r\n        onRepeat,\r\n        onComplete\r\n    };\r\n\r\n    timer.update = (delta: number): boolean =>\r\n    {\r\n        if (timer.delay > 0)\r\n        {\r\n            timer.delay -= delta;\r\n\r\n            if (timer.delay < 0)\r\n            {\r\n                timer.delay = 0;\r\n            }\r\n            else\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (timer.delay === 0)\r\n        {\r\n            timer.onStart();\r\n            timer.delay = -1;\r\n        }\r\n\r\n        if (timer.delay === -1)\r\n        {\r\n            timer.elapsed -= delta;\r\n\r\n            timer.onUpdate(delta, timer.elapsed / timer.duration);\r\n\r\n            if (timer.elapsed <= 0)\r\n            {\r\n                if (timer.repeat > 0)\r\n                {\r\n                    timer.repeat--;\r\n\r\n                    timer.elapsed = timer.duration;\r\n\r\n                    timer.onRepeat(timer.repeat);\r\n                }\r\n                else\r\n                {\r\n                    timer.elapsed = 0;\r\n\r\n                    timer.onComplete();\r\n                }\r\n            }\r\n        }\r\n\r\n        return (timer.elapsed === 0);\r\n    };\r\n\r\n    clock.events.add(timer);\r\n}\r\n", "import { AddTimer } from './AddTimer';\r\nimport { Clock } from './Clock';\r\n\r\nexport function AddDelayedCall (clock: Clock, delay: number, callback: () => void): void\r\n{\r\n    AddTimer(clock,\r\n        {\r\n            duration: 0,\r\n            delay,\r\n            onComplete: callback\r\n        }\r\n    );\r\n}\r\n", "import { IBaseWorld } from '../world/IBaseWorld';\r\nimport { ITimerEvent } from './ITimerEvent';\r\n\r\nexport class Clock\r\n{\r\n    world: IBaseWorld;\r\n\r\n    /**\r\n     * The current time of the Clock, in milliseconds.\r\n     *\r\n     * If accessed externally, this is equivalent to the `time` parameter normally passed to a Scene's `update` method.\r\n     */\r\n    now: number;\r\n\r\n    /**\r\n     * The scale of the Clock's time delta.\r\n     *\r\n     * The time delta is the time elapsed between two consecutive frames and influences the speed of time for this Clock and anything which uses it, such as its Timer Events. Values higher than 1 increase the speed of time, while values smaller than 1 decrease it. A value of 0 freezes time and is effectively equivalent to pausing the Clock.\r\n     */\r\n    timeScale: number;\r\n\r\n    events: Set<ITimerEvent>;\r\n\r\n    constructor (world: IBaseWorld)\r\n    {\r\n        this.world = world;\r\n\r\n        this.timeScale = 1;\r\n\r\n        this.events = new Set();\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        this.now = time;\r\n\r\n        delta *= this.timeScale;\r\n\r\n        this.events.forEach(timer =>\r\n        {\r\n            if (timer.update(delta))\r\n            {\r\n                this.events.delete(timer);\r\n            }\r\n        });\r\n    }\r\n}\r\n", "import { AddDelayedCall } from './AddDelayedCall';\r\nimport { AddTimer } from './AddTimer';\r\nimport { Clock } from './Clock';\r\nimport { NOOP } from './NOOP';\r\n\r\nexport {\r\n    AddDelayedCall,\r\n    AddTimer,\r\n    Clock,\r\n    NOOP\r\n};\r\n", "import { IBaseWorld } from '../IBaseWorld';\r\nimport { IWorldRenderData } from '../IWorldRenderData';\r\n\r\nexport const WorldRenderEvent: string = 'worldrender';\r\n\r\nexport type WorldRenderEventHandler = (renderData: IWorldRenderData, world: IBaseWorld) => void;\r\n", "import { IBaseWorld } from '../IBaseWorld';\r\n\r\nexport const WorldShutdownEvent: string = 'worldshutdown';\r\n\r\nexport type WorldShutdownEventHandler = (world: IBaseWorld) => void;\r\n", "import { WorldRenderEvent } from './WorldRenderEvent';\r\nimport { WorldShutdownEvent } from './WorldShutdownEvent';\r\n\r\nexport {\r\n    WorldRenderEvent,\r\n    WorldShutdownEvent\r\n};\r\n", "import { IWorldRenderData } from './IWorldRenderData';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\n\r\nexport function CalculateTotalRenderable (entry: SearchEntry, renderData: IWorldRenderData): void\r\n{\r\n    renderData.numRendered++;\r\n    renderData.numRenderable++;\r\n\r\n    if (entry.node.dirtyFrame >= renderData.gameFrame)\r\n    {\r\n        renderData.dirtyFrame++;\r\n    }\r\n\r\n    entry.children.forEach(child =>\r\n    {\r\n        if (child.children.length > 0)\r\n        {\r\n            CalculateTotalRenderable(child, renderData);\r\n        }\r\n    });\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\n\r\nexport function HasDirtyChildren (parent: SearchEntry): boolean\r\n{\r\n    if (parent.node.isDirty(DIRTY_CONST.CHILD_CACHE))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    const stack = [ parent ];\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        const entry = stack.pop();\r\n\r\n        if (entry.node.isDirty(DIRTY_CONST.TRANSFORM))\r\n        {\r\n            return true;\r\n        }\r\n\r\n        const numChildren = entry.children.length;\r\n\r\n        if (numChildren > 0)\r\n        {\r\n            for (let i = 0; i < numChildren; i++)\r\n            {\r\n                stack.push(entry.children[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    stack.length = 0;\r\n\r\n    return false;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { HasDirtyChildren } from './HasDirtyChildren';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\n\r\nexport function UpdateCachedLayers (cachedLayers: SearchEntry[], dirtyCamera: boolean): void\r\n{\r\n    cachedLayers.forEach(layer =>\r\n    {\r\n        if (dirtyCamera || HasDirtyChildren(layer))\r\n        {\r\n            //  Camera is dirty, or layer has at least one dirty child\r\n            layer.node.setDirty(DIRTY_CONST.CHILD_CACHE);\r\n        }\r\n        else\r\n        {\r\n            //  Camera is clean and no dirty children, so we can re-use layer cache\r\n            //  So let's remove the children for this layer\r\n            layer.children.length = 0;\r\n        }\r\n    });\r\n}\r\n", "import { IGameObject } from '../gameobjects/IGameObject';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\n\r\nexport function WorldDepthFirstSearch (cachedLayers: SearchEntry[], parent: IGameObject, output: SearchEntry[] = []): SearchEntry[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const node = parent.children[i];\r\n\r\n        if (node.isRenderable())\r\n        {\r\n            const children: SearchEntry[] = [];\r\n\r\n            const entry = { node, children };\r\n\r\n            output.push(entry);\r\n\r\n            if (node.willRenderChildren && node.numChildren > 0)\r\n            {\r\n                if (node.willCacheChildren)\r\n                {\r\n                    cachedLayers.push(entry);\r\n                }\r\n\r\n                WorldDepthFirstSearch(cachedLayers, node, children);\r\n            }\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { CalculateTotalRenderable } from './CalculateTotalRenderable';\r\nimport { IBaseWorld } from './IBaseWorld';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\r\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\r\n\r\nexport function BuildRenderList (world: IBaseWorld): void\r\n{\r\n    const cachedLayers: SearchEntry[] = [];\r\n    const stack: SearchEntry[] = [];\r\n\r\n    //  entries is now populated with the n-tree search results, only containing nodes that will actually render\r\n    const entries = WorldDepthFirstSearch(cachedLayers, world, stack);\r\n\r\n    const renderData = world.renderData;\r\n\r\n    //  We can now sweep through the entries and purge non-dirty children of cached layers,\r\n    //  before finally building the render list. We can only do this if the camera is clean.\r\n\r\n    if (cachedLayers.length > 0)\r\n    {\r\n        UpdateCachedLayers(cachedLayers, world.camera.dirtyRender);\r\n    }\r\n\r\n    //  TODO: numRenderable probably needs to move to the search function\r\n    entries.forEach(entry =>\r\n    {\r\n        if (entry.children.length > 0)\r\n        {\r\n            CalculateTotalRenderable(entry, renderData);\r\n        }\r\n        else\r\n        {\r\n            renderData.numRendered++;\r\n            renderData.numRenderable++;\r\n\r\n            if (entry.node.dirtyFrame >= renderData.gameFrame)\r\n            {\r\n                renderData.dirtyFrame++;\r\n            }\r\n        }\r\n    });\r\n\r\n    world.renderList = entries;\r\n\r\n    if (world.forceRefresh)\r\n    {\r\n        renderData.dirtyFrame++;\r\n\r\n        world.forceRefresh = false;\r\n    }\r\n\r\n    // console.log(entries);\r\n    // console.log(renderData);\r\n    // eslint-disable-next-line no-debugger\r\n    // debugger;\r\n}\r\n", "import { ISceneRenderData } from '../scenes/ISceneRenderData';\r\nimport { IWorldRenderData } from './IWorldRenderData';\r\n\r\nexport function MergeRenderData (sceneRenderData: ISceneRenderData, worldRenderData: IWorldRenderData): void\r\n{\r\n    sceneRenderData.numDirtyFrames += worldRenderData.dirtyFrame;\r\n    sceneRenderData.numTotalFrames += worldRenderData.numRendered;\r\n\r\n    if (worldRenderData.camera.dirtyRender)\r\n    {\r\n        sceneRenderData.numDirtyCameras++;\r\n    }\r\n\r\n    sceneRenderData.worldData.push(worldRenderData);\r\n}\r\n", "import { IWorldRenderData } from './IWorldRenderData';\r\n\r\nexport function ResetWorldRenderData (renderData: IWorldRenderData, gameFrame: number): void\r\n{\r\n    renderData.gameFrame = gameFrame;\r\n    renderData.dirtyFrame = 0;\r\n    renderData.numRendered = 0;\r\n    renderData.numRenderable = 0;\r\n}\r\n", "import * as GameObjectEvents from '../gameobjects/events';\r\nimport * as WorldEvents from './events';\r\n\r\nimport { Begin, Flush } from '../renderer/webgl1/renderpass';\r\nimport { Emit, Off, On, Once } from '../events';\r\n\r\nimport { BuildRenderList } from './BuildRenderList';\r\nimport { ExactEquals } from '../math/matrix2d/ExactEquals';\r\nimport { GameObject } from '../gameobjects';\r\nimport { IBaseCamera } from '../camera/IBaseCamera';\r\nimport { IBaseWorld } from './IBaseWorld';\r\nimport { IEventInstance } from '../events/IEventInstance';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\r\nimport { IScene } from '../scenes/IScene';\r\nimport { ISceneRenderData } from '../scenes/ISceneRenderData';\r\nimport { IWorldRenderData } from './IWorldRenderData';\r\nimport { MergeRenderData } from './MergeRenderData';\r\nimport { RemoveChildren } from '../display';\r\nimport { ResetWorldRenderData } from './ResetWorldRenderData';\r\nimport { SearchEntry } from '../display/SearchEntryType';\r\n\r\nexport class BaseWorld extends GameObject implements IBaseWorld\r\n{\r\n    scene: IScene;\r\n\r\n    camera: IBaseCamera;\r\n    renderData: IWorldRenderData;\r\n    forceRefresh: boolean = false;\r\n    events: Map<string, Set<IEventInstance>>;\r\n    is3D: boolean = false;\r\n\r\n    renderList: SearchEntry[];\r\n\r\n    private _updateListener: IEventInstance;\r\n    private _renderListener: IEventInstance;\r\n    private _shutdownListener: IEventInstance;\r\n\r\n    constructor (scene: IScene)\r\n    {\r\n        super();\r\n\r\n        this.type = 'BaseWorld';\r\n        this.scene = scene;\r\n        this.world = this;\r\n\r\n        this.events = new Map();\r\n\r\n        this.renderList = [];\r\n\r\n        this._updateListener = On(scene, 'update', (delta: number, time: number) => this.update(delta, time));\r\n        this._renderListener = On(scene, 'render', (renderData: ISceneRenderData) => this.render(renderData));\r\n        this._shutdownListener = On(scene, 'shutdown', () => this.shutdown());\r\n        Once(scene, 'destroy', () => this.destroy());\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        if (!this.willUpdate)\r\n        {\r\n            return;\r\n        }\r\n\r\n        Emit(this, GameObjectEvents.UpdateEvent, delta, time, this);\r\n\r\n        super.update(delta, time);\r\n    }\r\n\r\n    postUpdate (delta: number, time: number): void\r\n    {\r\n        Emit(this, GameObjectEvents.PostUpdateEvent, delta, time, this);\r\n    }\r\n\r\n    render (sceneRenderData: ISceneRenderData): void\r\n    {\r\n        const renderData = this.renderData;\r\n\r\n        ResetWorldRenderData(renderData, sceneRenderData.gameFrame);\r\n\r\n        if (!this.willRender || !this.visible)\r\n        {\r\n            return;\r\n        }\r\n\r\n        BuildRenderList(this);\r\n\r\n        Emit(this, WorldEvents.WorldRenderEvent, renderData, this);\r\n\r\n        MergeRenderData(sceneRenderData, renderData);\r\n\r\n        this.camera.dirtyRender = false;\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        const currentCamera = renderPass.current2DCamera;\r\n        const camera = this.camera;\r\n\r\n        if (!currentCamera || !ExactEquals(camera.worldTransform, currentCamera.worldTransform))\r\n        {\r\n            Flush(renderPass);\r\n        }\r\n\r\n        Begin(renderPass, camera);\r\n\r\n        this.renderList.forEach(entry =>\r\n        {\r\n            if (entry.children.length > 0)\r\n            {\r\n                this.renderNode(entry, renderPass);\r\n            }\r\n            else\r\n            {\r\n                entry.node.renderGL(renderPass);\r\n            }\r\n        });\r\n    }\r\n\r\n    renderNode (entry: SearchEntry, renderPass: IRenderPass): void\r\n    {\r\n        entry.node.renderGL(renderPass);\r\n\r\n        entry.children.forEach(child =>\r\n        {\r\n            if (child.children.length > 0)\r\n            {\r\n                this.renderNode(child, renderPass);\r\n            }\r\n            else\r\n            {\r\n                child.node.renderGL(renderPass);\r\n            }\r\n        });\r\n\r\n        entry.node.postRenderGL(renderPass);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        //  Emit event?\r\n    }\r\n\r\n    shutdown (): void\r\n    {\r\n        const scene = this.scene;\r\n\r\n        Off(scene, 'update', this._updateListener);\r\n        Off(scene, 'render', this._renderListener);\r\n        Off(scene, 'shutdown', this._shutdownListener);\r\n\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        RemoveChildren(this);\r\n\r\n        Emit(this, WorldEvents.WorldShutdownEvent, this);\r\n\r\n        ResetWorldRenderData(this.renderData, 0);\r\n\r\n        if (this.camera)\r\n        {\r\n            this.camera.reset();\r\n        }\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject): void\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        Emit(this, GameObjectEvents.DestroyEvent, this);\r\n\r\n        ResetWorldRenderData(this.renderData, 0);\r\n\r\n        if (this.camera)\r\n        {\r\n            this.camera.destroy();\r\n        }\r\n\r\n        this.events.clear();\r\n\r\n        this.camera = null;\r\n        this.renderData = null;\r\n        this.events = null;\r\n    }\r\n}\r\n", "import { IBaseCamera } from '../camera/IBaseCamera';\r\nimport { IBaseWorld } from './IBaseWorld';\r\nimport { IWorldRenderData } from './IWorldRenderData';\r\n\r\nexport function CreateWorldRenderData (world: IBaseWorld, camera: IBaseCamera): IWorldRenderData\r\n{\r\n    return {\r\n        world,\r\n        camera,\r\n        gameFrame: 0,\r\n        dirtyFrame: 0,\r\n        numRendered: 0,\r\n        numRenderable: 0\r\n    };\r\n}\r\n", "import { BaseWorld } from './BaseWorld';\r\nimport { CreateWorldRenderData } from './CreateWorldRenderData';\r\nimport { IScene } from '../scenes/IScene';\r\nimport { IStaticCamera } from '../camera/IStaticCamera';\r\nimport { IStaticWorld } from './IStaticWorld';\r\nimport { StaticCamera } from '../camera/StaticCamera';\r\n\r\n//  A Static World is designed specifically to have a bounds of a fixed size\r\n//  and a camera that doesn't move at all (no scrolling, rotation, etc)\r\n//  Because it has a fixed size, there is no camera culling enabled.\r\n//  Games that use this kind of world include Pacman, Bejeweled and 2048.\r\n\r\nexport class StaticWorld extends BaseWorld implements IStaticWorld\r\n{\r\n    camera: IStaticCamera;\r\n\r\n    constructor (scene: IScene)\r\n    {\r\n        super(scene);\r\n\r\n        this.type = 'StaticWorld';\r\n\r\n        this.camera = new StaticCamera();\r\n\r\n        this.renderData = CreateWorldRenderData(this, this.camera);\r\n    }\r\n}\r\n", "import { BaseWorld } from './BaseWorld';\r\nimport { Camera } from '../camera/Camera';\r\nimport { CreateWorldRenderData } from './CreateWorldRenderData';\r\nimport { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { ICamera } from '../camera/ICamera';\r\nimport { IGameObject } from '../gameobjects/IGameObject';\r\nimport { IScene } from '../scenes/IScene';\r\nimport { ISceneRenderData } from '../scenes/ISceneRenderData';\r\nimport { IWorld } from './IWorld';\r\nimport { IWorldRenderData } from './IWorldRenderData';\r\nimport { RectangleToRectangle } from '../geom/intersects';\r\n\r\nexport class World extends BaseWorld implements IWorld\r\n{\r\n    camera: ICamera;\r\n\r\n    enableCameraCull: boolean = true;\r\n\r\n    constructor (scene: IScene)\r\n    {\r\n        super(scene);\r\n\r\n        this.type = 'World';\r\n\r\n        this.camera = new Camera();\r\n\r\n        this.renderData = CreateWorldRenderData(this, this.camera);\r\n    }\r\n\r\n    //  TODO: An out-of-bounds parent with in-bounds children will be cull checked against in postRender, stop this.\r\n    //  TODO: Use circle-circle check when camera is rotated.\r\n    /*\r\n    addNode (node: IGameObject, renderData: IWorldRenderData): boolean\r\n    {\r\n        const cull = this.enableCameraCull;\r\n\r\n        if (node.isRenderable())\r\n        {\r\n            if (node.isDirty(DIRTY_CONST.PENDING_RENDER) || node === this)\r\n            {\r\n                //  Already been cull checked once, so add to renderList and return\r\n                renderData.renderList.push(node);\r\n            }\r\n            else if (!cull || (cull && RectangleToRectangle(node.bounds.get(), this.camera.bounds)))\r\n            {\r\n                renderData.renderList.push(node);\r\n\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    */\r\n}\r\n", "import * as Events from './events';\r\n\r\nimport { BaseWorld } from './BaseWorld';\r\nimport { BuildRenderList } from './BuildRenderList';\r\nimport { CalculateTotalRenderable } from './CalculateTotalRenderable';\r\nimport { CreateWorldRenderData } from './CreateWorldRenderData';\r\nimport { HasDirtyChildren } from './HasDirtyChildren';\r\nimport { MergeRenderData } from './MergeRenderData';\r\nimport { ResetWorldRenderData } from './ResetWorldRenderData';\r\nimport { StaticWorld } from './StaticWorld';\r\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\r\nimport { World } from './World';\r\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\r\n\r\nexport {\r\n    BaseWorld,\r\n    BuildRenderList,\r\n    CalculateTotalRenderable,\r\n    CreateWorldRenderData,\r\n    Events,\r\n    HasDirtyChildren,\r\n    MergeRenderData,\r\n    ResetWorldRenderData,\r\n    StaticWorld,\r\n    UpdateCachedLayers,\r\n    World,\r\n    WorldDepthFirstSearch\r\n};\r\n", "import { IBaseWorld3D } from '../IBaseWorld3D';\r\nimport { IWorld3DRenderData } from '../IWorld3DRenderData';\r\n\r\nexport const World3DRenderEvent: string = 'worldrender';\r\n\r\nexport type World3DRenderEventHandler = (renderData: IWorld3DRenderData, world: IBaseWorld3D) => void;\r\n", "import { IBaseWorld3D } from '../IBaseWorld3D';\r\n\r\nexport const World3DShutdownEvent: string = 'worldshutdown';\r\n\r\nexport type World3DShutdownEventHandler = (world: IBaseWorld3D) => void;\r\n", "import { World3DRenderEvent } from './World3DRenderEvent';\r\nimport { World3DShutdownEvent } from './World3DShutdownEvent';\r\n\r\nexport {\r\n    World3DRenderEvent,\r\n    World3DShutdownEvent\r\n};\r\n", "import { IWorld3DRenderData } from './IWorld3DRenderData';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\n\r\nexport function CalculateTotalRenderable (entry: SearchEntry3D, renderData: IWorld3DRenderData): void\r\n{\r\n    renderData.numRendered++;\r\n    renderData.numRenderable++;\r\n\r\n    if (entry.node.dirtyFrame >= renderData.gameFrame)\r\n    {\r\n        renderData.dirtyFrame++;\r\n    }\r\n\r\n    entry.children.forEach(child =>\r\n    {\r\n        if (child.children.length > 0)\r\n        {\r\n            CalculateTotalRenderable(child, renderData);\r\n        }\r\n    });\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\n\r\nexport function HasDirtyChildren (parent: SearchEntry3D): boolean\r\n{\r\n    if (parent.node.isDirty(DIRTY_CONST.CHILD_CACHE))\r\n    {\r\n        return true;\r\n    }\r\n\r\n    const stack = [ parent ];\r\n\r\n    while (stack.length > 0)\r\n    {\r\n        const entry = stack.pop();\r\n\r\n        if (entry.node.isDirty(DIRTY_CONST.TRANSFORM))\r\n        {\r\n            return true;\r\n        }\r\n\r\n        const numChildren = entry.children.length;\r\n\r\n        if (numChildren > 0)\r\n        {\r\n            for (let i = 0; i < numChildren; i++)\r\n            {\r\n                stack.push(entry.children[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    stack.length = 0;\r\n\r\n    return false;\r\n}\r\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\r\nimport { HasDirtyChildren } from './HasDirtyChildren';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\n\r\nexport function UpdateCachedLayers (cachedLayers: SearchEntry3D[], dirtyCamera: boolean): void\r\n{\r\n    cachedLayers.forEach(layer =>\r\n    {\r\n        if (dirtyCamera || HasDirtyChildren(layer))\r\n        {\r\n            //  Camera is dirty, or layer has at least one dirty child\r\n            layer.node.setDirty(DIRTY_CONST.CHILD_CACHE);\r\n        }\r\n        else\r\n        {\r\n            //  Camera is clean and no dirty children, so we can re-use layer cache\r\n            //  So let's remove the children for this layer\r\n            layer.children.length = 0;\r\n        }\r\n    });\r\n}\r\n", "import { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\n\r\nexport function WorldDepthFirstSearch (cachedLayers: SearchEntry3D[], parent: IGameObject3D, output: SearchEntry3D[] = []): SearchEntry3D[]\r\n{\r\n    for (let i = 0; i < parent.numChildren; i++)\r\n    {\r\n        const node = parent.children[i];\r\n\r\n        if (node.isRenderable())\r\n        {\r\n            const children: SearchEntry3D[] = [];\r\n\r\n            const entry = { node, children };\r\n\r\n            output.push(entry);\r\n\r\n            if (node.willRenderChildren && node.numChildren > 0)\r\n            {\r\n                if (node.willCacheChildren)\r\n                {\r\n                    cachedLayers.push(entry);\r\n                }\r\n\r\n                WorldDepthFirstSearch(cachedLayers, node, children);\r\n            }\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n", "import { CalculateTotalRenderable } from './CalculateTotalRenderable';\r\nimport { IBaseWorld3D } from './IBaseWorld3D';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\r\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\r\n\r\nexport function BuildRenderList (world: IBaseWorld3D): void\r\n{\r\n    const cachedLayers: SearchEntry3D[] = [];\r\n    const stack: SearchEntry3D[] = [];\r\n\r\n    //  entries is now populated with the n-tree search results, only containing nodes that will actually render\r\n    const entries = WorldDepthFirstSearch(cachedLayers, world, stack);\r\n\r\n    const renderData = world.renderData;\r\n\r\n    //  We can now sweep through the entries and purge non-dirty children of cached layers,\r\n    //  before finally building the render list. We can only do this if the camera is clean.\r\n\r\n    if (cachedLayers.length > 0)\r\n    {\r\n        UpdateCachedLayers(cachedLayers, world.camera.dirtyRender);\r\n    }\r\n\r\n    //  TODO: numRenderable probably needs to move to the search function\r\n    entries.forEach(entry =>\r\n    {\r\n        if (entry.children.length > 0)\r\n        {\r\n            CalculateTotalRenderable(entry, renderData);\r\n        }\r\n        else\r\n        {\r\n            renderData.numRendered++;\r\n            renderData.numRenderable++;\r\n\r\n            if (entry.node.dirtyFrame >= renderData.gameFrame)\r\n            {\r\n                renderData.dirtyFrame++;\r\n            }\r\n        }\r\n    });\r\n\r\n    world.renderList = entries;\r\n\r\n    if (world.forceRefresh)\r\n    {\r\n        renderData.dirtyFrame++;\r\n\r\n        world.forceRefresh = false;\r\n    }\r\n\r\n    // console.log(entries);\r\n    // console.log(renderData);\r\n    // eslint-disable-next-line no-debugger\r\n    // debugger;\r\n}\r\n", "import { ISceneRenderData } from '../scenes/ISceneRenderData';\r\nimport { IWorld3DRenderData } from './IWorld3DRenderData';\r\n\r\nexport function MergeRenderData (sceneRenderData: ISceneRenderData, worldRenderData: IWorld3DRenderData): void\r\n{\r\n    sceneRenderData.numDirtyFrames += worldRenderData.dirtyFrame;\r\n    sceneRenderData.numTotalFrames += worldRenderData.numRendered;\r\n\r\n    if (worldRenderData.camera.dirtyRender)\r\n    {\r\n        sceneRenderData.numDirtyCameras++;\r\n    }\r\n\r\n    sceneRenderData.worldData.push(worldRenderData);\r\n}\r\n", "import { IWorld3DRenderData } from './IWorld3DRenderData';\r\n\r\nexport function ResetWorld3DRenderData (renderData: IWorld3DRenderData, gameFrame: number): void\r\n{\r\n    renderData.gameFrame = gameFrame;\r\n    renderData.dirtyFrame = 0;\r\n    renderData.numRendered = 0;\r\n    renderData.numRenderable = 0;\r\n}\r\n", "import * as GameObjectEvents from '../gameobjects/events';\r\nimport * as World3DEvents from './events';\r\n\r\nimport { Emit, Off, On, Once } from '../events';\r\n\r\nimport { BuildRenderList } from './BuildRenderList';\r\nimport { GameObject3D } from '../gameobjects3d/GameObject3D';\r\nimport { IBaseWorld3D } from './IBaseWorld3D';\r\nimport { ICamera3D } from '../camera3d/ICamera3D';\r\nimport { IEventInstance } from '../events/IEventInstance';\r\nimport { IGameObject3D } from '../gameobjects3d/IGameObject3D';\r\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\r\nimport { IScene } from '../scenes/IScene';\r\nimport { ISceneRenderData } from '../scenes/ISceneRenderData';\r\nimport { IWorld3DRenderData } from './IWorld3DRenderData';\r\nimport { MergeRenderData } from './MergeRenderData';\r\nimport { RemoveChildren3D } from '../display3d/RemoveChildren3D';\r\nimport { ResetWorld3DRenderData } from './ResetWorld3DRenderData';\r\nimport { SearchEntry3D } from '../display3d/SearchEntry3DType';\r\n\r\nexport class BaseWorld3D extends GameObject3D implements IBaseWorld3D\r\n{\r\n    scene: IScene;\r\n\r\n    camera: ICamera3D;\r\n    renderData: IWorld3DRenderData;\r\n    forceRefresh: boolean = false;\r\n    events: Map<string, Set<IEventInstance>>;\r\n    is3D: boolean = true;\r\n    renderList: SearchEntry3D[];\r\n\r\n    private _updateListener: IEventInstance;\r\n    private _renderListener: IEventInstance;\r\n    private _shutdownListener: IEventInstance;\r\n\r\n    constructor (scene: IScene)\r\n    {\r\n        super();\r\n\r\n        this.type = 'BaseWorld';\r\n        this.scene = scene;\r\n        this.world = this;\r\n\r\n        this.events = new Map();\r\n\r\n        this.renderList = [];\r\n\r\n        this._updateListener = On(scene, 'update', (delta: number, time: number) => this.update(delta, time));\r\n        this._renderListener = On(scene, 'render', (renderData: ISceneRenderData) => this.render(renderData));\r\n        this._shutdownListener = On(scene, 'shutdown', () => this.shutdown());\r\n        Once(scene, 'destroy', () => this.destroy());\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        if (!this.willUpdate)\r\n        {\r\n            return;\r\n        }\r\n\r\n        Emit(this, GameObjectEvents.UpdateEvent, delta, time, this);\r\n\r\n        super.update(delta, time);\r\n    }\r\n\r\n    postUpdate (delta: number, time: number): void\r\n    {\r\n        Emit(this, GameObjectEvents.PostUpdateEvent, delta, time, this);\r\n    }\r\n\r\n    render (sceneRenderData: ISceneRenderData): void\r\n    {\r\n        const renderData = this.renderData;\r\n\r\n        ResetWorld3DRenderData(renderData, sceneRenderData.gameFrame);\r\n\r\n        if (!this.willRender || !this.visible)\r\n        {\r\n            return;\r\n        }\r\n\r\n        BuildRenderList(this);\r\n\r\n        Emit(this, World3DEvents.World3DRenderEvent, renderData, this);\r\n\r\n        MergeRenderData(sceneRenderData, renderData);\r\n\r\n        // if (this.camera)\r\n        // {\r\n        //     this.camera.dirtyRender = false;\r\n        // }\r\n    }\r\n\r\n    renderNode (entry: SearchEntry3D, renderPass: IRenderPass): void\r\n    {\r\n        entry.node.renderGL(renderPass);\r\n\r\n        entry.children.forEach(child =>\r\n        {\r\n            if (child.children.length > 0)\r\n            {\r\n                this.renderNode(child, renderPass);\r\n            }\r\n            else\r\n            {\r\n                child.node.renderGL(renderPass);\r\n            }\r\n        });\r\n\r\n        entry.node.postRenderGL(renderPass);\r\n    }\r\n\r\n    shutdown (): void\r\n    {\r\n        const scene = this.scene;\r\n\r\n        Off(scene, 'update', this._updateListener);\r\n        Off(scene, 'render', this._renderListener);\r\n        Off(scene, 'shutdown', this._shutdownListener);\r\n\r\n        //  Clear the display list and reset the camera, but leave\r\n        //  everything in place so we can return to this World again\r\n        //  at a later stage\r\n\r\n        RemoveChildren3D(this);\r\n\r\n        Emit(this, World3DEvents.World3DShutdownEvent, this);\r\n\r\n        ResetWorld3DRenderData(this.renderData, 0);\r\n\r\n        // if (this.camera)\r\n        // {\r\n        //     this.camera.reset();\r\n        // }\r\n    }\r\n\r\n    destroy (reparentChildren?: IGameObject3D): void\r\n    {\r\n        super.destroy(reparentChildren);\r\n\r\n        Emit(this, GameObjectEvents.DestroyEvent, this);\r\n\r\n        ResetWorld3DRenderData(this.renderData, 0);\r\n\r\n        // if (this.camera)\r\n        // {\r\n        //     this.camera.destroy();\r\n        // }\r\n\r\n        this.events.clear();\r\n\r\n        this.camera = null;\r\n        this.renderData = null;\r\n        this.events = null;\r\n    }\r\n}\r\n", "import { ICamera3D } from '../camera3d/ICamera3D';\r\nimport { IWorld3D } from './IWorld3D';\r\nimport { IWorld3DRenderData } from './IWorld3DRenderData';\r\n\r\nexport function CreateWorld3DRenderData (world: IWorld3D, camera: ICamera3D): IWorld3DRenderData\r\n{\r\n    return {\r\n        world,\r\n        camera,\r\n        gameFrame: 0,\r\n        dirtyFrame: 0,\r\n        numRendered: 0,\r\n        numRenderable: 0\r\n    };\r\n}\r\n", "export const AMBIENT_LIGHT_FRAG =\r\n`#define SHADER_NAME AMBIENT_LIGHT_FRAG\r\n\r\nprecision highp float;\r\n\r\nuniform vec3 uLightPosition;\r\nuniform vec3 uLightAmbient;\r\nuniform vec3 uLightDiffuse;\r\nuniform vec3 uLightSpecular;\r\n\r\nuniform vec3 uMaterialAmbient;\r\nuniform vec3 uMaterialDiffuse;\r\nuniform vec3 uMaterialSpecular;\r\nuniform float uMaterialShine;\r\n\r\nuniform vec3 uCameraPosition;\r\n\r\nuniform sampler2D uTexture;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying vec3 vNormal;\r\nvarying vec3 vPosition;\r\n\r\nvoid main (void)\r\n{\r\n    vec4 color = texture2D(uTexture, vTextureCoord);\r\n\r\n    vec3 ambient = uLightAmbient * uMaterialAmbient;\r\n\r\n    vec3 norm = normalize(vNormal);\r\n    vec3 lightDir = normalize(uLightPosition - vPosition);\r\n    float diff = max(dot(norm, lightDir), 0.0);\r\n    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);\r\n\r\n    vec3 viewDir = normalize(uCameraPosition - vPosition);\r\n    vec3 reflectDir = reflect(-lightDir, norm);\r\n    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);\r\n    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);\r\n\r\n    vec3 result = (ambient + diffuse + specular) * color.rgb;\r\n\r\n    gl_FragColor = vec4(result, color.a);\r\n}`;\r\n", "export const AMBIENT_LIGHT_VERT = `\r\n#define SHADER_NAME AMBIENT_LIGHT_VERT\r\n\r\nprecision highp float;\r\n\r\nattribute vec3 aVertexPosition;\r\nattribute vec3 aVertexNormal;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat4 uViewProjectionMatrix;\r\nuniform mat4 uModelMatrix;\r\nuniform mat4 uNormalMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\nvarying vec3 vNormal;\r\nvarying vec3 vPosition;\r\n\r\nvoid main(void)\r\n{\r\n    vTextureCoord = aTextureCoord;\r\n\r\n    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));\r\n\r\n    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));\r\n\r\n    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\r\n}\r\n`;\r\n", "import * as GL_CONST from '../GL_CONST';\r\n\r\nimport { AMBIENT_LIGHT_FRAG } from '../glsl/AMBIENT_LIGHT_FRAG';\r\nimport { AMBIENT_LIGHT_VERT } from '../glsl/AMBIENT_LIGHT_VERT';\r\nimport { IShader } from './IShader';\r\nimport { Shader } from './Shader';\r\n\r\nexport class AmbientLightShader extends Shader implements IShader\r\n{\r\n    constructor ()\r\n    {\r\n        super();\r\n\r\n        const tempMat4 = new Float32Array(16).fill(0);\r\n        const tempVec3 = [ 0, 0, 0 ];\r\n\r\n        const config = {\r\n            fragmentShader: AMBIENT_LIGHT_FRAG,\r\n            vertexShader: AMBIENT_LIGHT_VERT,\r\n            attributes: {\r\n                aVertexPosition: { size: 3, type: GL_CONST.FLOAT, normalized: false, offset: 0 },\r\n                aVertexNormal: { size: 3, type: GL_CONST.FLOAT, normalized: false, offset: 12 },\r\n                aTextureCoord: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 24 }\r\n            },\r\n            uniforms: {\r\n                uViewProjectionMatrix: tempMat4,\r\n                uNormalMatrix: tempMat4,\r\n                uModelMatrix: tempMat4,\r\n                uCameraPosition: tempVec3,\r\n\r\n                uTexture: 0,\r\n\r\n                uLightPosition: tempVec3,\r\n                uLightAmbient: tempVec3,\r\n                uLightDiffuse: tempVec3,\r\n                uLightSpecular: tempVec3,\r\n\r\n                uMaterialAmbient: tempVec3,\r\n                uMaterialDiffuse: tempVec3,\r\n                uMaterialSpecular: tempVec3,\r\n                uMaterialShine: 0\r\n            }\r\n        };\r\n\r\n        this.fromConfig(config);\r\n    }\r\n}\r\n", "import { Clamp, DegToRad } from '../math';\r\nimport { FORWARD, Forward, RIGHT, Right, ScaleAndAdd, TransformMat4Zero, UP, Up, Vec3, Vec3Callback } from '../math/vec3';\r\nimport { FromRotationXYTranslation, Invert, LookAt, Matrix4, Multiply, Perspective, TargetTo } from '../math/mat4';\r\nimport { Quaternion, RotationYawPitchRoll } from '../math/quaternion';\r\n\r\nimport { GameInstance } from '../GameInstance';\r\nimport { IRectangle } from '../geom/rectangle/IRectangle';\r\nimport { IRenderer } from '../renderer/IRenderer';\r\nimport { Rectangle } from '../geom/rectangle';\r\n\r\nexport class NewCamera3D\r\n{\r\n    type: string;\r\n    renderer: IRenderer;\r\n\r\n    position: Vec3Callback;\r\n    rotation: Quaternion;\r\n\r\n    matrix: Matrix4; // the transform matrix\r\n    viewMatrix: Matrix4; // the inverse of the transform matrix\r\n    projectionMatrix: Matrix4; // perspective projection matrix\r\n    viewProjectionMatrix: Matrix4; // perspective projection matrix multiplied by the view matrix\r\n\r\n    forward: Vec3;\r\n    up: Vec3;\r\n    right: Vec3;\r\n\r\n    start: Vec3;\r\n\r\n    aspect: number;\r\n\r\n    isOrbit: boolean = false;\r\n\r\n    minDistance: number = 0;\r\n    maxDistance: number = Infinity;\r\n\r\n    minPolarAngle: number = 0;\r\n    maxPolarAngle: number = Math.PI;\r\n\r\n    minAzimuthAngle: number = -Infinity;\r\n    maxAzimuthAngle: number = Infinity;\r\n\r\n    dirtyRender: boolean = true;\r\n\r\n    panRate: number = 5;\r\n    zoomRate: number = 200;\r\n    rotateRate: number = -3;\r\n\r\n    viewport: IRectangle;\r\n\r\n    private _fov: number;\r\n    private _near: number;\r\n    private _far: number;\r\n\r\n    private _yaw: number = 0;\r\n    private _pitch: number = 0;\r\n    private _roll: number = 0;\r\n\r\n    constructor (fov: number = 45, near: number = 0.1, far: number = 1000)\r\n    {\r\n        this.type = 'Camera3D';\r\n\r\n        this._fov = fov;\r\n        this._near = near;\r\n        this._far = far;\r\n\r\n        this.matrix = new Matrix4();\r\n        this.viewMatrix = new Matrix4();\r\n        this.projectionMatrix = new Matrix4();\r\n        this.viewProjectionMatrix = new Matrix4();\r\n\r\n        this.position = new Vec3Callback(() => this.update());\r\n        this.rotation = new Quaternion();\r\n\r\n        const game = GameInstance.get();\r\n\r\n        const renderer = game.renderer;\r\n\r\n        this.viewport = new Rectangle(0, 0, renderer.width, renderer.height);\r\n\r\n        this.renderer = renderer;\r\n\r\n        this.forward = Forward();\r\n        this.up = Up();\r\n        this.right = Right();\r\n\r\n        this.start = new Vec3();\r\n\r\n        this.setAspectRatio();\r\n    }\r\n\r\n    update (): this\r\n    {\r\n        const matrix = this.matrix;\r\n        const view = this.viewMatrix;\r\n\r\n        FromRotationXYTranslation(this.rotation, this.position, !this.isOrbit, matrix);\r\n\r\n        TransformMat4Zero(FORWARD, matrix, this.forward);\r\n        TransformMat4Zero(UP, matrix, this.up);\r\n        TransformMat4Zero(RIGHT, matrix, this.right);\r\n\r\n        Invert(matrix, view);\r\n\r\n        Multiply(this.projectionMatrix, view, this.viewProjectionMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    panX (amount: number): this\r\n    {\r\n        const pos = this.position;\r\n\r\n        if (!this.isOrbit)\r\n        {\r\n            ScaleAndAdd(pos, this.right, amount, pos);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    panY (amount: number): this\r\n    {\r\n        const pos = this.position;\r\n        const up = this.up;\r\n\r\n        if (this.isOrbit)\r\n        {\r\n            pos.y += up.y * amount;\r\n        }\r\n        else\r\n        {\r\n            ScaleAndAdd(pos, up, amount, pos);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    panZ (amount: number): this\r\n    {\r\n        const pos = this.position;\r\n\r\n        if (this.isOrbit)\r\n        {\r\n            pos.z += amount;\r\n        }\r\n        else\r\n        {\r\n            ScaleAndAdd(pos, this.forward, amount, pos);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    begin (x: number, y: number): void\r\n    {\r\n        this.start.set(x, y);\r\n    }\r\n\r\n    pan (x: number, y: number): void\r\n    {\r\n        const dx = x - this.start.x;\r\n        const dy = y - this.start.y;\r\n        const viewport = this.viewport;\r\n\r\n        this.panX(-dx * (this.panRate / viewport.width));\r\n        this.panY(dy * (this.panRate / viewport.height));\r\n\r\n        this.start.set(x, y);\r\n    }\r\n\r\n    rotate (x: number, y: number): void\r\n    {\r\n        const dx = x - this.start.x;\r\n        const dy = y - this.start.y;\r\n        const viewport = this.viewport;\r\n\r\n        this.rotation.x += dy * (this.rotateRate / viewport.height);\r\n        this.rotation.y += dx * (this.rotateRate / viewport.width);\r\n\r\n        this.start.set(x, y);\r\n\r\n        this.update();\r\n    }\r\n\r\n    zoom (delta: number): void\r\n    {\r\n        this.panZ(Clamp(delta, -1, 1) * (this.zoomRate / this.viewport.height));\r\n    }\r\n\r\n    /*\r\n    lookAt (target: IVec3Like, invert: boolean = false): this\r\n    {\r\n        if (invert)\r\n        {\r\n            LookAt(this.position, target, this.up, this.matrix);\r\n        }\r\n        else\r\n        {\r\n            LookAt(target, this.position, this.up, this.matrix);\r\n        }\r\n\r\n        GetRotation(this.matrix, this.rotation);\r\n\r\n        return this;\r\n    }\r\n\r\n    targetTo (target: IVec3Like): this\r\n    {\r\n        // TargetTo(this.direction, target, this.up, this.matrix);\r\n\r\n        GetRotation(this.matrix, this.rotation);\r\n\r\n        return this;\r\n    }\r\n    */\r\n\r\n    setAspectRatio (value?: number): this\r\n    {\r\n        if (!value)\r\n        {\r\n            const renderer = this.renderer;\r\n\r\n            value = renderer.width / renderer.height;\r\n        }\r\n\r\n        this.aspect = value;\r\n\r\n        return this.updateProjectionMatrix();\r\n    }\r\n\r\n    updateProjectionMatrix (): this\r\n    {\r\n        Perspective(DegToRad(this._fov), this.aspect, this._near, this._far, this.projectionMatrix);\r\n\r\n        return this;\r\n    }\r\n\r\n    get fov (): number\r\n    {\r\n        return this._fov;\r\n    }\r\n\r\n    set fov (value: number)\r\n    {\r\n        this._fov = Clamp(value, 0, 180);\r\n\r\n        this.updateProjectionMatrix();\r\n    }\r\n\r\n    get near (): number\r\n    {\r\n        return this._near;\r\n    }\r\n\r\n    set near (value: number)\r\n    {\r\n        if (value > 0)\r\n        {\r\n            this._near = value;\r\n\r\n            this.updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get far (): number\r\n    {\r\n        return this._far;\r\n    }\r\n\r\n    set far (value: number)\r\n    {\r\n        if (value > 0)\r\n        {\r\n            this._far = value;\r\n\r\n            this.updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get yaw (): number\r\n    {\r\n        return this._yaw;\r\n    }\r\n\r\n    set yaw (value: number)\r\n    {\r\n        this._yaw = value;\r\n\r\n        RotationYawPitchRoll(value, this._pitch, this._roll, this.rotation);\r\n    }\r\n\r\n    get pitch (): number\r\n    {\r\n        return this._pitch;\r\n    }\r\n\r\n    set pitch (value: number)\r\n    {\r\n        this._pitch = value;\r\n\r\n        RotationYawPitchRoll(this._yaw, value, this._roll, this.rotation);\r\n    }\r\n\r\n    get roll (): number\r\n    {\r\n        return this._roll;\r\n    }\r\n\r\n    set roll (value: number)\r\n    {\r\n        this._roll = value;\r\n\r\n        RotationYawPitchRoll(this._yaw, this._pitch, value, this.rotation);\r\n    }\r\n}\r\n", "import { Flush, PopShader, PopVertexBuffer, SetShader, SetVertexBuffer } from '../renderer/webgl1/renderpass';\r\nimport { Light, LightConfig } from '../gameobjects3d/light/Light';\r\n\r\nimport { AmbientLightShader } from '../renderer/webgl1/shaders/AmbientLightShader';\r\nimport { BaseWorld3D } from './BaseWorld3D';\r\nimport { CreateWorld3DRenderData } from './CreateWorld3DRenderData';\r\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\r\nimport { IScene } from '../scenes/IScene';\r\nimport { IShader } from '../renderer/webgl1/shaders/IShader';\r\nimport { IWorld3D } from './IWorld3D';\r\nimport { NewCamera3D } from '../camera3d/NewCamera3D';\r\nimport { VertexBuffer } from '../renderer/webgl1/buffers/VertexBuffer';\r\n\r\n// export class World3D extends BaseWorld3D implements IWorld3D\r\nexport class World3D extends BaseWorld3D\r\n{\r\n    camera: NewCamera3D;\r\n\r\n    light: Light;\r\n\r\n    shader: IShader;\r\n\r\n    enableCameraCull: boolean = true;\r\n\r\n    constructor (scene: IScene, x: number = 0, y: number = 0, z: number = 0, lightConfig?: LightConfig)\r\n    {\r\n        super(scene);\r\n\r\n        this.type = 'World3D';\r\n\r\n        this.camera = new NewCamera3D();\r\n\r\n        this.camera.position.set(x, y, z);\r\n\r\n        this.light = new Light(lightConfig);\r\n\r\n        this.shader = new AmbientLightShader();\r\n\r\n        this.renderData = CreateWorld3DRenderData(this, this.camera);\r\n    }\r\n\r\n    renderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        Flush(renderPass);\r\n\r\n        const shader = this.shader;\r\n        const camera = this.camera;\r\n        const gl = renderPass.renderer.gl;\r\n\r\n        //  TODO - Use fbo anyway to avoid z-fighting with World2D?\r\n        // SetFramebuffer(renderPass, this.framebuffer, true);\r\n\r\n        // SetVertexBuffer(renderPass, this.buffer);\r\n        SetShader(renderPass, shader, 0);\r\n\r\n        shader.setUniform('uViewProjectionMatrix', camera.viewProjectionMatrix.data);\r\n        shader.setUniform('uCameraPosition', camera.position.toArray());\r\n\r\n        this.light.setUniforms(shader);\r\n\r\n        // BindTexture(this.cubeTexture);\r\n        // const textureIndex = SetTexture(renderPass, this.cubeTexture);\r\n\r\n        gl.enable(gl.DEPTH_TEST);\r\n\r\n        //  TODO - This is a per Mesh property:\r\n        // gl.enable(gl.CULL_FACE);\r\n\r\n        this.renderList.forEach(entry =>\r\n        {\r\n            if (entry.children.length > 0)\r\n            {\r\n                this.renderNode(entry, renderPass);\r\n            }\r\n            else\r\n            {\r\n                entry.node.renderGL(renderPass);\r\n            }\r\n        });\r\n    }\r\n\r\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\r\n    {\r\n        const gl = renderPass.renderer.gl;\r\n\r\n        // Flush(renderPass);\r\n\r\n        gl.disable(gl.DEPTH_TEST);\r\n        gl.disable(gl.CULL_FACE);\r\n\r\n        // UnbindTexture(renderPass);\r\n\r\n        // PopFramebuffer(renderPass);\r\n        // PopVertexBuffer(renderPass);\r\n        PopShader(renderPass);\r\n\r\n        // DrawTexturedQuad(renderPass, this.texture);\r\n    }\r\n}\r\n", "import * as Events from './events';\r\n\r\nimport { BaseWorld3D } from './BaseWorld3D';\r\nimport { BuildRenderList } from './BuildRenderList';\r\nimport { CalculateTotalRenderable } from './CalculateTotalRenderable';\r\nimport { CreateWorld3DRenderData } from './CreateWorld3DRenderData';\r\nimport { HasDirtyChildren } from './HasDirtyChildren';\r\nimport { MergeRenderData } from './MergeRenderData';\r\nimport { ResetWorld3DRenderData } from './ResetWorld3DRenderData';\r\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\r\nimport { World3D } from './World3D';\r\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\r\n\r\nexport {\r\n    BaseWorld3D,\r\n    BuildRenderList,\r\n    CalculateTotalRenderable,\r\n    CreateWorld3DRenderData,\r\n    Events,\r\n    HasDirtyChildren,\r\n    MergeRenderData,\r\n    ResetWorld3DRenderData,\r\n    UpdateCachedLayers,\r\n    World3D,\r\n    WorldDepthFirstSearch\r\n};\r\n", "import { ISceneRenderData } from './ISceneRenderData';\r\n\r\nexport function CreateSceneRenderData (): ISceneRenderData\r\n{\r\n    return {\r\n        gameFrame: 0,\r\n        numTotalFrames: 0,\r\n        numDirtyFrames: 0,\r\n        numDirtyCameras: 0,\r\n        worldData: []\r\n    };\r\n}\r\n", "import { ISceneRenderData } from './ISceneRenderData';\r\n\r\nexport function ResetSceneRenderData (renderData: ISceneRenderData, gameFrame: number = 0): void\r\n{\r\n    renderData.gameFrame = gameFrame;\r\n    renderData.numTotalFrames = 0;\r\n    renderData.numDirtyFrames = 0;\r\n    renderData.numDirtyCameras = 0;\r\n    renderData.worldData.length = 0;\r\n}\r\n", "import { SceneManager } from './SceneManager';\r\n\r\nlet instance: SceneManager;\r\n\r\nexport const SceneManagerInstance =\r\n{\r\n    get: (): SceneManager =>\r\n    {\r\n        return instance;\r\n    },\r\n\r\n    set: (manager: SceneManager | null): void =>\r\n    {\r\n        instance = manager;\r\n    }\r\n};\r\n", "import { Emit, Once } from '../events';\r\n\r\nimport { CreateSceneRenderData } from './CreateSceneRenderData';\r\nimport { Game } from '../Game';\r\nimport { GameInstance } from '../GameInstance';\r\nimport { GetScenes } from '../config';\r\nimport { IScene } from './IScene';\r\nimport { ISceneRenderData } from './ISceneRenderData';\r\nimport { ResetSceneRenderData } from './ResetSceneRenderData';\r\nimport { SceneManagerInstance } from './SceneManagerInstance';\r\n\r\nexport class SceneManager\r\n{\r\n    game: Game;\r\n\r\n    scenes: Map<string, IScene>  = new Map();\r\n\r\n    //  Used by Install to assign default scene keys when not specified\r\n    sceneIndex: number = 0;\r\n\r\n    //  Flush the cache\r\n    flush: boolean = false;\r\n\r\n    renderResult: ISceneRenderData = CreateSceneRenderData();\r\n\r\n    constructor ()\r\n    {\r\n        this.game = GameInstance.get();\r\n\r\n        SceneManagerInstance.set(this);\r\n\r\n        Once(this.game, 'boot', () => this.boot());\r\n    }\r\n\r\n    boot (): void\r\n    {\r\n        GetScenes().forEach(scene => new scene());\r\n    }\r\n\r\n    update (delta: number, time: number): void\r\n    {\r\n        for (const scene of this.scenes.values())\r\n        {\r\n            Emit(scene, 'update', delta, time);\r\n        }\r\n    }\r\n\r\n    render (gameFrame: number): ISceneRenderData\r\n    {\r\n        const results = this.renderResult;\r\n\r\n        ResetSceneRenderData(results, gameFrame);\r\n\r\n        for (const scene of this.scenes.values())\r\n        {\r\n            Emit(scene, 'render', results);\r\n        }\r\n\r\n        if (this.flush)\r\n        {\r\n            //  Invalidate the renderer cache\r\n            results.numDirtyFrames++;\r\n\r\n            //  And reset\r\n            this.flush = false;\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n", "import { AddToDOM, DOMContentLoaded } from './dom';\r\nimport { Emit, EventEmitter } from './events';\r\nimport { GetBanner, GetParent, GetRenderer } from './config';\r\n\r\nimport { GameInstance } from './GameInstance';\r\nimport { IRenderer } from './renderer/IRenderer';\r\nimport { SceneManager } from './scenes/SceneManager';\r\nimport { TextureManager } from './textures/TextureManager';\r\n\r\nexport class Game extends EventEmitter\r\n{\r\n    readonly VERSION: string = '4.0.0-beta1';\r\n\r\n    isBooted: boolean = false;\r\n    isPaused: boolean = false;\r\n\r\n    willUpdate: boolean = true;\r\n    willRender: boolean = true;\r\n\r\n    lastTick: number = 0;\r\n    elapsed: number = 0;\r\n\r\n    //  The current game frame\r\n    frame: number = 0;\r\n\r\n    renderer: IRenderer;\r\n    textureManager: TextureManager;\r\n    sceneManager: SceneManager;\r\n\r\n    constructor (...settings: { (): void }[])\r\n    {\r\n        super();\r\n\r\n        GameInstance.set(this);\r\n\r\n        DOMContentLoaded(() => this.boot(settings));\r\n    }\r\n\r\n    boot (settings: { (): void }[]): void\r\n    {\r\n        //  Activate the settings post DOM Content Loaded\r\n        settings.forEach(setting => setting());\r\n\r\n        const renderer = GetRenderer();\r\n\r\n        this.renderer = new renderer();\r\n        this.textureManager = new TextureManager();\r\n        this.sceneManager = new SceneManager();\r\n\r\n        //  Only add to the DOM if they either didn't set a Parent, or expressly set it to be non-null\r\n        //  Otherwise we'll let them add the canvas to the DOM themselves\r\n        const parent = GetParent();\r\n\r\n        if (parent)\r\n        {\r\n            AddToDOM(this.renderer.canvas, parent);\r\n        }\r\n\r\n        this.isBooted = true;\r\n\r\n        GetBanner();\r\n\r\n        Emit(this, 'boot');\r\n\r\n        this.lastTick = performance.now();\r\n\r\n        this.step(this.lastTick);\r\n    }\r\n\r\n    pause (): void\r\n    {\r\n        this.isPaused = true;\r\n    }\r\n\r\n    resume (): void\r\n    {\r\n        this.isPaused = false;\r\n\r\n        this.lastTick = performance.now();\r\n    }\r\n\r\n    step (time: number): void\r\n    {\r\n        //  Note that privacy.resistFingerprinting can round this value to 100ms or more!\r\n        const delta = time - this.lastTick;\r\n\r\n        this.lastTick = time;\r\n        this.elapsed += delta;\r\n\r\n        if (!this.isPaused)\r\n        {\r\n            if (this.willUpdate)\r\n            {\r\n                this.sceneManager.update(delta, time);\r\n\r\n                Emit(this, 'update', delta, time);\r\n            }\r\n\r\n            if (this.willRender)\r\n            {\r\n                this.renderer.render(this.sceneManager.render(this.frame));\r\n            }\r\n        }\r\n\r\n        //  The frame always advances by 1 each step (even when paused)\r\n        this.frame++;\r\n\r\n        GameInstance.setFrame(this.frame);\r\n        GameInstance.setElapsed(this.elapsed);\r\n\r\n        requestAnimationFrame(now => this.step(now));\r\n    }\r\n\r\n    destroy (): void\r\n    {\r\n        //  TODO - Code destroy function\r\n    }\r\n}\r\n", "import { ISceneConfig } from './ISceneConfig';\r\n\r\nexport function GetConfigValue<Property extends keyof ISceneConfig> (config: ISceneConfig, property: Property, defaultValue: ISceneConfig[Property]): ISceneConfig[Property]\r\n{\r\n    if (Object.prototype.hasOwnProperty.call(config, property))\r\n    {\r\n        return config[property];\r\n    }\r\n    else\r\n    {\r\n        return defaultValue;\r\n    }\r\n}\r\n", "import { GetConfigValue } from './GetConfigValue';\r\nimport { IScene } from './IScene';\r\nimport { ISceneConfig } from './ISceneConfig';\r\nimport { SceneManagerInstance } from './SceneManagerInstance';\r\n\r\nexport function Install (scene: IScene, config: string | ISceneConfig = {}): void\r\n{\r\n    const sceneManager = SceneManagerInstance.get();\r\n\r\n    const size = sceneManager.scenes.size;\r\n    const sceneIndex = sceneManager.sceneIndex;\r\n    const firstScene = (size === 0);\r\n\r\n    if (typeof config === 'string')\r\n    {\r\n        scene.key = config;\r\n    }\r\n    else if (config || (!config && firstScene))\r\n    {\r\n        scene.key = GetConfigValue(config, 'key', 'scene' + sceneIndex.toString());\r\n    }\r\n\r\n    if (sceneManager.scenes.has(scene.key))\r\n    {\r\n        console.warn('Scene key already in use: ' + scene.key);\r\n    }\r\n    else\r\n    {\r\n        sceneManager.scenes.set(scene.key, scene);\r\n\r\n        sceneManager.flush = true;\r\n\r\n        sceneManager.sceneIndex++;\r\n    }\r\n}\r\n", "// import { Emit } from '../events/Emit';\r\n\r\nimport { Game } from '../Game';\r\nimport { GameInstance } from '../GameInstance';\r\nimport { IEventEmitter } from '../events/IEventEmitter';\r\nimport { IEventInstance } from '../events/IEventInstance';\r\nimport { IScene } from './IScene';\r\nimport { ISceneConfig } from './ISceneConfig';\r\nimport { Install } from './Install';\r\n\r\nexport class Scene implements IScene, IEventEmitter\r\n{\r\n    key: string;\r\n    game: Game;\r\n    events: Map<string, Set<IEventInstance>>;\r\n\r\n    constructor (config?: string | ISceneConfig)\r\n    {\r\n        this.game = GameInstance.get();\r\n        this.events = new Map();\r\n\r\n        Install(this, config);\r\n    }\r\n\r\n    // shutdown (): void\r\n    // {\r\n    //     Emit(this, 'shutdown');\r\n    // }\r\n\r\n    // destroy (): void\r\n    // {\r\n    //     Emit(this, 'destroy');\r\n\r\n    //     this.events.clear();\r\n\r\n    //     this.game = null;\r\n    //     this.events = null;\r\n    // }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,MAAI;AACJ,MAAI,QAAgB;AACpB,MAAI,UAAkB;AAEtB,QAAM,gBACb;IACI,KAAK;AAED,aAAO;;IAGX,KAAK,CAAC;AAEF,iBAAW;;IAGf,UAAU;AAEN,aAAO;;IAGX,UAAU,CAAC;AAEP,cAAQ;;IAGZ,YAAY;AAER,aAAO;;IAGX,YAAY,CAAC;AAET,gBAAU;;;;;ACnClB;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;ACAA;;ACAA;;;;;;;ACAA;;;;;AAgBO,6BAA4B;AAG/B,WAAQ,QAAQ,IAAK,KAAK,KAAK,SAAS,KAAK,MAAM;;;;ACnBvD;;;;;;;ACAA;;ACAA;;;;;;;;ACAA;;;;;;AAOA,QAAM,SAAQ;AAGd,QAAM,SAAS,IAAI,WAAW;AAE9B,WAAS,IAAI,GAAG,IAAI,OAAM,QAAQ;AAE9B,WAAO,OAAM,WAAW,MAAM;;;;ACdlC;;ACAA;;;;;;;ACAA;;ACAA,AAAO;;;;ACAP;;ACAA;IA6BI,YAAa;AAET,YAAM,OAAO,IAAI,aAAa;AAE9B,WAAK,OAAO;AACZ,WAAK,WAAW;AAEhB,UAAI;AAEA,YAAI,MAAM,QAAQ;AAEd,eAAK,UAAU;;AAIf,eAAK,UAAW,IAAgB;;;AAKpC,aAAK,KAAK;AACV,aAAK,KAAK;AACV,aAAK,MAAM;AACX,aAAK,MAAM;;;IAsBnB,IAAK,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa,KAAa;AAEpM,YAAM,OAAO,KAAK;AAElB,WAAM,KAAM;AACZ,WAAM,KAAM;AACZ,WAAM,KAAM;AACZ,WAAM,KAAM;AAEZ,WAAM,KAAM;AACZ,WAAM,KAAM;AACZ,WAAM,KAAM;AACZ,WAAM,KAAM;AAEZ,WAAM,KAAM;AACZ,WAAM,KAAM;AACZ,WAAM,MAAO;AACb,WAAM,MAAO;AAEb,WAAM,MAAO;AACb,WAAM,MAAO;AACb,WAAM,MAAO;AACb,WAAM,MAAO;AAEb,WAAK,SAAS;AAEd,aAAO;;IAGX,QAAS,MAAmB,IAAI,QAAgB;AAE5C,YAAM,OAAO,KAAK;AAElB,eAAS,IAAI,GAAG,IAAI,IAAI;AAEpB,YAAK,QAAQ,KAAM,KAAK;;AAG5B,aAAO;;IAGX,UAAW,KAAkB,QAAgB;AAEzC,YAAM,OAAO,KAAK;AAElB,eAAS,IAAI,GAAG,IAAI,IAAI;AAEpB,aAAK,KAAK,IAAK,QAAQ;;AAG3B,WAAK,SAAS;AAEd,aAAO;;IAGX;AAEI,aAAO,YAAY,KAAK,KAAK,KAAK,QAAQ;;IAG9C;AAEI,WAAK,WAAW;AAChB,WAAK,OAAO;;;;;ACzIpB,AAIO,gBAAc,GAAY,GAAY,MAAe,IAAI;AAE5D,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAE7F,WAAO,IAAI,IACP,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM;;;;ACzBd,AAEO,oCAAmC,SAAiB,GAAW,GAAW;AAE7E,UAAM,OAAO,QAAO;AAEpB,SAAK,OAAO;AACZ,SAAK,OAAO;AACZ,SAAK,OAAO;AAEZ,YAAO,SAAS;AAEhB,WAAO;;;;ACZX,AAEO,mBAAkB,SAAiB,MAAe,IAAI;AAEzD,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,MAAM,MAAM,MAAM,MAAM;AAE9B,WAAO,IAAI,IACP,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM;;;;ACnCtC,AAEO,mBAAgB;AAEnB,WAAO,IAAI,QAAQ;;;;ACJvB,AAEO,sBAAmB,KAAc;AAEpC,WAAO,KAAK,UAAU,IAAI;;;;ACJ9B,AAEO,wBAAuB,KAAc;AAExC,UAAM,UAAU,IAAI;AACpB,UAAM,WAAW,KAAK;AAEtB,aAAS,MAAM,QAAQ;AACvB,aAAS,MAAM,QAAQ;AACvB,aAAS,MAAM,QAAQ;AAEvB,SAAK,SAAS;AAEd,WAAO;;;;ACbX,AAEO,uBAAsB;AAEzB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAYlG,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AAEnC,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAE3D,WAAO,MAAM,WAAW,MAAM,WAAW,MAAM,WAAW,MAAM;;;;AC5BpE,AAIO,oBAAiB,GAAa;AAEjC,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAE7F,WACI,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ,OACR,QAAQ;;;;ACzBhB,AAEO,qBAAoB;AAEvB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,KAAK,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;;;;ACNjG,AAKO,oBAAmB,GAAoB,MAAe,IAAI;AAE7D,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,WAAO,IAAI,IACP,IAAI,KAAK,IACT,KAAK,IACL,KAAK,IACL,GACA,KAAK,IACL,IAAI,KAAK,IACT,KAAK,IACL,GACA,KAAK,IACL,KAAK,IACL,IAAI,KAAK,IACT,GACA,GACA,GACA,GACA;;;;ACvCR,AAGO,wBAAuB,QAAe,MAAiB,MAAe,IAAI;AAE7E,QAAI,CAAE,GAAG,GAAG,KAAM;AAElB,QAAI,MAAM,KAAK,MAAM,GAAG,GAAG;AAE3B,QAAI,MAAM;AAEN,aAAO;;AAGX,UAAM,IAAI;AAEV,SAAK;AACL,SAAK;AACL,SAAK;AAEL,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,IAAI;AAEd,WAAO,IAAI,IACP,IAAI,IAAI,IAAI,GACZ,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,IAAI,GAChB,GACA,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,GACZ,IAAI,IAAI,IAAI,IAAI,GAChB,GACA,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,GACZ,GACA,GACA,GACA,GACA;;;;ACxCR,AAIO,mCAAkC,GAAoB,GAAc,MAAe,IAAI;AAG1F,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,WAAO,IAAI,IACP,IAAK,MAAK,KACV,KAAK,IACL,KAAK,IACL,GACA,KAAK,IACL,IAAK,MAAK,KACV,KAAK,IACL,GACA,KAAK,IACL,KAAK,IACL,IAAK,MAAK,KACV,GACA,IACA,IACA,IACA;;;;ACzCR,AAMO,wCAAuC,GAAoB,GAAc,GAAc,MAAe,IAAI;AAG7G,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,WAAO,IAAI,IACN,KAAK,MAAK,OAAO,IACjB,MAAK,MAAM,IACX,MAAK,MAAM,IACZ,GACC,MAAK,MAAM,IACX,KAAK,MAAK,OAAO,IACjB,MAAK,MAAM,IACZ,GACC,MAAK,MAAM,IACX,MAAK,MAAM,IACX,KAAK,MAAK,OAAO,IAClB,GACA,IACA,IACA,IACA;;;;AC5CR,AAMO,8CAA6C,GAAoB,GAAc,GAAc,GAAc,MAAe,IAAI;AAGjI,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,OAAQ,KAAK,MAAK,OAAO;AAC/B,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,OAAQ,KAAK,MAAK,OAAO;AAC/B,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,OAAQ,MAAK,MAAM;AACzB,UAAM,QAAS,KAAK,MAAK,OAAO;AAEhC,WAAO,IAAI,IACP,MACA,MACA,MACA,GACA,MACA,MACA,MACA,GACA,MACA,MACA,OACA,GACA,KAAK,KAAM,QAAO,KAAK,OAAO,KAAK,OAAO,KAC1C,KAAK,KAAM,QAAO,KAAK,OAAO,KAAK,OAAO,KAC1C,KAAK,KAAM,QAAO,KAAK,OAAO,KAAK,QAAQ,KAC3C;;;;ACvDR,AAGO,qCAAoC,UAAqB,UAAqB,iBAA0B,MAAM,MAAe,IAAI;AAEpI,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,UAAM,KAAK,KAAK,IAAI,SAAS;AAC7B,UAAM,KAAK,KAAK,IAAI,SAAS;AAE7B,UAAM,KAAK,KAAK,IAAI,SAAS;AAC7B,UAAM,KAAK,KAAK,IAAI,SAAS;AAE7B,QAAI,MAAM;AACV,QAAI,MAAM;AACV,QAAI,MAAM;AAIV,UAAM,MAAM,CAAC;AAIb,UAAM,MAAM,IAAI,MAAM;AAEtB,UAAM,MAAM,IAAI,KAAK;AAErB,UAAM,MAAM,MAAM;AAElB,UAAM,MAAM,KAAK;AAGjB,QAAI,CAAC;AAGD,YAAM,KAAK,IAAI,KAAK;AACpB,YAAM,MAAM,IAAI,KAAK,IAAI,MAAM;AAC/B,YAAM,MAAM,IAAI,KAAK,IAAI,MAAM;;AAGnC,WAAO,IAAI,IACP,IACA,KACA,KACA,GACA,GACA,IACA,IACA,GACA,IACA,KACA,KACA,GACA,KACA,KACA,KACA;;;;ACxDR,AAGO,uBAAsB,QAAiB,MAAe,IAAI;AAE7D,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACXjB,AAGO,2BAA0B,QAAiB,MAAe,IAAI;AAEjE,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACXjB,AAEO,yBAAwB,QAAe,MAAe,IAAI;AAE7D,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,WAAO,IAAI,IACP,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,CAAC,GAAG,GAAG,GACV,GAAG,GAAG,GAAG;;;;ACXjB,AAEO,yBAAwB,QAAe,MAAe,IAAI;AAE7D,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,WAAO,IAAI,IACP,GAAG,GAAG,CAAC,GAAG,GACV,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACXjB,AAEO,yBAAwB,QAAe,MAAe,IAAI;AAE7D,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,WAAO,IAAI,IACP,GAAG,GAAG,GAAG,GACT,CAAC,GAAG,GAAG,GAAG,GACV,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACXjB,AAIO,mBAAkB,MAAc,OAAe,QAAgB,KAAa,MAAc,KAAa,MAAe,IAAI;AAE7H,UAAM,KAAK,IAAK,SAAQ;AACxB,UAAM,KAAK,IAAK,OAAM;AACtB,UAAM,KAAK,IAAK,QAAO;AAEvB,WAAO,IAAI,IACP,OAAO,IAAI,IACX,GACA,GACA,GACA,GACA,OAAO,IAAI,IACX,GACA,GACC,SAAQ,QAAQ,IAChB,OAAM,UAAU,IAChB,OAAM,QAAQ,IACf,IACA,GACA,GACA,MAAM,OAAO,IAAI,IACjB;;;;AC1BR;IAMI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY;AAEnD,WAAK,IAAI,GAAG,GAAG;;IAGnB,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY;AAE3C,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AAET,aAAO;;IAGX,QAAS,MAAmB,IAAI,QAAgB;AAE5C,YAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,UAAK,SAAU;AACf,UAAK,QAAQ,KAAM;AACnB,UAAK,QAAQ,KAAM;AAEnB,aAAO;;IAGX,UAAW,KAAkB,QAAgB;AAEzC,aAAO,KAAK,IACR,IAAK,QACL,IAAK,QAAQ,IACb,IAAK,QAAQ;;IAIrB;AAEI,YAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,aAAO,OAAO,QAAQ,QAAQ;;;;;AC5CtC,AAGO,uBAAqB,SAAkB,MAAY,IAAI;AAG1D,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAEzE,WAAO,IAAI,IACP,KAAK,MAAM,KAAK,KAAK,MACrB,KAAK,MAAM,KAAK,KAAK,MACrB,KAAK,MAAM,KAAK,KAAK;;;;ACX7B;IAWI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAElE,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,WAAK,WAAW;;IAGpB,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAE1D,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,WAAK,SAAS;AAEd,aAAO;;QAGP,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,UAAU;AAEV,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,UAAU;AAEV,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,UAAU;AAEV,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,UAAU;AAEV,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;IAGhB,QAAS,MAAmB,IAAI,QAAgB;AAE5C,YAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAK,SAAU;AACf,UAAK,QAAQ,KAAM;AACnB,UAAK,QAAQ,KAAM;AACnB,UAAK,QAAQ,KAAM;AAEnB,aAAO;;IAGX,UAAW,KAAkB,QAAgB;AAEzC,aAAO,KAAK,IACR,IAAK,QACL,IAAK,QAAQ,IACb,IAAK,QAAQ,IACb,IAAK,QAAQ;;IAIrB;AAEI,WAAK,WAAW;;IAGpB;AAEI,YAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,aAAO,OAAO,QAAQ,QAAQ,QAAQ;;;;;ACpI9C,AAIO,uBAAsB,SAAkB,MAAkB,IAAI;AAEjE,UAAM,UAAU,YAAW;AAE3B,UAAM,MAAM,IAAI,QAAQ;AACxB,UAAM,MAAM,IAAI,QAAQ;AACxB,UAAM,MAAM,IAAI,QAAQ;AAGxB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAEzE,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AACnB,UAAM,OAAO,MAAM;AAEnB,UAAM,QAAQ,OAAO,OAAO;AAE5B,QAAI,IAAI;AAER,QAAI,QAAQ;AAER,UAAI,KAAK,KAAK,QAAQ,KAAK;AAE3B,aAAO,IAAI,IACN,QAAO,QAAQ,GACf,QAAO,QAAQ,GACf,QAAO,QAAQ,GAChB,OAAO;eAGN,OAAO,QAAQ,OAAO;AAE3B,UAAI,KAAK,KAAK,IAAM,OAAO,OAAO,QAAQ;AAE1C,aAAO,IAAI,IACP,OAAO,GACN,QAAO,QAAQ,GACf,QAAO,QAAQ,GACf,QAAO,QAAQ;eAGf,OAAO;AAEZ,UAAI,KAAK,KAAK,IAAM,OAAO,OAAO,QAAQ;AAE1C,aAAO,IAAI,IACN,QAAO,QAAQ,GAChB,OAAO,GACN,QAAO,QAAQ,GACf,QAAO,QAAQ;;AAKpB,UAAI,KAAK,KAAK,IAAM,OAAO,OAAO,QAAQ;AAE1C,aAAO,IAAI,IACN,QAAO,QAAQ,GACf,QAAO,QAAQ,GAChB,OAAO,GACN,QAAO,QAAQ;;;;;ACtE5B,AAGO,0BAAyB,SAAkB,MAAY,IAAI;AAE9D,UAAM,OAAO,QAAO;AAEpB,WAAO,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK;;;;ACP5C,AAEO,oBAAmB,UAAkB,IAAI;AAE5C,WAAO,QAAO,IACV,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACRjB,AAEO,kBAAiB,SAAiB,MAAe,IAAI;AAExD,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAGlG,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AAEnC,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAE3D,UAAM,MAAM,MAAM,WAAW,MAAM,WAAW,MAAM,WAAW,MAAM;AAErE,QAAI,QAAQ;AAGR,aAAO;;AAGX,UAAM,SAAS,IAAI;AAEnB,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AACnC,UAAM,WAAW,MAAM,MAAM,MAAM;AAEnC,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAE3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAE3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAC3D,UAAM,WAAW,CAAE,OAAM,WAAW,MAAM,WAAW,MAAM;AAE3D,WAAO,IAAI,IACP,WAAW,QAAQ,WAAW,QAAQ,WAAW,QAAQ,WAAW,QACpE,WAAW,QAAQ,WAAW,QAAQ,WAAW,QAAQ,WAAW,QACpE,WAAW,QAAQ,WAAW,QAAQ,WAAW,QAAQ,WAAW,QACpE,WAAW,QAAQ,WAAW,QAAQ,WAAW,QAAQ,WAAW;;;;AC7D5E,AAOO,kBAAiB,KAAgB,QAAmB,IAAe,MAAe,IAAI;AAEzF,UAAM,CAAE,GAAG,MAAM,GAAG,MAAM,GAAG,QAAS;AACtC,UAAM,CAAE,GAAG,KAAK,GAAG,KAAK,GAAG,OAAQ;AACnC,UAAM,CAAE,GAAG,SAAS,GAAG,SAAS,GAAG,WAAY;AAE/C,QAAI,KAAK,IAAI,OAAO,WAAW,QAAW,KAAK,IAAI,OAAO,WAAW,QAAW,KAAK,IAAI,OAAO,WAAW;AAEvG,aAAO,SAAS;;AAGpB,QAAI,KAAK,OAAO;AAChB,QAAI,KAAK,OAAO;AAChB,QAAI,KAAK,OAAO;AAEhB,QAAI,MAAM,IAAI,KAAK,MAAM,IAAI,IAAI;AAEjC,UAAM;AACN,UAAM;AACN,UAAM;AAEN,QAAI,KAAK,MAAM,KAAK,MAAM;AAC1B,QAAI,KAAK,MAAM,KAAK,MAAM;AAC1B,QAAI,KAAK,MAAM,KAAK,MAAM;AAE1B,UAAM,KAAK,MAAM,IAAI,IAAI;AAEzB,QAAI,CAAC;AAED,WAAK;AACL,WAAK;AACL,WAAK;;AAIL,YAAM,IAAI;AACV,YAAM;AACN,YAAM;AACN,YAAM;;AAGV,QAAI,KAAK,KAAK,KAAK,KAAK;AACxB,QAAI,KAAK,KAAK,KAAK,KAAK;AACxB,QAAI,KAAK,KAAK,KAAK,KAAK;AAExB,UAAM,KAAK,MAAM,IAAI,IAAI;AAEzB,QAAI,CAAC;AAED,WAAK;AACL,WAAK;AACL,WAAK;;AAIL,YAAM,IAAI;AACV,YAAM;AACN,YAAM;AACN,YAAM;;AAGV,WAAO,IAAI,IACP,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,CAAE,MAAK,OAAO,KAAK,OAAO,KAAK,OAC/B,CAAE,MAAK,OAAO,KAAK,OAAO,KAAK,OAC/B,CAAE,MAAK,OAAO,KAAK,OAAO,KAAK,OAC/B;;;;ACpFR,AAIO,oBAAmB,GAAY,GAAY,MAAe,IAAI;AAEjE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAE7F,WAAO,IAAI,IACP,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAE1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAE1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAE1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,KAC1C,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM;;;;AC5BlD,AAIO,0BAAyB,SAAiB,QAAgB,MAAe,IAAI;AAEhF,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,IAAI,IACP,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM,QACN,MAAM;;;;ACxBd,AAIO,gCAA+B,GAAY,GAAY,QAAgB,MAAe,IAAI;AAE7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAE7F,WAAO,IAAI,IACP,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM,QACZ,MAAM,MAAM;;;;ACzBpB,AAIO,iBAAgB,MAAc,OAAe,QAAgB,KAAa,MAAc,KAAa,MAAe,IAAI;AAE3H,UAAM,KAAK,IAAK,QAAO;AACvB,UAAM,KAAK,IAAK,UAAS;AACzB,UAAM,KAAK,IAAK,QAAO;AAEvB,WAAO,IAAI,IACP,KAAK,IACL,GACA,GACA,GACA,GACA,KAAK,IACL,GACA,GACA,GACA,GACA,IAAI,IACJ,GACC,QAAO,SAAS,IAChB,OAAM,UAAU,IAChB,OAAM,QAAQ,IACf;;;;AC1BR,AAKO,uBAAsB,MAAc,QAAgB,MAAc,KAAa,MAAe,IAAI;AAErG,UAAM,IAAI,IAAI,KAAK,IAAI,OAAO;AAE9B,QAAI,MAAM;AACV,QAAI,MAAM,KAAK;AAEf,QAAI,QAAQ,QAAQ,QAAQ;AAExB,YAAM,KAAK,IAAK,QAAO;AACvB,YAAO,OAAM,QAAQ;AACrB,YAAM,IAAI,MAAM,OAAO;;AAG3B,WAAO,IAAI,IACP,IAAI,QACJ,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,KACA,IACA,GACA,GACA,KACA;;;;ACnCR,AAYO,sCAAqC,KAAU,MAAc,KAAa,MAAe,IAAI;AAEhG,UAAM,QAAQ,KAAK,IAAK,IAAI,YAAY,KAAK,KAAM;AACnD,UAAM,UAAU,KAAK,IAAK,IAAI,cAAc,KAAK,KAAM;AACvD,UAAM,UAAU,KAAK,IAAK,IAAI,cAAc,KAAK,KAAM;AACvD,UAAM,WAAW,KAAK,IAAK,IAAI,eAAe,KAAK,KAAM;AACzD,UAAM,SAAS,IAAK,WAAU;AAC9B,UAAM,SAAS,IAAK,SAAQ;AAE5B,WAAO,IAAI,IACP,QACA,GACA,GACA,GACA,GACA,QACA,GACA,GACA,CAAG,YAAU,YAAY,SAAS,MACjC,SAAQ,WAAW,SAAS,KAC7B,MAAO,QAAO,MACd,IACA,GACA,GACC,MAAM,OAAS,QAAO,MACvB;;;;ACrCR,AAGO,mBAAiB,SAAiB,QAAe,MAAiB,MAAe,IAAI;AAExF,QAAI,CAAE,GAAG,GAAG,KAAM;AAElB,QAAI,MAAM,KAAK,MAAM,GAAG,GAAG;AAE3B,QAAI,MAAM;AAEN,aAAO;;AAGX,UAAM,IAAI;AAEV,SAAK;AACL,SAAK;AACL,SAAK;AAEL,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,IAAI;AAEd,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAGlG,UAAM,MAAM,IAAI,IAAI,IAAI;AACxB,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI;AACxB,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,MAAM,IAAI,IAAI,IAAI;AAIxB,WAAO,IAAI,IACP,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,MAAM,MAAM,MAAM,MAAM,MAAM,KAC9B,KACA,KACA,KACA;;;;ACvDR,AAIO,oBAAkB,SAAiB,QAAe,MAAe,IAAI;AAExE,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,IAAI,IACP,KACA,KACA,KACA,KACA,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,KACA,KACA,KACA;;;;AC3BR,AAIO,oBAAkB,SAAiB,QAAe,MAAe,IAAI;AAExE,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,IAAI,IACP,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,KACA,KACA,KACA,KACA,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,KACA,KACA,KACA;;;;AC3BR,AAIO,oBAAkB,SAAiB,QAAe,MAAe,IAAI;AAExE,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,IAAI,IACP,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,MAAM,IAAI,MAAM,GAChB,KACA,KACA,KACA,KACA,KACA,KACA,KACA;;;;AC3BR,AAKO,kBAAgB,SAAiB,GAAc,MAAe,IAAI;AAErE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAClG,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,MAAM,GACN,KACA,KACA,KACA;;;;AC1BR,AAGO,0BAAyB,SAAiB;AAE7C,UAAM,OAAO,QAAO;AACpB,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,SAAK,MAAM;AACX,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,YAAO,SAAS;AAEhB,WAAO;;;;ACdX,AAEO,oCAAmC,SAAiB,GAAW,GAAW;AAE7E,UAAM,OAAO,QAAO;AAEpB,SAAK,MAAM;AACX,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,YAAO,SAAS;AAEhB,WAAO;;;;ACZX,AAIO,qBAAmB,GAAY,GAAY,MAAe,IAAI;AAEjE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAE7F,WAAO,IAAI,IACP,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM,KACN,MAAM;;;;ACzBd,AAKO,qBAAmB,KAAgB,QAAmB,IAAe,MAAe,IAAI;AAE3F,UAAM,CAAE,GAAG,MAAM,GAAG,MAAM,GAAG,QAAS;AACtC,UAAM,CAAE,GAAG,KAAK,GAAG,KAAK,GAAG,OAAQ;AACnC,UAAM,CAAE,GAAG,SAAS,GAAG,SAAS,GAAG,WAAY;AAE/C,QAAI,KAAK,OAAO;AAChB,QAAI,KAAK,OAAO;AAChB,QAAI,KAAK,OAAO;AAEhB,QAAI,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK;AAEnC,QAAI,MAAM;AAEN,YAAM,IAAI,KAAK,KAAK;AACpB,YAAM;AACN,YAAM;AACN,YAAM;;AAGV,QAAI,KAAK,MAAM,KAAK,MAAM;AAC1B,QAAI,KAAK,MAAM,KAAK,MAAM;AAC1B,QAAI,KAAK,MAAM,KAAK,MAAM;AAE1B,UAAM,KAAK,KAAK,KAAK,KAAK,KAAK;AAE/B,QAAI,MAAM;AAEN,YAAM,IAAI,KAAK,KAAK;AACpB,YAAM;AACN,YAAM;AACN,YAAM;;AAGV,WAAO,IAAI,IACP,IACA,IACA,IACA,GACA,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,GACA,IACA,IACA,IACA,GACA,MACA,MACA,MACA;;;;ACvDR,AAGO,qBAAoB,SAAiB,QAAiB,MAAe,IAAI;AAE5E,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,UAAM,OAAO,QAAO;AACpB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ;AAE3F,QAAI,YAAW;AAEX,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;;AAIzC,UAAI,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;;AAItC,WAAO;;;;ACvCX,AAEO,+BAA8B,SAAiB,GAAW,GAAW,GAAW,MAAe,IAAI;AAEtG,UAAM,OAAO,QAAO;AACpB,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ;AAE3F,QAAI,YAAW;AAEX,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AACzC,WAAK,MAAM,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;;AAIzC,UAAI,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,KAC9B,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;;AAItC,WAAO;;;;ACpCX,AAEO,qBAAoB,SAAiB,MAAe,IAAI;AAE3D,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAElG,WAAO,IAAI,IACP,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA;;;;ACtBR,AAEO,gBAAe;AAElB,WAAO,QAAO,IACV,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG,GACT,GAAG,GAAG,GAAG;;;;ACRjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;IA8BI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,KAAa,GAAG,KAAa;AAElG,WAAK,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI;;IAG7B,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,KAAa,GAAG,KAAa;AAE1F,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,aAAO;;IAGX;AAEI,aAAO,KAAK;;IAGhB;AAEI,YAAO,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAEhC,aAAO,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI;;IAG7B,UAAW;AAEP,aAAO,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;;AC7DpE;;;;;AAoBO,sBAAmB,MAAkB,GAAW;AAEnD,QAAI,KAAK,SAAS,KAAK,KAAK,UAAU;AAElC,aAAO;;AAGX,WAAQ,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,SAAS,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,UAAU;;;;AC3B9F;;;;;;IAeI,YAAa,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAE3E,WAAK,IAAI,GAAG,GAAG,OAAO;;IAG1B,IAAK,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAEnE,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,aAAO;;IAGX,SAAU,GAAW;AAEjB,aAAO,WAAS,MAAM,GAAG;;QAGzB,MAAO;AAEP,UAAI,SAAS,KAAK;AAEd,aAAK,QAAQ;;AAIb,aAAK,QAAQ,QAAQ,KAAK;;;QAI9B;AAEA,aAAO,KAAK,IAAI,KAAK;;QAGrB,OAAQ;AAER,UAAI,SAAS,KAAK;AAEd,aAAK,SAAS;;AAId,aAAK,SAAS,QAAQ,KAAK;;;QAI/B;AAEA,aAAO,KAAK,IAAI,KAAK;;;;;AClE7B;IAKI,YAAa,IAAY,GAAG,IAAY;AAEpC,WAAK,IAAI,GAAG;;IAGhB,IAAK,IAAY,GAAG,IAAY;AAE5B,WAAK,IAAI;AACT,WAAK,IAAI;AAET,aAAO;;IAGX,QAAS,MAAmB,IAAI,QAAgB;AAE5C,YAAM,CAAE,GAAG,KAAM;AAEjB,UAAK,SAAU;AACf,UAAK,QAAQ,KAAM;AAEnB,aAAO;;IAGX,UAAW,KAAkB,QAAgB;AAEzC,aAAO,KAAK,IACR,IAAK,QACL,IAAK,QAAQ;;IAIrB;AAEI,YAAM,CAAE,GAAG,KAAM;AAEjB,aAAO,OAAO,QAAQ;;;;;ACxC9B,8BAKkC;IAO9B,YAAa,UAA4B,IAAY,GAAG,IAAY;AAEhE,YAAM,GAAG;AAET,WAAK,WAAW;;IAGpB;AAEI,WAAK,WAAW;;IAGpB,IAAK,IAAY,GAAG,IAAY;AAE5B,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,UAAI,KAAK;AAEL,aAAK,SAAS;;AAGlB,aAAO;;QAGP;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;;;;ACnE1B;;;;;AAmBO,wBAAuB,IAAY,IAAY,IAAY;AAE9D,WAAO,KAAK,MAAM,KAAK,IAAI,KAAK;;;;ACrBpC;;;;;AAsBO,yBAAwB,IAAY,IAAY,IAAY;AAE/D,WAAO,KAAK,MAAM,KAAK,IAAI,KAAK;;;;ACxBpC;;;;;AAMO,QAAM,aAAa;IAStB,KAAK,KAAK,KAAK;IASf,SAAS,KAAK,KAAK;IASnB,SAAS;IAST,YAAY,KAAK,KAAK;IAStB,YAAY,MAAM,KAAK;IAUvB,kBAAkB,OAAO,oBAAoB;IAU7C,kBAAkB,OAAO,oBAAoB;;;;ACvEjD;;;;;AA4BO,4BAA2B;AAE9B,QAAI,SAAQ,KAAK;AAEb,gBAAS,WAAM;;AAGnB,WAAO,KAAK,IAAO,WAAQ,WAAM,WAAW,WAAM,MAAO,WAAM,OAAO,WAAM;;;;ACnChF;;;;;AAkBO,0BAAyB;AAE5B,aAAQ,SAAQ,WAAW;AAE3B,QAAI,UAAS;AAET,aAAO;;AAIP,aAAO,SAAQ,WAAW;;;;;AC5BlC;;;;;AAkBO,wBAAuB;AAE1B,WAAO,eAAe,SAAQ,KAAK;;;;ACpBvC;;;;;AAoBO,yBAAwB,cAAsB,aAAqB,OAAe;AAErF,QAAI,iBAAiB;AAEjB,aAAO;;AAGX,QAAI,KAAK,IAAI,cAAc,iBAAiB,QAAQ,KAAK,IAAI,cAAc,iBAAkB,WAAW,MAAM;AAE1G,qBAAe;;AAIf,UAAI,KAAK,IAAI,cAAc,gBAAgB,KAAK;AAE5C,YAAI,cAAc;AAEd,yBAAe,WAAW;;AAI1B,yBAAe,WAAW;;;AAIlC,UAAI,cAAc;AAEd,wBAAgB;iBAEX,cAAc;AAEnB,wBAAgB;;;AAIxB,WAAO;;;;ACvDX;;;;;AA2BO,gCAA+B,QAAgB;AAElD,UAAM,aAAa,SAAS;AAE5B,QAAI,eAAe;AAEf,aAAO;;AAGX,UAAM,QAAQ,KAAK,MAAO,cAAc,QAAS;AAEjD,WAAO,aAAc,QAAQ;;;;ACtCjC;;;;;AAkBO,iBAAe,OAAe,KAAa;AAE9C,UAAM,QAAQ,MAAM;AAEpB,WAAQ,MAAU,UAAQ,OAAO,QAAS,SAAS;;;;ACtBvD;;;;;AAoBO,qBAAoB;AAEvB,WAAO,MAAK,QAAO,CAAC,KAAK,IAAI,KAAK;;;;ACtBtC;;;;;AAoBO,4BAA2B;AAE9B,WAAO,MAAK,QAAO,MAAM;;;;ACtB7B;;;;;;;;;;;;;;;;;;;ACAA;IA+BI;AAFQ,uBAAoB;AAIxB,WAAK,OAAO;AAEZ,WAAK,cAAc;AAEnB,YAAM,OAAO,cAAa;AAE1B,WAAK,WAAW,KAAK;AAErB,WAAK,SAAS;AAEd,WAAK,SAAS,IAAI;AAElB,WAAK,iBAAiB,IAAI;AAE1B,WAAK,WAAW,IAAI,cAAa,MAAM,KAAK,mBAAmB,GAAG;AAClE,WAAK,QAAQ,IAAI,cAAa,MAAM,KAAK,mBAAmB,GAAG;AAC/D,WAAK,SAAS,IAAI,cAAa,MAAM,KAAK,mBAAmB,KAAK;AAElE,WAAK;;IAGT;AAEI,YAAM,UAAS,KAAK,OAAO;AAE3B,YAAM,KAAK,KAAK,SAAS;AACzB,YAAM,KAAK,KAAK,SAAS;AAEzB,YAAM,KAAK,KAAK,MAAM;AACtB,YAAM,KAAK,KAAK,MAAM;AAEtB,YAAM,KAAK,CAAC,KAAM,KAAK,QAAQ,KAAK,OAAO;AAC3C,YAAM,KAAK,CAAC,KAAM,KAAK,SAAS,KAAK,OAAO;AAE5C,YAAM,IAAI,KAAK,IAAI,KAAK;AACxB,YAAM,IAAI,KAAK,IAAI,KAAK;AAExB,YAAM,KAAK,IAAI;AACf,YAAM,KAAK,IAAI;AACf,YAAM,KAAK,IAAI;AAEf,YAAM,OAAQ,KAAI,MAAM;AACxB,YAAM,OAAO,KAAK;AAClB,YAAM,OAAO,CAAC,KAAK;AACnB,YAAM,OAAQ,KAAI,MAAM;AAExB,cAAO,KAAK;AACZ,cAAO,KAAK;AACZ,cAAO,KAAK;AACZ,cAAO,KAAK;AACZ,cAAO,MAAM,KAAK,KAAM,QAAO,KAAK,OAAO;AAC3C,cAAO,MAAM,KAAK,KAAM,QAAO,KAAK,OAAO;AAE3C,WAAK,eAAe,IAChB,IAAI,IACJ,IAAI,IACJ,CAAC,IAAI,IACL,IAAI,IACJ,CAAC,IACD,CAAC;AAGL,YAAM,KAAK,KAAK,QAAS,KAAI;AAC7B,YAAM,KAAK,KAAK,SAAU,KAAI;AAE9B,WAAK,OAAO,IACR,KAAM,KAAK,GACX,KAAM,KAAK,GACX,IACA;AAGJ,WAAK,cAAc;;IAGvB;AAEI,YAAM,QAAQ,KAAK,SAAS;AAC5B,YAAM,SAAS,KAAK,SAAS;AAE7B,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,WAAK,OAAO,IAAI,GAAG,GAAG,OAAO;;QAG7B,SAAU;AAEV,UAAI,UAAU,KAAK;AAEf,aAAK,YAAY,UAAU;AAE3B,aAAK;;;QAIT;AAEA,aAAO,KAAK;;IAGhB;AAEI,WAAK,SAAS;AACd,WAAK,MAAM;AACX,WAAK,OAAO;AAEZ,WAAK,QAAQ;AACb,WAAK,iBAAiB;AACtB,WAAK,WAAW;AAChB,WAAK,SAAS;AACd,WAAK,SAAS;;;;;AChJtB;IAuBI;AAEI,WAAK,OAAO;AAEZ,WAAK,cAAc;AAEnB,YAAM,OAAO,cAAa;AAE1B,WAAK,WAAW,KAAK;AAErB,WAAK,SAAS;AAEd,WAAK,SAAS,IAAI;AAElB,WAAK,iBAAiB,IAAI;AAE1B,WAAK;;IAGT;AAEI,YAAM,WAAW,KAAK;AAEtB,UAAI;AAEA,cAAM,QAAQ,SAAS;AACvB,cAAM,SAAS,SAAS;AAExB,aAAK,QAAQ;AACb,aAAK,SAAS;;AAGlB,WAAK,OAAO,IAAI,GAAG,GAAG,KAAK,OAAO,KAAK;;IAG3C;AAEI,WAAK,QAAQ;AACb,WAAK,iBAAiB;AACtB,WAAK,WAAW;AAChB,WAAK,SAAS;AACd,WAAK,SAAS;;;;;AChEtB;;;;;;;ACAA,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,IAAI;;;;ACJ3B,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAEO;AAEH,WAAO,IAAI,KAAK,IAAI,GAAG;;;;ACJ3B,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAQO,QAAM,KAAK;AACX,QAAM,OAAO;AACb,QAAM,OAAO;AACb,QAAM,QAAQ;AACd,QAAM,UAAU;AAChB,QAAM,WAAW;AACjB,QAAM,OAAO;;;ACdpB,AAEO,gBAAc,GAAS,MAAY,IAAI;AAE1C,WAAO,IAAI,IACP,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE;;;;ACPnB,AAEO,eAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACPhB,AAEO,sBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACPd,AAEO,gBAAc,GAAc;AAE/B,WAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJ3C,AAKO,mBAAgB,GAAc;AAEjC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAChD,UAAM,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAChD,UAAM,MAAM,OAAO;AACnB,UAAM,IAAI,OAAO,KAAI,GAAG,KAAK;AAE7B,WAAO,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,GAAG,KAAK;;;;ACf/C,AASO,kBAAiB,GAAW,GAAW,GAAW,GAAW;AAEhE,UAAM,gBAAgB,IAAI;AAC1B,UAAM,wBAAwB,gBAAgB;AAC9C,UAAM,eAAe,IAAI;AACzB,UAAM,UAAU,wBAAwB;AACxC,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,UAAU,IAAI,eAAe;AACnC,UAAM,UAAU,eAAe;AAE/B,WAAO,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI;;;;ACnBzD,AAIO,mBAAiB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAEvG,WAAO,IAAI,IACP,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACTvC,AAWO,sBAAqB,GAAW,IAAY,IAAY,IAAY;AAEvE,UAAM,KAAM,MAAK,MAAM;AACvB,UAAM,KAAM,MAAK,MAAM;AACvB,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AAEf,WAAQ,KAAI,KAAK,IAAI,KAAK,KAAK,MAAM,KAAM,MAAK,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,KAAK,KAAK,IAAI;;;;AClB/F,AAMO,uBAAqB,IAAe,IAAe,IAAe,IAAe,GAAW,MAAY,IAAI;AAE/G,WAAO,IAAI,IACP,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;;;;ACX/C,AAEO,iBAAe,GAAS,MAAY,IAAI;AAE3C,WAAO,IAAI,IACP,KAAK,KAAK,EAAE,IACZ,KAAK,KAAK,EAAE,IACZ,KAAK,KAAK,EAAE;;;;ACPpB,AAEO,mBAAgB,GAAS,QAAgB,MAAY,IAAI;AAE5D,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACPd,AAIO,mBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,QAAI,GAAG,GAAG;AAEV,WAAO,QAAM,KAAK,KAAK;;;;ACR3B;;;;;AAkBO,iBAAgB,OAAe,KAAa;AAE/C,WAAO,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK;;;;ACpBvC,AAGO,mBAAgB,GAAS,KAAW,KAAW,MAAY,IAAI;AAIlE,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI;;;;ACVlC,AAEO,yBAAuB,GAAS,QAAgB,MAAY,IAAI;AAEnE,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACTZ,AAEO,oBAAiB;AAEpB,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACNzC,AAMO,uBAAsB,GAAS,KAAa,KAAa,MAAY,IAAI;AAE5E,UAAM,SAAS,SAAO;AAEtB,kBAAa,GAAG,UAAU,GAAG;AAE7B,WAAO,QAAM,KAAK,MAAU,KAAK,KAAK,SAAS;;;;ACZnD,AAGO,wBAAsB,GAAS,KAAa,KAAa,MAAY,IAAI;AAE5E,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK;;;;ACR5B,AAGO,mBAAgB;AAEnB,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACP1B,AAGO,sBAAmB,QAAmB;AAEzC,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,KAAK,IAAI,GAAG,GAAG;;;;ACP1B,AAEO,kBAAgB,GAAS,GAAS,MAAY,IAAI;AAErD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,WAAO,IAAI,IACP,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK;;;;ACVvB,AAEO,0BAAyB,GAAS,GAAS,MAAY,IAAI;AAE9D,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AAEzB,QAAI,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI;AAE9B,QAAI,MAAM;AAEN,YAAM,IAAI,KAAK,KAAK;;AAGxB,WAAO,IAAI,IACP,IAAI,KACJ,IAAI,KACJ,IAAI;;;;ACrBZ,AAIO,4BAA0B,GAAc;AAE3C,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAElB,WAAQ,IAAI,IAAM,IAAI,IAAM,IAAI;;;;ACVpC,AAGO,qBAAmB,GAAc;AAEpC,WAAO,KAAK,KAAK,iBAAgB,GAAG;;;;ACLxC,AAEO,mBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACPhB,AAEO,oBAAiB,GAAc;AAElC,WAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;;;;ACJnD,AAEO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE;;;;ACPrB,AAIO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE;;;;ACT3B;;;;;AAoBO,sBAAqB,GAAW,GAAW,UAAkB;AAEhE,WAAO,KAAK,IAAI,IAAI,KAAK;;;;ACtB7B,AAGO,wBAAsB,GAAc,GAAc,UAAkB;AAEvE,WAAO,WAAe,EAAE,GAAG,EAAE,GAAG,YAAY,WAAe,EAAE,GAAG,EAAE,GAAG,YAAY,WAAe,EAAE,GAAG,EAAE,GAAG;;;;ACL9G,AASO,mBAAkB,GAAW,GAAW,GAAW,GAAW;AAEjE,UAAM,UAAU,IAAI;AAEpB,UAAM,UAAU,UAAW,KAAI,IAAI,KAAK;AACxC,UAAM,UAAU,UAAW,KAAI,KAAK;AACpC,UAAM,UAAU,UAAW,KAAI;AAC/B,UAAM,UAAU,UAAW,KAAI,IAAI;AAEnC,WAAO,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI;;;;AClBzD,AAIO,qBAAkB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAExG,WAAO,IAAI,IACP,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACTxC,AAEO,oBAAkB,GAAS,MAAY,IAAI;AAE9C,WAAO,IAAI,IACP,IAAI,EAAE,GACN,IAAI,EAAE,GACN,IAAI,EAAE;;;;ACPd,AAIO,wBAAuB;AAE1B,UAAM,OAAO,KAAK,IAAI,EAAE;AACxB,UAAM,OAAO,KAAK,IAAI,EAAE;AACxB,UAAM,OAAO,KAAK,IAAI,EAAE;AAExB,WAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS;;;;ACVvD,AAEO,0BAAwB;AAE3B,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACN/B,AAIO,iBAAe,GAAS,GAAS,GAAW,MAAY,IAAI;AAE/D,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI;;;;ACXvB,AAEO,8BAA4B,GAAc;AAE7C,WAAO,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE;;;;ACJxE,AAEO,4BAA0B;AAE7B,WAAO,KAAK,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE;;;;ACJtD,AAIO,gBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACZrB,AAIO,gBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACZrB,AAEO,qBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACPhB,AAEO,6BAA2B,GAAS,GAAW,GAAW,GAAW,MAAY,IAAI;AAExF,WAAO,IAAI,IACP,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI;;;;ACPd,AAEO,mBAAiB,GAAS,MAAY,IAAI;AAE7C,WAAO,IAAI,IACP,CAAC,EAAE,GACH,CAAC,EAAE,GACH,CAAC,EAAE;;;;ACPX,AAEO,qBAAoB,GAAS,MAAY,IAAI;AAEhD,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,QAAI,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI;AAE9B,QAAI,MAAM;AAEN,YAAM,IAAI,KAAK,KAAK;;AAGxB,WAAO,IAAI,IACP,IAAI,KACJ,IAAI,KACJ,IAAI;;;;AChBZ,AAEO;AAEH,WAAO,IAAI,KAAK,GAAG,GAAG;;;;ACJ1B,AAGO,0BAAwB,GAAS,GAAa,MAAY,IAAI;AAEjE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,QAAI,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI;AAEtC,QAAI,KAAK;AAET,WAAO,IAAI,IACN,OAAM,IAAI,MAAM,IAAI,MAAM,IAAI,OAAO,GACrC,OAAM,IAAI,MAAM,IAAI,MAAM,IAAI,OAAO,GACrC,OAAM,IAAI,MAAM,IAAI,MAAM,IAAI,OAAO;;;;ACf9C,AAMA,QAAM,cAAc,IAAI;AACxB,QAAM,cAAc,IAAI;AAEjB,mBAAkB,GAAS,OAAgB,WAAoB,UAAsB,MAAY,IAAI;AAExG,UAAM,CAAE,GAAG,GAAG,OAAO,UAAW;AAEhC,gBAAY,IACR,QAAQ,GAAG,GAAG,GAAG,GACjB,GAAG,CAAC,SAAS,GAAG,GAAG,GACnB,GAAG,GAAG,KAAK,GACX,IAAI,QAAQ,GAAG,SAAS,IAAI,GAAG,KAAK;AAGxC,aAAS,OAAO,WAAW;AAC3B,aAAS,aAAa,aAAa;AAEnC,WAAO,eAAc,GAAG,aAAa;;;;ACvBzC,6BAKkC;IAQ9B,YAAa,UAA4B,IAAY,GAAG,IAAY,GAAG,IAAY;AAE/E,YAAM,GAAG,GAAG;AAEZ,WAAK,WAAW;;IAGpB;AAEI,WAAK,WAAW;;IAGpB,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY;AAE3C,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,UAAI,KAAK;AAEL,aAAK,SAAS;;AAGlB,aAAO;;QAGP;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;;;;ACtF1B,4BAEiC;IAE7B,YAAa,UAA4B,IAAY,GAAG,IAAY,GAAG,IAAY;AAE/E,YAAM,UAAU,GAAG,GAAG;;QAGtB,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;IAGhB;AAEI,YAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,aAAO,OAAO,QAAQ,QAAQ;;;;;AC3CtC,AAEO,oBAAiB,GAAS,QAAgB,GAAG,MAAY,IAAI;AAEhE,UAAM,IAAI,KAAK,WAAW,IAAI,KAAK;AACnC,UAAM,IAAI,KAAK,WAAW,IAAI;AAC9B,UAAM,SAAS,KAAK,KAAK,IAAI,IAAI,KAAK;AAEtC,WAAO,IAAI,IACP,KAAK,IAAI,KAAK,QACd,KAAK,IAAI,KAAK,QACd,IAAI;;;;ACXZ,AAEO,oBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACPhB,AAQO,mBAAkB,GAAS,QAAc,MAAY,IAAI;AAE5D,YAAM,QAAQ,IAAI,KAAI,GAAG,SAAS;AAElC,WAAO,SAAS,GAAG,KAAK;;;;ACZ5B,AAGO,oBAAkB,GAAS,QAAmB,QAAe,MAAY,IAAI;AAEhF,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAEhB,UAAM,KAAK;AACX,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAChD,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAEhD,WAAO,IAAI,IACP,KAAK,IACL,KAAK,IACL,KAAK;;;;ACnBb,AAGO,oBAAkB,GAAS,QAAmB,QAAe,MAAY,IAAI;AAEhF,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAEhB,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAChD,UAAM,KAAK;AACX,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAEhD,WAAO,IAAI,IACP,KAAK,IACL,KAAK,IACL,KAAK;;;;ACnBb,AAGO,oBAAkB,GAAS,QAAmB,QAAe,MAAY,IAAI;AAEhF,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAEhB,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAChD,UAAM,KAAK,KAAK,KAAK,IAAI,UAAS,KAAK,KAAK,IAAI;AAChD,UAAM,KAAK;AAEX,WAAO,IAAI,IACP,KAAK,IACL,KAAK,IACL,KAAK;;;;ACnBb,AAEO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE;;;;ACPrB,AAEO,wBAAsB,GAAS,MAAY,IAAI;AAElD,WAAO,IAAI,IACN,EAAE,IAAI,IAAK,KAAK,KAAK,EAAE,KAAK,KAAK,MAAM,EAAE,IACzC,EAAE,IAAI,IAAK,KAAK,KAAK,EAAE,KAAK,KAAK,MAAM,EAAE,IACzC,EAAE,IAAI,IAAK,KAAK,KAAK,EAAE,KAAK,KAAK,MAAM,EAAE;;;;ACPlD,AAEO,uBAAsB,GAAS,GAAS,QAAgB,MAAY,IAAI;AAE3E,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI;;;;ACPpB,AAEO,oCAAmC,QAAgB,OAAe,GAAW,MAAY,IAAI;AAEhG,WAAO,IAAI,IACP,SAAS,KAAK,IAAI,QAClB,GACA,SAAS,KAAK,IAAI;;;;ACP1B,AAEO,kCAAiC,QAAgB,KAAa,OAAe,MAAY,IAAI;AAEhG,UAAM,eAAe,KAAK,IAAI,OAAO;AAErC,WAAO,IAAI,IACP,eAAe,KAAK,IAAI,QACxB,KAAK,IAAI,OAAO,QAChB,eAAe,KAAK,IAAI;;;;ACThC,AAIO,sBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,cAAU,GAAG;AAEb,WAAO,QAAM,KAAK,QAAQ;;;;ACR9B,AAEO,2BAAyB,GAAS,QAAgB,MAAY,IAAI;AAErE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACPd,AAIO,6BAA4B,GAAS,GAAa,MAAY,IAAI;AAGrE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AACpE,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,MAAM,IAAI,MAAM,IAAI,MAAM,GAC1B,MAAM,IAAI,MAAM,IAAI,MAAM,GAC1B,MAAM,IAAI,MAAM,IAAI,MAAM;;;;ACblC,AAGO,yBAAwB,GAAS,GAAoB,MAAY,IAAI;AAExE,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,QAAI,MAAM,KAAK,IAAI,KAAK;AACxB,QAAI,MAAM,KAAK,IAAI,KAAK;AACxB,QAAI,MAAM,KAAK,IAAI,KAAK;AAExB,QAAI,OAAO,KAAK,MAAM,KAAK;AAC3B,QAAI,OAAO,KAAK,MAAM,KAAK;AAC3B,QAAI,OAAO,KAAK,MAAM,KAAK;AAE3B,UAAM,KAAK,KAAK;AAEhB,WAAO;AACP,WAAO;AACP,WAAO;AAEP,YAAQ;AACR,YAAQ;AACR,YAAQ;AAER,WAAO,IAAI,IACP,IAAI,MAAM,MACV,IAAI,MAAM,MACV,IAAI,MAAM;;;;AC7BlB,AAOA,QAAM,SAAS,IAAI;AACnB,QAAM,eAAe,IAAI;AAElB,qBAAoB,GAAS,eAAuB,gBAAwB,OAAgB,MAAe,YAAqB,MAAY,IAAI;AAEnJ,aAAS,OAAO,MAAM;AACtB,aAAS,QAAQ,YAAY;AAC7B,WAAO,QAAQ;AAEf,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,iBAAa,IACT,IAAI,gBAAgB,IAAI,GACxB,CAAE,KAAI,iBAAiB,IAAI,IAC3B,IAAI,IAAI;AAGZ,mBAAc,cAAc,QAAQ;AAEpC,UAAM,OAAO,OAAO;AAEpB,UAAM,MAAM,aAAa,IAAI,KAAK,KAAK,aAAa,IAAI,KAAK,KAAK,aAAa,IAAI,KAAK,MAAM,KAAK;AAGnG,WAAO,QAAM,KAAK,IAAI,KAAK;;;;AC/B/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,gBAAc,GAAe,GAAe,MAAkB,IAAI;AAErE,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,qBAAoB,GAAe,QAAgB,MAAkB,IAAI;AAE5E,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACRd,AAEO,gBAAc,GAAoB;AAErC,WAAQ,EAAE,IAAI,EAAE,IAAM,EAAE,IAAI,EAAE,IAAM,EAAE,IAAI,EAAE,IAAM,EAAE,IAAI,EAAE;;;;ACJ9D,AAIO,mBAAkB,GAAoB;AAEzC,WAAO,IAAI,KAAK,KAAK,KAAK,IAAI,MAAM,KAAI,GAAG,IAAI,IAAI;;;;ACNvD,AAGO,oBAAmB,GAAoB;AAE1C,WAAQ,KAAI,GAAG,MAAM;;;;ACLzB,AAGO,mBAAgB;AAEnB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,WAAW,GAAG,GAAG,GAAG;;;;ACPnC,AAEO,qBAAoB,GAAe,MAAkB,IAAI;AAE5D,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ;;;;ACVR,AAGO,sBAAmB,QAAyB;AAE/C,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,KAAK,IAAI,GAAG,GAAG,GAAG;;;;ACP7B,AAEO,oBAAiB,GAAoB;AAExC,WAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;;;;ACJlE,AAEO,gCAA+B,KAAa,OAAe,MAAc,MAAkB,IAAI;AAGlG,UAAM,WAAW,OAAO;AACxB,UAAM,YAAY,QAAQ;AAC1B,UAAM,UAAU,MAAM;AAEtB,UAAM,UAAU,KAAK,IAAI;AACzB,UAAM,UAAU,KAAK,IAAI;AACzB,UAAM,WAAW,KAAK,IAAI;AAC1B,UAAM,WAAW,KAAK,IAAI;AAC1B,UAAM,SAAS,KAAK,IAAI;AACxB,UAAM,SAAS,KAAK,IAAI;AAExB,WAAO,IAAI,IACN,SAAS,WAAW,UAAY,SAAS,WAAW,SACpD,SAAS,WAAW,UAAY,SAAS,WAAW,SACpD,SAAS,WAAW,UAAY,SAAS,WAAW,SACpD,SAAS,WAAW,UAAY,SAAS,WAAW;;;;ACpB7D,AAGO,2BAA0B,GAAW,GAAW,GAAW,MAAkB,IAAI;AAEpF,WAAO,qBAAqB,GAAG,GAAG,GAAG;;;;ACLzC,AAIO,2BAA0B,GAAc,MAAkB,IAAI;AAEjE,WAAO,qBAAqB,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;;;;ACN/C,AAIO,4BAA2B,MAAY,QAAe,MAAkB,IAAI;AAE/E,UAAM,MAAM,KAAK,IAAI,SAAQ;AAE7B,cAAU,MAAM;AAEhB,UAAM,CAAE,GAAG,GAAG,KAAM;AAEpB,WAAO,IAAI,IACP,IAAI,KACJ,IAAI,KACJ,IAAI,KACJ,KAAK,IAAI,SAAQ;;;;AChBzB,AAGO,8BAA6B,SAAkB,MAAkB,IAAI;AAGxE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,QAAO;AAEzE,UAAM,QAAQ,MAAM,MAAM;AAE1B,QAAI;AAEJ,QAAI,QAAQ;AAER,UAAI,MAAM,KAAK,KAAK,QAAQ;AAE5B,aAAO,IAAI,IACN,OAAM,OAAO,GACb,OAAM,OAAO,GACb,OAAM,OAAO,GACd,OAAO;eAGN,MAAM,OAAO,MAAM;AAExB,UAAI,IAAI,KAAK,KAAK,IAAI,MAAM,MAAM;AAElC,aAAO,IAAI,IACP,OAAO,GACN,OAAM,OAAO,GACb,OAAM,OAAO,GACb,OAAM,OAAO;eAGb,MAAM;AAEX,UAAI,IAAI,KAAK,KAAK,IAAI,MAAM,MAAM;AAElC,aAAO,IAAI,IACN,OAAM,OAAO,GACd,OAAO,GACN,OAAM,OAAO,GACb,OAAM,OAAO;;AAKlB,UAAI,IAAI,KAAK,KAAK,IAAI,MAAM,MAAM;AAElC,aAAO,IAAI,IACN,OAAM,OAAO,GACb,OAAM,OAAO,GACd,OAAO,GACN,OAAM,OAAO;;;;;ACrD1B,AAGO,uBAAsB,GAAoB,GAAoB,UAAkB;AAEnF,WACI,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG;;;;ACTjC,AAKO,oBAAmB,GAAoB;AAE1C,UAAM,MAAM,KAAI,GAAG;AAEnB,WAAO,KAAK,KAAK,IAAI,MAAM,MAAM;;;;ACTrC,AAcO,wBAAuB,GAAoB,MAAkB,IAAI;AAEpE,UAAM,MAAM,KAAK,KAAK,EAAE,KAAK;AAC7B,UAAM,IAAI,KAAK,IAAI,MAAM;AACzB,UAAM,UAAU;AAEhB,QAAI,IAAI;AAEJ,UAAI,IACA,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI;;AAMV,UAAI,IAAI,GAAG,GAAG;;AAGlB,WAAO;;;;AClCX,AAIO,oBAAkB,GAAoB,GAAoB,GAAoB,GAAoB,GAAW,MAAkB,IAAI;AAEtI,WAAO,IAAI,IACP,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACVxC,AAEO,mBAAiB,GAAe,MAAkB,IAAI;AAEzD,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACxC,UAAM,SAAS,MAAM,IAAI,MAAM;AAE/B,WAAO,IAAI,IACP,CAAC,IAAI,QACL,CAAC,IAAI,QACL,CAAC,IAAI,QACL,IAAI;;;;ACbZ,AAEO,mBAAiB;AAEpB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACNjD,AAEO,yBAAwB;AAE3B,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACNvC,AAIO,qBAAmB,GAAe,GAAe,MAAkB,IAAI;AAE1E,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEvC,WAAO,IAAI,IACP,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IACnC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IACnC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IACnC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;;;;ACb3C,AAEO,4BAA2B,GAAe,GAAW,GAAW,GAAW,GAAW,MAAkB,IAAI;AAE/G,WAAO,IAAI,IACP,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI;;;;ACRd,AAEO,kBAAgB,GAAe,QAAgB,MAAkB,IAAI;AAExE,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACVZ,AAIO,sBAAoB,GAAe,MAAkB,IAAI;AAE5D,UAAM,SAAS,QAAO;AAEtB,QAAI,WAAW;AAEX,aAAO,IAAI,IAAI,GAAG,GAAG,GAAG;;AAIxB,aAAO,OAAM,GAAG,QAAQ;;;;;ACdhC,AAMO,kBAAgB,GAAe,GAAe,GAAW,MAAkB,IAAI;AAElF,QAAI,MAAM;AAEN,aAAO,WAAS,GAAG;eAEd,MAAM;AAEX,aAAO,WAAS,GAAG;;AAGvB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AACvB,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEvC,QAAI,eAAe,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI;AAElD,QAAI,eAAe;AAEf,UAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAExB,qBAAe,CAAC;;AAIhB,iBAAS,GAAG;;AAGhB,QAAI,gBAAgB;AAEhB,aAAO,IAAI,IAAI,GAAG,GAAG,GAAG;;AAG5B,UAAM,kBAAkB,IAAI,eAAe;AAE3C,QAAI,mBAAmB,OAAO;AAE1B,YAAM,IAAI,IAAI;AAEd,UAAI,IACA,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,IAAI,GAChB,IAAI,IAAI,IAAI,IAAI;AAGpB,aAAO,WAAU,KAAK;;AAG1B,UAAM,eAAe,KAAK,KAAK;AAC/B,UAAM,YAAY,KAAK,MAAM,cAAc;AAC3C,UAAM,SAAS,KAAK,IAAK,KAAI,KAAK,aAAa;AAC/C,UAAM,SAAS,KAAK,IAAI,IAAI,aAAa;AAEzC,WAAO,IAAI,IACN,IAAI,SAAS,IAAI,IAAI,QACrB,IAAI,SAAS,IAAI,IAAI,QACrB,IAAI,SAAS,IAAI,IAAI,QACrB,IAAI,SAAS,IAAI,IAAI;;;;AC/D9B,AAKO,yBAAwB,GAAe,GAAe,MAAc,MAAkB,IAAI;AAE7F,UAAM,SAAQ,SAAS,GAAG;AAE1B,QAAI,WAAU;AAEV,aAAO,WAAS,GAAG;;AAGvB,UAAM,IAAI,KAAK,IAAI,GAAG,OAAO;AAE7B,WAAO,OAAM,GAAG,GAAG,GAAG;;;;AChB1B,AAIO,mBAAkB,GAAe,QAAe,MAAkB,IAAI;AAEzE,cAAS;AAET,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,KAAK,IAAI;AACpB,UAAM,KAAK,KAAK,IAAI;AAEpB,WAAO,IAAI,IACP,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI;;;;ACjBrB,AAIO,mBAAkB,GAAe,QAAe,MAAkB,IAAI;AAEzE,cAAS;AAET,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,KAAK,IAAI;AACpB,UAAM,KAAK,KAAK,IAAI;AAEpB,WAAO,IAAI,IACP,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI;;;;ACjBrB,AAIO,mBAAkB,GAAe,QAAe,MAAkB,IAAI;AAEzE,cAAS;AAET,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,KAAK,KAAK,IAAI;AACpB,UAAM,KAAK,KAAK,IAAI;AAEpB,WAAO,IAAI,IACP,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI,IACb,IAAI,KAAK,IAAI;;;;ACjBrB,AAEO,kCAAiC,OAAe,MAAc,OAAe,MAAkB,IAAI;AAGtG,UAAM,qBAAsB,SAAQ,SAAS;AAC7C,UAAM,sBAAuB,SAAQ,SAAS;AAC9C,UAAM,WAAW,OAAO;AAExB,WAAO,IAAI,IACP,KAAK,IAAI,uBAAuB,KAAK,IAAI,WACzC,KAAK,IAAI,uBAAuB,KAAK,IAAI,WACzC,KAAK,IAAI,sBAAsB,KAAK,IAAI,WACxC,KAAK,IAAI,sBAAsB,KAAK,IAAI;;;;ACbhD,AAEO,wBAAsB,GAAe,GAAe,QAAgB,MAAkB,IAAI;AAE7F,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI;;;;ACRpB,AAOO,wBAAuB,MAAiB,QAAe,MAAkB,IAAI;AAEhF,UAAM,CAAE,GAAG,GAAG,KAAM;AAGpB,cAAS;AAET,UAAM,IAAI,KAAK,IAAI;AAEnB,WAAO,IAAI,IACP,IAAI,GACJ,IAAI,GACJ,IAAI,GACJ,KAAK,IAAI;;;;ACpBjB,AAMO,8BAA6B,GAAe,MAAiB,IAAe,MAAkB,IAAI;AAErG,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEhC,UAAM,UAAU;AAEhB,QAAI,IAAI,KAAI,MAAM,MAAM;AAExB,QAAI,IAAI;AAEJ,UAAI;AAEJ,UAAI,KAAK,IAAI,MAAM,KAAK,IAAI;AAExB,eAAO,IAAI,IACP,CAAC,IACD,IACA,GACA;;AAKJ,eAAO,IAAI,IACP,GACA,CAAC,IACD,IACA;;;AAOR,aAAO,IAAI,IACP,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf;;;;;AC7CZ,AAEO,qBAAmB,GAAe,GAAe,MAAkB,IAAI;AAE1E,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,0BAAyB,GAAe,QAAgB,MAAkB,IAAI;AAEjF,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACVZ,AAKO,yBAAwB,GAAoB,MAAY,IAAI;AAE/D,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,UAAM,MAAM,IAAI;AAChB,UAAM,MAAM,IAAI;AAChB,UAAM,MAAM,IAAI;AAChB,UAAM,MAAM,IAAI;AAEhB,UAAM,SAAS,IAAI,IAAI,IAAI;AAC3B,UAAM,QAAQ;AAEd,QAAI,SAAS,CAAC;AAEV,aAAO,IAAI,IACP,KAAK,KAAK,GACV,IAAI,KAAK,MAAM,GAAG,IAClB;eAGC,SAAS;AAEd,aAAO,IAAI,IACP,CAAC,KAAK,KAAK,GACX,IAAI,KAAK,MAAM,GAAG,IAClB;;AAKJ,aAAO,IAAI,IACP,KAAK,KAAK,KAAQ,KAAI,IAAI,IAAI,KAC9B,KAAK,MAAM,IAAO,KAAI,IAAI,IAAI,IAAK,MAAM,MAAM,MAAM,MACrD,KAAK,MAAM,IAAO,KAAI,IAAI,IAAI,IAAK,CAAC,MAAM,MAAM,MAAM;;;;;ACtClE,AAEO;AAEH,WAAO,IAAI,WAAW,GAAG,GAAG,GAAG;;;;ACJnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAAO,eAAa,GAAW,YAAoB;AAE/C,WAAO,IAAI,IAAM,cAAY,KAAK,IAAI;;;;ACF1C,AAAO,kBAAgB,GAAW,YAAoB;AAElD,UAAM,IAAI,YAAY;AAEtB,QAAK,MAAK,KAAK;AAEX,aAAO,MAAO,KAAI,IAAM,MAAI,KAAK,IAAI;;AAIrC,aAAO,MAAQ,OAAK,KAAK,IAAM,MAAI,KAAK,IAAI,KAAK;;;;;ACVzD,AAAO,gBAAc,GAAW,YAAoB;AAEhD,WAAO,EAAE,IAAI,IAAM,cAAY,KAAK,IAAI,aAAa;;;;ACFzD;;;;;;;;ACAA,AAAO,gBAAa;AAEhB,QAAI,IAAI;AAER,QAAI,IAAI,IAAI;AAER,aAAO,IAAK,SAAS,IAAI;eAEpB,IAAI,IAAI;AAEb,aAAO,IAAK,UAAU,MAAK,MAAM,QAAQ,IAAI;eAExC,IAAI,MAAM;AAEf,aAAO,IAAK,UAAU,MAAK,OAAO,QAAQ,IAAI;;AAI9C,aAAO,IAAK,UAAU,MAAK,QAAQ,QAAQ,IAAI;;;;;AClBvD,AAAO,mBAAgB;AAEnB,QAAI,UAAU;AAEd,QAAI,IAAI;AAEJ,UAAI,IAAK,IAAI;AACb,gBAAU;;AAIV,UAAK,IAAI,IAAK;;AAGlB,QAAI,IAAI,IAAI;AAER,UAAI,SAAS,IAAI;eAEZ,IAAI,IAAI;AAEb,UAAI,SAAU,MAAK,MAAM,QAAQ,IAAI;eAEhC,IAAI,MAAM;AAEf,UAAI,SAAU,MAAK,OAAO,QAAQ,IAAI;;AAItC,UAAI,SAAU,MAAK,QAAQ,QAAQ,IAAI;;AAG3C,QAAI;AAEA,aAAQ,KAAI,KAAK;;AAIjB,aAAO,IAAI,MAAM;;;;;ACrCzB,AAAO,iBAAc;AAEjB,QAAI,IAAI,IAAI;AAER,aAAO,SAAS,IAAI;eAEf,IAAI,IAAI;AAEb,aAAO,SAAU,MAAK,MAAM,QAAQ,IAAI;eAEnC,IAAI,MAAM;AAEf,aAAO,SAAU,MAAK,OAAO,QAAQ,IAAI;;AAIzC,aAAO,SAAU,MAAK,QAAQ,QAAQ,IAAI;;;;;AChBlD;;;;;;;;ACAA,AAAO,eAAa;AAEhB,WAAO,IAAI,KAAK,KAAK,IAAI,IAAI;;;;ACFjC,AAAO,kBAAgB;AAEnB,QAAK,MAAK,KAAK;AAEX,aAAO,OAAQ,MAAK,KAAK,IAAI,IAAI,KAAK;;AAItC,aAAO,MAAO,MAAK,KAAK,IAAK,MAAK,KAAK,KAAK;;;;;ACRpD,AAAO,gBAAc;AAEjB,WAAO,KAAK,KAAK,IAAK,EAAE,IAAI;;;;ACFhC;;;;;;;;ACAA,AAAO,eAAa;AAEhB,WAAO,IAAI,IAAI;;;;ACFnB,AAAO,kBAAgB;AAEnB,QAAK,MAAK,KAAK;AAEX,aAAO,MAAM,IAAI,IAAI;;AAIrB,aAAO,MAAQ,OAAK,KAAK,IAAI,IAAI;;;;;ACRzC,AAAO,gBAAc;AAEjB,WAAO,EAAE,IAAI,IAAI,IAAI;;;;ACFzB;;;;;;;;ACAA,AAAO,eAAa,GAAW,YAAoB,KAAK,SAAiB;AAErE,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,UAAI,IAAI,SAAS;AAEjB,UAAI,YAAY;AAEZ,oBAAY;;AAIZ,YAAI,SAAS,KAAK,KAAK,IAAI,aAAc,KAAI,KAAK;;AAGtD,aAAO,CAAE,aAAY,KAAK,IAAI,GAAG,KAAM,MAAK,MAAM,KAAK,IAAK,KAAI,KAAM,KAAI,KAAK,MAAM;;;;;ACvB7F,AAAO,kBAAgB,GAAW,YAAoB,KAAK,SAAiB;AAExE,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,UAAI,IAAI,SAAS;AAEjB,UAAI,YAAY;AAEZ,oBAAY;;AAIZ,YAAI,SAAS,KAAK,KAAK,IAAI,aAAc,KAAI,KAAK;;AAGtD,UAAK,MAAK,KAAK;AAEX,eAAO,OAAQ,aAAY,KAAK,IAAI,GAAG,KAAM,MAAK,MAAM,KAAK,IAAK,KAAI,KAAM,KAAI,KAAK,MAAM;;AAI3F,eAAO,YAAY,KAAK,IAAI,GAAG,MAAO,MAAK,MAAM,KAAK,IAAK,KAAI,KAAM,KAAI,KAAK,MAAM,UAAU,MAAM;;;;;;AC7BhH,AAAO,gBAAc,GAAW,YAAoB,KAAK,SAAiB;AAEtE,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,UAAI,IAAI,SAAS;AAEjB,UAAI,YAAY;AAEZ,oBAAY;;AAIZ,YAAI,SAAS,KAAK,KAAK,IAAI,aAAc,KAAI,KAAK;;AAGtD,aAAQ,YAAY,KAAK,IAAI,GAAG,MAAM,KAAK,KAAK,IAAK,KAAI,KAAM,KAAI,KAAK,MAAM,UAAU;;;;;ACvBhG;;;;;;;;ACAA,AAAO,eAAa;AAEhB,WAAO,KAAK,IAAI,GAAG,KAAM,KAAI,MAAM;;;;ACFvC,AAAO,kBAAgB;AAEnB,QAAI,KAAK;AAEL,aAAO;;AAGX,QAAI,KAAK;AAEL,aAAO;;AAGX,QAAK,MAAK,KAAK;AAEX,aAAO,MAAM,KAAK,IAAI,GAAG,KAAM,KAAI;;AAInC,aAAO,MAAO,KAAI,KAAK,IAAI,GAAG,MAAO,KAAI;;;;;AClBjD,AAAO,gBAAc;AAEjB,WAAO,IAAI,KAAK,IAAI,GAAG,MAAM;;;;ACFjC;;;;;;;;ACAA,AAAO,cAAa;AAEhB,WAAO,IAAI;;;;ACFf,AAAO,iBAAgB;AAEnB,QAAK,MAAK,KAAK;AAEX,aAAO,MAAM,IAAI;;AAIjB,aAAO,OAAQ,GAAE,IAAK,KAAI,KAAK;;;;;ACRvC,AAAO,eAAc;AAEjB,WAAO,IAAK,KAAI;;;;ACFpB;;;;;;;;ACAA,AAAO,eAAa;AAEhB,WAAO,IAAI,IAAI,IAAI;;;;ACFvB,AAAO,kBAAgB;AAEnB,QAAK,MAAK,KAAK;AAEX,aAAO,MAAM,IAAI,IAAI,IAAI;;AAIzB,aAAO,OAAS,OAAK,KAAK,IAAI,IAAI,IAAI;;;;;ACR9C,AAAO,gBAAc;AAEjB,WAAO,CAAE,GAAE,IAAI,IAAI,IAAI,IAAI;;;;ACF/B;;;;;;;;ACAA,AAAO,eAAa;AAEhB,WAAO,IAAI,IAAI,IAAI,IAAI;;;;ACF3B,AAAO,kBAAgB;AAEnB,QAAK,MAAK,KAAK;AAEX,aAAO,MAAM,IAAI,IAAI,IAAI,IAAI;;AAI7B,aAAO,MAAQ,OAAK,KAAK,IAAI,IAAI,IAAI,IAAI;;;;;ACRjD,AAAO,gBAAc;AAEjB,WAAQ,KAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;;;;ACFzC;;;;;;;;ACAA,AAAO,eAAa;AAEhB,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,aAAO,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK;;;;;ACZ1C,AAAO,kBAAgB;AAEnB,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,aAAO,MAAO,KAAI,KAAK,IAAI,KAAK,KAAK;;;;;ACZ7C,AAAO,gBAAc;AAEjB,QAAI,MAAM;AAEN,aAAO;eAEF,MAAM;AAEX,aAAO;;AAIP,aAAO,KAAK,IAAI,IAAI,KAAK,KAAK;;;;;ACZtC;;;;;;;;ACAA;;;;AAAO,mBAAiB;AAEpB,WAAO;;;;ACFX;;;;AAAO,oBAAkB,GAAW,QAAgB;AAEhD,QAAI,KAAK;AAEL,aAAO;eAEF,KAAK;AAEV,aAAO;;AAIP,aAAU,UAAQ,IAAK,KAAK,KAAM,KAAI;;;;;ACZ9C;;;;AAcA,QAAM,UAAiC,IAAI,IAAI;IAC3C,CAAE,UAAU;IACZ,CAAE,UAAoB;IACtB,CAAE,UAAgB;IAClB,CAAE,UAAkB;IACpB,CAAE,UAAkB;IACpB,CAAE,UAAU;IACZ,CAAE,QAAkB;IACpB,CAAE,SAAe;IACjB,CAAE,SAAiB;IACnB,CAAE,SAAiB;IACnB,CAAE,QAAa;IACf,CAAE,QAAa;IACf,CAAE,QAAiB;IACnB,CAAE,WAAmB;IACrB,CAAE,QAAa;IACf,CAAE,UAAiB;IACnB,CAAE,WAAW;IACb,CAAE,WAAqB;IACvB,CAAE,YAAkB;IACpB,CAAE,YAAoB;IACtB,CAAE,YAAoB;IACtB,CAAE,WAAgB;IAClB,CAAE,WAAgB;IAClB,CAAE,WAAoB;IACtB,CAAE,cAAsB;IACxB,CAAE,WAAgB;IAClB,CAAE,aAAoB;IACtB,CAAE,YAAsB;IACxB,CAAE,aAAmB;IACrB,CAAE,aAAqB;IACvB,CAAE,aAAqB;IACvB,CAAE,YAAiB;IACnB,CAAE,YAAiB;IACnB,CAAE,YAAqB;IACvB,CAAE,eAAuB;IACzB,CAAE,YAAiB;IACnB,CAAE,cAAqB;IACvB,CAAE,cAAwB;IAC1B,CAAE,eAAqB;IACvB,CAAE,eAAuB;IACzB,CAAE,eAAuB;IACzB,CAAE,cAAmB;IACrB,CAAE,cAAmB;IACrB,CAAE,cAAuB;IACzB,CAAE,iBAAyB;IAC3B,CAAE,cAAmB;IACrB,CAAE,gBAAuB;;AAKtB,mBAAkB;AAErB,WAAO,KAAK;AACZ,WAAO,KAAK,QAAQ,QAAQ;AAE5B,QAAI,QAAQ,IAAI;AAEZ,aAAO,QAAQ,IAAI;;AAInB,aAAO;;;;;AC7Ef;;;;;;;;;;;;;;;;;;ACAA;;;;;AAiBO,qBAAoB,OAAe,UAAkB;AAExD,WAAO,KAAK,KAAK,QAAQ;;;;ACnB7B;;;;;AAiBO,sBAAqB,OAAe,UAAkB;AAEzD,WAAO,KAAK,MAAM,QAAQ;;;;ACnB9B;;;;;AAoBO,4BAA2B,GAAW,GAAW,UAAkB;AAEtE,WAAO,IAAI,IAAI;;;;ACtBnB;;;;;AAoBO,yBAAwB,GAAW,GAAW,UAAkB;AAEnE,WAAO,IAAI,IAAI;;;;ACtBnB;;;;;;;;;;;;;;;ACAA;;;;;AAgBO,sBAAoB;AAEvB,QAAI,UAAU;AAEV,aAAO;;AAGX,QAAI,MAAM;AAEV,WAAO,EAAE;AAEL,aAAO;;AAGX,WAAO;;;;AC9BX;;;;;AAmBO,qBAAoB,GAAW;AAElC,WAAO,WAAU,KAAK,WAAU,KAAK,WAAU,IAAI;;;;ACrBvD;;;;;AAmBO,+BAA8B,GAAa;AAE9C,QAAI,IAAI;AACR,UAAM,IAAI,EAAE,SAAS;AAErB,aAAS,IAAI,GAAG,KAAK,GAAG;AAEpB,WAAK,KAAK,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,IAAI,GAAG,KAAK,EAAE,KAAK,UAAU,GAAG;;AAGvE,WAAO;;;;AC7BX;;;;;AAmBO,mCAAkC,GAAa;AAElD,UAAM,IAAI,EAAE,SAAS;AACrB,QAAI,IAAI,IAAI;AACZ,QAAI,IAAI,KAAK,MAAM;AAEnB,QAAI,EAAE,OAAO,EAAE;AAEX,UAAI,IAAI;AAEJ,YAAI,KAAK,MAAM,IAAI,IAAK,KAAI;;AAGhC,aAAO,WAAW,IAAI,GAAG,EAAG,KAAI,IAAI,KAAK,IAAI,EAAE,IAAI,EAAG,KAAI,KAAK,IAAI,EAAG,KAAI,KAAK;;AAI/E,UAAI,IAAI;AAEJ,eAAO,EAAE,KAAM,YAAW,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;;AAG9D,UAAI,IAAI;AAEJ,eAAO,EAAE,KAAM,YAAW,IAAI,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,IAAI,EAAE,IAAI,MAAM,EAAE;;AAGzE,aAAO,WAAW,IAAI,GAAG,EAAE,IAAI,IAAI,IAAI,IAAI,EAAE,IAAI,EAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,IAAI,IAAI,IAAI,IAAI,IAAI;;;;;AC9CzG;;;;;AASA,cAAa,GAAW;AAEpB,UAAM,IAAI,IAAI;AAEd,WAAO,IAAI,IAAI,IAAI;;AAMvB,cAAa,GAAW;AAEpB,UAAM,IAAI,IAAI;AAEd,WAAO,IAAI,IAAI,IAAI,IAAI;;AAM3B,cAAa,GAAW;AAEpB,WAAO,IAAK,KAAI,KAAK,IAAI,IAAI;;AAMjC,cAAa,GAAW;AAEpB,WAAO,IAAI,IAAI,IAAI;;AAmBhB,oCAAmC,GAAW,IAAY,IAAY,IAAY;AAErF,WAAO,GAAG,GAAG,MAAM,GAAG,GAAG,MAAM,GAAG,GAAG,MAAM,GAAG,GAAG;;;;AC5DrD;;;;;AAkBO,kBAAiB,IAAY,IAAY;AAE5C,WAAQ,MAAK,MAAM,IAAI;;;;ACpB3B;;;;;AAoBO,+BAA8B,GAAa;AAE9C,UAAM,IAAI,EAAE,SAAS;AACrB,UAAM,IAAI,IAAI;AACd,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,IAAI;AAEJ,aAAO,OAAO,EAAE,IAAI,EAAE,IAAI;eAErB,IAAI;AAET,aAAO,OAAO,EAAE,IAAI,EAAE,IAAI,IAAI,IAAI;;AAIlC,aAAO,OAAO,EAAE,IAAI,EAAG,IAAI,IAAI,IAAK,IAAI,IAAI,IAAI,IAAI;;;;;ACpC5D;;;;;AASA,eAAa,GAAW;AAEpB,UAAM,IAAI,IAAI;AAEd,WAAO,IAAI,IAAI;;AAMnB,eAAa,GAAW;AAEpB,WAAO,IAAK,KAAI,KAAK,IAAI;;AAM7B,eAAa,GAAW;AAEpB,WAAO,IAAI,IAAI;;AAkBZ,wCAAuC,GAAW,IAAY,IAAY;AAE7E,WAAO,IAAG,GAAG,MAAM,IAAG,GAAG,MAAM,IAAG,GAAG;;;;ACjDzC;;;;;AAuBO,sBAAqB,GAAW,KAAa;AAEhD,QAAI,KAAK;AAEL,aAAO;;AAGX,QAAI,KAAK;AAEL,aAAO;;AAGX,QAAK,KAAI,OAAQ,OAAM;AAEvB,WAAO,IAAI,IAAK,KAAI,IAAI;;;;ACrC5B;;;;;AAqBO,mCAAkC,GAAW,KAAa;AAE7D,WAAO,MAAO,OAAM,OAAO,WAAW,GAAG,GAAG;;;;ACvBhD;;;;;AAyBO,wBAAuB,GAAW,KAAa;AAElD,QAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAI,KAAI,OAAQ,OAAM;AAE/C,WAAO,IAAI,IAAI,IAAK,KAAK,KAAI,IAAI,MAAM;;;;AC7B3C;;;;;AAqBO,qCAAoC,GAAW,KAAa;AAE/D,WAAO,MAAO,OAAM,OAAO,aAAa,GAAG,GAAG;;;;ACvBlD;;;;;;;;;;;;;;;;;ACAA,AAEO,gBAAc,GAAa,GAAa,MAAgB,IAAI;AAE/D,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,KAAK,EAAE,IACT,EAAE,KAAK,EAAE;;;;ACVjB,AAEO,mBAAiB,MAAgB,MAAgB,MAAgB,IAAI;AAExE,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AACzD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AAEzD,WAAO,IAAI,IACN,KAAK,KAAO,KAAK,IACjB,KAAK,KAAO,KAAK,IACjB,KAAK,KAAO,KAAK,IACjB,KAAK,KAAO,KAAK,IACjB,MAAM,KAAO,MAAM,KAAM,KACzB,MAAM,KAAO,MAAM,KAAM;;;;ACblC,AAKO,mBAAgB;AAEnB,WAAO,IAAI,UAAS,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI;;;;ACPhE,AAKO,qBAAmB,KAAgB;AAEtC,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,OAAO,IAAI,GAAG,GAAG,GAAG,GAAG,IAAI;;;;ACTtC,AAKO,yBAAwB,KAAgB;AAE3C,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,YAAQ,UAAU,GAAG,GAAG,GAAG,GAAG,IAAI;AAElC,WAAO;;;;ACXX,AAIO,wBAAsB;AAEzB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAQ,IAAI,IAAM,IAAI;;;;ACR1B,AAIO,oBAAiB,GAAc,GAAc,UAAkB;AAElE,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AACzD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AAEzD,WACI,KAAK,IAAI,KAAK,OAAO,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,QAClE,KAAK,IAAI,KAAK,OAAO,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,QAClE,KAAK,IAAI,KAAK,OAAO,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,QAClE,KAAK,IAAI,KAAK,OAAO,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,QAClE,KAAK,IAAI,MAAM,QAAQ,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,MAAM,KAAK,IAAI,SACrE,KAAK,IAAI,MAAM,QAAQ,UAAU,KAAK,IAAI,GAAG,KAAK,IAAI,MAAM,KAAK,IAAI;;;;ACf7E,AAIO,uBAAsB,GAAc;AAEvC,WACI,EAAE,MAAM,EAAE,KACV,EAAE,MAAM,EAAE,KACV,EAAE,MAAM,EAAE,KACV,EAAE,MAAM,EAAE,KACV,EAAE,OAAO,EAAE,MACX,EAAE,OAAO,EAAE;;;;ACZnB,AAEO,sBAAoB;AAEvB,WAAQ,KAAK,MAAM,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI;;;;ACJnE,AAIO,mBAAiB,QAAkB,QAAe,MAAgB,IAAI;AAEzE,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,UAAM,MAAM,KAAK,IAAI;AACrB,UAAM,MAAM,KAAK,IAAI;AAErB,WAAO,IAAI,IACN,IAAI,MAAQ,IAAI,KAChB,IAAI,MAAQ,IAAI,KAChB,IAAI,CAAC,MAAQ,IAAI,KACjB,IAAI,CAAC,MAAQ,IAAI,KAClB,IACA;;;;ACjBR,AAGO,yBAAuB;AAE1B,UAAM,SAAS,IAAI;AAEnB,WAAO,QAAO,QAAQ,QAAO;;;;ACPjC,AAIO,kBAAgB,QAAkB,QAAgB,QAAgB,MAAgB,IAAI;AAEzF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IACA;;;;ACdR,AAGO,wBAAsB,QAAgB,SAAiB;AAE1D,UAAM,SAAS,IAAI;AAEnB,WAAO,OAAM,QAAQ,QAAQ,QAAQ;;;;ACPzC,AAIO,sBAAoB,QAAkB,GAAW,GAAW,MAAgB,IAAI;AAEnF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,QAAI,KAAM,IAAI,IAAM,IAAI,IAAK;AAC7B,QAAI,KAAM,IAAI,IAAM,IAAI,IAAK;AAE7B,WAAO;;;;ACXX,AAGO,4BAA0B,GAAW;AAExC,UAAM,SAAS,IAAI;AAEnB,WAAO,WAAU,QAAQ,GAAG,GAAG;;;;ACPnC,AAGO,0BAAwB,KAAgB,GAAW,GAAW,MAAY,IAAI;AAEjF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,UAAM,KAAa,IAAM,KAAI,IAAM,IAAI,CAAC;AAExC,WAAO,IAAI,IACN,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,MAAK,IAAM,KAAK,KAAM,IACvD,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,EAAC,KAAK,IAAM,KAAK,KAAM;;;;ACXjE,AAIO,gBAAe,QAAkB,GAAW,GAAW,QAAe,QAAgB;AAEzF,QAAI,WAAU;AAEV,aAAO,OAAO,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG;;AAIjC,YAAM,MAAM,KAAK,IAAI;AACrB,YAAM,MAAM,KAAK,IAAI;AAErB,aAAO,OAAO,IACV,MAAM,QACN,MAAM,QACN,CAAC,MAAM,QACP,MAAM,QACN,GACA;;;;;ACrBZ,AAIO,iBAAgB,QAAkB,GAAW,GAAW,SAAgB,GAAG,SAAiB,GAAG,SAAiB,GAAG,QAAgB,GAAG,QAAgB;AAEzJ,QAAI,WAAU;AAEV,aAAO,OAAO,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG;;AAIjC,aAAO,OAAO,IACV,KAAK,IAAI,SAAQ,SAAS,QAC1B,KAAK,IAAI,SAAQ,SAAS,QAC1B,CAAC,KAAK,IAAI,SAAQ,SAAS,QAC3B,KAAK,IAAI,SAAQ,SAAS,QAC1B,GACA;;;;;AClBZ,AAEO;AAEH,WAAO,IAAI;;;;ACJf,AAIO,mBAAiB,QAAkB,MAAgB,IAAI;AAE1D,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,QAAI,cAAsB,IAAI,IAAI,IAAI;AAEtC,QAAI;AAEA,oBAAc,IAAI;AAElB,UAAI,IACA,IAAI,aACJ,CAAC,IAAI,aACL,CAAC,IAAI,aACL,IAAI,aACH,KAAI,KAAK,IAAI,MAAM,aACnB,KAAI,KAAK,IAAI,MAAM;;AAI5B,WAAO;;;;ACxBX,AAGO,yBAAwB,KAAgB,GAAW,GAAW,MAAY,IAAI;AAEjF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,IAAI,IACN,IAAI,IAAM,IAAI,IAAK,IACnB,IAAI,IAAM,IAAI,IAAK;;;;ACT5B,AAIO,qBAAmB,QAAkB,KAAe,MAAgB,IAAI;AAE3E,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AACzD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AAEzD,WAAO,IAAI,IACP,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,KAAK,KAAK,IACf,KAAK,MAAM,KAAK,MAAM,KACtB,KAAK,MAAM,KAAK,MAAM;;;;ACf9B,AAIO,2BAAyB,QAAkB,QAAgB,MAAgB,IAAI;AAElF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,KAAK,QACL,KAAK;;;;ACdb,AAIO,iCAA+B,QAAkB,KAAe,QAAgB,MAAgB,IAAI;AAEvG,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAC/B,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ;AAEzD,WAAO,IAAI,IACP,KAAM,IAAI,QACV,KAAM,IAAI,QACV,KAAM,IAAI,QACV,KAAM,IAAI,QACV,MAAO,KAAK,QACZ,MAAO,KAAK;;;;ACfpB,AAKO,wBAAuB,KAAgB;AAE1C,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,YAAQ,aAAa,GAAG,GAAG,GAAG,GAAG,IAAI;AAErC,WAAO;;;;ACXX,AAIO,gBAAe,QAAkB,QAAgB,QAAgB,MAAgB,IAAI;AAExF,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,IAAI,IACP,GACA,IAAI,KAAK,IAAI,SACb,IAAI,KAAK,IAAI,SACb,GACA,IACA;;;;ACdR,AAIO,qBAAmB,GAAa,GAAa,MAAgB,IAAI;AAEpE,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,KAAK,EAAE,IACT,EAAE,KAAK,EAAE;;;;ACZjB,AAIO,iBAAe;AAElB,WAAO,OAAO,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG;;;;ACNrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAgBO,yBAAwB;AAE3B,UAAM,QAAQ,KAAK,IAAI,SAAS;AAEhC,WAAQ,KAAK,KAAK,KAAK;;;;ACpB3B;;;;;AAkBO,4BAA2B,OAAe;AAE7C,QAAI,QAAQ,KAAK,SAAS;AAEtB,aAAO;;AAGX,WAAS,SAAS,QAAQ,OAAQ,KAAQ,UAAU,SAAS,OAAQ;;;;ACzBzE;;;;;AAgBO,6BAA4B;AAE/B,WAAQ,QAAQ,KAAM,SAAS,QAAQ,OAAQ;;;;AClBnD;;;;;;;;ACAA;;;;;AAsBO,oBAAmB,OAAe,KAAa,QAAgB,GAAG,SAAkB;AAEvF,QAAI,QAAQ;AAER,aAAO;;AAGX,aAAS;AACT,YAAQ,MAAM,KAAK,KAAK,QAAQ;AAEhC,WAAQ,SAAW,SAAQ,SAAS,MAAM,QAAQ;;;;AChCtD;;;;;AAsBO,qBAAoB,OAAe,KAAa,QAAgB,GAAG,SAAkB;AAExF,QAAI,QAAQ;AAER,aAAO;;AAGX,aAAS;AACT,YAAQ,MAAM,KAAK,MAAM,QAAQ;AAEjC,WAAQ,SAAW,SAAQ,SAAS,MAAM,QAAQ;;;;AChCtD;;;;;AAqBO,kBAAiB,OAAe,KAAa,QAAgB,GAAG,SAAkB;AAErF,QAAI,QAAQ;AAER,aAAO;;AAGX,aAAS;AACT,YAAQ,MAAM,KAAK,MAAM,QAAQ;AAEjC,WAAQ,SAAW,SAAQ,SAAS,MAAM,QAAQ;;;;AC/BtD;;;;;;;;;;;;;ACAA,AAEO,eAAc,GAAS,MAAY,IAAI;AAE1C,WAAO,IAAI,IACP,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE;;;;ACNnB,AAEO,gBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACNhB,AAEO,sBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACNd,AAEO,kBAAgB,GAAc;AAEjC,WAAO,KAAK,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;;;;ACJzC,AAEO,kBAAiB,GAAc;AAElC,WAAO,KAAK,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;;;;ACJzC,AAIO,mBAAiB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAEvG,WAAO,IAAI,IACP,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACRvC,AAMO,uBAAqB,IAAe,IAAe,IAAe,IAAe,GAAW,MAAY,IAAI;AAE/G,WAAO,IAAI,IACP,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;;;;ACV/C,AAEO,iBAAe,GAAS,MAAY,IAAI;AAE3C,WAAO,IAAI,IACP,KAAK,KAAK,EAAE,IACZ,KAAK,KAAK,EAAE;;;;ACNpB,AAEO,mBAAgB,GAAS,QAAgB,MAAY,IAAI;AAE5D,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACNd,AAIO,kBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,SAAI,GAAG,GAAG;AAEV,WAAO,QAAM,KAAK,KAAK;;;;ACR3B,AAEO,6BAA4B,GAAc;AAE7C,WAAO,KAAK,IAAI,KAAK,IAAI,EAAE,IAAI,EAAE,IAAI,KAAK,IAAI,EAAE,IAAI,EAAE;;;;ACJ1D,AAGO,kBAAgB,GAAS,KAAW,KAAW,MAAY,IAAI;AAIlE,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI;;;;ACTlC,AAGO,uBAAsB,GAAS,KAAa,KAAa,MAAY,IAAI;AAE5E,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK;;;;ACP5B,AAGO,mBAAgB;AAEnB,WAAO,IAAI,MAAK,OAAO,GAAG,OAAO;;;;ACLrC,AAGO,sBAAmB,QAAmB;AAEzC,WAAO,KAAK,IAAI,OAAO,GAAG,OAAO;;;;ACLrC,AAEO,iBAAgB,GAAc;AAEjC,WAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJ/B,AAIO,4BAA0B,GAAc;AAE3C,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAElB,WAAQ,IAAI,IAAM,IAAI;;;;ACT1B,AAGO,qBAAmB,GAAc;AAEpC,WAAO,KAAK,KAAK,iBAAgB,GAAG;;;;ACLxC,AAEO,gBAAc,GAAc;AAE/B,WAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJ/B,AAEO,6BAA2B,GAAS,GAAW,GAAW,MAAY,IAAI;AAE7E,WAAO,IAAI,IACP,EAAE,IAAI,GACN,EAAE,IAAI;;;;ACNd,AAEO,qBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACNhB,AAQO,+BAA8B,GAAS,GAAS;AAEnD,UAAM,IAAI,iBAAgB,GAAG;AAE7B,QAAI,MAAM;AAEN,aAAO,UAAS,GAAG;;AAGvB,UAAM,IAAI,UAAS,GAAG;AAEtB,cAAS,GAAG,GAAG;AAEf,UAAM,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAI,GAAG,KAAK;AAE9C,UAAM,OAAO,KAAI,GAAG,kBAAiB,GAAG,GAAG,GAAG;AAE9C,WAAO,UAAS,GAAG;;;;ACzBvB,AAEO,yBAAwB,GAAc,GAAc,MAAc;AAErE,WAAO,KAAK,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,KAAK,IAAI,EAAE,IAAI,EAAE,GAAG;;;;ACJpE,AAEO,kBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACNhB,AAEO,wBAAuB,GAAS,QAAgB,MAAY,IAAI;AAEnE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACNd,AAEO,oBAAiB,GAAc;AAElC,WAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;;;;ACJpC,AAEO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE;;;;ACNrB,AAIO,iBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE;;;;ACR3B,AASO,yBAAwB,OAAe,OAAe,QAAgB,MAAY,IAAI;AAEzF,QAAI,IAAI;AACR,QAAI,IAAI;AACR,UAAM,QAAQ,QAAQ;AAEtB,QAAI,QAAQ,KAAK,SAAS;AAEtB,UAAI,QAAQ,QAAQ;AAEhB,YAAI,KAAK,MAAM,QAAQ;AACvB,YAAI,QAAS,IAAI;;AAIjB,YAAI;;AAGR,UAAI,IAAI,GAAG;;AAGf,WAAO;;;;AC9BX,AAMO,yBAAwB,GAAW,GAAW,WAAmB,WAAmB,UAAkB,QAAgB,QAAgB,MAAY,IAAI;AAEzJ,UAAM,MAAM,KAAK,IAAI;AACrB,UAAM,MAAM,KAAK,IAAI;AAGrB,UAAM,IAAI,MAAM;AAChB,UAAM,IAAI,MAAM;AAChB,UAAM,IAAI,CAAC,MAAM;AACjB,UAAM,IAAI,MAAM;AAGhB,UAAM,KAAK,IAAM,KAAI,IAAM,IAAI,CAAC;AAEhC,WAAO,IAAI,IACN,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,aAAY,IAAM,YAAY,KAAM,IACrE,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,EAAC,YAAY,IAAM,YAAY,KAAM;;;;ACtB/E,AAGO,wBAAsB,GAAc,GAAc,UAAkB;AAEvE,WAAO,WAAe,EAAE,GAAG,EAAE,GAAG,YAAY,WAAe,EAAE,GAAG,EAAE,GAAG;;;;ACLzE,AAIO,oBAAkB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAExG,WAAO,IAAI,IACP,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACRxC,AAEO,mBAAkB,GAAS,MAAY,IAAI;AAE9C,WAAO,IAAI,IACP,IAAI,EAAE,GACN,IAAI,EAAE;;;;ACNd,AAEO,oBAAiB;AAEpB,WAAO,KAAK,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJzC,AAEO,0BAAwB;AAE3B,WAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJhC,AAKO,gBAAe,GAAc,GAAc,GAAW,MAAY,IAAI;AAEzE,UAAM,IAAI,EAAE;AACZ,UAAM,IAAI,EAAE;AAEZ,WAAO,IAAI,IACP,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI;;;;ACZvB,AAEO,6BAA4B,GAAc;AAE7C,WAAO,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE;;;;ACJlD,AAEO,2BAA0B;AAE7B,WAAO,KAAK,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE;;;;ACJtC,AAIO,eAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,MAAO;AACzB,UAAM,CAAE,GAAG,IAAI,GAAG,MAAO;AAEzB,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACXrB,AAIO,eAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,MAAO;AACzB,UAAM,CAAE,GAAG,IAAI,GAAG,MAAO;AAEzB,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACXrB,AAEO,qBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACNhB,AAEO,kBAAiB,GAAS,MAAY,IAAI;AAE7C,WAAO,IAAI,IACP,CAAC,EAAE,GACH,CAAC,EAAE;;;;ACNX,AAIO,sBAAoB,GAAS,MAAY,IAAI;AAEhD,WAAO,aAAa,GAAG,SAAO,MAAM,GAAG;;;;ACN3C,AAEO;AAEH,WAAO,IAAI,MAAK,GAAG;;;;ACJvB,AAEO,mBAAkB,GAAc;AAEnC,WAAQ,EAAE,IAAI,EAAE,IAAM,EAAE,IAAI,EAAE;;;;ACJlC,AAEO,oBAAiB,GAAS,QAAgB,GAAG,MAAY,IAAI;AAEhE,UAAM,IAAI,KAAK,WAAW,IAAI,KAAK;AAEnC,WAAO,IAAI,IACP,KAAK,IAAI,KAAK,OACd,KAAK,IAAI,KAAK;;;;ACRtB,AAGO,oBAAiB,GAAS,QAAmB,QAAe,MAAY,IAAI;AAE/E,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,UAAM,IAAI,EAAE,IAAI,OAAO;AACvB,UAAM,IAAI,EAAE,IAAI,OAAO;AAEvB,WAAO,IAAI,IACP,IAAI,IAAI,IAAI,IAAI,OAAO,GACvB,IAAI,IAAI,IAAI,IAAI,OAAO;;;;ACb/B,AAEO,iBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,KAAK,MAAM,EAAE,IACb,KAAK,MAAM,EAAE;;;;ACNrB,AAEO,uBAAsB,GAAS,MAAY,IAAI;AAElD,WAAO,IAAI,IACN,EAAE,IAAI,IAAK,KAAK,KAAK,EAAE,KAAK,KAAK,MAAM,EAAE,IACzC,EAAE,IAAI,IAAK,KAAK,KAAK,EAAE,KAAK,KAAK,MAAM,EAAE;;;;ACNlD,AAEO,wBAAsB,GAAS,GAAS,QAAgB,MAAY,IAAI;AAE3E,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI;;;;ACNpB,AAIO,qBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,eAAU,GAAG;AAEb,WAAO,QAAM,KAAK,QAAQ;;;;ACR9B,AAEO,2BAAyB,GAAS,QAAgB,MAAY,IAAI;AAErE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACNd,AAQO,qBAAoB,GAAc,WAAmB,WAAmB,UAAkB,QAAgB,QAAgB,MAAY,IAAI;AAE7I,WAAO,cAAc,EAAE,GAAG,EAAE,GAAG,WAAW,WAAW,UAAU,QAAQ,QAAQ;;;;ACVnF,AAGO,0BAAyB,GAAS,GAAc,MAAY,IAAI;AAEnE,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAE/B,WAAO,IAAI,IACP,IAAI,EAAE,IAAI,IAAI,EAAE,IAAI,IACpB,IAAI,EAAE,IAAI,IAAI,EAAE,IAAI;;;;ACT5B,AAGO,yBAAwB,GAAS,GAAa,MAAY,IAAI;AAEjE,UAAM,OAAO,EAAE;AAEf,WAAO,IAAI,IACP,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KACrC,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK;;;;ACT7C,AAEO;AAEH,WAAO,IAAI,MAAK,GAAG;;;;ACJvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;IAOI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAElE,WAAK,IAAI,GAAG,GAAG,GAAG;;IAGtB,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAE1D,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AAET,aAAO;;IAGX,QAAS,MAAmB,IAAI,QAAgB;AAE5C,YAAM,CAAE,GAAG,GAAG,GAAE,KAAM;AAEtB,UAAK,SAAU;AACf,UAAK,QAAQ,KAAM;AACnB,UAAK,QAAQ,KAAM;AACnB,UAAK,QAAQ,KAAM;AAEnB,aAAO;;IAGX,UAAW,KAAkB,QAAgB;AAEzC,aAAO,KAAK,IACR,IAAK,QACL,IAAK,QAAQ,IACb,IAAK,QAAQ,IACb,IAAK,QAAQ;;IAIrB;AAEI,YAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,aAAO,OAAO,QAAQ,QAAQ,QAAQ;;;;;AChD9C,AAEO,gBAAc,GAAS,MAAY,IAAI;AAE1C,WAAO,IAAI,IACP,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE,IACX,KAAK,IAAI,EAAE;;;;ACRnB,AAEO,iBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,sBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,WAAO,IAAI,IACP,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI,QACN,EAAE,IAAI;;;;ACRd,AAIO,oBAAiB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAEvG,WAAO,IAAI,IACP,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAC/B,OAAW,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACVvC,AAMO,wBAAqB,IAAe,IAAe,IAAe,IAAe,GAAW,MAAY,IAAI;AAE/G,WAAO,IAAI,IACP,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IACvC,WAAe,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;;;;ACZ/C,AAEO,iBAAe,GAAS,MAAY,IAAI;AAE3C,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,KAAK,KAAK,IACV,KAAK,KAAK,IACV,KAAK,KAAK,IACV,KAAK,KAAK;;;;ACVlB,AAEO,mBAAgB,GAAS,QAAgB,MAAY,IAAI;AAE5D,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACVZ,AAIO,mBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,UAAI,GAAG,GAAG;AAEV,WAAO,QAAM,KAAK,KAAK;;;;ACR3B,AAGO,mBAAgB,GAAS,KAAW,KAAW,MAAY,IAAI;AAIlE,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI,IAC1B,MAAU,EAAE,GAAG,IAAI,GAAG,IAAI;;;;ACXlC,AAEO,yBAAuB,GAAS,QAAgB,MAAY,IAAI;AAEnE,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACVZ,AAEO,oBAAiB;AAEpB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,KAAK,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACNjD,AAMO,wBAAsB,GAAS,KAAa,KAAa,MAAY,IAAI;AAE5E,UAAM,SAAS,SAAO;AAEtB,kBAAa,GAAG,UAAU,GAAG;AAE7B,WAAO,QAAM,KAAK,MAAU,KAAK,KAAK,SAAS;;;;ACZnD,AAGO,wBAAsB,GAAS,KAAa,KAAa,MAAY,IAAI;AAE5E,WAAO,IAAI,IACP,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK,MACpB,MAAU,EAAE,GAAG,KAAK;;;;ACT5B,AAGO,mBAAgB;AAEnB,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,MAAK,GAAG,GAAG,GAAG;;;;ACP7B,AAGO,sBAAmB,QAAmB;AAEzC,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,KAAK,IAAI,GAAG,GAAG,GAAG;;;;ACP7B,AAIO,kBAAgB,GAAS,GAAS,GAAS,MAAY,IAAI;AAE9D,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEvC,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,UAAM,IAAI;AACV,UAAM,IAAI;AACV,UAAM,IAAI;AACV,UAAM,IAAI;AAEV,WAAO,IAAI,IACP,IAAI,IAAI,IAAI,IAAI,IAAI,GACpB,CAAE,KAAI,KAAK,IAAI,IAAI,IAAI,GACvB,IAAI,IAAI,IAAI,IAAI,IAAI,GACpB,CAAE,KAAI,KAAK,IAAI,IAAI,IAAI;;;;ACzB/B,AAIO,4BAA0B,GAAc;AAE3C,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAClB,UAAM,IAAI,EAAE,IAAI,EAAE;AAElB,WAAQ,IAAI,IAAM,IAAI,IAAM,IAAI,IAAM,IAAI;;;;ACX9C,AAGO,qBAAmB,GAAc;AAEpC,WAAO,KAAK,KAAK,iBAAgB,GAAG;;;;ACLxC,AAEO,mBAAiB,GAAS,GAAS,MAAY,IAAI;AAEtD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,iBAAc,GAAc;AAE/B,WAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;;;;ACJvD,AAEO,oBAAiB,GAAc;AAElC,WAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;;;;ACJlE,AAEO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,KAAK,MAAM,IACX,KAAK,MAAM,IACX,KAAK,MAAM,IACX,KAAK,MAAM;;;;ACVnB,AAIO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,WAAO,IAAI,IACP,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE,IACnB,EAAE,IAAI,KAAK,MAAM,EAAE;;;;ACV3B,AAGO,wBAAsB,GAAc,GAAc,UAAkB;AAEvE,WACI,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG,YACzB,WAAe,EAAE,GAAG,EAAE,GAAG;;;;ACTjC,AAIO,qBAAkB,GAAc,GAAc,GAAc,GAAc,GAAW,MAAY,IAAI;AAExG,WAAO,IAAI,IACP,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAChC,QAAY,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;;;;ACVxC,AAEO,0BAAwB;AAE3B,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACNvC,AAIO,iBAAe,GAAS,GAAS,GAAW,MAAY,IAAI;AAE/D,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI,IACf,IAAI,IAAK,GAAE,IAAI;;;;ACZvB,AAEO,8BAA4B,GAAc;AAE7C,WAAO,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE,KAAK,KAAK,IAAI,EAAE,IAAI,EAAE;;;;ACJ9F,AAEO,4BAA0B;AAE7B,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI;;;;ACN9D,AAIO,gBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEvC,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACbrB,AAIO,gBAAc,GAAS,GAAS,MAAY,IAAI;AAEnD,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AACvC,UAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAEvC,WAAO,IAAI,IACP,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI,KACb,KAAK,IAAI,IAAI;;;;ACbrB,AAEO,sBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,6BAA2B,GAAS,GAAW,GAAW,GAAW,GAAW,MAAY,IAAI;AAEnG,WAAO,IAAI,IACP,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI,GACN,EAAE,IAAI;;;;ACRd,AAEO,mBAAiB,GAAS,MAAY,IAAI;AAE7C,WAAO,IAAI,IACP,CAAC,EAAE,GACH,CAAC,EAAE,GACH,CAAC,EAAE,GACH,CAAC,EAAE;;;;ACRX,AAIO,uBAAoB,GAAS,MAAY,IAAI;AAEhD,WAAO,cAAa,GAAG,SAAO,MAAM,GAAG;;;;ACN3C,AAEO;AAEH,WAAO,IAAI,MAAK,GAAG,GAAG,GAAG;;;;ACJ7B,8BAKkC;IAS9B,YAAa,UAA4B,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAE9F,YAAM,GAAG,GAAG,GAAG;AAEf,WAAK,WAAW;;IAGpB;AAEI,WAAK,WAAW;;IAGpB,IAAK,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAE1D,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,UAAI,KAAK;AAEL,aAAK,SAAS;;AAGlB,aAAO;;QAGP;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;QAIlB;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,YAAM,OAAO,KAAK;AAElB,WAAK,KAAK;AAEV,UAAI,SAAS;AAET,aAAK,SAAS;;;;;;ACzG1B,6BAEkC;IAE9B,YAAa,UAA4B,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY;AAE9F,YAAM,UAAU,GAAG,GAAG,GAAG;;QAGzB,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;QAGZ,EAAG;AAEH,WAAK,IAAI;;QAGT;AAEA,aAAO,KAAK;;IAGhB;AAEI,YAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,aAAO,OAAO,QAAQ,QAAQ,QAAQ;;;;;ACrD9C,AAEO,oBAAiB,GAAS,QAAgB,GAAG,MAAY,IAAI;AAMhE,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AAEJ;AAEI,WAAK,KAAK,WAAW,IAAI;AACzB,WAAK,KAAK,WAAW,IAAI;AACzB,WAAK,KAAK,KAAK,KAAK;aAEjB,MAAM;AAEb;AAEI,WAAK,KAAK,WAAW,IAAI;AACzB,WAAK,KAAK,WAAW,IAAI;AACzB,WAAK,KAAK,KAAK,KAAK;aAEjB,MAAM;AAEb,UAAM,IAAI,KAAK,KAAM,KAAI,MAAM;AAE/B,WAAO,IAAI,IACP,QAAQ,IACR,QAAQ,IACR,QAAQ,KAAK,GACb,QAAQ,KAAK;;;;ACrCrB,AAEO,kBAAgB,GAAS,MAAY,IAAI;AAE5C,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,KAAK,MAAM,IACX,KAAK,MAAM,IACX,KAAK,MAAM,IACX,KAAK,MAAM;;;;ACVnB,AAEO,wBAAsB,GAAS,MAAY,IAAI;AAElD,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACN,IAAI,IAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IACnC,IAAI,IAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IACnC,IAAI,IAAK,KAAK,KAAK,KAAK,KAAK,MAAM,IACnC,IAAI,IAAK,KAAK,KAAK,KAAK,KAAK,MAAM;;;;ACV5C,AAEO,wBAAsB,GAAS,GAAS,QAAgB,MAAY,IAAI;AAE3E,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI,QACZ,EAAE,IAAI,EAAE,IAAI;;;;ACRpB,AAIO,sBAAoB,GAAS,QAAgB,MAAY,IAAI;AAEhE,gBAAU,GAAG;AAEb,WAAO,QAAM,KAAK,QAAQ;;;;ACR9B,AAEO,sBAAmB,GAAS,GAAS,MAAY,IAAI;AAExD,WAAO,IAAI,IACP,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE,GACR,EAAE,IAAI,EAAE;;;;ACRhB,AAEO,2BAAyB,GAAS,QAAgB,MAAY,IAAI;AAErE,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,IAAI,QACJ,IAAI,QACJ,IAAI,QACJ,IAAI;;;;ACVZ,AAGO,0BAAwB,GAAS,GAAa,MAAY,IAAI;AAEjE,UAAM,CAAE,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAAQ,EAAE;AAC7F,UAAM,CAAE,GAAG,GAAG,GAAG,KAAM;AAEvB,WAAO,IAAI,IACP,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,GACpC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,GACpC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,GACpC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM;;;;ACZ5C,AAEO;AAEH,WAAO,IAAI,MAAK,GAAG,GAAG,GAAG;;;;ACJ7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAgBO,mBAAkB;AAErB,QAAI,MAAM;AAEV,aAAS,IAAI,GAAG,IAAI,OAAO,QAAQ;AAE/B,aAAQ,CAAC,OAAO;;AAGpB,WAAO,MAAM,OAAO;;;;ACzBxB,AAAO,oBAAkB,KAAa;AAElC,WAAO,KAAK,MAAM,KAAK,WAAY,OAAM,MAAM,KAAK;;;;ACFxD;;;;;AAoBO,kBAAiB,OAAe,QAAgB,GAAG,OAAe;AAErE,UAAM,IAAI,KAAK,IAAI,MAAM,CAAC;AAE1B,WAAO,KAAK,KAAK,QAAQ,KAAK;;;;ACxBlC;;;;;AAkBO,oBAAmB;AAEtB,WAAO,UAAU,WAAW;;;;ACpBhC;;;;;AAiBO,sBAAqB,GAAW;AAEnC,WAAO,KAAK,IAAI,IAAI;;;;ACnBxB,AAAO,wBAAuB,KAAa;AAEvC,WAAO,KAAK,WAAY,OAAM,OAAO;;;;ACFzC;;;;;AAoBO,mBAAkB,OAAe,QAAgB,GAAG,OAAe;AAEtE,UAAM,IAAI,KAAK,IAAI,MAAM,CAAC;AAE1B,WAAO,KAAK,MAAM,QAAQ,KAAK;;;;ACxBnC;;;;;AAoBO,wBAAsB,SAAiB,KAAa;AAEvD,cAAU,MAAM,SAAS,GAAG;AAE5B,WAAQ,OAAM,OAAO;;;;ACxBzB;;;;;AAiBO,oBAAmB,UAAkB;AAExC,WAAQ,WAAW,OAAQ;;;;ACnB/B;;;;;AAkBO,kBAAiB,OAAe,QAAgB;AAEnD,WAAO,KAAK,IAAI,QAAQ,QAAQ;;;;ACpBpC;;;;;AAkBO,kBAAiB,OAAe,QAAgB;AAEnD,WAAO,KAAK,IAAI,QAAQ,QAAQ;;;;ACpBpC;;;;;AAsBO,mBAAkB,OAAe,KAAa,KAAc;AAE/D,QAAI,QAAQ;AAAa,YAAM,MAAM;;AAErC,QAAI,aAAc,SAAQ,OAAQ,OAAM;AAExC,QAAI,aAAa;AAEb,UAAI,aAAa;AAEb,qBAAe,YAAW,SAAW,YAAW;AAEhD,YAAI,aAAa;AAEb,uBAAa;;;AAKjB,qBAAa;;eAGZ,aAAa;AAElB,mBAAa;;AAGjB,WAAO;;;;ACjDX;;;;;AAkBO,oBAAmB;AAEtB,WAAO,UAAU,WAAW;;;;ACpBhC;;;;;AAmCO,mBAAkB,OAAe,QAAgB,GAAG,OAAe;AAEtE,UAAM,IAAI,KAAK,IAAI,MAAM,CAAC;AAE1B,WAAO,KAAK,MAAM,QAAQ,KAAK;;;;ACvCnC;;;;;AA8BO,gCAA+B,QAAgB,SAAiB,GAAG,SAAiB,GAAG,YAAoB;AAE9G,iBAAa,KAAK,KAAK;AAEvB,UAAM,MAAM;AACZ,UAAM,MAAM;AAEZ,aAAS,IAAI,GAAG,IAAI,QAAQ;AAExB,gBAAU,SAAS;AACnB,gBAAU,SAAS;AAEnB,UAAI,KAAK;AACT,UAAI,KAAK;;AAGb,WAAO;MACH;MACA;MACA;;;;;ACjDR;;;;;AAkBO,kBAAiB,GAAW,GAAW;AAE1C,WAAQ,KAAK,IAAI,IAAI,MAAM;;;;ACpB/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;IAsCI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,MAAc,IAAI,OAAe,KAAK,MAAc;AAV9G,yBAAuB;AAYnB,WAAK,OAAO;AAEZ,YAAM,OAAO,cAAa;AAE1B,WAAK,WAAW,KAAK;AAErB,WAAK,WAAW,IAAI,aAAa,MAAM,KAAK,UAAU,GAAG,GAAG;AAC5D,WAAK,YAAY,IAAI,aAAa,MAAM,KAAK,UAAU,GAAG,GAAG;AAE7D,WAAK,kBAAkB,IAAI;AAC3B,WAAK,cAAc,IAAI;AACvB,WAAK,QAAQ,IAAI;AAEjB,WAAK,KAAK;AACV,WAAK,OAAO;AAEZ,WAAK,OAAO;AACZ,WAAK,QAAQ;AACb,WAAK,OAAO;AACZ,WAAK,cAAc,KAAK,SAAS,QAAQ,KAAK,SAAS;AAEvD,WAAK,aAAa,IAAI;AACtB,WAAK,mBAAmB,YAAY,SAAS,MAAM,KAAK,aAAa,MAAM;AAE3E,WAAK,OAAO,IAAI;;IAGpB;AAEI,kBAAY,SAAS,KAAK,OAAO,KAAK,aAAa,KAAK,OAAO,KAAK,MAAM,KAAK;AAE/E,aAAO;;IAGX,OAAQ;AAEJ,YAAM,MAAM,KAAK;AACjB,YAAM,MAAM,KAAK;AACjB,YAAM,OAAO,KAAK;AAElB,eAAS,OAAO,KAAK;AAErB,gBAAU,KAAK;AAEf,qBAAe,IAAI,KAAK;AACxB,qBAAe,KAAK,MAAM,KAAK;AAE/B,aAAO,KAAK;;IAGhB,aAAc,SAAe;AAEzB,YAAM,MAAM,KAAK;AACjB,YAAM,OAAO,KAAK;AAClB,YAAM,KAAK,KAAK;AAEhB,YAAM,IAAI,aAAa,SAAS,QAAO,KAAK;AAE5C,oBAAc,KAAK,GAAG;AACtB,oBAAc,MAAM,GAAG;AACvB,oBAAc,IAAI,GAAG;AAErB,gBAAU,IAAI;AACd,gBAAU,MAAM;AAChB,gBAAU,KAAK;AAEf,aAAO,KAAK;;IAGhB,IAAK;AAED,aAAO,KAAK,aAAa,KAAK,IAAI;;IAGtC,MAAO;AAEH,aAAO,KAAK,aAAa,KAAK,MAAM;;IAGxC,KAAM;AAEF,aAAO,KAAK,aAAa,KAAK,WAAW;;IAG7C,QAAS;AAEL,YAAM,MAAM,KAAK;AAEjB,YAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO;AAChC,YAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,MAAO,KAAK;AAErC,UAAI,IACA,KAAK,IAAI,IACT,KAAK,IAAI,IACT,KAAK,IAAI;AAGb,aAAO,KAAK;;IAGhB;AAEI,YAAM,eAAe,KAAK;AAC1B,YAAM,WAAW,KAAK;AACtB,YAAM,MAAM,KAAK;AAEjB,UAAI,KAAK,KAAK,WAAW;AAEzB,aAAO,KAAK,cAAc,KAAK,IAAI;AAEnC,0BAAoB,UAAU,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK;AAE3D,aAAO;;IAGX;;IAIA;AAEI,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,KAAK;AACV,WAAK,OAAO;AACZ,WAAK,aAAa;AAClB,WAAK,mBAAmB;AACxB,WAAK,kBAAkB;AACvB,WAAK,cAAc;AACnB,WAAK,QAAQ;;QAGb;AAEA,aAAO,KAAK;;QAGZ,IAAK;AAEL,UAAI,QAAQ,KAAK,QAAQ;AAErB,aAAK,OAAO;AAEZ,aAAK;;;QAIT;AAEA,aAAO,KAAK;;QAGZ,KAAM;AAEN,UAAI,QAAQ;AAER,aAAK,QAAQ;AAEb,aAAK;;;QAIT;AAEA,aAAO,KAAK;;QAGZ,IAAK;AAEL,UAAI,QAAQ;AAER,aAAK,OAAO;AAEZ,aAAK;;;;;;ACrNjB;;;;;;ACAA,MAAI,UAAU;AAEd,2BAA0B,SAAgB;AAEtC,WAAO;AAEH,gBAAU;;;AAIlB;AAEI,WAAO;;;;ACZX,AAEA,MAAI,QAAQ;AACZ,MAAI,MAAM;AACV,MAAI,QAAQ;AACZ,MAAI,aAAa;AAEjB,kBAAiB,YAAoB,IAAI,UAAkB,IAAI,WAAoB;AAE/E,WAAO;AAEH,cAAQ;AACR,YAAM;AAEN,UAAI;AAEA,gBAAQ;;AAGZ,UAAI;AAEA,qBAAa;;;;AAKzB;AAEI,QAAI,UAAU;AAEV,YAAM,OAAO,cAAa;AAE1B,YAAM,UAAW,UAAU,WAAY,OAAO,KAAK,UAAU;AAE7D,cAAQ,IACJ,KAAK,QAAQ,aAAa,OAC1B,6BAA6B,sBAAsB,cACnD;;;;;ACrCZ,AAAO,MAAI,YAAY;AAEhB,qBAAoB;AAEvB,WAAO;AAEH,kBAAY;;;;;ACNpB,MAAI,qBAAuD;IACvD,OAAO;IACP,gBAAgB;;AAGpB,yBAAwB;AAEpB,WAAO;AAEH,2BAAqB;;;AAI7B;AAEI,WAAO;;;;ACfX,AAAO,MAAI,UAAU;AACd,MAAI,UAAU;AAEd,yBAAwB,IAAY,KAAK,IAAY;AAExD,WAAO;AAEH,gBAAU;AACV,gBAAU;;;;;ACRlB,MAAI,SAAS;AACb,MAAI,UAAU;AACd,MAAI,cAAc;AAElB,gBAAe,QAAgB,KAAK,SAAiB,KAAK,aAAqB;AAE3E,QAAI,eAAe;AAEf,mBAAa,OAAO;;AAGxB,WAAO;AAEH,eAAS;AACT,gBAAU;AACV,oBAAc;;;AAItB;AAEI,WAAO;;AAGX;AAEI,WAAO;;AAGX;AAEI,WAAO;;;;AC/BX,MAAI,cAAc;AAElB,uBAAsB,MAAc;AAEhC,WAAO;AAEH,oBAAc;;;AAItB,0BAAyB;AAErB,kBAAc;;AAGlB;AAEI,WAAO;;;;ACjBX;;;;;AAkBO,uBAAqB;AAExB,QAAI;AAEJ,QAAI;AAEA,UAAI,OAAO,WAAW;AAGlB,kBAAU,SAAS,eAAe;iBAE7B,OAAO,WAAW,YAAY,OAAO,aAAa;AAGvD,kBAAU;;;AAIlB,QAAI,CAAC;AAED,gBAAU,SAAS;;AAGvB,WAAO;;;;ACzCX,AAEA,MAAI;AAEJ,kBAAiB;AAEb,WAAO;AAIH,UAAI;AAEA,iBAAS,YAAW;;;;AAKhC;AAEI,WAAO;;;;ACnBX,AAEA,MAAI;AAEJ,wBAAsB;AAElB,gBAAW;;AAGf;AAEI,WAAO;;;;ACXX,AAEA,MAAI,UAA+B;AAEnC,kBAAiB;AAEb,WAAO;AAEH,gBAAU,GAAG,OAAO;;;AAI5B;AAEI,WAAO;;;;ACdX,MAAI,sBAA6C;IAC7C,OAAO;IACP,WAAW;IACX,OAAO;IACP,oBAAoB;;AAGxB,wBAAuB;AAEnB,WAAO;AAEH,4BAAqB;;;AAI7B;AAEI,WAAO;;;;ACjBX,AAQA,QAAM,QAA6B;AAE5B,QAAM,eACb;IACI,KAAK,CAAC,SAAmB;AAErB,YAAM,KAAK,CAAE,SAAS;;IAG1B,KAAK;AAED,aAAO;;IAGX,OAAO;AAEH,YAAM,SAAS;;;;;ACxBvB;IAyBI;AAJA,+BAA6B;AAC7B,4BAA0B;AAC1B,wBAAsB;AAIlB,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,aAAa;AAElB,WAAK,mBAAmB;AAExB,YAAM,SAAS,SAAS,cAAc;AAEtC,WAAK,SAAS;AAEd,WAAK;;IAGT;AAEI,YAAM,MAAM,KAAK,OAAO,WAAW,MAAM;AAIzC,WAAK,MAAM;AAEX,WAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,KAAK;;IAG9C,OAAQ,OAAe,QAAgB,aAAqB;AAExD,WAAK,QAAQ,QAAQ;AACrB,WAAK,SAAS,SAAS;AACvB,WAAK,aAAa;AAElB,YAAM,SAAS,KAAK;AAEpB,aAAO,QAAQ,KAAK;AACpB,aAAO,SAAS,KAAK;AAErB,UAAI,KAAK;AAEL,eAAO,MAAM,QAAS,MAAK,QAAQ,YAAY,aAAa;AAC5D,eAAO,MAAM,SAAU,MAAK,SAAS,YAAY,aAAa;;;IAItE,mBAAoB;AAEhB,YAAM,IAAY,UAAS,KAAK;AAChC,YAAM,IAAY,UAAS,IAAI;AAC/B,YAAM,IAAY,SAAQ;AAC1B,YAAM,IAAa,SAAQ,WAAY,WAAU,KAAK;AAEtD,WAAK,aAAa,QAAQ,MAAM,MAAM,MAAM;AAE5C,aAAO;;IAGX;AAEI,YAAM,MAAM,KAAK;AAEjB,UAAI,cAAc;AAClB,UAAI,2BAA2B;AAC/B,UAAI,aAAa,GAAG,GAAG,GAAG,GAAG,GAAG;;IAGpC,OAAQ;AAEJ,mBAAa;AAEb,YAAM,MAAM,KAAK;AAGjB,UAAI,KAAK,kBAAkB,WAAW,mBAAmB,KAAK,WAAW,oBAAoB;AAEzF;;AAGJ,WAAK;AAEL,UAAI,KAAK;AAEL,YAAI,UAAU,GAAG,GAAG,KAAK,OAAO,KAAK;AACrC,YAAI,YAAY,KAAK;AACrB,YAAI,SAAS,GAAG,GAAG,KAAK,OAAO,KAAK;;;IAgC5C;;;;;AC5IJ,AAGA;AAEI,WAAO;AAEH,mBAAY;;;;;ACPpB,AAGO,uBAAsB,YAAyB,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAEpH,UAAM,WAAW,IAAI,UAAU,GAAG,GAAG,OAAO;AAE5C,eAAW,cAAc,KAAK;AAE9B,WAAO;;;;ACTX,AAAO,MAAI;AAEJ,QAAM,MACb;IACI,KAAK;AAED,aAAO;;IAGX,KAAK,CAAC;AAEF,WAAK;;;;;ACXb,AAIO,wBAAuB,YAAyB;AAEnD,QAAI,CAAC;AAED,iBAAW,WAAW;AAEtB,UAAI,CAAC;AAED;;;AAIR,UAAM,MAAM,GAAG,aAAa,GAAG;AAE/B,QAAI,IAAI,OAAO,SAAS,KAAK,IAAI,OAAO,SAAS,KAAK,IAAI,OAAO,SAAS,SAAS,IAAI,OAAO,SAAS;AAEnG,SAAG,SAAS,SAAS,GAAG,SAAS,GAAG,SAAS,OAAO,SAAS;;;;;ACpBrE,AAIO,wBAAsB,YAAyB,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAEpH,UAAM,QAAQ,YAAY,YAAY,GAAG,GAAG,OAAO;AAEnD,iBAAa,YAAY;AAEzB,eAAW,kBAAkB;;;;ACVjC,AAKO,2BAA0B,YAAyB,QAAiB,MAAM;AAE7E,QAAI,CAAC;AAED,cAAQ,WAAW;;AAGvB,UAAM,CAAE,aAAa,YAAa;AAGlC,OAAG,gBAAgB,GAAG,aAAa;AAEnC,QAAI;AAEA,SAAG,WAAW,GAAG,GAAG,GAAG;AACvB,SAAG,MAAM,GAAG,mBAAmB,GAAG;;AAGtC,QAAI;AAEA,mBAAY,YAAY,SAAS,GAAG,SAAS,GAAG,SAAS,OAAO,SAAS;;;;;ACzBjF,AAGO,wBAAsB;AAEzB,UAAM,QAAQ,WAAW;AAGzB,QAAI,MAAM,SAAS;AAEf,YAAM;;AAGV,eAAW,kBAAkB,MAAO,MAAM,SAAS;AAEnD,iBAAa;;;;ACfjB,AAIO,0BAAyB;AAE5B,UAAM,QAAQ,WAAW;AAGzB,QAAI,MAAM,SAAS;AAEf,UAAI,WAAW,mBAAmB;AAE9B,qBAAY;;AAGhB,YAAM;;AAGV,eAAW,qBAAqB,MAAO,MAAM,SAAS;AAEtD,oBAAgB,YAAY;;;;ACrBhC,AAIO,0BAAyB,YAAyB,aAA+B;AAEpF,UAAM,QAAQ,CAAE,aAAa;AAE7B,eAAW,iBAAiB,KAAK;AAEjC,WAAO;;;;ACVX,AAKO,0BAAyB,YAAyB,aAA+B,QAAiB,MAAM;AAE3G,UAAM,QAAQ,eAAe,YAAY,aAAa;AAEtD,oBAAgB,YAAY,OAAO;AAEnC,eAAW,qBAAqB;;;;ACXpC,AAKO,gBAAe;AAElB,UAAM,QAAQ,WAAW;AAEzB,QAAI,UAAU;AAEV;;AAGJ,UAAM,gBAAgB,WAAW;AACjC,UAAM,gBAAgB,WAAW;AAEjC,UAAM,sBAAsB,cAAc,OAAO;AAEjD,QAAI;AAEA,qBAAe,YAAY,cAAc,OAAO,aAAa;;AAGjE,QAAI,UAAU,cAAc;AAExB,YAAM,OAAQ,cAAc,YAAa,GAAG,eAAe,GAAG;AAE9D,SAAG,WAAW,GAAG,cAAc,cAAc,MAAM;;AAInD,YAAM,UAAW,cAAc,UAAW,QAAQ,cAAc,mBAAmB,QAAQ,cAAc;AAEzG,YAAM,OAAO,cAAc,cAAc,SAAS,GAAG;AAErD,SAAG,cAAc,GAAG,cAAc,GAAG;;AAGzC,QAAI,cAAc;AAEd,SAAG,aAAa,GAAG,WAAW,QAAQ,cAAc,gBAAgB,GAAG,gBAAgB;;AAIvF,SAAG,WAAW,GAAG,WAAW,GAAG;;AAGnC,QAAI;AAEA,qBAAe;;;;;AClDvB,AAGO,iBAAgB,YAAyB;AAE5C,QAAI;AAEA,iBAAW,QAAQ;;AAGvB,UAAM,QAAQ,WAAW;AAEzB,QAAI,UAAU;AAEV,aAAO;;AAGX,SAAK;AAEL,eAAW,YAAY;AAEvB,eAAW,QAAQ;AAEnB,eAAW;AAEX,WAAO;;;;ACzBX,AAGO,gBAAc;AAEjB,UAAM;;;;ACLV,AAAO,wBAAsB,QAAe,SAAmB;AAE3D,UAAM,IAAY,UAAS,KAAK;AAChC,UAAM,IAAY,UAAS,IAAI;AAC/B,UAAM,IAAY,SAAQ;AAC1B,UAAM,IAAa,SAAQ,WAAY,WAAU,KAAK;AAEtD,WAAO,KAAK,IAAI;AAChB,WAAO,KAAK,IAAI;AAChB,WAAO,KAAK,IAAI;AAChB,WAAO,KAAK,IAAI;AAEhB,WAAO;;;;ACZX,AAGO,4BAAwD;AAE3D,UAAM,CAAE,iBAAQ,OAAO,wBAAwB,WAAW,WAAW,OAAO,OAAO,gBAAgB,SAAU;AAE7G,UAAM,SAAS,QAAO;AAEtB,QAAI,QAAQ,QAAO;AACnB,QAAI,SAAS,QAAO;AAEpB,UAAM,YAA0B,GAAG;AAEnC,OAAG,cAAc,GAAG;AACpB,OAAG,YAAY,GAAG,YAAY;AAE9B,OAAG,YAAY,GAAG,qBAAqB;AACvC,OAAG,YAAY,GAAG,gCAAgC;AAElD,QAAI;AAEA,SAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,eAAe;AAEpE,cAAQ,OAAO;AACf,eAAS,OAAO;;AAIhB,SAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,OAAO,QAAQ,GAAG,GAAG,MAAM,GAAG,eAAe;;AAG1F,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB;AACvD,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB;AAEvD,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB;AACnD,OAAG,cAAc,GAAG,YAAY,GAAG,gBAAgB;AAEnD,QAAI,kBAAkB;AAElB,SAAG,eAAe,GAAG;;AAGzB,YAAQ,UAAU;AAElB,WAAO;;;;AC7CX,AAEO,8BAA4B;AAE/B,QAAI,MAAM,GAAG,cAAc;AAEvB,SAAG,kBAAkB;;;;;ACN7B,AAEO,4BAA0B;AAE7B,QAAI,GAAG,UAAU;AAEb,SAAG,cAAc;;;;;ACNzB,AAEO,mCAAiC,SAAuB,SAAkB;AAE7E,OAAG,cAAc,GAAG;AACpB,OAAG,YAAY,GAAG,YAAY;AAE9B,UAAM,OAAQ,SAAU,GAAG,SAAS,GAAG;AAEvC,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB;AACvD,OAAG,cAAc,GAAG,YAAY,GAAG,oBAAoB;;;;ACV3D,AAGO,4BAAwD;AAE3D,UAAM,SAAS,QAAQ,OAAO;AAC9B,UAAM,QAAQ,OAAO;AACrB,UAAM,SAAS,OAAO;AAEtB,QAAI,QAAQ,KAAK,SAAS;AAEtB,SAAG,cAAc,GAAG;AACpB,SAAG,YAAY,GAAG,YAAY,QAAQ;AAEtC,SAAG,YAAY,GAAG,qBAAqB,QAAQ;AAC/C,SAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,eAAe;;AAGxE,WAAO,QAAQ;;;;AClBnB;IAkCI,YAAa,SAAkB,UAAkC;AAfjE,mBAAgB;AAChB,0BAAuB;AAEvB,wBAAsB;AACtB,oCAAkC;AAOlC,mBAAiB;AACjB,mBAAiB;AACjB,4BAA0B;AAItB,WAAK,SAAS;AAEd,WAAK,QAAQ,iBAAiB,QAAO,OAAO,QAAO;AAEnD,YAAM;QACF,UAAU;QACV,cAAc;QACd,cAAc;QACd,yBAAyB;QACzB,YAAa,KAAK,QAAS,GAAG,uBAAuB,GAAG;QACxD,YAAY,GAAG;QACf,QAAQ,GAAG;QACX,QAAQ,GAAG;QACX,iBAAiB,KAAK;QACtB,QAAQ;UACR;AAEJ,WAAK,YAAY;AACjB,WAAK,YAAY;AACjB,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,WAAK,iBAAiB;AACtB,WAAK,QAAQ;AACb,WAAK,yBAAyB;AAE9B,UAAI;AAEA,aAAK,cAAc;;AAGvB,UAAI;AAEA,aAAK,cAAc;;AAGvB,UAAI;AAEA,aAAK,UAAU;;AAIf,yBAAgB;;;IAKxB,UAAW;AAEP,UAAI,KAAK;AAEL,gCAAuB,KAAK,SAAS;;;IAI7C;AAEI,YAAM,UAAU,KAAK;AAErB,UAAI;AAEA,yBAAgB;;AAGpB,aAAO,iBAAgB;;IAG3B;AAEI,YAAM,UAAU,KAAK;AAErB,UAAI,CAAC;AAED,eAAO,iBAAgB;;AAIvB,eAAO,iBAAgB;;;IAI/B,SAAU;AAEN,WAAK,aAAc,UAAU,KAAK;AAClC,WAAK,QAAQ;;IAGjB;AAEI,uBAAgB,KAAK;AACrB,yBAAkB,KAAK;AAEvB,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,cAAc;;;;;ACjI3B,AAGO;AAEH,UAAM,SAAQ,aAAa;AAE3B,WAAM,QAAQ;AAEV,YAAM,CAAE,SAAS,YAAa;AAE9B,UAAI,CAAC,QAAQ;AAET,gBAAQ,UAAU,IAAI,kBAAiB,SAAS;;;AAIxD,iBAAa;;;;ACjBjB,AAIA,QAAM,eAAe;IACjB;IACA;IACA;IACA;IACA;IACA;IACF,KAAK;AAEP,uBAAsB;AAElB,QAAI,MAAM;AAEV,aAAS,IAAI,GAAG,IAAI,QAAQ,EAAE;AAE1B,UAAI,IAAI;AAEJ,eAAO;;AAGX,UAAI,IAAI,SAAS;AAEb,eAAO,cAAc;;;AAI7B,WAAO;;AAGJ,uCAAqC;AAExC,UAAM,SAAS,GAAG,aAAa,GAAG;AAGlC,WAAO;AAEH,YAAM,cAAc,aAAa,QAAQ,eAAe,YAAY;AAEpE,SAAG,aAAa,QAAQ;AACxB,SAAG,cAAc;AAEjB,UAAI,CAAC,GAAG,mBAAmB,QAAQ,GAAG;AAElC,iBAAU,SAAS,IAAK;;AAKxB;;;AAIR,WAAO;;;;ACxDX,AAQO,8BAA6B;AAEhC,QAAI,iBAAyB,4BAA2B,GAAG,aAAa,GAAG;AAE3E,UAAM,oBAAoB;AAE1B,QAAI,sBAAsB,KAAM,oBAAoB,KAAK,oBAAoB;AAGzE,qBAAe;eAEV,oBAAoB,KAAK,oBAAoB;AAGlD,uBAAiB,KAAK,IAAI,GAAG;;AAGjC,UAAM,eAAe,WAAW;AAEhC,QAAI,aAAa;AAEb,mBAAa,QAAQ;AAEjB,WAAG,cAAc;;;AAIzB,UAAM,QAAQ;AAGd,aAAS,gBAAwB,GAAG,gBAAgB,gBAAgB;AAEhE,YAAM,cAAc,GAAG;AAEvB,SAAG,cAAc,GAAG,WAAW;AAE/B,SAAG,YAAY,GAAG,YAAY;AAE9B,SAAG,WAAW,GAAG,YAAY,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,GAAG,MAAM,GAAG,eAAe,IAAI,WAAW,CAAE,GAAG,GAAG,KAAK;AAEzG,mBAAa,iBAAiB;AAE9B,YAAM,KAAK;;AAGf,eAAW,cAAc;AAEzB,eAAW,eAAe;AAG1B,eAAW,uBAAuB;;;;AC1DtC,AAEO,0BAAyB;AAE5B,QAAI,GAAG,SAAS;AAEZ,SAAG,aAAa;;;;;ACNxB;IAmHI,YAAa,UAA8B;AAvB3C,qBAAmB;AAEnB,uBAAqB;AAUrB,mBAAgB;AAOhB,oBAAiB;AAMb,YAAM;QACF,wBAAY;QACZ,WAAW;QACX,YAAY;QACZ,mBAAmB;QACnB,oBAAoB;UACpB;AAEJ,WAAK,YAAY;AACjB,WAAK,WAAW;AAChB,WAAK,oBAAoB;AACzB,WAAK,YAAY;AACjB,WAAK,mBAAmB;AAGxB,WAAK,iBAAiB,oBAAoB;AAC1C,WAAK,gBAAgB,KAAK,iBAAiB;AAC3C,WAAK,iBAAiB,aAAY,KAAK;AAEvC,WAAK;;IAGT,OAAQ;AAEJ,WAAK,YAAY;AACjB,WAAK,iBAAiB,aAAY,KAAK;AAEvC,UAAI,KAAK;AAEL,uBAAe,KAAK;;AAGxB,WAAK;;IAGT;AAEI,YAAM,OAAO,IAAI,YAAY,KAAK;AAElC,WAAK,OAAO;AAEZ,WAAK,gBAAgB,IAAI,aAAa;AACtC,WAAK,gBAAgB,IAAI,YAAY;AAErC,WAAK,eAAe,GAAG;AAEvB,SAAG,WAAW,GAAG,cAAc,KAAK;AAEpC,YAAM,OAAQ,KAAK,YAAa,GAAG,eAAe,GAAG;AAErD,SAAG,WAAW,GAAG,cAAc,MAAM;AAErC,SAAG,WAAW,GAAG,cAAc;;IAGnC,IAAK;AAED,WAAK,SAAS;AACd,WAAK,UAAW,KAAK,oBAAoB;;IAG7C;AAEI,WAAK,QAAQ;AACb,WAAK,SAAS;;IAGlB,WAAY;AAER,aAAS,KAAK,QAAQ,SAAU,KAAK;;IAGzC;AAEI,aAAO,KAAK,IAAI,GAAG,IAAK,KAAK,QAAQ,KAAK;;IAG9C;AAEI,SAAG,WAAW,GAAG,sBAAsB;AACvC,SAAG,WAAW,GAAG,cAAc,KAAK;;IAGxC;AAEI,qBAAe,KAAK;AAEpB,WAAK,OAAO;AACZ,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AACrB,WAAK,eAAe;;;;;AC/M5B,oCAMyC;IA8CrC,YAAa,UAA8B;AAEvC,YAAM;AAEN,YAAM;QACF,YAAY;QACZ,iBAAiB;QACjB,cAAc;UACd;AAEJ,WAAK,UAAU;AAEf,WAAK,YAAY;AACjB,WAAK,iBAAiB;AAGtB,WAAK,mBAAmB,KAAK,oBAAoB,KAAK;AAEtD,YAAM,oBAAoB;AAE1B,UAAI;AAEA,aAAK,cAAc;AAGnB,iBAAS,IAAI,GAAG,IAAK,KAAK,YAAY,WAAY,KAAK;AAEnD,mBAAS,IAAI,GAAG,IAAI,YAAY,QAAQ;AAEpC,8BAAkB,KAAK,IAAI,YAAY;;;;AAKnD,WAAK;AACL,WAAK,kBAAkB;;IAG3B,kBAAmB;AAEf,WAAK,QAAQ,IAAI,YAAY;AAE7B,WAAK,cAAc,GAAG;AAEtB,SAAG,WAAW,GAAG,sBAAsB,KAAK;AAC5C,SAAG,WAAW,GAAG,sBAAsB,KAAK,OAAO,GAAG;AAGtD,SAAG,WAAW,GAAG,sBAAsB;AACvC,oBAAc;;IAGlB;AAEI,SAAG,WAAW,GAAG,sBAAsB,KAAK;AAC5C,SAAG,WAAW,GAAG,cAAc,KAAK;;IAGxC;AAEI,YAAM;AAEN,qBAAe,KAAK;AAEpB,WAAK,QAAQ;AACb,WAAK,cAAc;AACnB,WAAK,cAAc;;;;;ACtH3B,AAGO,4BAA2B,SAAuB;AAErD,UAAM,aAAa,IAAI;AAEvB,UAAM,kBACN;MACI,MAAM;MACN,MAAM,GAAG;MACT,YAAY;MACZ,QAAQ;MACR,QAAQ;;AAGZ,UAAM,QAAQ,GAAG,oBAAoB,SAAS,GAAG;AAEjD,aAAS,IAAI,GAAG,IAAI,OAAO;AAEvB,YAAM,SAAS,GAAG,gBAAgB,SAAS;AAE3C,UAAI,CAAC;AAED;;AAGJ,YAAM,OAAO,OAAO;AAEpB,YAAM,QAAQ,GAAG,kBAAkB,SAAS;AAE5C,SAAG,wBAAwB;AAE3B,YAAM,UAAU,QAAO,eAAe,QAAQ,QAAO,QAAQ;AAE7D,YAAM;QAEF,OAAO,gBAAgB;QACvB,OAAO,gBAAgB;QACvB,aAAa,gBAAgB;QAC7B,SAAS,gBAAgB;QACzB,SAAS,gBAAgB;UAEzB;AAEJ,iBAAW,IAAI,MAAM,CAAE,OAAO,MAAM,MAAM,YAAY,QAAQ;;AAGlE,WAAO;;;;AChDX,AAEO,6BAA2B;AAE9B,aAAQ,QAAQ;AAEZ,SAAG,aAAa;;;;;ACNxB,AAGO,4BAA2B;AAE9B,UAAM,UAAU,GAAG;AAEnB,aAAQ,QAAQ;AAEZ,SAAG,aAAa,SAAS;;AAG7B,OAAG,YAAY;AAEf,UAAM,SAAS,GAAG,oBAAoB,SAAS,GAAG;AAElD,QAAI,CAAC;AAED,YAAM,OAAO,GAAG,kBAAkB;AAElC,cAAQ,MAAM,0BAA0B;AAExC,SAAG,cAAc;AAEjB,qBAAc,GAAG;AAEjB,aAAO;;AAGX,WAAO;;;;AC7BX,AAEO,wBAAuB,QAAgB;AAE1C,UAAM,SAAS,GAAG,aAAa;AAE/B,OAAG,aAAa,QAAQ;AAExB,OAAG,cAAc;AAEjB,UAAM,SAAS,GAAG,mBAAmB,QAAQ,GAAG;AAEhD,QAAI,CAAC;AAED,YAAM,OAAO,GAAG,iBAAiB;AAGjC,YAAM,cAAc,OAAO,MAAM,MAAM,IAAI,CAAC,MAAM;AAE9C,eAAO,GAAG,UAAU;;AAGxB,cAAQ,MAAM,2BAA2B,QAAQ,YAAY,KAAK;AAElE,SAAG,aAAa;AAEhB,aAAO;;AAGX,WAAO;;;;AC7BX,AAMO,+BAA8B,SAA0B,UAAgC,UAAmB;AAE9G,YAAQ,QAAQ;WAEP,GAAG;WACH,GAAG;AAEJ,YAAI;AAEA,iBAAO,CAAC;AAEJ,eAAG,WAAW,UAAU;;;AAK5B,iBAAO,CAAC;AAEJ,eAAG,UAAU,UAAU;;;;WAK9B,GAAG;WACH,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;WACH,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;WACH,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;AAEJ,YAAI;AAEA,iBAAO,CAAC;AAEJ,eAAG,WAAW,UAAU;;;AAK5B,iBAAO,CAAC;AAEJ,eAAG,UAAU,UAAU;;;;WAK9B,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,WAAW,UAAU;;;WAI3B,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,iBAAiB,UAAU,OAAO;;;WAIxC,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,iBAAiB,UAAU,OAAO;;;WAIxC,GAAG;AAEJ,eAAO,CAAC;AAEJ,aAAG,iBAAiB,UAAU,OAAO;;;WAIxC,GAAG;WACH,GAAG;AAEJ,YAAI,QAAQ,OAAO;AAEf,iBAAO,CAAC;AAEJ,eAAG,WAAW,UAAU;;;AAK5B,iBAAO,CAAC;AAEJ,eAAG,UAAU,UAAU;;;;;;;;ACxI3C,AAGO,0BAAyB;AAE5B,UAAM,WAAW,IAAI;AAErB,UAAM,QAAQ,GAAG,oBAAoB,SAAS,GAAG;AAEjD,aAAS,IAAI,GAAG,IAAI,OAAO;AAEvB,YAAM,UAAU,GAAG,iBAAiB,SAAS;AAE7C,UAAI,OAAO,QAAQ;AAEnB,UAAI,KAAK,WAAW,UAAU,KAAK,WAAW;AAG1C;;AAGJ,YAAM,WAAW,GAAG,mBAAmB,SAAS,QAAQ;AAExD,UAAI;AAEA,YAAI,UAAU;AAGd,YAAI,KAAK,OAAO,QAAQ;AAEpB,iBAAO,KAAK,OAAO,GAAG,KAAK,SAAS;AAEpC,oBAAW,QAAQ,OAAO;;AAG9B,iBAAS,IAAI,MAAM,oBAAoB,SAAS,UAAU;;;AAIlE,WAAO;;;;ACvCX,AACA,QAAM,gBAAyB;AAK/B,QAAM,QAAyB;;;ACN/B,AAOO,QAAM,wBACb;IACI,iBAAiB,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;IAC7E,eAAe,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;IAC3E,YAAY,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;IACxE,YAAY,CAAE,MAAM,GAAG,MAAe,eAAe,YAAY,MAAM,QAAQ;;;;ACZnF,AAAO,QAAM,sBACb;IACI,mBAAmB,IAAI;IACvB,eAAe,IAAI;IACnB,UAAU;;;;ACJd,AAEO,8BAA4B,aAA+B,cAAsB;AAEpF,OAAG,gBAAgB,GAAG,aAAa;AAEnC,UAAM,cAAc,GAAG;AAEvB,OAAG,iBAAiB,GAAG,cAAc;AAErC,OAAG,oBAAoB,GAAG,cAAc,GAAG,mBAAmB,cAAc;AAE5E,OAAG,wBAAwB,GAAG,aAAa,GAAG,kBAAkB,GAAG,cAAc;AAEjF,OAAG,gBAAgB,GAAG,aAAa;AAEnC,WAAO;;;;AChBX,AAEO,8BAA4B,SAAuB;AAEtD,QAAI,CAAC;AAED,mBAAa,GAAG;;AAGpB,UAAM,cAAc,GAAG;AAEvB,OAAG,gBAAgB,GAAG,aAAa;AAEnC,OAAG,qBAAqB,GAAG,aAAa,YAAY,GAAG,YAAY,SAAS;AAE5E,OAAG,gBAAgB,GAAG,aAAa;AAEnC,WAAO;;;;ACjBX,AAAO,QAAM,mBACb;;;;;;;;;;;;;;;;;;ACDA,AAAO,QAAM,mBACb;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;IAkCI,YAAa,SAAkB,KAAsB,GAAW,GAAW,OAAe;AAnB1F,qBAAmB;AAqBf,WAAK,UAAU;AACf,WAAK,MAAM;AAEX,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;AAExB,WAAK;;IAGT,SAAU,GAAW;AAEjB,WAAK,QAAQ,CAAE,GAAG;;IAGtB,QAAS,OAAe;AAEpB,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;AAExB,WAAK;;IAGT,cAAe,OAAe;AAE1B,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;;IAG5B,QAAS,OAAe,QAAgB,GAAW,GAAW,GAAW;AAErE,WAAK,UAAU;AAEf,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;AAExB,WAAK,oBAAoB;AACzB,WAAK,oBAAoB;AACzB,WAAK,wBAAwB;AAC7B,WAAK,yBAAyB;;IAGlC,UAAW,UAAiB;AAExB,YAAM,kBAAkB,KAAK;AAC7B,YAAM,mBAAmB,KAAK;AAE9B,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,UAAI,KAAK;AAEL,eAAO,KAAK,oBAAqB,WAAU;AAC3C,gBAAQ,OAAO,KAAK;AAEpB,cAAM,KAAK,oBAAqB,WAAU;AAC1C,iBAAS,MAAM,KAAK;;AAIpB,eAAO,CAAC,WAAU;AAClB,gBAAQ,OAAO;AAEf,cAAM,CAAC,WAAU;AACjB,iBAAS,MAAM;;AAGnB,aAAO,CAAE,MAAM,OAAO,KAAK;;IAG/B,UAAW;AAEP,YAAM,YAAY,MAAM;AAExB,YAAM,WAAU,UAAU,OAAO;AACjC,YAAM,WAAU,UAAU,OAAO;AAEjC,YAAM,kBAAkB,KAAK;AAC7B,YAAM,mBAAmB,KAAK;AAE9B,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,UAAI,KAAK;AAEL,YAAI,KAAK,oBAAqB,WAAU;AACxC,YAAI,KAAK,oBAAqB,WAAU;AAExC,gBAAQ,KAAK;AACb,iBAAS,KAAK;;AAId,YAAI,CAAC,WAAU;AACf,YAAI,CAAC,WAAU;AAEf,gBAAQ;AACR,iBAAS;;AAGb,gBAAU,UAAU,GAAG,GAAG,OAAO;;IAGrC;AAEI,YAAM,CAAE,GAAG,GAAG,OAAO,UAAW;AAEhC,YAAM,mBAAmB,KAAK,QAAQ;AACtC,YAAM,oBAAoB,KAAK,QAAQ;AAEvC,WAAK,KAAK,IAAI;AACd,WAAK,KAAK,IAAI;AAEd,WAAK,KAAM,KAAI,SAAS;AACxB,WAAK,KAAM,KAAI,UAAU;;;;;AChKjC;IAwBI,YAAa,OAAwB,OAAgB,QAAiB;AAftE,iBAAc;AAiBV,UAAI;AAEA,gBAAQ,MAAM;AACd,iBAAS,MAAM;;AAGnB,WAAK,QAAQ;AAEb,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,WAAK,SAAS,IAAI;AAElB,WAAK,OAAO;AAEZ,WAAK,SAAS,UAAU,GAAG,GAAG,OAAO;AAErC,mBAAa,IAAI,MAAM;;IAG3B,SAAU,KAAsB,GAAW,GAAW,OAAe;AAEjE,UAAI,KAAK,OAAO,IAAI;AAEhB,eAAO;;AAGX,YAAM,SAAQ,IAAI,QAAM,MAAM,KAAK,GAAG,GAAG,OAAO;AAEhD,WAAK,OAAO,IAAI,KAAK;AAErB,UAAI,CAAC,KAAK,cAAc,KAAK,WAAW,QAAQ;AAE5C,aAAK,aAAa;;AAGtB,aAAO;;IAGX,SAAU;AAGN,UAAI,CAAC;AAED,eAAO,KAAK;;AAGhB,UAAI,eAAe;AAEf,cAAM,IAAI;;AAGd,UAAI,SAAe,KAAK,OAAO,IAAI;AAEnC,UAAI,CAAC;AAED,gBAAQ,KAAK,kBAAkB;AAE/B,iBAAQ,KAAK;;AAGjB,aAAO;;IAGX,QAAS,OAAe;AAEpB,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,YAAM,SAAQ,KAAK,OAAO,IAAI;AAE9B,aAAM,QAAQ,OAAO;;IAGzB;AAEI,UAAI,KAAK;AAEL,aAAK,QAAQ;;AAGjB,WAAK,OAAO;AAEZ,WAAK,OAAO;AACZ,WAAK,QAAQ;AACb,WAAK,aAAa;;;;;AC/G1B;IAyCI,YAAa;AAJb,iCAA+B;AAE/B,iCAA+B;AAI3B,UAAI;AAEA,aAAK,WAAW;;;IAIxB,WAAY;AAER,YAAM;QACF,aAAa;QACb,iBAAiB;QACjB,SAAS;QACT,sBAAsB;QACtB,sBAAsB;QACtB,aAAa;QACb,eAAe;QACf,QAAQ;QACR,WAAW;UACX;AAEJ,WAAK,OAAO,gBAAgB,cAAc,UAAU;AAEpD,UAAI;AAEA,aAAK,sBAAsB;AAE3B,cAAM,UAAU,IAAI,SAAQ,MAAM,QAAQ,YAAY,SAAS;AAC/D,cAAM,UAAU,IAAI,kBAAiB;AAErC,gBAAQ,UAAU;AAElB,gBAAQ,cAAc,mBAAkB,QAAQ;AAEhD,YAAI;AAEA,eAAK,sBAAsB;AAE3B,kBAAQ,cAAc,mBAAkB,QAAQ,aAAa,QAAQ,OAAO,QAAQ;;AAGxF,aAAK,UAAU;AACf,aAAK,cAAc,QAAQ;;;IAInC,OAAQ,sBAA8B,oBAA4B,UAAc;AAE5E,YAAM,iBAAiB,aAAa,sBAAsB,GAAG;AAC7D,YAAM,eAAe,aAAa,oBAAoB,GAAG;AAEzD,UAAI,CAAC,kBAAkB,CAAC;AAEpB;;AAGJ,YAAM,UAAU,cAAc,gBAAgB;AAE9C,UAAI,CAAC;AAED;;AAGJ,YAAM,iBAAiB,GAAG,aAAa,GAAG;AAE1C,SAAG,WAAW;AAEd,WAAK,UAAU;AAEf,WAAK,iBAAiB,eAAe;AAErC,WAAK,WAAW,IAAI;AAGpB,iBAAW,CAAE,KAAK,UAAW,OAAO,QAAQ;AAExC,aAAK,SAAS,IAAI,KAAK;;AAG3B,WAAK,aAAa,iBAAiB,SAAS;AAE5C,SAAG,WAAW;;IAIlB,eAAgB;;IAKhB,KAAM;AAEF,WAAK,eAAe;AAEpB,aAAO,KAAK,YAAY;;IAG5B,WAAY,KAAa;AAErB,YAAM,WAAW,KAAK;AAEtB,UAAI,SAAS,IAAI;AAEb,iBAAS,IAAI,KAAK;AAElB,cAAM,SAAS,KAAK,eAAe,IAAI;AAEvC,eAAO;;;IAKf,YAAa;AAET,UAAI,CAAC,KAAK;AAEN,eAAO;;AAGX,SAAG,WAAW,KAAK;AAEnB,YAAM,WAAW,KAAK;AAEtB,iBAAW,CAAE,MAAM,WAAY,KAAK,eAAe;AAE/C,eAAO,SAAS,IAAI;;AAGxB,aAAO;;IAIX,cAAe;AAEX,UAAI,KAAK;AAEL,cAAM,SAAS,WAAW,oBAAoB;AAE9C,aAAK,WAAW,QAAQ;AAEpB,aAAG,oBAAoB,OAAO,OAAO,OAAO,MAAM,OAAO,MAAM,OAAO,YAAY,QAAQ,OAAO;;;;IAK7G;AAEI,qBAAc,KAAK;AACnB,uBAAgB,KAAK;AACrB,yBAAkB,KAAK;AAEvB,WAAK,SAAS;AACd,WAAK,eAAe;AACpB,WAAK,WAAW;AAEhB,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,cAAc;;;;;ACvM3B,4BAMgC;IAE5B,YAAa,UAAwB;AAEjC,YAAM,eAAe;AAErB,mBAAa,aAAc,CAAC,aAAa,aAAc,wBAAwB,aAAa;AAE5F,YAAM;;IAGV,KAAM;AAEF,YAAM,WAAW,KAAK;AAEtB,eAAS,IAAI,qBAAqB,WAAW,iBAAiB;AAC9D,eAAS,IAAI,iBAAiB,WAAW,aAAa;AAEtD,aAAO,MAAM,KAAK;;;;;ACxB1B,yBAQ8B;IAE1B,YAAa,UAAwB;AAEjC,YAAM,eAAe;AAErB,mBAAa,aAAc,CAAC,aAAa,aAAc,wBAAwB,aAAa;AAE5F,mBAAa,sBAAsB;AAEnC,YAAM;;IAGV,KAAM;AAEF,YAAM,WAAW,WAAW;AAE5B,WAAK,SAAS,IAAI,SAAS,YAAY;AACvC,WAAK,SAAS,IAAI,eAAe,CAAE,SAAS,OAAO,SAAS;AAE5D,aAAO,MAAM,KAAK;;;;;AC5B1B,AAAO,QAAM,kBACb;;;;;;;;;;;;;;;;;;;;ACDA,uCAM4C;IAExC,YAAa,UAAwB;AAEjC,UAAI,CAAC,QAAO;AAER,gBAAO,iBAAiB;;AAG5B,YAAM;;IAGV,OAAQ,sBAA8B,oBAA4B,UAAc;AAE5E,YAAM,eAAc;AAEpB,UAAI,MAAM;AAEV,eAAS,IAAI,GAAG,IAAI,cAAa;AAE7B,YAAI,IAAI;AAEJ,iBAAO;;AAGX,YAAI,IAAI,eAAc;AAElB,iBAAO,oBAAoB;;AAG/B,eAAO;AACP,eAAO;+BAAoC;AAC3C,eAAO;;AAGX,6BAAuB,qBAAqB,QAAQ,aAAa,GAAG;AACpE,6BAAuB,qBAAqB,QAAQ,eAAe;AAEnE,YAAM,OAAO,sBAAsB,oBAAoB,UAAU;;IAGrE,KAAM;AAEF,WAAK,SAAS,IAAI,YAAY,WAAW;AAEzC,aAAO,MAAM,KAAK;;;;;ACnD1B;;ACAA,AAEO,gCAA8B,YAAyB,QAAiB,SAAkB;AAE7F,UAAM,QAAQ,CAAE,QAAQ,SAAS;AAGjC,eAAW,eAAe,KAAK;AAE/B,eAAW,mBAAmB;AAC9B,eAAW,mBAAmB;;;;ACVlC,AAGO,kCAAgC,YAAyB,cAAgC,MAAM;AAElG,UAAM,QAAQ,CAAE,aAAa;AAG7B,eAAW,iBAAiB,KAAK;AAEjC,eAAW,qBAAqB;AAChC,eAAW,qBAAqB;;;;ACXpC,AAGO,6BAA2B,YAAyB,QAAiB;AAExE,UAAM,QAAQ,CAAE,QAAQ;AAGxB,eAAW,YAAY,KAAK;AAE5B,eAAW,gBAAgB;AAC3B,eAAW,gBAAgB;;;;ACX/B,AAGO,mCAAiC,YAAyB;AAG7D,eAAW,kBAAkB,KAAK;AAElC,eAAW,sBAAsB;AACjC,eAAW,sBAAsB;;;;ACTrC,AAGO,+BAA6B,YAAyB,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAE3H,UAAM,QAAQ,IAAI,UAAU,GAAG,GAAG,OAAO;AAGzC,eAAW,cAAc,KAAK;AAE9B,eAAW,kBAAkB;AAC7B,eAAW,kBAAkB;;;;ACXjC;IAwFI,YAAa;AA7Cb,mBAAgB;AAChB,uBAAoB;AACpB,wBAAqB;AAIrB,yBAAsB;AACtB,kCAA+B;AAC/B,gCAA6B;AAC7B,0BAA+B;AAC/B,0BAAyB;AAGzB,8BAA4C;AAC5C,gCAA4C;AAC5C,gCAA4C;AAG5C,+BAAqC;AACrC,iCAAqC;AACrC,iCAAqC;AAGrC,yBAAkC;AAClC,2BAAkC;AAClC,2BAAkC;AAGlC,2BAA6B;AAC7B,6BAA6B;AAC7B,6BAA6B;AAG7B,4BAAwC;AACxC,8BAAwC;AACxC,8BAAwC;AAYpC,WAAK,WAAW;AAEhB,WAAK,mBAAmB,IAAI;AAE5B,WAAK;;IAIT;AAEI,YAAM,MAAK,KAAK,SAAS;AAEzB,YAAM,cAAc,CAAE,GAAG,GAAG,GAAG,GAAG,GAAG;AAMrC,WAAK,aAAa,IAAI;AACtB,WAAK,aAAa,IAAI,oBAAoB,CAAE,WAAW,OAAO;AAC9D,WAAK,aAAa,IAAI;AAItB,yBAAmB;AAEnB,6BAAsB;AACtB,2BAAoB,MAAM,MAAM,IAAG,KAAK,IAAG;AAC3C,8BAAuB,MAAM,IAAI,oBAAoB,CAAE,WAAW;AAClE,wBAAiB,MAAM,IAAI;;IAG/B,OAAQ,OAAe;AAGnB,YAAM,GAAG,OAAO,QAAQ,GAAG,MAAO,KAAM,KAAK;AAE7C,WAAK,WAAW;AAEhB,0BAAmB,MAAM,GAAG,GAAG,OAAO;;;;;ACjI9C;;ACAA,AAIO,qBAAoB,YAAyB,QAAiB;AAEjE,UAAM,aAAa,CAAE,QAAQ;AAE7B,eAAW,YAAY,KAAK;AAE5B,WAAO;;;;ACVX,AAGO,2BAA0B,YAAyB;AAEtD,eAAW,kBAAkB,KAAK;AAElC,WAAO;;;;ACPX,AAGO,uBAAqB,YAAyB;AAEjD,QAAI,CAAC;AAED,cAAQ,WAAW;;AAGvB,UAAM,UAAU,MAAM,OAAO,KAAK,YAAY,MAAM;AAEpD,QAAI;AAEA,YAAM,OAAO,cAAc;;;;;ACdnC,AAIO,iBAAgB,YAAyB;AAE5C,eAAW,kBAAkB;AAC7B,eAAW,eAAe,SAAS;AAEnC,gBAAW;;;;ACTf,AAIO,yBAAwB,YAAyB;AAEpD,QAAI,CAAC;AAED,cAAQ,WAAW;;AAIvB,QAAI,MAAM;AAEN,SAAG,OAAO,GAAG;AACb,SAAG,UAAU,MAAM,SAAS,MAAM;;AAIlC,SAAG,QAAQ,GAAG;;;;;ACnBtB,AAIO,uBAAsB,SAAkB,QAAgB;AAE3D,UAAM,UAAU,QAAQ;AAExB,YAAQ,SAAS;AAEjB,OAAG,cAAc,GAAG,WAAW;AAC/B,OAAG,YAAY,GAAG,YAAY,QAAQ;;;;ACX1C,AAIO,4BAA2B,YAAyB;AAEvD,QAAI,CAAC;AAED,eAAS,WAAW;;AAIxB,UAAM,cAAe,OAAO,UAAW,OAAO,cAAc;AAE5D,OAAG,WAAW,GAAG,sBAAsB;AAEvC,OAAG,WAAW,GAAG,cAAc,OAAO;;;;AChB1C,AAGO,2BAA0B;AAE7B,UAAM,QAAQ,WAAW;AAGzB,QAAI,MAAM,SAAS;AAEf,YAAM;;AAGV,eAAW,sBAAsB,MAAO,MAAM,SAAS;AAEvD,qBAAiB;;;;ACfrB,AAKO,2BAA0B,YAAyB;AAEtD,UAAM,QAAQ,gBAAgB,YAAY;AAE1C,qBAAiB,YAAY;AAE7B,eAAW,sBAAsB;;;;ACXrC,AAMO,uBAAsB,YAAyB;AAElD,oBAAgB,YAAY;AAG5B,eAAW,cAAc,OAAO,cAAc;AAE9C,UAAM,SAAS,MAAM,YAAY,OAAO;AAGxC,oBAAgB;AAEhB,WAAO;;;;AClBX,AAIO,iCAA+B,YAAyB,aAAqB;AAEhF,UAAM,SAAS,WAAW;AAG1B,QAAI,WAAW,QAAQ,cAAc,OAAO;AAExC,YAAM;;AAGV,UAAM,SAAU,OAAO,UAAW,WAAW,QAAQ,OAAO,mBAAmB,WAAW,QAAQ,OAAO;AAEzG,eAAW,SAAS;AAEpB,WAAO;MACH;MACA,KAAK,OAAO;MACZ,KAAK,OAAO;MACZ;;;;;ACtBR;;ACAA;;ACAA,AAGO,qBAAoB;AAEvB,UAAM,QAAQ,WAAW;AAGzB,QAAI,MAAM,SAAS;AAEf,YAAM;;AAGV,eAAW,gBAAgB,MAAO,MAAM,SAAS;AAEjD,gBAAW;;;;ACff;;ACAA;;ACAA,AAKO,qBAAoB,YAAyB,QAAiB;AAEjE,UAAM,QAAQ,UAAU,YAAY,QAAQ;AAE5C,gBAAW,YAAY;AAEvB,eAAW,gBAAgB;;;;ACX/B,AAOO,uBAAqB,YAAyB;AAEjD,UAAM,UAAU,QAAQ;AACxB,UAAM,uBAAuB,WAAW;AAExC,QAAI,QAAQ,eAAe,WAAW;AAElC,cAAQ,eAAe,WAAW;AAElC,UAAI,uBAAuB,WAAW;AAElC,gBAAQ,SAAS;AAEjB,WAAG,cAAc,GAAG,WAAW;AAC/B,WAAG,YAAY,GAAG,YAAY,QAAQ;AAEtC,mBAAW;;AAKX,cAAM;AAEN,mBAAW;AAEX,gBAAQ,eAAe,WAAW;AAElC,gBAAQ,SAAS;AAEjB,WAAG,cAAc,GAAG;AACpB,WAAG,YAAY,GAAG,YAAY,QAAQ;AAEtC,mBAAW,uBAAuB;;;AAI1C,WAAO,QAAQ;;;;AC3CnB,AAMO,iBAAgB;AAEnB,eAAW,kBAAkB,WAAW;AACxC,eAAW,eAAe,WAAW,WAAW;AAEhD,eAAW,QAAQ;AACnB,eAAW,aAAa;AAExB,oBAAgB,YAAY,OAAO,WAAW;AAC9C,kBAAc,YAAY,WAAW;AACrC,iBAAa,YAAY,WAAW;AACpC,qBAAiB,YAAY,WAAW;;;;ACjB5C,AAGO,yBAAwB,YAAyB,QAAgB;AAEpE,OAAG,cAAc,GAAG,WAAW;AAC/B,OAAG,YAAY,GAAG,YAAY,WAAW,aAAc;AAEvD,QAAI,QAAQ;AAER,iBAAW;;;;;ACVnB;;ACAA,AAEO,MAAI;AAEJ,QAAM,yBACb;IACI,KAAK;AAED,aAAO;;IAGX,KAAK,CAAC;AAEF,kBAAW;;;;;ACbnB;IAiCI;AAZA,wBAAa,CAAE,GAAG,GAAG,GAAG;AAMxB,+BAA6B;AAC7B,4BAA0B;AAC1B,wBAAsB;AAEtB,yBAAuB;AAInB,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,aAAa;AAElB,WAAK,mBAAmB;AAExB,YAAM,SAAS,SAAS,cAAc;AAEtC,aAAO,iBAAiB,oBAAoB,CAAC,UAAU,KAAK,cAAc,QAAQ;AAClF,aAAO,iBAAiB,wBAAwB,MAAM,KAAK,qBAAqB;AAEhF,WAAK,SAAS;AAEd,WAAK;AAGL,6BAAsB,IAAI;AAE1B,WAAK,aAAa,IAAI,YAAW;AAEjC,WAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,KAAK;;IAG9C;AAEI,YAAM,MAAK,KAAK,OAAO,WAAW,SAAS;AAE3C,UAAG,IAAI;AAEP,WAAK,KAAK;AAEV,UAAG,QAAQ,IAAG;AACd,UAAG,QAAQ,IAAG;;IAGlB,OAAQ,OAAe,QAAgB,aAAqB;AAExD,YAAM,YAAY,QAAQ;AAC1B,YAAM,aAAa,SAAS;AAE5B,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,aAAa;AAElB,YAAM,SAAS,KAAK;AAEpB,aAAO,QAAQ;AACf,aAAO,SAAS;AAEhB,UAAI,KAAK;AAEL,eAAO,MAAM,QAAQ,MAAM,aAAa;AACxC,eAAO,MAAM,SAAS,OAAO,aAAa;;AAG9C,WAAK,WAAW,OAAO,WAAW;;IAGtC,cAAe;AAEX,YAAM;AAEN,WAAK,cAAc;;IAGvB;AAEI,WAAK,cAAc;AAEnB,WAAK;;IAGT,mBAAoB;AAEhB,mBAAY,QAAO,KAAK;AAExB,aAAO;;IAIX;;IAKA,OAAQ;AAEJ,UAAI,KAAK;AAEL;;AAGJ,YAAM,MAAK,KAAK;AAChB,YAAM,aAAa,KAAK;AAMxB;AAGA,UAAI,KAAK,kBAAkB,WAAW,mBAAmB,KAAK,WAAW,oBAAoB;AAEzF;;AAGJ,UAAI,KAAK;AAEL,cAAM,MAAM,KAAK;AAEjB,YAAG,WAAW,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC1C,YAAG,MAAM,IAAG;;AAGhB,YAAM,SAAS,WAAW;AAE1B,YAAM;AAEN,eAAS,IAAY,GAAG,IAAI,OAAO,QAAQ;AAEvC,cAAM,CAAE,SAAU,OAAO;AAEzB,cAAM,SAAS;AAIf,cAAM,aAAa;;AAGvB,WAAI;;IAMR;AAEI,6BAAsB,IAAI;;;;;AC7KlC,AAGA;AAEI,WAAO;AAEH,mBAAY;;;;;ACPpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,oBAAmB,SAAsB;AAE5C,UAAM,SAAsB,YAAW;AAEvC,WAAO,YAAY;AAEnB,WAAO;;;;ACRX,AAAO,4BAA2B;AAE9B,UAAM,aAAa,SAAS;AAE5B,QAAI,eAAe,cAAc,eAAe;AAE5C;AAEA;;AAGJ,UAAM,QAAQ;AAEV,eAAS,oBAAoB,eAAe,OAAO;AACnD,eAAS,oBAAoB,oBAAoB,OAAO;AACxD,aAAO,oBAAoB,QAAQ,OAAO;AAE1C;;AAKJ,QAAI,CAAC,SAAS;AAEV,aAAO,WAAW,OAAO;eAEpB,OAAO,eAAe;AAE3B,eAAS,iBAAiB,eAAe,OAAO;;AAIhD,eAAS,iBAAiB,oBAAoB,OAAO;AACrD,aAAO,iBAAiB,QAAQ,OAAO;;;;;ACjC/C;;;;;AAiBO,oBAAmB;AAEtB,QAAI;AAEJ;AAEI,YAAM,SAAS,IAAI;AAEnB,YAAM,OAAO,gBAAgB,MAAM;AAEnC,UAAI,CAAC,OAAO,CAAC,IAAI,mBAAmB,IAAI,qBAAqB,eAAe;AAExE,eAAO;;AAIP,eAAO;;aAGR;AAEH,aAAO;;;;;ACtCf,AAAO,yBAAwB;AAE3B,QAAI,QAAQ;AAER,cAAQ,WAAW,YAAY;;;;;ACJvC;;;;;;;;;;ACAA,MAAI;AAEG,4BAA2B,MAAc;AAE5C,QAAI,CAAC;AAED,UAAI,CAAC;AAED,wBAAgB,SAAS,cAAc;;AAG3C,qBAAe;;AAGnB,WAAQ,gBAAgB,aAAa,YAAY,UAAU;;;;ACd/D,AAEO,sBAAqB;AAExB,WACI,iBAAiB,eAAe,iBAChC,iBAAiB,aAAa;;;;ACNtC,AAEO,sBAAqB;AAExB,WAAO,iBAAiB,4BAA4B;;;;ACJxD,AAEO,sBAAqB;AAExB,WAAO,iBAAiB,8BAA8B;;;;ACJ1D,AAEO,uBAAsB;AAEzB,WACI,iBAAiB,4BAA4B,iBAC7C,iBAAiB,6BAA6B;;;;ACNtD,AAEO,sBAAqB;AAExB,WAAO,iBAAiB,yBAAyB;;;;ACJrD,AAEO,uBAAsB;AAEzB,WAAO,iBAAiB,+BAA+B;;;;ACJ3D,AAAO;AAEH,WAAQ,UAAU,OAAO,eAAe;;;;ACF5C,AAAO;AAEH,WACI,UACC,QAAO,eAAe,mBAAmB,OAAO,eAAe;;;;ACJxE,AAUO;AAEH,UAAM,SAA6B;MAC/B,WAAW;MACX,KAAK;MACL,KAAK;MACL,KAAK;MACL,MAAM;MACN,KAAK;MACL,UAAU;MACV,MAAM;;AAGV,QAAI,OAAO;AAEP,aAAO,MAAM;AACb,aAAO,MAAM;AACb,aAAO,MAAM;AACb,aAAO,OAAO;AACd,aAAO,MAAM;AACb,aAAO,OAAO;;AAGlB,WAAO;;;;ACjCX;;;;;;;;;;;;;;;ACAA,AAAO;AAEH,UAAM,SAAU,gBAAiB,KAAK,UAAU;AAChD,UAAM,gBAAiB,SAAU,SAAS,OAAO,IAAI,MAAM;AAE3D,WAAO;MACH;MACA;;;;;ACPR,AAAO;AAEH,UAAM,OAAQ,YAAa,KAAK,UAAU;AAE1C,WAAO;MACH;;;;;ACLR,AAAO;AAEH,UAAM,UAAW,kBAAmB,KAAK,UAAU;AACnD,UAAM,iBAAkB,UAAW,SAAS,OAAO,IAAI,MAAM;AAE7D,WAAO;MACH;MACA;;;;;ACPR,AAAO;AAEH,UAAM,KAAM,mBAAoB,KAAK,UAAU;AAC/C,UAAM,YAAa,KAAM,SAAS,OAAO,IAAI,MAAM;AAEnD,WAAO;MACH;MACA;;;;;ACPR,AAQO;AAEH,UAAM,KAAa,UAAU;AAE7B,UAAM,SAAwB;MAC1B,KAAK;MACL,YAAY;MACZ,QAAQ;MACR,MAAM;;AAGV,QAAK,kBAAmB,KAAK;AAEzB,YAAM,QAAS,WAAY,KAAK,UAAU;AAE1C,aAAO,MAAM;AACb,aAAO,aAAa,SAAS,MAAM,IAAI;AACvC,aAAO,SAAU,GAAG,cAAc,SAAS;AAC3C,aAAO,OAAQ,GAAG,cAAc,SAAS;;AAG7C,WAAO;;;;AC7BX,AAEO;AAEH,UAAM,CAAE,OAAQ;AAEhB,UAAM,eAAgB,UAAU,UAAU,SAAS,kBAAkB;AAErE,WAAO;MACH;;;;;ACTR,AAAO;AAEH,UAAM,QAAQ,UAAU,UAAU,SAAS;AAE3C,WAAO;MACH;;;;;ACLR,AAAO;AAEH,UAAM,KAAa,UAAU;AAE7B,WAAS,iBAAkB,KAAK,OAAQ,YAAa,KAAK;;;;ACJ9D,AAEO;AAEH,UAAM,KAAa,UAAU;AAE7B,UAAM,SAAU,GAAG,SAAS,aAAa,CAAC;AAC1C,UAAM,gBAAkB,mBAAoB,KAAK,MAAO,SAAS,OAAO,IAAI,MAAM;AAElF,WAAO;MACH;MACA;;;;;ACXR,AAAO;AAEH,UAAM,OAAO,UAAU,UAAU,SAAS;AAE1C,WAAO;MACH;;;;;ACLR,AAAO;AAEH,UAAM,UAAW,uCAAwC,KAAK,UAAU;AACxE,UAAM,iBAAkB,UAAW,SAAS,OAAO,IAAI,MAAM;AAC7D,UAAM,mBAAoB,UAAW,SAAS,OAAO,IAAI,MAAM;AAE/D,WAAO;MACH;MACA;MACA;;;;;ACTR,AAWO;AAEH,UAAM,CAAE,QAAQ,iBAAkB;AAClC,UAAM,CAAE,QAAS;AACjB,UAAM,CAAE,SAAS,kBAAmB;AACpC,QAAI,CAAE,IAAI,aAAc;AACxB,UAAM,CAAE,gBAAiB;AACzB,UAAM,CAAE,SAAU;AAClB,UAAM,CAAE,QAAQ,iBAAkB;AAClC,UAAM,CAAE,QAAS;AACjB,UAAM,CAAE,SAAS,gBAAgB,oBAAqB;AAEtD,QAAI;AAEA,WAAK;AACL,kBAAY;;AAGhB,UAAM,SAA+B;MACjC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;AAGJ,WAAO;;;;AC9CX;;;;;;;;;;;;;;;ACAA,AAAO;AAEH,WAAQ,UAAU,UAAU,SAAS;;;;ACFzC,AAAO;AAEH,WAAQ,UAAU,UAAU,SAAS;;;;ACFzC,AAAO;AAEH,WAAQ,OAAO,eAAe;;;;ACFlC,AAAO;AAEH,WAAQ,UAAU,UAAU,SAAS;;;;ACFzC,AAAO;AAEH,WAAQ,OAAO,eAAe;;;;ACFlC,AAAO;AAIH,UAAM,KAAa,UAAU;AAE7B,WAAS,GAAG,SAAS,aAAc,kBAAmB,KAAK,OAAQ,sBAAuB,KAAK;;;;ACNnG,AAAO;AAEH,WAAQ,UAAU,UAAU,SAAS;;;;ACFzC,AAAO;AAEH,UAAM,KAAa,UAAU;AAE7B,WAAQ,GAAG,SAAS,aAAa,CAAE,GAAG,SAAS;;;;ACJnD,AAAO;AAEH,WAAQ,OAAO,YAAY,eAAe,OAAO,QAAQ,aAAa,YAAY,QAAQ,SAAS,eAAe;;;;ACFtH,AAEO;AAGH,WAAQ,aAAY,CAAC,CAAE,QAAQ,SAAiC,eAAe;;;;ACLnF,AAAO;AAEH,WAAQ,UAAU,eAAe;;;;ACFrC,AAAO;AAEH,WAAQ,UAAU,UAAU,SAAS;;;;ACFzC,AAgBO;AAEH,UAAM,KAAa,UAAU;AAE7B,UAAM,CAAE,KAAK,YAAY,MAAM,UAAW;AAE1C,UAAM,SAA0B;MAC5B,SAAS;MACT,UAAU;MACV,SAAS;MACT,WAAW;MACX,SAAS;MACT,QAAQ;MACR;MACA;MACA;MACA;MACA,QAAQ;MACR,OAAO;MACP,OAAO;MACP,MAAM;MACN,YAAY;MACZ,YAAY;MACZ,QAAQ;MACR,SAAS;MACT,cAAc;;AAGlB,QAAI,OAAO;AAEP,aAAO,UAAU;AACjB,aAAO,MAAM;AACb,aAAO,QAAQ;AACf,aAAO,UAAU;;AAGrB,UAAM,OAAgB,GAAG,SAAS;AAElC,QAAI,OAAO,WAAW,OAAO,SAAU,OAAO,SAAS,CAAC,QAAS,OAAO;AAEpE,aAAO,UAAU;;AAIrB,QAAI,OAAO,gBAAmB,cAAe,KAAK,OAAU,SAAU,KAAK;AAEvE,aAAO,UAAU;;AAGrB,WAAO;;;;ACjEX;;;;;;;;;;;;;;;;;;;;ACAA,MAAI;AAEG,6BAA2B,MAAc;AAE5C,QAAI,CAAC;AAED,UAAI,CAAC;AAED,wBAAgB,SAAS,cAAc;;AAG3C,qBAAe;;AAGnB,WAAQ,gBAAgB,aAAa,YAAY,UAAU;;;;ACd/D,AAEO,4BAA2B;AAE9B,WAAO,kBAAiB,mCAAmC;;;;ACJ/D,AAEO,2BAA0B;AAE7B,WAAO,kBAAiB,+CAA+C;;;;ACJ3E,AAEO,2BAA0B;AAE7B,WAAO,kBAAiB,8BAA8B;;;;ACJ1D,AAEO,2BAA0B;AAE7B,WAAO,kBAAiB,4BAA4B;;;;ACJxD,AAEO,4BAA2B;AAE9B,WAAO,kBAAiB,oCAAoC;;;;ACJhE,AAOO;AAEH,WAAO;MACH,WAAW;MACX,UAAU;MACV,UAAU;MACV,UAAU;MACV,WAAW;;;;;ACdnB;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAKO,4BAA2B;AAE9B,UAAM,QAAuB,CAAE;AAC/B,UAAM,SAAwB;AAE9B,WAAO,MAAM,SAAS;AAElB,YAAM,OAAO,MAAM;AAEnB,aAAO,KAAK;AAEZ,YAAM,cAAc,KAAK;AAEzB,UAAI,cAAc;AAEd,iBAAS,IAAI,cAAc,GAAG,KAAK,GAAG;AAElC,gBAAM,QAAQ,KAAK,SAAS;;;;AAMxC,WAAO;AAEP,WAAO;;;;AC9BX,AAEO,0BAAwB,SAAqB;AAEhD,WAAO,QAAO,SAAS,QAAQ;;;;ACJnC,AAEO,0BAAwB,SAAqB;AAEhD,UAAM,WAAW,QAAO;AACxB,QAAI;AAEJ,QAAI,SAAS,KAAK,QAAQ,SAAS;AAE/B,YAAM,UAAU,SAAS,OAAO,OAAO;AAEvC,UAAI,QAAQ;AAER,gBAAQ,QAAQ;AAChB,cAAM,SAAS;;;AAIvB,WAAO;;;;AClBX,AAIO,uBAA8C,SAAqB;AAEtE,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,eAAe;AAEf,qBAAc,SAAQ;;AAG1B,WAAO;;;;ACbX,AAGO,QAAM,oBAA4B;;;ACHzC,AAEO,QAAM,eAAuB;;;ACFpC,AAEO,QAAM,kBAA0B;;;ACFvC,AAGO,QAAM,wBAAgC;;;ACH7C,AAEO,QAAM,cAAsB;;;ACFnC;;ACAA,AAEO,gBAAe,SAAwB,UAAkB;AAE5D,QAAI,QAAQ,OAAO,SAAS,KAAK,CAAC,QAAQ,OAAO,IAAI;AAEjD,aAAO;;AAGX,UAAM,YAAY,QAAQ,OAAO,IAAI;AAErC,eAAW,MAAM;AAEb,SAAG,SAAS,MAAM,GAAG,SAAS;AAE9B,UAAI,GAAG;AAEH,kBAAU,OAAO;;;AAIzB,QAAI,UAAU,SAAS;AAEnB,cAAQ,OAAO,OAAO;;AAG1B,WAAO;;;;AC1BX,AAMO,qBAAmB,UAAsB;AAE5C,aAAS,QAAQ;AAEb,UAAI,MAAM;AAEN,aAAK,MAAM,OAAO,uBAAuB,OAAO,MAAM;AACtD,aAAK,OAAO,uBAAuB,OAAO,MAAM;;AAGpD,YAAM,QAAQ;AAEd,WAAK,OAAO,mBAAmB,OAAO;AACtC,WAAK,OAAO,mBAAmB,OAAO;;AAG1C,WAAO;;;;ACtBX,AAKO,sBAAoB,YAAwB;AAE/C,aAAS,QAAQ;AAEb,UAAI,MAAM;AAEN,oBAAY,MAAM,QAAQ;;AAG9B,YAAM,SAAS;;AAGnB,UAAM,cAAc,QAAO;AAE3B,QAAI;AAGA,gBAAS,aAAa,GAAG,iBAAiB;;AAG9C,WAAO;;;;ACzBX,AAGO,oBAA2C,SAAqB;AAEnE,YAAO,SAAS,KAAK;AAErB,eAAU,SAAQ;AAElB,UAAM,UAAU;AAEhB,WAAO;;;;ACXX,AAGO,sBAA6C,SAAqB,OAAe;AAEpF,UAAM,WAAW,QAAO;AAExB,QAAI,SAAS,KAAK,SAAS,SAAS;AAEhC,iBAAU,SAAQ;AAElB,eAAS,OAAO,OAAO,GAAG;AAE1B,YAAM,UAAU;;AAGpB,WAAO;;;;AChBX,AAGO,uBAAsB,YAAwB;AAEjD,aAAS,QAAQ;AAEb,eAAS,SAAQ;;AAGrB,WAAO;;;;ACVX,AAGO,yBAAwB,SAAqB,UAAkB;AAElE,UAAM,iBAAiB,QAAO;AAE9B,QAAI,SAAS,KAAK,SAAS,eAAe;AAEtC,eAAS,UAAU,QAAQ;AAEvB,iBAAS,OAAO,OAAO,GAAG;AAE1B,mBAAU,SAAQ;AAElB,cAAM,UAAU;;;AAIxB,WAAO;;;;ACnBX,AAEO,uBAAsB,GAAW,MAAc;AAElD,aAAS,QAAQ;AAEb,YAAM,KAAK;AACX,YAAM,KAAK;;AAGf,WAAO;;;;ACVX,AAEO,uBAAsB,aAAqB;AAE9C,aAAS,QAAQ;AAEb,YAAM,YAAY;;AAGtB,WAAO;;;;ACTX,AAEO,oBAAmB,QAAgB,WAAmB;AAEzD,aAAS,QAAQ;AAEb,YAAM,UAAU;AAChB,YAAM,UAAU;;AAGpB,WAAO;;;;ACVX,AAEO,mBAAkB,OAAe,UAAkB;AAEtD,aAAS,QAAQ;AAEb,YAAM,SAAS;AACf,YAAM,SAAS;;AAGnB,WAAO;;;;ACVX,AAAO,QAAM,eAAc;IAEvB,OAAO;IACP,WAAW;IACX,QAAQ;IACR,aAAa;IACb,aAAa;IACb,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,OAAO;IACP,OAAO;IACP,OAAO;IAGP,SAAS,IAAI,IAAI,KAAK;IAwBtB,OAAO;IACP,OAAO;IACP,OAAO;IACP,OAAO;;;;AC1CX,AAIO,2BAAkD,SAAqB;AAE1E,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,iBAAiB,MAAM,eAAe,eAAe;AAErD,qBAAe,OAAO,cAAc;AACpC,qBAAe,KAAK;AAEpB,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AClBX,AAMO,4CAA0C,SAAqB,SAAwB;AAE1F,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,OAAO,QAAO,SAAS;AAE7B,YAAM,WAA0B;AAEhC,aAAO,KAAK,CAAE,MAAM;AAEpB,UAAI,KAAK,cAAc;AAEnB,yCAAgC,MAAM;;;AAI9C,WAAO;;;;ACtBX,AAIA,oBAAkB;AAEd,UAAM,SAAU,MAAM,cAAc,IAAK,WAAY;AAErD,WAAO,GAAG,iBAAiB,MAAM,cAAc,MAAM;;AAGzD,wBAAsB;AAElB,YAAQ,MAAM,SAAQ,MAAM;AAE5B,UAAM,SAAS,QAAQ;AAEnB,UAAI,MAAM,SAAS,SAAS;AAExB,qBAAY;;AAIZ,gBAAQ,IAAI,SAAQ,MAAM;;;AAIlC,YAAQ;;AAGL,+BAA8B;AAEjC,UAAM,UAAU,iCAAgC;AAEhD,QAAI,QAAO,UAAU;AAEjB,cAAQ,MAAM;;AAId,cAAQ,MAAM,SAAQ;;AAG1B,YAAQ,QAAQ;AAEZ,UAAI,MAAM,SAAS;AAEf,qBAAY;;AAIZ,gBAAQ,IAAI,SAAQ,MAAM;;;AAIlC,YAAQ;;;;ACvDZ,AAEO,iCAAgC,SAAqB,UAA2B;AAEnF,UAAM,WAAW,QAAO;AAExB,QAAI,QAAQ;AAEZ,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D;;;AAIR,WAAO;;;;AClBX,AAKO,qCAAoC,SAAqB,SAAwB;AAEpF,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,QAAQ,QAAO,SAAS;AAE9B,aAAO,KAAK;AAEZ,UAAI,MAAM,cAAc;AAEpB,kCAA0B,OAAO;;;AAIzC,WAAO;;;;ACnBX,AAEO,kCAAgC,SAAqB,aAAqB,GAAG;AAEhF,UAAM,WAAW,QAAO;AAExB,QAAI,aAAa;AAEb,iBAAW,SAAS;;AAGxB,UAAM,QAAQ,WAAW;AAEzB,QAAI,QAAQ,KAAK,SAAS;AAEtB,YAAM,UAAU,SAAS,OAAO,YAAY;AAE5C,cAAQ,QAAQ;AAEZ,cAAM,SAAS;;AAGnB,aAAO;;AAIP,aAAO;;;;;AC1Bf,AAGO,2BAA0B,SAAqB,aAAqB,GAAG;AAE1E,UAAM,UAAU,uBAAsB,SAAQ,YAAY;AAE1D,YAAQ,QAAQ;AAEZ,YAAM;;;;;ACTd,AAGO,2BAA0B,SAAqB;AAElD,UAAM,WAAW,iBAAiB;AAClC,UAAM,QAAQ,OAAO;AAErB,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,YAAM,QAAQ,SAAS;AAEvB,UAAI,MAAM,KAAK,MAAM;AAEjB,eAAO;;;;;;ACdnB,AAGO,8BAA6B,SAAqB;AAErD,UAAM,WAAW,iBAAiB;AAClC,UAAM,QAAQ,OAAO;AAErB,UAAM,UAAyB;AAE/B,aAAS,QAAQ;AAEb,UAAI,MAAM,KAAK,MAAM;AAEjB,gBAAQ,KAAK;;;AAIrB,WAAO;;;;AClBX,AAGO,0BAAyB,SAAqB,UAA4B;AAE7E,UAAM,WAAW,iBAAiB;AAGlC,QAAI,CAAC;AAED,aAAO;;AAGX,UAAM,UAAyB;AAE/B,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACzBX,AAEO,sBAAqB,SAAqB;AAE7C,UAAM,WAAW,QAAO;AAExB,QAAI,QAAQ,KAAK,QAAQ,SAAS;AAE9B,YAAM,IAAI,MAAM,wBAAwB;;AAG5C,WAAO,SAAS;;;;ACXpB,AAgBO,uBAAsB,SAAqB,UAA4B;AAE1E,UAAM,WAAW,QAAO;AAGxB,QAAI,CAAC;AAED,aAAO,CAAE,GAAG;;AAGhB,UAAM,UAAyB;AAE/B,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACtCX,AAIO,2BAA0B,SAAqB;AAElD,UAAM,WAAW,QAAO;AAExB,QAAI,UAAuB;AAC3B,QAAI,WAAmB;AAEvB,aAAS,QAAQ;AAEb,YAAM,gBAAgB,UAAS,OAAO,MAAM,UAAU;AAEtD,UAAI,CAAC,WAAW,gBAAgB;AAE5B,kBAAU;AACV,mBAAW;;;AAKnB,WAAO;;;;ACvBX,AAEO,yBAAwB,SAAqB,UAA2B;AAE3E,UAAM,WAAW,QAAO;AAExB,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,YAAM,QAAQ,SAAS;AAEvB,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,eAAO;;;;;;ACdnB,AAIO,4BAA2B,SAAqB;AAEnD,UAAM,WAAW,QAAO;AAExB,QAAI,WAAwB;AAC5B,QAAI,WAAmB;AAEvB,aAAS,QAAQ;AAEb,YAAM,gBAAgB,UAAS,OAAO,MAAM,UAAU;AAEtD,UAAI,CAAC,YAAY,gBAAgB;AAE7B,mBAAW;AACX,mBAAW;;;AAKnB,WAAO;;;;ACvBX,AAEO,wBAAuB,SAAqB,UAA2B;AAE1E,UAAM,WAAW,QAAO;AAExB,aAAS,IAAI,SAAS,SAAS,GAAG,KAAK,GAAG;AAEtC,YAAM,QAAQ,SAAS;AAEvB,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,eAAO;;;;;;ACdnB,AAEO,sBAAqB;AAExB,UAAM,UAAyB;AAE/B,WAAO,MAAM;AAET,cAAQ,KAAK,MAAM;AAEnB,cAAQ,MAAM;;AAGlB,WAAO;;;;ACbX,AAEO,0BAAyB,SAAqB,aAAqB,GAAG;AAEzE,UAAM,WAAW,QAAO;AAExB,QAAI,CAAC;AAED,eAAS,SAAS;;AAGtB,UAAM,cAAc,aAAa,KAAK,MAAM,KAAK,WAAW;AAE5D,WAAO,SAAS;;;;ACbpB,AAIO,yBAAgD,SAAqB;AAExE,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,eAAe;AAEf,YAAM,SAAS,eAAe,eAAe;AAC7C,YAAM,SAAS,eAAe,QAAQ;AAEtC,qBAAe,gBAAgB;AAC/B,qBAAe,UAAU;AAEzB,YAAM,SAAS,aAAY;AAC3B,aAAO,SAAS,aAAY;;AAGhC,WAAO;;;;ACtBX,AAIO,uBAA8C,SAAqB,OAAU;AAEhF,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,iBAAiB,MAAM,QAAQ,KAAK,SAAS,eAAe;AAE5D,YAAM,IAAI,MAAM;;AAGpB,QAAI,iBAAiB;AAGjB,qBAAe,OAAO,cAAc;AAGpC,qBAAe,OAAO,OAAO,GAAG;AAEhC,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AC1BX,AAIO,uBAA8C,SAAqB;AAEtE,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,iBAAiB,MAAM,eAAe;AAGtC,YAAM,SAAS,eAAe,eAAe;AAC7C,YAAM,SAAS,eAAe,QAAQ;AAEtC,qBAAe,gBAAgB;AAC/B,qBAAe,UAAU;AAEzB,YAAM,SAAS,aAAY;AAC3B,aAAO,SAAS,aAAY;;AAGhC,WAAO;;;;ACvBX,AAEO,iCAA+B,OAAmB;AAErD,QAAI,MAAM,SAAS,KAAK,MAAM,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,UAAU;AAE7E,aAAO;;AAGX,WAAO,CAAE,OAAM,QAAQ,MAAM,KAAK,MAAM,SAAS,MAAM,KAAK,MAAM,IAAI,MAAM,SAAS,MAAM,IAAI,MAAM;;;;ACTzG,AAKO,mBAAkB,WAAwB;AAE7C,UAAM,eAAe,OAAO,OAAO;AAEnC,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ;AAEhC,YAAM,SAAS,QAAQ;AACvB,YAAM,eAAe,OAAO,OAAO;AAEnC,UAAI,sBAAqB,cAAc;AAEnC,eAAO;;;AAIf,WAAO;;;;ACpBX,AAGO,0BAAyB,YAAwB;AAEpD,aAAS,QAAQ;AAEb,kBAAY,SAAQ;;AAGxB,WAAO;;;;ACVX,AAGO,4BAA2B,YAAwB;AAEtD,UAAM,UAAyB;AAG/B,UAAM,KAAK,CAAC,GAAG,MAAM,IAAI;AAGzB,UAAM,UAAU,QAAQ;AAEpB,YAAM,QAAQ,eAAc,SAAQ;AAEpC,UAAI;AAEA,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACrBX,AAIO,4BAA2B,SAAqB,WAAwB,aAAqB,GAAG;AAEnG,UAAM,QAAQ,uBAAsB,SAAQ,YAAY;AAExD,eAAU,WAAW,GAAG;AAExB,UAAM,QAAQ;AAEV,YAAM,UAAU;;AAGpB,WAAO;;;;ACfX,AAGO,8BAA6B,SAAqB,QAAgB;AAErE,UAAM,iBAAiB,QAAO;AAE9B,QAAI,QAAQ;AAEZ,aAAS,IAAY,GAAG,IAAI,OAAO;AAE/B,cAAQ,eAAe;AAEvB,qBAAe,KAAK;AAEpB,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AClBX,AAGO,+BAA8B,SAAqB,QAAgB;AAEtE,UAAM,iBAAiB,QAAO;AAE9B,QAAI,QAAQ;AAEZ,aAAS,IAAY,GAAG,IAAI,OAAO;AAE/B,cAAQ,eAAe;AAEvB,qBAAe,QAAQ;AAEvB,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AClBX,AAIO,2BAAkD,SAAqB;AAE1E,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,eAAc,SAAQ;AAE3C,QAAI,iBAAiB,MAAM,eAAe;AAEtC,qBAAe,OAAO,cAAc;AACpC,qBAAe,QAAQ;AAEvB,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AClBX,AAEO,qBAAoB,GAAW,GAAW,OAAe,WAAmB;AAE/E,aAAS,QAAQ;AAEb,YAAM,OAAO,IAAI,GAAG,GAAG,OAAO;;AAGlC,WAAO;;;;ACTX,AAGO,4BAA2B,SAAqB,UAA2B;AAE9E,UAAM,WAAW,iBAAiB;AAElC,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI;AAEA,mBAAW,IAAI;;;AAIvB,WAAO;;;;ACjBX,AAEO,mBAAkB,SAAiB;AAEtC,aAAS,QAAQ;AAEb,YAAM,OAAO;;AAGjB,WAAO;;;;ACTX,AAEO,qBAAoB,UAAiB,aAAoB;AAE5D,aAAS,QAAQ;AAEb,YAAM,UAAU,UAAS;;AAG7B,WAAO;;;;ACTX,AAEO,uBAAsB,GAAW,MAAc;AAElD,aAAS,QAAQ;AAEb,YAAM,YAAY,GAAG;;AAGzB,WAAO;;;;ACTX,AAEO,uBAAsB,aAAqB;AAE9C,aAAS,QAAQ;AAEb,YAAM,WAAW;;AAGrB,WAAO;;;;ACTX,AAEO,oBAAmB,QAAgB,WAAmB;AAEzD,aAAS,QAAQ;AAEb,YAAM,SAAS,QAAQ;;AAG3B,WAAO;;;;ACTX,AAEO,mBAAkB,OAAe,WAAmB;AAEvD,aAAS,QAAQ;AAEb,YAAM,QAAQ,OAAO;;AAGzB,WAAO;;;;ACTX,AAEO,mBAAkB,OAAe,UAAkB;AAEtD,aAAS,QAAQ;AAEb,YAAM,QAAQ,OAAO;;AAGzB,WAAO;;;;ACTX,AAEO,mBAAkB,SAAiB;AAEtC,aAAS,QAAQ;AAEb,YAAM,OAAO;;AAGjB,WAAO;;;;ACTX,AAEO,oBAAmB,UAA2B,UAAiB;AAElE,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI;AAEA,mBAAW,IAAI;;;AAIvB,WAAO;;;;ACdX,AAEO,sBAAqB,YAAqB;AAE7C,aAAS,QAAQ;AAEb,YAAM,UAAU;;AAGpB,WAAO;;;;ACTX,AAGO,2BAA0B;AAE7B,UAAM,WAAW,QAAO;AAExB,aAAS,IAAI,SAAS,SAAS,GAAG,IAAI,GAAG;AAErC,YAAM,IAAI,KAAK,MAAM,KAAK,WAAY,KAAI;AAC1C,YAAM,OAAO,SAAS;AAEtB,eAAS,KAAK,SAAS;AACvB,eAAS,KAAK;AAEd,WAAK,SAAS,aAAY;;AAG9B,WAAO;;;;AClBX,AAGO,wBAAuB,QAAqB;AAE/C,QAAI,OAAO,WAAW,OAAO;AAEzB,YAAM,WAAW,OAAO,OAAO;AAE/B,YAAM,SAAS,eAAc,OAAO,QAAQ;AAC5C,YAAM,SAAS,eAAc,OAAO,QAAQ;AAE5C,UAAI,WAAW;AAEX,iBAAS,UAAU;AACnB,iBAAS,UAAU;;;;;;ACf/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAKO,8BAA6B;AAEhC,UAAM,QAAyB,CAAE;AACjC,UAAM,SAA0B;AAEhC,WAAO,MAAM,SAAS;AAElB,YAAM,OAAO,MAAM;AAEnB,aAAO,KAAK;AAEZ,YAAM,cAAc,KAAK;AAEzB,UAAI,cAAc;AAEd,iBAAS,IAAI,cAAc,GAAG,KAAK,GAAG;AAElC,gBAAM,QAAQ,KAAK,SAAS;;;;AAMxC,WAAO;AAEP,WAAO;;;;AC9BX,AAEO,2BAA0B,SAAuB;AAEpD,WAAO,QAAO,SAAS,QAAQ;;;;ACJnC,AAEO,4BAA0B,SAAuB;AAEpD,UAAM,WAAW,QAAO;AACxB,QAAI;AAEJ,QAAI,SAAS,KAAK,QAAQ,SAAS;AAE/B,YAAM,UAAU,SAAS,OAAO,OAAO;AAEvC,UAAI,QAAQ;AAER,gBAAQ,QAAQ;AAChB,cAAM,SAAS;;;AAIvB,WAAO;;;;AClBX,AAIO,yBAAkD,SAAuB;AAE5E,UAAM,eAAe,gBAAgB,SAAQ;AAE7C,QAAI,eAAe;AAEf,uBAAgB,SAAQ;;AAG5B,WAAO;;;;ACbX,AAMO,uBAAqB,UAAwB;AAEhD,aAAS,QAAQ;AAEb,UAAI,MAAM;AAEN,aAAK,MAAM,OAAO,uBAAuB,OAAO,MAAM;AACtD,aAAK,OAAO,uBAAuB,OAAO,MAAM;;AAGpD,YAAM,QAAQ;AAEd,WAAK,OAAO,mBAAmB,OAAO;AACtC,WAAK,OAAO,mBAAmB,OAAO;;AAG1C,WAAO;;;;ACtBX,AAKO,wBAAsB,YAA0B;AAEnD,aAAS,QAAQ;AAEb,UAAI,MAAM;AAEN,sBAAc,MAAM,QAAQ;;AAGhC,YAAM,SAAS;;AAGnB,UAAM,cAAc,QAAO;AAE3B,QAAI;AAGA,kBAAW,aAAa,GAAG,mBAAmB;;AAGlD,WAAO;;;;ACzBX,AAGO,sBAA+C,SAAuB;AAEzE,YAAO,SAAS,KAAK;AAErB,iBAAY,SAAQ;AAIpB,WAAO;;;;ACXX,AAGO,wBAAiD,SAAuB,OAAe;AAE1F,UAAM,WAAW,QAAO;AAExB,QAAI,SAAS,KAAK,SAAS,SAAS;AAEhC,mBAAY,SAAQ;AAEpB,eAAS,OAAO,OAAO,GAAG;;AAK9B,WAAO;;;;AChBX,AAGO,yBAAwB,YAA0B;AAErD,aAAS,QAAQ;AAEb,iBAAW,SAAQ;;AAGvB,WAAO;;;;ACVX,AAGO,2BAA0B,SAAuB,UAAkB;AAEtE,UAAM,iBAAiB,QAAO;AAE9B,QAAI,SAAS,KAAK,SAAS,eAAe;AAEtC,eAAS,UAAU,QAAQ;AAEvB,iBAAS,OAAO,OAAO,GAAG;AAE1B,qBAAY,SAAQ;;;AAM5B,WAAO;;;;ACnBX,AAMO,8CAA4C,SAAuB,SAA0B;AAEhG,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,OAAO,QAAO,SAAS;AAE7B,YAAM,WAA4B;AAElC,aAAO,KAAK,CAAE,MAAM;AAEpB,UAAI,KAAK,cAAc;AAEnB,2CAAkC,MAAM;;;AAIhD,WAAO;;;;ACtBX,AAIA,mBAAkB;AAEd,UAAM,SAAU,MAAM,cAAc,IAAK,WAAY;AAErD,WAAO,GAAG,iBAAiB,MAAM,cAAc,MAAM;;AAGzD,uBAAsB;AAElB,YAAQ,MAAM,QAAQ,MAAM;AAE5B,UAAM,SAAS,QAAQ;AAEnB,UAAI,MAAM,SAAS,SAAS;AAExB,oBAAY;;AAIZ,gBAAQ,IAAI,QAAQ,MAAM;;;AAIlC,YAAQ;;AAGL,iCAAgC;AAEnC,UAAM,UAAU,mCAAkC;AAElD,QAAI,QAAO,UAAU;AAEjB,cAAQ,MAAM;;AAId,cAAQ,MAAM,QAAQ;;AAG1B,YAAQ,QAAQ;AAEZ,UAAI,MAAM,SAAS;AAEf,oBAAY;;AAIZ,gBAAQ,IAAI,QAAQ,MAAM;;;AAIlC,YAAQ;;;;ACvDZ,AAEO,mCAAkC,SAAuB,UAA2B;AAEvF,UAAM,WAAW,QAAO;AAExB,QAAI,QAAQ;AAEZ,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D;;;AAIR,WAAO;;;;AClBX,AAKO,uCAAsC,SAAuB,SAA0B;AAE1F,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,QAAQ,QAAO,SAAS;AAE9B,aAAO,KAAK;AAEZ,UAAI,MAAM,cAAc;AAEpB,oCAA4B,OAAO;;;AAI3C,WAAO;;;;ACnBX,AAEO,oCAAkC,SAAuB,aAAqB,GAAG;AAEpF,UAAM,WAAW,QAAO;AAExB,QAAI,aAAa;AAEb,iBAAW,SAAS;;AAGxB,UAAM,QAAQ,WAAW;AAEzB,QAAI,QAAQ,KAAK,SAAS;AAEtB,YAAM,UAAU,SAAS,OAAO,YAAY;AAE5C,cAAQ,QAAQ;AAEZ,cAAM,SAAS;;AAGnB,aAAO;;AAIP,aAAO;;;;;AC1Bf,AAGO,6BAA4B,SAAuB,aAAqB,GAAG;AAE9E,UAAM,UAAU,yBAAwB,SAAQ,YAAY;AAE5D,YAAQ,QAAQ;AAEZ,YAAM;;;;;ACTd,AAGO,6BAA4B,SAAuB;AAEtD,UAAM,WAAW,mBAAmB;AACpC,UAAM,QAAQ,OAAO;AAErB,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,YAAM,QAAQ,SAAS;AAEvB,UAAI,MAAM,KAAK,MAAM;AAEjB,eAAO;;;;;;ACdnB,AAGO,gCAA+B,SAAuB;AAEzD,UAAM,WAAW,mBAAmB;AACpC,UAAM,QAAQ,OAAO;AAErB,UAAM,UAA2B;AAEjC,aAAS,QAAQ;AAEb,UAAI,MAAM,KAAK,MAAM;AAEjB,gBAAQ,KAAK;;;AAIrB,WAAO;;;;AClBX,AAGO,4BAA2B,SAAuB,UAA4B;AAEjF,UAAM,WAAW,mBAAmB;AAGpC,QAAI,CAAC;AAED,aAAO;;AAGX,UAAM,UAA2B;AAEjC,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACzBX,AAEO,wBAAuB,SAAuB;AAEjD,UAAM,WAAW,QAAO;AAExB,QAAI,QAAQ,KAAK,QAAQ,SAAS;AAE9B,YAAM,IAAI,MAAM,wBAAwB;;AAG5C,WAAO,SAAS;;;;ACXpB,AAgBO,yBAAwB,SAAuB,UAA4B;AAE9E,UAAM,WAAW,QAAO;AAGxB,QAAI,CAAC;AAED,aAAO,CAAE,GAAG;;AAGhB,UAAM,UAA2B;AAEjC,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACtCX,AAEO,2BAA0B,SAAuB,UAA2B;AAE/E,UAAM,WAAW,QAAO;AAExB,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,YAAM,QAAQ,SAAS;AAEvB,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,eAAO;;;;;;ACdnB,AAEO,0BAAyB,SAAuB,UAA2B;AAE9E,UAAM,WAAW,QAAO;AAExB,aAAS,IAAI,SAAS,SAAS,GAAG,KAAK,GAAG;AAEtC,YAAM,QAAQ,SAAS;AAEvB,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI,cAAe,WAAU,UAAa,UAAU,WAAW;AAE3D,eAAO;;;;;;ACdnB,AAEO,wBAAuB;AAE1B,UAAM,UAA2B;AAEjC,WAAO,MAAM;AAET,cAAQ,KAAK,MAAM;AAEnB,cAAQ,MAAM;;AAGlB,WAAO;;;;ACbX,AAEO,4BAA2B,SAAuB,aAAqB,GAAG;AAE7E,UAAM,WAAW,QAAO;AAExB,QAAI,CAAC;AAED,eAAS,SAAS;;AAGtB,UAAM,cAAc,aAAa,KAAK,MAAM,KAAK,WAAW;AAE5D,WAAO,SAAS;;;;ACbpB,AAIO,yBAAkD,SAAuB,OAAU;AAEtF,UAAM,iBAAiB,QAAO;AAE9B,UAAM,eAAe,gBAAgB,SAAQ;AAE7C,QAAI,iBAAiB,MAAM,QAAQ,KAAK,SAAS,eAAe;AAE5D,YAAM,IAAI,MAAM;;AAGpB,QAAI,iBAAiB;AAGjB,qBAAe,OAAO,cAAc;AAGpC,qBAAe,OAAO,OAAO,GAAG;AAEhC,YAAM,SAAS,aAAY;;AAG/B,WAAO;;;;AC1BX,AAGO,4BAA2B,YAA0B;AAExD,aAAS,QAAQ;AAEb,oBAAc,SAAQ;;AAG1B,WAAO;;;;ACVX,AAGO,8BAA6B,YAA0B;AAE1D,UAAM,UAA2B;AAGjC,UAAM,KAAK,CAAC,GAAG,MAAM,IAAI;AAGzB,UAAM,UAAU,QAAQ;AAEpB,YAAM,QAAQ,iBAAgB,SAAQ;AAEtC,UAAI;AAEA,gBAAQ,KAAK;;;AAIrB,WAAO;;;;ACrBX,AAIO,8BAA6B,SAAuB,WAA0B,aAAqB,GAAG;AAEzG,UAAM,QAAQ,yBAAwB,SAAQ,YAAY;AAE1D,iBAAY,WAAW,GAAG;AAE1B,UAAM,QAAQ;;AAKd,WAAO;;;;ACfX,AAaO,0BAAyB,QAAuB;AAEnD,UAAM,eAAe,OAAO;AAC5B,UAAM,eAAe,OAAO;AAC5B,UAAM,cAAc,gBAAgB,cAAc;AAElD,QAAI,iBAAiB;AAGjB,oBAAc,cAAc,QAAQ;AACpC,oBAAc,cAAc;;AAK5B,oBAAc,cAAc;AAC5B,oBAAc,cAAc;AAE5B,mBAAa,cAAc,aAAa;;AAG5C,WAAO;;;;AClCX,AAGO,8BAA6B,SAAuB,UAA2B;AAElF,UAAM,WAAW,mBAAmB;AAEpC,aAAS,QAAQ;AAEb,YAAM,aAAa,OAAO,yBAAyB,OAAO;AAE1D,UAAI;AAEA,mBAAW,IAAI;;;AAIvB,WAAO;;;;ACjBX,AAGO,0BAAyB,QAAuB;AAEnD,QAAI,OAAO,WAAW,OAAO;AAEzB,YAAM,WAAW,OAAO,OAAO;AAE/B,YAAM,SAAS,gBAAgB,OAAO,QAAQ;AAC9C,YAAM,SAAS,gBAAgB,OAAO,QAAQ;AAE9C,UAAI,WAAW;AAEX,iBAAS,UAAU;AACnB,iBAAS,UAAU;;;;;;ACf/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,sBAAqB,SAAwB;AAEhD,YAAQ,OAAO,OAAO;AAEtB,WAAO;;;;ACNX;IAMI;AAEI,WAAK,SAAS,IAAI;;;;;ACR1B;IAMI,YAAa,UAAoB,SAAkB,OAAgB;AAE/D,WAAK,WAAW;AAChB,WAAK,UAAU;AACf,WAAK,OAAO;;;;;ACVpB,AAEO,yBAAwB;AAE3B,WAAO,CAAE,GAAG,QAAQ,OAAO;;;;ACJ/B,AAEO,4BAA2B,SAAwB;AAEtD,UAAM,YAAY,QAAQ,OAAO,IAAI;AAErC,WAAQ,YAAa,UAAU,OAAO;;;;ACN1C,AAEO,wBAAuB,SAAwB;AAElD,UAAM,MAAkB;AAExB,UAAM,YAAY,QAAQ,OAAO,IAAI;AAErC,cAAU,QAAQ;AAEd,UAAI,KAAK,SAAS;;AAGtB,WAAO;;;;ACbX,AAIO,eAAc,SAAwB,OAAe,UAAsC,SAAmB;AAEjH,UAAM,WAAS,QAAQ;AACvB,UAAM,YAAY,SAAO,IAAI;AAE7B,QAAI,CAAC;AAGD,eAAO,OAAO;eAET,oBAAoB;AAEzB,gBAAU,OAAO;;AAIjB,YAAM,aAAsB,CAAC;AAC7B,YAAM,UAAoB,SAAS;AAEnC,iBAAW,YAAY;AAEnB,YACK,SAAS,aAAa,YACtB,eAAc,SAAS,YAAY,YACnC,YAAW,SAAS,SAAS;AAG9B,oBAAU,OAAO;;;;AAK7B,QAAI,UAAU,SAAS;AAEnB,eAAO,OAAO;;AAGlB,WAAO;;;;ACzCX,AAIO,cAAa,SAAwB,OAAe,UAAoB,UAAmB,SAAS,OAAgB;AAEvH,QAAI,OAAO,aAAa;AAEpB,YAAM,IAAI,UAAU;;AAGxB,UAAM,WAAW,IAAI,cAAc,UAAU,SAAS;AACtD,UAAM,YAAY,QAAQ,OAAO,IAAI;AAErC,QAAI,CAAC;AAED,cAAQ,OAAO,IAAI,OAAO,IAAI,IAAI,CAAE;;AAIpC,gBAAU,IAAI;;AAGlB,WAAO;;;;ACvBX,AAIO,gBAAe,SAAwB,OAAe,UAAoB,UAAmB;AAEhG,WAAO,GAAG,SAAS,OAAO,UAAU,SAAS;;;;ACNjD,AAEO,8BAA6B,SAAwB;AAExD,QAAI,CAAC;AAED,cAAQ,OAAO;;AAIf,cAAQ,OAAO,OAAO;;;;;ACV9B;;;;;;;;;;;;;;;;ACAA,AAGO,wBAAsB;AAEzB,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO,UAAU;AACzC,UAAM,CAAE,GAAG,GAAG,OAAO,UAAW,UAAU;AAE1C,UAAM,KAAM,IAAI,IAAM,IAAI,IAAK;AAC/B,UAAM,KAAM,IAAI,IAAM,IAAI,IAAK;AAE/B,UAAM,KAAM,IAAI,IAAM,SAAS,IAAK;AACpC,UAAM,KAAM,IAAI,IAAM,SAAS,IAAK;AAEpC,UAAM,KAAM,QAAQ,IAAM,SAAS,IAAK;AACxC,UAAM,KAAM,QAAQ,IAAM,SAAS,IAAK;AAExC,UAAM,KAAM,QAAQ,IAAM,IAAI,IAAK;AACnC,UAAM,KAAM,QAAQ,IAAM,IAAI,IAAK;AAEnC,WAAO,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACpBzC;IAmBI,YAAa;AANb,mBAAiB;AAEjB,6BAA2B;AAE3B,yBAAuB;AAInB,WAAK,SAAS;AAEd,WAAK,OAAO,IAAI;;IAGpB,IAAK,GAAW,GAAW,OAAe;AAEtC,WAAK,KAAK,IAAI,GAAG,GAAG,OAAO;;IAG/B;AAEI,UAAI,KAAK,OAAO,QAAQ,aAAY,WAAW,CAAC,KAAK;AAEjD,aAAK;;AAGT,aAAO,KAAK;;IAGhB;AAEI,YAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO,aAAY,KAAK,OAAO;AAEnE,YAAM,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;AAC/B,YAAM,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;AAC/B,YAAM,QAAQ,KAAK,IAAI,IAAI,IAAI,IAAI;AACnC,YAAM,SAAS,KAAK,IAAI,IAAI,IAAI,IAAI;AAEpC,aAAO,KAAK,KAAK,IACb,GACA,GACA,QAAQ,GACR,SAAS;;IAIjB;AAGI,YAAM,SAAS,KAAK;AAEpB,WAAK,OAAO,WAAW,aAAY;AAEnC,UAAI,CAAC,KAAK,mBAAmB,CAAC,KAAK,OAAO;AAEtC,eAAO;;AAGX,YAAM,cAAc,KAAK;AACzB,YAAM,WAAW,KAAK,OAAO;AAE7B,UAAI,IAAI,OAAO;AACf,UAAI,IAAI,OAAO;AACf,UAAI,QAAQ,OAAO;AACnB,UAAI,SAAS,OAAO;AAEpB,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,cAAM,QAAQ,SAAS;AAEvB,YAAI,CAAC,SAAU,eAAe,CAAC,MAAM;AAEjC;;AAGJ,cAAM,cAAc,MAAM,OAAO;AAEjC,YAAI,YAAY,IAAI;AAEhB,cAAI,YAAY;;AAGpB,YAAI,YAAY,IAAI;AAEhB,cAAI,YAAY;;AAGpB,YAAI,YAAY,QAAQ;AAEpB,kBAAQ,YAAY;;AAGxB,YAAI,YAAY,SAAS;AAErB,mBAAS,YAAY;;;AAI7B,aAAO,OAAO,IACV,GACA,GACA,QAAQ,GACR,SAAS;;IAIjB;AAEI,WAAK,SAAS;AACd,WAAK,OAAO;;;;;ACzHpB;;;;;;ACAA;IAWI,YAAa;AAJb,qBAAmB;AACnB,6BAA2B;AAKvB,WAAK,SAAS;;IAGlB;AAEI,WAAK,SAAS;AACd,WAAK,UAAU;;;;;ACnBvB;;;;;;ACAA;;;;;AAkBO,iBAAe;AAElB,WAAO,KAAK,QAAQ,KAAK;;;;ACpB7B;;;;;AAoBO,gBAAe;AAElB,SAAK,IAAI,KAAK,KAAK,KAAK;AACxB,SAAK,IAAI,KAAK,KAAK,KAAK;AAExB,WAAO;;;;ACzBX;;;;;AAoBO,mBAAkB;AAErB,SAAK,IAAI,KAAK,KAAK,KAAK;AACxB,SAAK,IAAI,KAAK,KAAK,KAAK;AACxB,SAAK,QAAQ,KAAK,KAAK,KAAK;AAC5B,SAAK,SAAS,KAAK,KAAK,KAAK;AAE7B,WAAO;;;;AC3BX;;;;;AAsBO,qBAAmB,MAAkB,GAAW;AAEnD,SAAK,IAAI,IAAK,KAAK,QAAQ;AAC3B,SAAK,IAAI,IAAK,KAAK,SAAS;AAE5B,WAAO;;;;AC3BX;;;;;AAQO,mBAAkB;AAErB,WAAO,KAAK,IAAK,KAAK,QAAQ;;;;ACVlC;;;;;AAQO,mBAAkB;AAErB,WAAO,KAAK,IAAK,KAAK,SAAS;;;;ACVnC;;;;;AAmBO,kBAAgB;AAEnB,WAAO,IAAI,UAAU,OAAO,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO;;;;ACrBlE;;;;;AAqBO,0BAAwB,MAAkB;AAE7C,WAAO,WAAS,MAAM,MAAM,GAAG,MAAM;;;;ACvBzC;;;;;AAmBO,yBAAuB,OAAmB;AAG7C,QAAK,MAAM,QAAQ,MAAM,SAAW,MAAM,QAAQ,MAAM;AAEpD,aAAO;;AAGX,WACK,MAAM,IAAI,MAAM,KAAK,MAAM,IAAI,MAAM,SACrC,OAAM,QAAQ,MAAM,KAAK,MAAM,QAAQ,MAAM,UAC7C,OAAM,IAAI,MAAM,KAAK,MAAM,IAAI,MAAM,WACrC,OAAM,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM;;;;AC/BxD;;;;;AAqBO,qBAAmB,QAAoB;AAE1C,WAAO,KAAK,IAAI,OAAO,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO;;;;ACvB7D;;;;;AAqBO,sBAAoB,MAAkB,MAAc;AAEvD,QAAI,KACA,IAAI,MAAK,KAAK,GAAG,KAAK,IACtB,IAAI,MAAK,KAAK,OAAO,KAAK,IAC1B,IAAI,MAAK,KAAK,OAAO,KAAK,SAC1B,IAAI,MAAK,KAAK,GAAG,KAAK;AAG1B,WAAO;;;;AC9BX;;;;;AAmBO,mBAAiB,MAAkB;AAEtC,WACI,KAAK,MAAM,UAAU,KACrB,KAAK,MAAM,UAAU,KACrB,KAAK,UAAU,UAAU,SACzB,KAAK,WAAW,UAAU;;;;ACzBlC;;;;;AAkBO,2BAAyB;AAE5B,WAAQ,KAAK,WAAW,IAAK,MAAM,KAAK,QAAQ,KAAK;;;;ACpBzD;;;;;AA4BO,qBAAoB,QAAoB;AAE3C,UAAM,QAAQ,gBAAe;AAE7B,QAAI,QAAgB,OAAO;AAC3B,QAAI,SAAiB,OAAO;AAE5B,QAAI,QAAQ,gBAAe;AAGvB,cAAQ,OAAO,SAAS;;AAKxB,eAAS,OAAO,QAAQ;;AAG5B,WAAO,OAAO,IACV,QAAQ,UAAW,OAAO,QAAQ,GAClC,QAAQ,UAAW,OAAO,SAAS,GACnC,OACA;;;;AClDR;;;;;AA4BO,sBAAqB,QAAoB;AAE5C,UAAM,QAAQ,gBAAe;AAC7B,QAAI,QAAQ,OAAO;AACnB,QAAI,SAAS,OAAO;AAEpB,QAAI,QAAQ,gBAAe;AAGvB,cAAQ,OAAO,SAAS;;AAKxB,eAAS,OAAO,QAAQ;;AAG5B,WAAO,OAAO,IACV,QAAQ,UAAU,OAAO,QAAQ,GACjC,QAAQ,UAAU,OAAO,SAAS,GAClC,OACA;;;;ACjDR;;;;;AAoBO,iBAAgB;AAEnB,SAAK,IAAI,KAAK,MAAM,KAAK;AACzB,SAAK,IAAI,KAAK,MAAM,KAAK;AAEzB,WAAO;;;;ACzBX;;;;;AAoBO,oBAAmB;AAEtB,SAAK,IAAI,KAAK,MAAM,KAAK;AACzB,SAAK,IAAI,KAAK,MAAM,KAAK;AACzB,SAAK,QAAQ,KAAK,MAAM,KAAK;AAC7B,SAAK,SAAS,KAAK,MAAM,KAAK;AAE9B,WAAO;;;;AC3BX;;;;;AAuBO,sBAAqB,QAAgB,MAAiB,IAAI;AAE7D,QAAI,OAAO,WAAW;AAElB,aAAO;;AAGX,QAAI,OAAO,OAAO;AAClB,QAAI,OAAO,OAAO;AAElB,QAAI,OAAO,WAAW;AACtB,QAAI,OAAO,WAAW;AAEtB,aAAS,IAAI,GAAG,IAAI,OAAO,QAAQ;AAE/B,YAAM,KAAK,OAAO,GAAG;AACrB,YAAM,KAAK,OAAO,GAAG;AAErB,aAAO,KAAK,IAAI,MAAM;AACtB,aAAO,KAAK,IAAI,MAAM;AAEtB,aAAO,KAAK,IAAI,MAAM;AACtB,aAAO,KAAK,IAAI,MAAM;;AAG1B,WAAO,IAAI,IACP,MACA,MACA,OAAO,MACP,OAAO;;;;ACpDf;;;;;AAwBO,qBAAoB,MAAkB,MAAY,IAAI;AAEzD,WAAO,IAAI,IAAI,QAAQ,OAAO,QAAQ;;;;AC1B1C;;;;;;IA2BI,YAAa,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa;AAEtE,WAAK,IAAI,IAAI,IAAI,IAAI;;IAGzB,IAAK,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa;AAE9D,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,aAAO;;QAGP;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK;;QAG9B,KAAM;AAEN,UAAI,KAAK,MAAM,KAAK;AAEhB,aAAK,KAAK;;AAIV,aAAK,KAAK;;;QAId;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK;;QAG9B,MAAO;AAEP,UAAI,KAAK,KAAK,KAAK;AAEf,aAAK,KAAK;;AAIV,aAAK,KAAK;;;QAId;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK;;QAG9B,IAAK;AAEL,UAAI,KAAK,MAAM,KAAK;AAEhB,aAAK,KAAK;;AAIV,aAAK,KAAK;;;QAId;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK;;QAG9B,OAAQ;AAER,UAAI,KAAK,KAAK,KAAK;AAEf,aAAK,KAAK;;AAIV,aAAK,KAAK;;;;;;AC1GtB,AAGO,qBAAmB;AAEtB,UAAM,CAAE,GAAG,GAAG,OAAO,UAAW;AAEhC,UAAM,QAAQ,IAAI,MAAK,GAAG,GAAG,OAAO;AACpC,UAAM,QAAQ,IAAI,MAAK,OAAO,GAAG,OAAO;AACxC,UAAM,QAAQ,IAAI,MAAK,OAAO,QAAQ,GAAG;AACzC,UAAM,QAAQ,IAAI,MAAK,GAAG,QAAQ,GAAG;AAErC,WAAO,CAAE,OAAO,OAAO,OAAO;;;;ACZlC;;;;;AAkBO,sBAAoB;AAEvB,WAAO,IAAK,MAAK,QAAQ,KAAK;;;;ACpBlC;;;;;AA4BO,qBAAmB,YAAuB,UAAkB,MAAY,IAAI;AAE/E,QAAI,YAAY,KAAK,YAAY;AAE7B,aAAO,IAAI,IAAI,WAAU,GAAG,WAAU;;AAG1C,QAAI,IAAI,WAAU,cAAa;AAE/B,QAAI,WAAW;AAEX,WAAM,WAAU,QAAQ,WAAU;AAElC,UAAI,KAAK,WAAU;AAGf,eAAO,IAAI,IAAI,WAAU,QAAQ,GAAG,WAAU;;AAK9C,eAAO,IAAI,IAAI,WAAU,GAAG,WAAU,SAAU,KAAI,WAAU;;eAG7D,KAAK,WAAU;AAGpB,aAAO,IAAI,IAAI,WAAU,IAAI,GAAG,WAAU;;AAK1C,aAAO,IAAI,IAAI,WAAU,OAAO,WAAU,IAAK,KAAI,WAAU;;;;;AC5DrE;;;;;AA0BO,sBAAoB,YAAuB,MAAc,WAAmB,GAAG,MAAc;AAGhG,QAAI,CAAC;AAED,iBAAW,WAAU,cAAa;;AAGtC,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,UAAI,KAAK,UAAS,YAAW,IAAI;;AAGrC,WAAO;;;;ACvCX;;;;;AAuBO,mBAAkB,MAAkB,MAAY,IAAI;AAEvD,WAAO,IAAI,IAAI,KAAK,OAAO,KAAK;;;;ACzBpC;;;;;AA2BO,mBAAkB,MAAkB,GAAW;AAElD,UAAM,KAAK,QAAQ;AACnB,UAAM,KAAK,QAAQ;AAEnB,SAAK,QAAQ,KAAK,QAAS,IAAI;AAC/B,SAAK,SAAS,KAAK,SAAU,IAAI;AAEjC,WAAO,UAAS,MAAM,IAAI;;;;ACnC9B;;;;;AA0BO,wBAAuB,OAAmB,OAAmB,MAAiB,IAAI;AAErF,QAAI,sBAAqB,OAAO;AAE5B,UAAI,IACA,KAAK,IAAI,MAAM,GAAG,MAAM,IACxB,KAAK,IAAI,MAAM,GAAG,MAAM,IACxB,KAAK,IAAI,MAAM,OAAO,MAAM,SAAS,IAAI,GACzC,KAAK,IAAI,MAAM,QAAQ,MAAM,UAAU,IAAI;;AAK/C,UAAI;;AAGR,WAAO;;;;AC1CX;;;;;AA0BO,wBAAuB,MAAkB,MAAe,UAAmB,MAAc;AAE5F,QAAI,CAAC,QAAQ,CAAC;AAGV,aAAO;;AAKX,QAAI,CAAC;AAED,aAAO,WAAU,QAAQ;;AAIzB,iBAAW,KAAK,MAAM,WAAU,QAAQ;;AAG5C,QAAI,IAAI,KAAK;AACb,QAAI,IAAI,KAAK;AACb,QAAI,OAAO;AAIX,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,UAAI,KAAK,IAAI,MAAK,GAAG;AAErB,cAAQ;aAGC;AACD,eAAK;AAEL,cAAI,KAAK,KAAK;AAEV,mBAAO;AACP,iBAAM,IAAI,KAAK;AACf,gBAAI,KAAK;;AAEb;aAGC;AACD,eAAK;AAEL,cAAI,KAAK,KAAK;AAEV,mBAAO;AACP,iBAAM,IAAI,KAAK;AACf,gBAAI,KAAK;;AAEb;aAGC;AACD,eAAK;AAEL,cAAI,KAAK,KAAK;AAEV,mBAAO;AACP,iBAAM,KAAK,IAAI;AACf,gBAAI,KAAK;;AAEb;aAGC;AACD,eAAK;AAEL,cAAI,KAAK,KAAK;AAEV,mBAAO;AACP,gBAAI,KAAK;;AAEb;;;AAIZ,WAAO;;;;AC1GX;;;;;AAsBO,uBAAsB,QAAoB;AAE7C,QAAI,OAAO,OAAO;AAClB,QAAI,OAAO,OAAO;AAClB,QAAI,OAAO,OAAO;AAClB,QAAI,OAAO,OAAO;AAElB,aAAS,IAAI,GAAG,IAAI,OAAO,QAAQ;AAE/B,aAAO,KAAK,IAAI,MAAM,OAAO,GAAG;AAChC,aAAO,KAAK,IAAI,MAAM,OAAO,GAAG;AAChC,aAAO,KAAK,IAAI,MAAM,OAAO,GAAG;AAChC,aAAO,KAAK,IAAI,MAAM,OAAO,GAAG;;AAGpC,WAAO,OAAO,IACV,MACA,MACA,OAAO,MACP,OAAO;;;;ACzCf;;;;;AAsBO,qBAAoB,QAAoB;AAE3C,UAAM,OAAO,KAAK,IAAI,OAAO,GAAG,OAAO;AACvC,UAAM,OAAO,KAAK,IAAI,OAAO,OAAO,OAAO;AAC3C,UAAM,OAAO,KAAK,IAAI,OAAO,GAAG,OAAO;AACvC,UAAM,OAAO,KAAK,IAAI,OAAO,QAAQ,OAAO;AAE5C,WAAO,OAAO,IACV,MACA,MACA,OAAO,MACP,OAAO;;;;ACjCf;;;;;AAsBO,mBAAkB,QAAoB,GAAW;AAEpD,UAAM,OAAO,KAAK,IAAI,OAAO,GAAG;AAChC,UAAM,OAAO,KAAK,IAAI,OAAO,OAAO;AACpC,UAAM,OAAO,KAAK,IAAI,OAAO,GAAG;AAChC,UAAM,OAAO,KAAK,IAAI,OAAO,QAAQ;AAErC,WAAO,OAAO,IACV,MACA,MACA,OAAO,MACP,OAAO;;;;ACjCf;;;;;AAsBO,mBAAiB,MAAkB,GAAW;AAEjD,SAAK,KAAK;AACV,SAAK,KAAK;AAEV,WAAO;;;;AC3BX;;;;;AAsBO,wBAAsB,MAAkB;AAE3C,SAAK,KAAK,MAAM;AAChB,SAAK,KAAK,MAAM;AAEhB,WAAO;;;;AC3BX;;;;;AAmBO,oBAAmB,OAAmB;AAEzC,WACI,MAAM,IAAI,MAAM,SAChB,MAAM,QAAQ,MAAM,KACpB,MAAM,IAAI,MAAM,UAChB,MAAM,SAAS,MAAM;;;;ACzB7B;;;;;AA0BO,0BAAyB,YAAuB,QAAe,MAAY,IAAI;AAElF,aAAQ,SAAS;AAEjB,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,QAAI,KAAM,IAAI,IAAK,WAAU,QAAQ,IAAI,WAAU,QAAQ;AAC3D,QAAI,KAAM,IAAI,IAAK,WAAU,SAAS,IAAI,WAAU,SAAS;AAE7D,QAAI,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK;AAEjC,WAAM,KAAK,IAAK;;AAIhB,WAAM,KAAK,IAAK;;AAGpB,WAAO,IAAI,IACP,KAAK,QAAQ,aACb,KAAK,QAAQ;;;;AC/CrB;;;;;AAsBO,mBAAiB,MAAkB,MAAY,IAAI;AAEtD,WAAO,IAAI,IACP,KAAK,IAAK,KAAK,WAAW,KAAK,OAC/B,KAAK,IAAK,KAAK,WAAW,KAAK;;;;AC1BvC;;;;;AA0BO,yBAAwB,OAAmB,OAAmB,MAAY,IAAI;AAEjF,QAAI,cAAa,OAAO;AAQpB,cAAQ,SAAQ,GAAG;aAEV;AACD,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,QAAQ,MAAM;AACxD,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,IAAI,MAAM;AACpD;aAEC;AACD,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,QAAQ,MAAM;AACxD,cAAI,IAAI,MAAM,SAAU,KAAK,WAAY,OAAM,SAAS,MAAM;AAC9D;aAEC;AACD,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,IAAI,MAAM;AACpD,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,SAAS,MAAM;AACzD;aAEC;AACD,cAAI,IAAI,MAAM,QAAS,KAAK,WAAY,OAAM,QAAQ,MAAM;AAC5D,cAAI,IAAI,MAAM,IAAK,KAAK,WAAY,OAAM,SAAS,MAAM;AACzD;;;AAIZ,WAAO;;;;AC5DX;;;;;AAmBO,0BAAyB,MAAkB;AAE9C,WAAQ,KAAK,UAAU,UAAU,SAAS,KAAK,WAAW,UAAU;;;;ACrBxE;;;;;AAsBO,iBAAgB,MAAkB,GAAW,IAAY;AAE5D,SAAK,SAAS;AACd,SAAK,UAAU;AAEf,WAAO;;;;AC3BX;;;;;AAuBO,iBAAgB,OAAmB,OAAmB,MAAiB,IAAI;AAG9E,UAAM,IAAI,KAAK,IAAI,MAAM,GAAG,MAAM;AAClC,UAAM,IAAI,KAAK,IAAI,MAAM,GAAG,MAAM;AAClC,UAAM,IAAI,KAAK,IAAI,MAAM,OAAO,MAAM,SAAS;AAC/C,UAAM,IAAI,KAAK,IAAI,MAAM,QAAQ,MAAM,UAAU;AAEjD,WAAO,IAAI,IAAI,GAAG,GAAG,GAAG;;;;AC/B5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,iCAA+B;AAElC,UAAM,QAAQ,UAAU;AAExB,UAAM,IAAI,UAAU,SAAS;AAC7B,UAAM,IAAI,UAAU,SAAS;AAC7B,UAAM,WAAW,UAAU;AAC3B,UAAM,SAAS,UAAU,MAAM;AAC/B,UAAM,SAAS,UAAU,MAAM;AAC/B,UAAM,QAAQ,UAAU,KAAK;AAC7B,UAAM,QAAQ,UAAU,KAAK;AAE7B,UAAM,IACF,KAAK,IAAI,WAAW,SAAS,QAC7B,KAAK,IAAI,WAAW,SAAS,QAC7B,CAAC,KAAK,IAAI,WAAW,SAAS,QAC9B,KAAK,IAAI,WAAW,SAAS,QAC7B,GACA;;;;ACpBR,AAGO,iCAA+B;AAElC,UAAM,UAAS,WAAW;AAC1B,UAAM,YAAY,WAAW;AAE7B,UAAM,KAAK,UAAU;AACrB,UAAM,KAAK,UAAU;AAErB,QAAI,CAAC;AAED,gBAAS,IAAI;eAER,UAAU;AAEf,gBAAS,QAAO,UAAU,OAAO;;AAIjC,YAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO;AAC/B,YAAM,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,KAAK,IAAI,OAAQ,QAAO,UAAU;AAE1E,SAAG,IACC,IAAK,KAAK,IAAK,IACf,IAAK,KAAK,IAAK,IACf,IAAK,KAAK,IAAK,IACf,IAAK,KAAK,IAAK,IACf,KAAK,KAAK,KAAK,KAAK,KACpB,KAAK,KAAK,KAAK,KAAK;;;;;AC9BhC;IA8BI,YAAa,QAAqB,IAAY,GAAG,IAAY;AAJ7D,sBAAoB;AAEZ,uBAAoB;AAIxB,WAAK,SAAS;AAEd,WAAK,QAAQ,IAAI;AACjB,WAAK,QAAQ,IAAI;AAEjB,YAAM,SAAS,MAAM,KAAK;AAC1B,YAAM,eAAe,MAAM,KAAK;AAEhC,WAAK,WAAW,IAAI,cAAa,QAAQ,GAAG;AAC5C,WAAK,QAAQ,IAAI,cAAa,QAAQ,GAAG;AACzC,WAAK,OAAO,IAAI,cAAa;AAC7B,WAAK,SAAS,IAAI,cAAa,cAAc,SAAS;AAEtD,WAAK,SAAS,IAAI;;IAGtB;AAEI,WAAK;AACL,WAAK;;IAGT;AAEI,WAAK,OAAO,SAAS,aAAY,WAAW,aAAY;AAExD,4BAAqB;;IAGzB;AAEI,YAAM,SAAS,KAAK;AAEpB,aAAO,SAAS,aAAY,WAAW,aAAY;AAEnD,4BAAqB;AAErB,UAAI,OAAO;AAEP,aAAK;;;IAIb;AAGI,YAAM,WAAW,KAAK,OAAO;AAE7B,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,cAAM,QAAQ,SAAS;AAEvB,cAAM,UAAU;;;IAIxB,cAAe,GAAW,GAAW,MAAY,IAAI;AAEjD,YAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO,KAAK;AAEpC,YAAM,KAAa,IAAM,KAAI,IAAM,IAAI,CAAC;AAExC,UAAI,IAAK,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,MAAK,IAAM,KAAK,KAAM;AAChE,UAAI,IAAK,IAAI,KAAK,IAAM,CAAC,IAAI,KAAK,IAAQ,EAAC,KAAK,IAAM,KAAK,KAAM;AAEjE,aAAO;;IAGX,cAAe,GAAW,GAAW,MAAY,IAAI;AAEjD,YAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO,KAAK;AAEpC,UAAI,IAAK,IAAI,IAAM,IAAI,IAAK;AAC5B,UAAI,IAAK,IAAI,IAAM,IAAI,IAAK;AAE5B,aAAO;;IAIX,UAAW,GAAW,GAAW,OAAe;AAE5C,WAAK,OAAO,IAAI,GAAG,GAAG,OAAO;AAE7B,WAAK,OAAO,SAAS,aAAY,WAAW,aAAY;;IAG5D,aAAc,OAAgB;AAE1B,YAAM,SAAS,KAAK;AACpB,YAAM,SAAS,KAAK;AAEpB,UAAI,UAAU;AAEV,eAAO,QAAQ;;AAGnB,UAAI,WAAW;AAEX,eAAO,SAAS;;AAGpB,aAAO,IAAI,CAAE,KAAK,OAAO,IAAK,OAAO;AACrC,aAAO,IAAI,CAAE,KAAK,OAAO,IAAK,OAAO;AAErC,aAAO,SAAS,aAAY,WAAW,aAAY;;QAGnD,SAAU;AAEV,UAAI,UAAU,KAAK;AAEf,aAAK,YAAY;AAEjB,aAAK;;;QAIT;AAEA,aAAO,KAAK;;IAGhB;AAEI,WAAK,SAAS;AACd,WAAK,MAAM;AACX,WAAK,KAAK;AACV,WAAK,OAAO;AAEZ,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,WAAK,WAAW;AAChB,WAAK,QAAQ;AACb,WAAK,OAAO;AACZ,WAAK,SAAS;AACd,WAAK,SAAS;;;;;ACxKtB;;;;;;;;;ACAA,AAAO,qBAAoB,KAAa;AAEpC,UAAM,KAAO,SAAQ,MAAO,KAAK;AAEjC,WAAS,OAAM,KAAM,SAAS;;;;ACJlC;IAiBI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY;AAbvD,eAAY;AACZ,eAAY;AACZ,eAAY;AAEZ,eAAY;AACZ,eAAY;AAEZ,qBAAkB;AAElB,kBAAe;AACf,mBAAgB;AAChB,mBAAgB;AAIZ,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;;IAGb,YAAa,GAAW,GAAW,IAAY;AAE3C,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,IAAI;AAET,aAAO;;IAGX,MAAO,GAAW;AAEd,WAAK,IAAI;AACT,WAAK,IAAI;AAET,aAAO;;IAGX,SAAU,QAAe,QAAgB;AAErC,WAAK,OAAO;AACZ,WAAK,QAAQ;AAEb,WAAK;AAEL,aAAO;;IAGX,SAAU;AAEN,WAAK,QAAQ;AAEb,aAAO;;IAGX,QAAS;AAEL,WAAK,OAAO;AAEZ,aAAO;;IAGX;AAEI,WAAK,QAAQ,UAAU,KAAK,MAAM,KAAK;;;;;ACnE/C;;;;;;;;;ACAA,AAKO,8BAAgD,QAAW;AAE9D,UAAM,CAAE,KAAK,KAAK,UAAW,sBAAqB,YAAY;AAE9D,UAAM,eAAe,YAAW,YAAY,OAAO;AAEnD,QAAI,aAAa;AAEjB,WAAO,SAAS,QAAQ;AAEpB,UAAI,aAAa,KAAK,OAAO;AAC7B,UAAI,aAAa,KAAK,OAAO;AAC7B,UAAI,aAAa,KAAK,OAAO;AAC7B,UAAI,aAAa,KAAK,OAAO;AAC7B,UAAI,aAAa,KAAK;AACtB,UAAI,aAAa,KAAK,OAAO;AAE7B,oBAAc;;;;;ACtBtB;IAiDI,YAAa,IAAY,GAAG,IAAY;AA7BxC,kBAAe;AACf,kBAAe;AAYf,wBAAsB;AACtB,gCAA8B;AAE9B,wBAAsB;AACtB,gCAA8B;AAC9B,+BAA6B;AAE7B,mBAAgB;AAChB,wBAAqB;AAMrB,qBAAmB;AAIf,WAAK,WAAW;AAEhB,WAAK,SAAS,IAAI;AAElB,WAAK,YAAY,IAAI,oBAAmB,MAAM,GAAG;AACjD,WAAK,SAAS,IAAI,iBAAgB;AAClC,WAAK,QAAQ,IAAI,gBAAe;AAEhC,WAAK,QAAQ,aAAY;AAEzB,WAAK,UAAU;;IAGnB;AAEI,aAAQ,KAAK,WAAW,KAAK;;IAGjC,QAAS;AAEL,aAAQ,MAAK,QAAQ,UAAU;;IAGnC,WAAY;AAER,UAAI,KAAK,QAAQ;AAEb,aAAK,SAAS;;AAGlB,aAAO;;IAGX,SAAU,MAAc;AAEpB,UAAI,CAAC,KAAK,QAAQ;AAEd,aAAK,SAAS;AACd,aAAK,aAAa,cAAa;;AAGnC,UAAI,CAAC,KAAK,QAAQ;AAEd,aAAK,SAAS;;AAGlB,aAAO;;IAGX,OAAQ,OAAe;AAEnB,UAAI,KAAK;AAEL,cAAM,WAAW,KAAK;AAEtB,iBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,gBAAM,QAAQ,SAAS;AAEvB,cAAI,SAAS,MAAM;AAEf,kBAAM,OAAO,OAAO;;;;AAKhC,WAAK,WAAW,OAAO;;IAI3B,WAAY,OAAe;;IAO3B,SAAkC;;IAKlC,aAA0C;;IAK1C,aAAsC;;IAOtC,iBAA8C;;QAM1C;AAEA,aAAO,KAAK,SAAS;;IAGzB,QAAS;AAEL,UAAI;AAEA,yBAAiB,MAAM;;AAIvB,wBAAgB;;AAGpB,WAAK,MAAM,cAAc;AAEzB,WAAK,UAAU;AACf,WAAK,OAAO;AACZ,WAAK,MAAM;AAEX,WAAK,OAAO;AAEZ,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,WAAW;;;;;ACjLxB,0BAI+B;IAI3B,YAAa,IAAY,GAAG,IAAY;AAEpC,YAAM,GAAG;AAJH,oBAAiB;AAMvB,WAAK,OAAO;;IAGhB,QAAS,OAAe,SAAiB;AAErC,WAAK,UAAU,aAAa,OAAO;AAEnC,aAAO;;IAGX,YAAa,GAAW;AAEpB,WAAK,UAAU,SAAS,IAAI,GAAG;AAE/B,aAAO;;IAGX,UAAW,GAAW,IAAY;AAE9B,WAAK,UAAU,OAAO,IAAI,GAAG;AAE7B,aAAO;;IAGX,QAAS,GAAW,IAAY;AAE5B,WAAK,UAAU,KAAK,IAAI,GAAG;AAE3B,aAAO;;IAGX,SAAU,GAAW,IAAY;AAE7B,WAAK,UAAU,MAAM,IAAI,GAAG;AAE5B,aAAO;;IAGX,YAAa;AAET,WAAK,UAAU,WAAW;AAE1B,aAAO;;QAGP,MAAO;AAEP,WAAK,UAAU,aAAa;;QAG5B;AAEA,aAAO,KAAK,UAAU,OAAO;;QAG7B,OAAQ;AAER,WAAK,UAAU,aAAa,QAAW;;QAGvC;AAEA,aAAO,KAAK,UAAU,OAAO;;QAG7B,EAAG;AAEH,WAAK,UAAU,SAAS,IAAI;;QAG5B;AAEA,aAAO,KAAK,UAAU,SAAS;;QAG/B,EAAG;AAEH,WAAK,UAAU,SAAS,IAAI;;QAG5B;AAEA,aAAO,KAAK,UAAU,SAAS;;QAG/B,QAAS;AAET,WAAK,UAAU,OAAO,IAAI;;QAG1B;AAEA,aAAO,KAAK,UAAU,OAAO;;QAG7B,QAAS;AAET,WAAK,UAAU,OAAO,IAAI;;QAG1B;AAEA,aAAO,KAAK,UAAU,OAAO;;QAG7B,MAAO;AAEP,WAAK,UAAU,KAAK,IAAI;;QAGxB;AAEA,aAAO,KAAK,UAAU,KAAK;;QAG3B,MAAO;AAEP,WAAK,UAAU,KAAK,IAAI;;QAGxB;AAEA,aAAO,KAAK,UAAU,KAAK;;QAG3B,OAAQ;AAER,WAAK,UAAU,MAAM,IAAI;;QAGzB;AAEA,aAAO,KAAK,UAAU,MAAM;;QAG5B,OAAQ;AAER,WAAK,UAAU,MAAM,IAAI;;QAGzB;AAEA,aAAO,KAAK,UAAU,MAAM;;QAG5B,SAAU;AAEV,WAAK,UAAU,WAAW;;QAG1B;AAEA,aAAO,KAAK,UAAU;;QAGtB;AAEA,aAAO,KAAK;;QAGZ,MAAO;AAEP,UAAI,UAAU,KAAK;AAEf,aAAK,SAAS;AAGd,aAAK,SAAS,aAAY;;;;;;ACnLtC,AAGO,6BAA+C,QAAW;AAE7D,UAAM,SAAQ,OAAO;AAErB,QAAI,CAAC;AAED;;AAGJ,UAAM,MAAM,SAAS;AAErB,UAAM,YAAY,OAAO;AAEzB,UAAM,CAAE,GAAG,GAAG,GAAG,GAAG,IAAI,MAAO,UAAU;AACzC,UAAM,CAAE,GAAG,KAAM,UAAU;AAE3B,QAAI;AAEJ,QAAI,aAAa,GAAG,GAAG,GAAG,GAAG,IAAI;AAEjC,QAAI,cAAc,OAAO;AAEzB,QAAI,UAAU,OAAM,QAAQ,OAA2B,OAAM,GAAG,OAAM,GAAG,OAAM,OAAO,OAAM,QAAQ,GAAG,GAAG,OAAM,OAAO,OAAM;AAE7H,QAAI;;;;AC3BR,AAEO,uBAAyC;AAE5C,WAAO,SAAS,QAAQ;AAEpB,aAAO;;AAGX,WAAO;;;;ACTX,AAIO,qBAAuC,SAAkB,QAAkC;AAE9F,UAAM,SAAQ,QAAQ,SAAS;AAE/B,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,SAAU;AAElC,aAAS,QAAQ;AAGb,UAAI,CAAC,SAAS,WAAU,MAAM;AAE1B;;AAGJ,YAAM,QAAQ;AAEd,UAAI;AAEA,cAAM,UAAU,MAAM,GAAG,MAAM;;AAGnC,YAAM,MAAM,UAAU;AAEtB,YAAM,aAAa;AAEnB,YAAM,WAAW,MAAM;AAGvB,eAAS,GAAG,MAAM,IAAI;AACtB,eAAS,GAAG,MAAM,IAAI;AACtB,eAAS,GAAG,MAAM,IAAI;AACtB,eAAS,GAAG,MAAM,IAAI;;AAG1B,WAAO;;;;ACtCX,AAEA,MAAI;AAEG,QAAM,0BACb;IACI,KAAK;AAED,aAAO;;IAGX,KAAK,CAAC;AAEF,kBAAW;;;;;ACbnB,AAMO,uBAAyC,KAAuB,WAAmC;AAEtG,QAAI,CAAC;AAGD,eAAS,QAAQ;AAEb,cAAM,UAAU;AAChB,cAAM,QAAQ;AACd,cAAM,aAAa;;;AAKvB,UAAI;AAEJ,UAAI,eAAe;AAEf,kBAAU;;AAIV,kBAAU,wBAAuB,MAAM,IAAI;;AAG/C,UAAI,CAAC;AAED,gBAAQ,KAAK,wBAAwB;;AAIrC,iBAAS,QAAQ;AAEb,gBAAM,UAAU;;AAGpB,kBAAS,SAAS,QAAO,GAAG;;;AAIpC,WAAO;;;;AC9CX,AAGO,2BAA6C;AAEhD,UAAM,WAAW,OAAO;AAExB,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO,aAAY,OAAO;AAE9D,aAAS,GAAG,YAAY,IAAI;AAC5B,aAAS,GAAG,YAAY,IAAI;AAC5B,aAAS,GAAG,YAAY,IAAI;AAC5B,aAAS,GAAG,YAAY,IAAI;AAE5B,WAAO;;;;ACdX,wBAgB4B;IASxB,YAAa,GAAW,GAAW,SAA2B;AAE1D,YAAM,GAAG;AAPb,wBAAsB;AAGZ,mBAAgB;AAMtB,WAAK,OAAO;AAEZ,WAAK,WAAW,CAAE,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI;AAEhE,WAAK,WAAW,SAAS;;IAG7B,WAAY,KAAuB;AAE/B,kBAAW,KAAK,QAAO;AAEvB,aAAO;;IAGX,SAAU;AAEN,gBAAS,KAAK,SAAS,KAAK;AAE5B,aAAO;;IAGX;AAEI,aAAQ,KAAK,WAAW,KAAK,cAAc,KAAK,cAAc,KAAK,QAAQ;;IAG/E;AAEI,UAAI,KAAK,QAAQ,aAAY;AAEzB,oBAAW;AAEX,aAAK,WAAW,aAAY;;AAGhC,UAAI,KAAK,QAAQ,aAAY;AAEzB,wBAAe;AAEf,aAAK,WAAW,aAAY;;;IAIpC,SAAkC;AAE9B,WAAK;AAEL,yBAAkB,MAAM;;IAG5B,aAA0C;AAEtC,WAAK;AAEL,wBAAiB,MAAM;;QAGvB;AAEA,aAAO,KAAK;;QAGZ,MAAO;AAEP,UAAI,UAAU,KAAK;AAEf,aAAK,SAAS;AAEd,aAAK,SAAS,QAAQ;AAElB,iBAAO,SAAS;;AAGpB,aAAK,SAAS,aAAY;;;QAI9B;AAEA,aAAO,KAAK;;QAGZ,KAAM;AAEN,UAAI,UAAU,KAAK;AAEf,aAAK,QAAQ;AAEb,aAAK,SAAS,QAAQ;AAElB,iBAAO,QAAQ;;AAGnB,aAAK,SAAS,aAAY;;;IAIlC,QAAS;AAEL,YAAM,QAAQ;AAEd,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,WAAK,aAAa;AAClB,WAAK,WAAW;;;;;ACrIxB,+BAKoC;IAKhC,YAAa,GAAW,GAAW,SAAiB;AAEhD,YAAM,GAAG,GAAG,SAAS;AAErB,WAAK,OAAO;AAEZ,WAAK,QAAQ,IAAI;AAGjB,WAAK,WAAW;QACZ,aAAa;QACb,eAAe;QACf,YAAY;QACZ,WAAW;QACX,eAAe;QACf,aAAa;QACb,WAAW;QACX,MAAM;QACN,cAAc;QACd,gBAAgB;QAChB,OAAO;QACP,aAAa;QACb,SAAS;QACT,UAAU;QACV,YAAY;;;IAIZ;AAEJ,YAAM,OAAO,KAAK;AAElB,WAAK,YAAY;AACjB,WAAK,cAAc;AAEnB,UAAI,KAAK;AAEL,aAAK,WAAW,MAAM,KAAK;;;IAInC;AAEI,YAAM,OAAO,KAAK;AAElB,WAAK;AAGL,UAAI,KAAK,eAAe,KAAK,cAAc;AAEvC,YAAI,KAAK;AAEL,eAAK;AACL,eAAK,iBAAiB;mBAEjB,KAAK,gBAAgB,MAAM,KAAK,cAAc;AAEnD,eAAK,aAAa;AAElB,cAAI,KAAK,gBAAgB;AAErB,iBAAK;;AAGT,cAAI,KAAK;AAEL,iBAAK,SAAS,MAAM,KAAK;;AAG7B,eAAK,iBAAiB,KAAK;;AAI3B,eAAK;AAEL,iBAAO,KAAK;;;AAIpB,WAAK,SAAS,KAAK,cAAc,KAAK;AAEtC,WAAK,iBAAiB,KAAK;;IAG/B;AAEI,YAAM,OAAO,KAAK;AAElB,WAAK;AAGL,UAAI,KAAK,eAAe;AAEpB,YAAI,KAAK,gBAAgB,MAAM,KAAK,cAAc;AAE9C,eAAK,aAAa;AAClB,eAAK,iBAAiB;AAEtB,cAAI,KAAK,gBAAgB;AAErB,iBAAK;;AAGT,cAAI,KAAK;AAEL,iBAAK,SAAS,MAAM,KAAK;;AAG7B,eAAK,iBAAiB,KAAK;;AAI3B,eAAK,aAAa;AAElB,iBAAO,KAAK;;;AAIpB,WAAK,SAAS,KAAK,cAAc,KAAK;AAEtC,WAAK,iBAAiB,KAAK;;IAG/B,OAAQ,OAAe;AAEnB,YAAM,OAAO,OAAO;AAEpB,YAAM,OAAO,KAAK;AAElB,UAAI,CAAC,KAAK;AAEN;;AAGJ,WAAK,iBAAiB,QAAQ;AAG9B,WAAK,gBAAgB,KAAK,IAAI,KAAK,eAAe;AAGlD,UAAI,KAAK,kBAAkB;AAGvB,YAAI,KAAK;AAEL,cAAI,KAAK;AAEL,iBAAK,QAAQ,MAAM,KAAK;;AAG5B,eAAK,eAAe;AACpB,eAAK,gBAAgB,KAAK;mBAErB,KAAK;AAEV,eAAK;;AAIL,eAAK;;;;QAKb;AAEA,aAAO,KAAK,SAAS;;QAGrB;AAEA,aAAQ,KAAK,SAAS,aAAa,KAAK,SAAS;;QAGjD;AAEA,aAAO,KAAK,SAAS;;IAGzB,QAAS;AAEL,YAAM,QAAQ;AAEd,WAAK,MAAM;AACX,WAAK,WAAW;;;;;AClMxB,AAGO,2BAA0B,YAAyB,GAAW,GAAW,OAAe,QAAgB,IAAY,IAAY,IAAY,IAAY,eAAuB,GAAG,cAAsB;AAE3M,UAAM,CAAE,KAAK,KAAK,UAAW,sBAAqB,YAAY;AAG9D,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAGlB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK,IAAI;AACtB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,KAAK;AAClB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AAGnB,QAAI,SAAS,MAAM,IAAI;AACvB,QAAI,SAAS,MAAM,IAAI;AACvB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AAGnB,QAAI,SAAS,MAAM,IAAI;AACvB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;AACnB,QAAI,SAAS,MAAM;;;;ACrCvB,AAOO,6BAA2B,YAAyB,SAAkB;AAEzE,QAAI,CAAC;AAED,eAAS,WAAW;;AAGxB,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO,QAAQ;AAEnC,gBAAY,SAAS;AAErB,oBAAgB,YAAY,WAAW;AACvC,cAAU,YAAY,QAAQ;AAE9B,oBAAgB,YAAY,GAAG,GAAG,QAAQ,OAAO,QAAQ,QAAQ,IAAI,IAAI,IAAI,IAAI;AAEjF,UAAM;AAGN,oBAAgB;AAChB,cAAU;AAEV,kBAAc;;;;AC7BlB,uBAM2B;IAEvB;AAEI;AAEA,WAAK,OAAO;AACZ,WAAK,UAAU,WAAW;AAC1B,WAAK,aAAa;;;;;ACd1B,6BAmBiC;IAK7B;AAEI;AAEA,WAAK,OAAO;AAEZ,WAAK,aAAa;AAClB,WAAK,qBAAqB;AAC1B,WAAK,oBAAoB;AAEzB,WAAK,SAAS,aAAY;AAE1B,YAAM,QAAQ;AACd,YAAM,SAAS;AACf,YAAM,aAAa;AAInB,YAAM,UAAU,IAAI,SAAQ,MAAM,QAAQ,YAAY,SAAS;AAE/D,YAAM,UAAU,IAAI,kBAAiB;AAErC,cAAQ,UAAU;AAElB,cAAQ,cAAc,mBAAkB,QAAQ;AAEhD,WAAK,UAAU;AACf,WAAK,cAAc,QAAQ;;IAG/B,SAAkC;AAE9B,UAAI,KAAK,cAAc;AAEnB,cAAM;AAEN,YAAI,CAAC,KAAK,qBAAqB,KAAK,QAAQ,aAAY;AAGpD,yBAAe,YAAY,KAAK,aAAa;AAE7C,eAAK,WAAW,aAAY;;AAK5B,yBAAe,YAAY,KAAK,aAAa;AAE7C,eAAK,aAAa;;;;IAK9B,aAAsC;AAElC,YAAM;AAEN,qBAAe;AAEf,wBAAiB,YAAY,KAAK;AAElC,WAAK,WAAW,aAAY;;;;;ACrFpC,4BAYiC;IAI7B,eAAgB;AAEZ;AAJJ,qBAAqB;AAMjB,WAAK,OAAO;AAEZ,UAAI,MAAM,QAAQ;AAEd,aAAK,UAAU;;;IAIvB,aAAsC;AAElC,YAAM,WAAU,KAAK;AACrB,YAAM,UAAU,KAAK;AAErB,YAAM;AAEN,qBAAe;AAIf,UAAI,SAAQ,WAAW;AAEnB,0BAAiB,YAAY;;AAI7B,YAAI,cAAc;AAElB,iBAAS,IAAY,GAAG,IAAI,SAAQ,QAAQ;AAExC,gBAAM,SAAS,SAAQ;AAEvB,4BAAiB,YAAY,aAAa;AAE1C,wBAAc,OAAO;;AAGzB,0BAAiB,YAAY;;AAGjC,WAAK,WAAW,aAAY;;;;;AC3DpC,AAGO,oCAA2D,OAAU;;;;ACH5E,AAEO,iCACH,MACA,OACA,KACA,QACA,GACA,GACA,WAAmB,GACnB,SAAiB,GACjB,SAAiB,GACjB,QAAgB,GAChB,QAAgB;AAEhB,UAAM,IAAI,KAAK,IAAI,WAAW,SAAS;AACvC,UAAM,IAAI,KAAK,IAAI,WAAW,SAAS;AACvC,UAAM,IAAI,CAAC,KAAK,IAAI,WAAW,SAAS;AACxC,UAAM,IAAI,KAAK,IAAI,WAAW,SAAS;AAEvC,UAAM,KAAM,OAAO,IAAM,MAAM,IAAK;AACpC,UAAM,KAAM,OAAO,IAAM,MAAM,IAAK;AAEpC,UAAM,KAAM,OAAO,IAAM,SAAS,IAAK;AACvC,UAAM,KAAM,OAAO,IAAM,SAAS,IAAK;AAEvC,UAAM,KAAM,QAAQ,IAAM,SAAS,IAAK;AACxC,UAAM,KAAM,QAAQ,IAAM,SAAS,IAAK;AAExC,UAAM,KAAM,QAAQ,IAAM,MAAM,IAAK;AACrC,UAAM,KAAM,QAAQ,IAAM,MAAM,IAAK;AAErC,WAAO,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;AChCzC,6BAeiC;IAiB7B,YAAa,SAAiB;AAE1B;AAPJ,4BAAyB;AAGzB,wBAAsB;AAMlB,WAAK,OAAO;AACZ,WAAK,aAAa;AAElB,WAAK,WAAW;AAChB,WAAK,WAAW;;IAGpB;AAEI,UAAI,MAAgB;AAGpB,eAAS,IAAI,GAAG,IAAK,KAAK,UAAU,GAAI,KAAK;AAEzC,YAAI,KAAK,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;;AAIpD,WAAK,OAAO,IAAI,YAAY,KAAK,UAAU;AAC3C,WAAK,QAAQ,IAAI,YAAY;AAE7B,WAAK,gBAAgB,IAAI,aAAa,KAAK;AAC3C,WAAK,gBAAgB,IAAI,YAAY,KAAK;AAE1C,UAAI;AAEA,2BAAkB,KAAK;AACvB,2BAAkB,KAAK;AAEvB,aAAK,eAAe,GAAG;AACvB,aAAK,cAAc,GAAG;AAEtB,WAAG,WAAW,GAAG,cAAc,KAAK;AACpC,WAAG,WAAW,GAAG,cAAc,KAAK,MAAM,GAAG;AAE7C,WAAG,WAAW,GAAG,sBAAsB,KAAK;AAC5C,WAAG,WAAW,GAAG,sBAAsB,KAAK,OAAO,GAAG;AAEtD,WAAG,WAAW,GAAG,cAAc;;AAInC,YAAM;AAEN,WAAK,QAAQ;;IAGjB,WAAY;AAER,WAAK,UAAU,MAAM,OAAO,GAAG;AAE/B,WAAK;AAEL,aAAO;;IAGX,WAAY;AAER,UAAI;AAEJ,UAAI,eAAe;AAEf,kBAAU;;AAIV,kBAAU,wBAAuB,MAAM,IAAI;;AAG/C,UAAI,CAAC;AAED,gBAAQ,KAAK,wBAAwB;;AAIrC,aAAK,UAAU;AAEf,aAAK,aAAa;AAElB,aAAK,iBAAiB;;AAG1B,aAAO;;IAGX;AAEI,aAAQ,KAAK,WAAW,KAAK,cAAc,KAAK,cAAc,KAAK,QAAQ;;IAG/E;AAEI,WAAK,QAAQ;AAEb,aAAO;;IAGH,WAAY,QAAc,QAAe,IAAY,IAAY,IAAY,IAAY,IAAY,IAAY,IAAY;AAEjI,UAAI,KAAK,SAAS,KAAK;AAEnB,gBAAQ,KAAK;AACb,eAAO;;AAGX,YAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,YAAM,MAAM,KAAK;AACjB,YAAM,MAAM,KAAK;AACjB,YAAM,SAAS,KAAK,QAAQ;AAC5B,YAAM,eAAgB,KAAK,QAAQ,UAAW,KAAK,QAAQ,QAAQ,QAAQ;AAG3E,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAGlB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AAGnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AAGnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AACnB,UAAI,SAAS,MAAM;AAEnB,WAAK,SAAS,aAAY;AAE1B,WAAK;AAEL,aAAO;;IAGX,IAAK;AAED,YAAM;QACF,gBAAQ;QACR,IAAI;QACJ,IAAI;QACJ,WAAW;QACX,SAAS;QACT,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,oBAAU;QACV,oBAAU;QACV,QAAQ;QACR,OAAO;UACP;AAEJ,YAAM,eAAe,KAAK,QAAQ,SAAS;AAE3C,YAAM,CAAE,MAAM,OAAO,KAAK,UAAW,aAAa,UAAU,UAAS;AACrE,YAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO,sBAAsB,MAAM,OAAO,KAAK,QAAQ,GAAG,GAAG,UAAU,QAAQ,QAAQ,OAAO;AAElI,YAAM,cAAc,UAAU,MAAM;AAEpC,aAAO,KAAK,WAAW,cAAc,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;IAGlF,MAAO,GAAW,GAAW;AAEzB,YAAM,eAAe,KAAK,QAAQ,SAAS;AAE3C,YAAM,CAAE,MAAM,OAAO,KAAK,UAAW,aAAa,UAAU,GAAG;AAC/D,YAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO,sBAAsB,MAAM,OAAO,KAAK,QAAQ,GAAG;AAE9F,aAAO,KAAK,WAAW,cAAc,YAAY,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;IAGjF;AAEI,YAAM,eAAe,KAAK,QAAQ,QAAQ;AAE1C,UAAI,iBAAiB,KAAK;AAEtB;;AAGJ,YAAM,MAAM,KAAK;AAEjB,WAAK,iBAAiB;AAEtB,eAAS,IAAI,GAAG,IAAI,KAAK,OAAO;AAE5B,YAAK,IAAI,KAAM,KAAK;AACpB,YAAK,IAAI,KAAM,MAAM;AACrB,YAAK,IAAI,KAAM,MAAM;AACrB,YAAK,IAAI,KAAM,MAAM;;;IAI7B,SAAkC;AAE9B,+BAAwB,MAAM;;IAGlC;AAEI,YAAM;AAEN,yBAAkB,KAAK;AACvB,yBAAkB,KAAK;AAEvB,WAAK,OAAO;AACZ,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AACrB,WAAK,QAAQ;AACb,WAAK,UAAU;AACf,WAAK,aAAa;;;;;ACvQ1B,AAAO,wBAAuB,OAAe;AAEzC,UAAM,SAAS,SAAS,cAAc;AAEtC,WAAO,QAAQ;AACf,WAAO,SAAS;AAEhB,WAAO,OAAO,WAAW;;;;ACP7B,AAGO,0BAAwB,QAAgB,IAAI,SAAiB;AAEhE,UAAM,MAAM,aAAa,OAAO;AAEhC,WAAO,IAAI,SAAQ,IAAI;;;;ACP3B,sBAQ0B;IA2BtB,YAAa,GAAW,GAAW,OAA0B,IAAI,MAAe;AAE5E,YAAM,GAAG,GAAG;AApBhB,yBAAsB;AACtB,qBAAU,CAAE,MAAM,GAAG,OAAO,GAAG,KAAK,GAAG,QAAQ;AAC/C,2BAAuC;AACvC,yBAAsB;AAEtB,kBAAe;AACf,uBAAqD;AACrD,yBAAuD;AACvD,6BAA2D;AAC3D,0BAAuB;AACvB,uBAA6B;AAC7B,0BAAmC;AACnC,uBAAoB;AACpB,sBAAqB;AAGrB,uBAAqB;AAMjB,WAAK,OAAO;AAEZ,YAAM,OAAO,cAAa;AAE1B,WAAK,aAAa,KAAK,SAAS;AAEhC,WAAK,SAAS,KAAK,QAAQ;AAC3B,WAAK,UAAU,KAAK,OAAO,WAAW;AAItC,UAAI;AAEA,aAAK,OAAO;;AAGhB,UAAI;AAEA,aAAK,YAAY;;AAGrB,WAAK,QAAQ;;IAGT,YAAa,QAA2B;AAE5C,UAAI,KAAK;AAEL,aAAK,kBAAkB,QAAQ;;AAGnC,UAAI,OAAO,KAAK;AAChB,UAAI,eAAe,KAAK;AACxB,UAAI,YAAY,KAAK;AACrB,UAAI,YAAY,KAAK;AACrB,UAAI,cAAc,KAAK;AACvB,UAAI,YAAY,KAAK;AACrB,UAAI,UAAU;AACd,UAAI,WAAW;AACf,UAAI,YAAY,KAAK;AACrB,UAAI,wBAAwB,KAAK;;IAKrC;AAEI,YAAM,SAAS,KAAK;AACpB,YAAM,MAAM,KAAK;AACjB,YAAM,aAAa,KAAK;AAExB,YAAM,QAAQ,KAAK,MAAM,MAAM,KAAK;AAEpC,YAAM,UAAU,KAAK;AACrB,YAAM,YAAY,KAAK;AACvB,YAAM,cAAc,KAAK;AACzB,YAAM,cAAc,KAAK;AACzB,YAAM,cAAc,KAAK;AACzB,YAAM,kBAAmB,cAAc,IAAK,cAAc,IAAI;AAE9D,UAAI,UAAU,GAAG,GAAG,OAAO,OAAO,OAAO;AAEzC,WAAK,YAAY,QAAQ;AAGzB,UAAI,YAAY;AAIhB,UAAI,WAAW;AACf,UAAI,YAAY;AAChB,UAAI,IAAI;AAER,YAAM,cAAc;AAEpB,YAAM,eAAyB,KAAK,kBAAkB;AAGtD,YAAM,UAAU,IAAI,YAAY;AAEhC,YAAM,oBAA4B,KAAK,KAAK,KAAK,IAAI,QAAQ,2BAA2B,KAAK,IAAI,QAAQ,6BAA6B;AAEtI,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ;AAE9B,cAAM,WAAU,IAAI,YAAY,MAAM;AAEtC,cAAM,OAAO,SAAQ;AACrB,cAAM,QAAQ,SAAQ;AACtB,YAAI,SAAS,SAAQ;AACrB,YAAI,UAAU,SAAQ;AAGtB,YAAK,CAAC,UAAU,CAAC,WAAY,MAAM,OAAO;AAEtC,mBAAS;AACT,oBAAU;;AAGd,cAAM,YAAY,KAAK,KAAK,KAAK,IAAI,QAAQ,KAAK,IAAI,UAAU;AAChE,cAAM,aAAa,KAAK,KAAK,KAAK,IAAI,UAAU,KAAK,IAAI,YAAY;AAErE,YAAI;AAEA,eAAK,SAAS;AAEd,cAAI,IAAI;AAEJ,iBAAK,cAAc;;AAGvB,sBAAY,IAAI,UAAU;;AAI1B,cAAI,YAAc,cAAa,UAAW;AAE1C,uBAAa;AAEb,cAAI,IAAI,MAAM,SAAS;AAEnB,yBAAa;;;AAIrB,mBAAW,KAAK,IAAI,UAAU;AAE9B,oBAAY,KAAK,CAAE,WAAW,YAAY,QAAQ,SAAS,MAAM,OAAO;;AAI5E,kBAAY,QAAQ,OAAO,QAAQ;AACnC,mBAAa,QAAQ,MAAM,QAAQ;AAEnC,YAAM,eAAgB,KAAK,aAAc,KAAK,aAAa;AAC3D,YAAM,gBAAiB,KAAK,cAAe,KAAK,cAAc;AAE9D,YAAM,cAAc,KAAK,KAAK,eAAe;AAC7C,YAAM,eAAe,KAAK,KAAK,gBAAgB;AAE/C,UAAI,OAAO,UAAU,eAAe,OAAO,WAAW;AAElD,eAAO,QAAQ;AACf,eAAO,SAAS;AAEhB,aAAK,QAAQ,QAAQ,cAAc;AACnC,aAAK,QAAQ,cAAc;;AAG/B,UAAI;AACJ,UAAI,MAAM,YAAY;AAEtB,WAAK,YAAY,QAAQ;AAEzB,YAAM,kBAAkB,KAAK;AAE7B,UAAI;AAEA,YAAI;AAEJ,YAAI,YAAY;AAChB,YAAI,cAAc;AAElB,cAAM,eAAe,KAAK;AAC1B,cAAM,aAAc,eAAe,IAAK,eAAe,IAAI;AAE3D,YAAI;AAEA,cAAI,YAAY;AAEhB,cAAI,WAAW,YAAY,YAAY,eAAe,cAAc,gBAAgB;;AAGxF,YAAI,SAAS,YAAY,YAAY,eAAe,cAAc,gBAAgB;AAElF,YAAI;;AAIR,YAAM,YAAY,KAAK;AACvB,YAAM,WAAqB,cAAc;AACzC,YAAM,UAAoB,cAAc,WAAW,cAAc;AAEjE,YAAM,UAAY,iBAAgB,aAAa,IAAK,QAAQ;AAE5D,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ;AAE9B,cAAM,OAAO,MAAM;AACnB,cAAM,WAAU,YAAY;AAE5B,YAAI,KAAK,QAAQ,OAAO,SAAQ,OAAO;AACvC,cAAM,KAAK,UAAU,SAAQ;AAE7B,YAAI;AAEA,eAAK,eAAe;mBAEf;AAEL,eAAK,eAAe;;AAGxB,YAAI;AAEA,cAAI,WAAW,MAAM,IAAI;;AAG7B,YAAI;AAEA,cAAI,SAAS,MAAM,IAAI;;;AAI/B,UAAI;AAEJ,UAAI,KAAK,QAAQ;AAEb,aAAK,QAAQ,QAAQ;;AAGzB,WAAK,SAAS,aAAY;AAE1B,aAAO;;QAGP;AAEA,aAAO,KAAK;;QAGZ,KAAM;AAEN,WAAK,QAAQ;;IAGjB,QAAS,QAA2B;AAEhC,UAAI,MAAM,QAAQ;AAEd,gBAAQ,MAAM,KAAK;;AAGvB,UAAI,UAAU,KAAK;AAEf,aAAK,QAAQ,MAAM;AAEnB,aAAK;;AAGT,aAAO;;IAGX,QAAS;AAEL,WAAK,QAAQ;AAEb,WAAK,YAAY;AACjB,WAAK,cAAc;AACnB,WAAK,kBAAkB;AAEvB,WAAK,SAAS;AACd,WAAK,UAAU;AAEf,YAAM,QAAQ;;;;;AC7StB;;;;;;;;;;;;;;;ACAA;IA0BI,YAAa,QAAuB,IAAY,GAAG,IAAY,GAAG,IAAY;AAF9E,sBAAoB;AAIhB,WAAK,SAAS;AAEd,WAAK,QAAQ,IAAI;AACjB,WAAK,QAAQ,IAAI;AACjB,WAAK,SAAS,IAAI;AAElB,WAAK,WAAW,IAAI,aAAa,MAAM,KAAK,UAAU,GAAG,GAAG;AAC5D,WAAK,QAAQ,IAAI,aAAa,MAAM,KAAK,UAAU,GAAG,GAAG;AACzD,WAAK,SAAS,IAAI,aAAa,MAAM,KAAK;AAC1C,WAAK,WAAW,IAAI;AAEpB,WAAK,SAAS,WAAW,MAAM,KAAK;AAEpC,WAAK,UAAU;AACf,WAAK,KAAK;AACV,WAAK,QAAQ;AAEb,WAAK;;IAGT,QAAS;AAEL,cAAQ,KAAK,UAAU,QAAO,KAAK;;IAGvC,QAAS;AAEL,cAAQ,KAAK,UAAU,QAAO,KAAK;;IAGvC,QAAS;AAEL,cAAQ,KAAK,UAAU,QAAO,KAAK;;IAGvC;AAEI,YAAM,QAAQ,KAAK;AACnB,YAAM,SAAS,KAAK;AAEpB,mCAA6B,KAAK,UAAU,KAAK,UAAU,KAAK,OAAO;AAEvE,aAAO,OAAO;AACd,gBAAU,QAAQ;;IAGtB;AAEI,WAAK,OAAO,SAAS,aAAY,WAAW,aAAY;;IAK5D;AAEI,YAAM,SAAS,KAAK;AAEpB,aAAO,SAAS,aAAY,WAAW,aAAY;AAInD,UAAI,OAAO;AAEP,aAAK;;;IAIb;AAGI,YAAM,WAAW,KAAK,OAAO;AAE7B,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,cAAM,QAAQ,SAAS;;;IAM/B;AAEI,WAAK,SAAS;AACd,WAAK,MAAM;AACX,WAAK,OAAO;AACZ,WAAK,SAAS;AAEd,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,WAAK,WAAW;AAChB,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,WAAW;;;;;ACzHxB;;;;;;ACAA,AAEO;AAEH,WAAO;MACH,UAAU;MACV,SAAS;MACT,KAAK;MACL,SAAS;MACT,kBAAkB;;;;;ACT1B;;;;;;;;;;;;;;;;ACAA;IAsBI,YAAa,IAAe,IAAe,IAAe,IAAe,IAAe,IAAe,KAAgB,KAAgB,KAAgB,QAAgB;AAPvK,mBAAgB;AAChB,mBAAgB;AAEhB,kBAAe;AAMX,WAAK,UAAU,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI;AAC7D,WAAK,UAAU,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI;AAC7D,WAAK,UAAU,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI;AAE7D,WAAK,QAAQ,MAAM,IAAI,GAAG,IAAI;AAC9B,WAAK,QAAQ,MAAM,IAAI,GAAG,IAAI;AAC9B,WAAK,QAAQ,MAAM,IAAI,GAAG,IAAI;AAE9B,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,UAAU;AAEf,WAAK,eAAe,UAAU,KAAK,OAAO,KAAK;;IAGnD,SAAU,QAAe,QAAgB;AAErC,WAAK,QAAQ;AACb,WAAK,QAAQ;AAEb,WAAK,eAAe,UAAU,QAAO;;IAGzC,YAAa,KAAmB,KAAkB,WAAmB;AAEjE,YAAM,KAAK,KAAK;AAChB,YAAM,KAAK,KAAK;AAChB,YAAM,KAAK,KAAK;AAEhB,YAAM,KAAK,KAAK;AAChB,YAAM,KAAK,KAAK;AAChB,YAAM,KAAK,KAAK;AAEhB,YAAM,SAAQ,KAAK;AAEnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY;AAChB,UAAI,YAAY;AAEhB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY;AAChB,UAAI,YAAY;AAEhB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY;AAChB,UAAI,YAAY;AAEhB,aAAO;;;;;AC5Ff;;ACAA,AAGA,mBAAkB,MAAgB;AAE9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAE9B,WAAO,CAAE,GAAG,GAAG;;AAGnB,mBAAkB,MAAgB;AAE9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAE9B,WAAO,CAAE,GAAG;;AAGhB,wCAAuC;AAEnC,UAAM;MACF;MACA;MACA;QACA;AAMJ,UAAM,QAAQ,SAAS;AACvB,UAAM,QAAQ,QAAQ;AACtB,UAAM,aAAY,QAAQ;AAE1B,UAAM,SAAS,IAAI,cAAa,CAAE,uBAAW,WAAW,OAAO,mBAAmB,GAAG,kBAAkB;AAEvG,UAAM,MAAM,OAAO;AAEnB,QAAI,SAAS;AACb,QAAI,UAAU;AAEd,aAAS,IAAI,GAAG,IAAI,OAAO,KAAK;AAE5B,UAAI,YAAY,SAAS,IAAI;AAC7B,UAAI,YAAY,SAAS,IAAI;AAC7B,UAAI,YAAY,SAAS,IAAI;AAC7B,UAAI,YAAY,QAAQ,IAAI;AAC5B,UAAI,YAAY,QAAQ,IAAI;AAC5B,UAAI,YAAY,QAAQ,IAAI;AAC5B,UAAI,YAAY,IAAI,UAAU;AAC9B,UAAI,YAAY,IAAI,UAAU;AAE9B,iBAAW;;AAGf,WAAO,QAAQ;AAEf,WAAO;;AAGX,8BAA6B;AAEzB,UAAM;MACF;MACA;MACA;MACA;QACA;AAOJ,UAAM,SAAS,IAAI,cAAa,CAAE,WAAW,QAAQ,SAAS,GAAG,WAAW,OAAO,mBAAmB,GAAG,kBAAkB;AAE3H,UAAM,MAAM,OAAO;AAEnB,QAAI,SAAS;AAEb,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AAErC,YAAM,KAAK,QAAQ,IAAI;AACvB,YAAM,KAAK,QAAQ,IAAI;AACvB,YAAM,KAAK,QAAQ,IAAI;AAEvB,YAAM,KAAK,QAAQ,UAAU;AAC7B,YAAM,KAAK,QAAQ,UAAU;AAC7B,YAAM,KAAK,QAAQ,UAAU;AAE7B,YAAM,KAAK,QAAQ,SAAS;AAC5B,YAAM,KAAK,QAAQ,SAAS;AAC5B,YAAM,KAAK,QAAQ,SAAS;AAE5B,YAAM,MAAM,QAAQ,KAAK;AACzB,YAAM,MAAM,QAAQ,KAAK;AACzB,YAAM,MAAM,QAAQ,KAAK;AAEzB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,IAAI;AACpB,UAAI,YAAY,IAAI;AAEpB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,IAAI;AACpB,UAAI,YAAY,IAAI;AAEpB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,GAAG;AACnB,UAAI,YAAY,IAAI;AACpB,UAAI,YAAY,IAAI;;AAGxB,WAAO,QAAQ,QAAQ;AAEvB,WAAO;;AAGJ,mCAAiC;AAEpC,QAAI,KAAK,WAAW,KAAK,QAAQ,SAAS;AAEtC,aAAO,mBAAmB;;AAI1B,aAAO,6BAA6B;;;;;AC7I5C;IASI,YAAa;AAET,UAAI;AAEA,YAAI,KAAK,eAAe;AAEpB,eAAK,SAAS,wBAAuB;;AAIrC,eAAK,SAAS;;;;IAK1B;AAEI,WAAK,OAAO;;;;;AC1BpB;IA6DI,YAAa,cAAsB,UAAmB,MAAM,mBAA2B;AAX/E,6BAA0B;AAC1B,0BAAuB;AACvB,4BAAyB;AAEzB,oBAA0B;QAC9B,mBAAmB;QACnB,QAAQ;;AAOR,WAAK,eAAe;AACpB,WAAK,mBAAmB;AACxB,WAAK,UAAU;;IAGnB;AAEI,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB;AAEI,kBAAQ,KAAK;iBAEV;AAEH,iBAAO;;;;IAKnB;AAEI,YAAM,gBAAgB,CAAC;AAEnB,cAAM,eAAe,KAAK,QAAQ;AAElC,YAAI,eAAe;AAEf,iBAAO,KAAK,UAAU,GAAG;;AAG7B,eAAO;;AAGX,YAAM,QAAQ,KAAK,aAAa,MAAM;AAEtC,iBAAW,QAAQ;AAEf,cAAM,eAAe,cAAc;AAEnC,cAAM,YAAY,aACb,QAAQ,UAAU,KAClB,OACA,MAAM;AAEX,gBAAQ,UAAU,GAAG;eAEZ;AACD,iBAAK,YAAY;AACjB;eACC;AACD,iBAAK,WAAW;AAChB;eACC;AACD,iBAAK,kBAAkB;AACvB;eACC;AACD,iBAAK,mBAAmB;AACxB;eACC;AACD,iBAAK,kBAAkB;AACvB;eACC;AACD,iBAAK,4BAA4B;AACjC;eACC;AACD,iBAAK,aAAa;AAClB;eACC;AACD,iBAAK,YAAY;AACjB;eACC;AACD,iBAAK,YAAY;AACjB;;;AAKZ,WAAK,eAAe;AAEpB,aAAO,KAAK;;IAGR;AAEJ,UAAI,KAAK,OAAO,OAAO,WAAW;AAE9B,aAAK,OAAO,OAAO,KAAK;UACpB,OAAO;UACP,MAAM,KAAK;UACX,eAAe;UACf,eAAe;UACf,UAAU;;AAGd,aAAK,eAAe;AACpB,aAAK,iBAAiB;;AAG1B,aAAO,KAAK,OAAO,OAAO,KAAK,OAAO,OAAO,SAAS;;IAGlD,YAAa;AAEjB,YAAM,YAAY,UAAU,UAAU,IAAI,UAAU,KAAK,KAAK;AAE9D,WAAK,OAAO,OAAO,KAAK;QACpB,OAAO;QACP,MAAM;QACN,eAAe;QACf,eAAe;QACf,UAAU;;AAGd,WAAK,eAAe;AACpB,WAAK,iBAAiB;;IAGlB,WAAY;AAEhB,UAAI,UAAU,WAAW;AAErB,cAAM;;AAGV,WAAK,eAAe,UAAU;;IAG1B,kBAAmB;AAEvB,YAAM,MAAM,UAAU;AAEtB,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAClD,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAClD,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAElD,WAAK,eAAe,SAAS,KAAK,CAAE,GAAG,GAAG;;IAGtC,mBAAoB;AAExB,YAAM,MAAM,UAAU;AAEtB,UAAI,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAChD,UAAI,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAChD,UAAI,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAEhD,UAAI,MAAM;AAEN,YAAI;;AAGR,UAAI,MAAM;AAEN,YAAI;;AAGR,UAAI,MAAM;AAEN,YAAI;;AAGR,UAAI,KAAK;AAEL,YAAI,IAAI;;AAGZ,WAAK,eAAe,cAAc,KAAK,CAAE,GAAG,GAAG;;IAG3C,kBAAmB;AAEvB,YAAM,MAAM,UAAU;AAEtB,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAClD,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAClD,YAAM,IAAK,OAAO,IAAK,WAAW,UAAU,MAAM;AAElD,WAAK,eAAe,cAAc,KAAK,CAAE,GAAG,GAAG;;IAG3C,aAAc;AAElB,YAAM,gBAAgB,UAAU,SAAS;AAEzC,UAAI,gBAAgB;AAEhB,cAAM;;AAGV,YAAM,OAAsB;QACxB,OAAO,KAAK;QACZ,UAAU,KAAK;QACf,gBAAgB,KAAK;QACrB,UAAU;;AAGd,eAAS,IAAI,GAAG,IAAI,eAAe;AAE/B,cAAM,eAAe,UAAU,IAAI;AACnC,cAAM,eAAe,aAAa,MAAM;AACxC,cAAM,QAAQ,aAAa;AAE3B,YAAI,QAAQ,KAAK,QAAQ;AAErB,gBAAM;;AAGV,YAAI,cAAc;AAClB,YAAI,qBAAqB;AACzB,YAAI,oBAAoB;AAExB,sBAAc,SAAS,aAAa,IAAI;AAExC,YAAI,QAAQ,KAAK,aAAa,OAAO;AAEjC,+BAAqB,SAAS,aAAa,IAAI;;AAGnD,YAAI,QAAQ;AAER,8BAAoB,SAAS,aAAa,IAAI;;AAGlD,YAAI,gBAAgB;AAEhB,gBAAM;;AAKV,YAAI,cAAc;AAEd,wBAAc,KAAK,eAAe,SAAS,SAAS,IAAI;;AAG5D,8BAAsB;AACtB,uBAAe;AACf,6BAAqB;AAErB,aAAK,SAAS,KAAK;UACf;UACA;UACA;;;AAIR,WAAK,eAAe,MAAM,KAAK;;IAG3B,YAAa;AAEjB,UAAI,UAAU,UAAU;AAEpB,aAAK,OAAO,kBAAkB,KAAK,UAAU;;;IAI7C,YAAa;AAEjB,UAAI,UAAU,UAAU;AAEpB,aAAK,kBAAkB,UAAU;;;IAIjC,4BAA6B;AAEjC,UAAI,UAAU,WAAW;AAErB,cAAM;;AAGV,YAAM,cAAc,UAAU,GAAG,kBAAkB,QAAQ,IAAI,SAAS,UAAU,IAAI;AAEtF,WAAK,iBAAiB;;;;;AClV9B,AASO,4BAA2B,MAAc,UAAmB;AAE/D,UAAM,SAAS,IAAI,UAAS,MAAM;AAElC,UAAM,SAAS,OAAO;AAEtB,UAAM,SAA8B;AAEpC,WAAO,OAAO,QAAQ;AAElB,YAAM;QACF;QACA;QACA;QACA;UACA;AAEJ,UAAI,aAAa;AAEjB,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ;AAE9B,sBAAe,MAAM,GAAG,SAAS,WAAW,IAAK,IAAI;;AAGzD,YAAM,SAAS,IAAI,cAAa,CAAE,WAAW,YAAY,WAAW,OAAO,mBAAmB,GAAG,kBAAkB;AAEnH,YAAM,MAAM,OAAO;AAEnB,UAAI,SAAS;AAEb,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ;AAE9B,cAAM,OAAO,MAAM;AAEnB,cAAM,KAAK,KAAK,SAAS;AACzB,cAAM,KAAK,KAAK,SAAS;AACzB,cAAM,KAAK,KAAK,SAAS;AAEzB,cAAM,KAAK,SAAS,GAAG;AACvB,cAAM,KAAK,SAAS,GAAG;AACvB,cAAM,KAAK,SAAS,GAAG;AAEvB,cAAM,KAAK,cAAc,GAAG;AAC5B,cAAM,KAAK,cAAc,GAAG;AAC5B,cAAM,KAAK,cAAc,GAAG;AAE5B,cAAM,MAAM,cAAc,GAAG;AAC7B,cAAM,MAAM,cAAc,GAAG;AAC7B,cAAM,MAAM,cAAc,GAAG;AAE7B,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,IAAI;AACpB,YAAI,YAAY,IAAI;AAEpB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,IAAI;AACpB,YAAI,YAAY,IAAI;AAEpB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,GAAG;AACnB,YAAI,YAAY,IAAI;AACpB,YAAI,YAAY,IAAI;AAEpB,eAAO,SAAS;AAEhB,YAAI,KAAK,SAAS,WAAW;AAEzB,gBAAM,KAAK,KAAK,SAAS;AACzB,gBAAM,KAAK,SAAS,GAAG;AACvB,gBAAM,KAAK,cAAc,GAAG;AAC5B,gBAAM,MAAM,cAAc,GAAG;AAE7B,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,IAAI;AACpB,cAAI,YAAY,IAAI;AAEpB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,IAAI;AACpB,cAAI,YAAY,IAAI;AAEpB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,GAAG;AACnB,cAAI,YAAY,IAAI;AACpB,cAAI,YAAY,IAAI;AAEpB,iBAAO,SAAS;;;AAIxB,aAAO,KAAK,CAAE,MAAM,MAAM,MAAM;;AAIpC,WAAO;;;;AClIX,AAIA,oBAAkB,MAAgB;AAE9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAE9B,WAAO,CAAE,GAAG,GAAG;;AAGnB,oBAAkB,MAAgB;AAE9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAC9B,UAAM,IAAI,KAAO,QAAQ,IAAK;AAE9B,WAAO,CAAE,GAAG;;AAGT,iCAAgC;AAEnC,UAAM;MACF;MACA;MACA;MACA;QACA;AAOJ,UAAM,QAAQ;AAEd,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AAErC,YAAM,KAAK,QAAQ,IAAI;AACvB,YAAM,KAAK,QAAQ,IAAI;AACvB,YAAM,KAAK,QAAQ,IAAI;AAEvB,YAAM,KAAK,SAAQ,UAAU;AAC7B,YAAM,KAAK,SAAQ,UAAU;AAC7B,YAAM,KAAK,SAAQ,UAAU;AAE7B,YAAM,KAAK,SAAQ,SAAS;AAC5B,YAAM,KAAK,SAAQ,SAAS;AAC5B,YAAM,KAAK,SAAQ,SAAS;AAE5B,YAAM,MAAM,SAAQ,KAAK;AACzB,YAAM,MAAM,SAAQ,KAAK;AACzB,YAAM,MAAM,SAAQ,KAAK;AAEzB,YAAM,IAAI,IAAI,oBACV,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,KAC5B,CAAE,GAAG,IAAI,IAAI,GAAG,IAAI,KACpB,CAAE,GAAG,IAAI,IAAI,GAAG,IAAI,KACpB,CAAE,GAAG,IAAI,IAAI,GAAG,IAAI,KACpB;AAGJ,YAAM,KAAK;;AAGf,WAAO;;;;ACvEX;;ACAA;;;;;;;;;;;;ACAA,AAGO,0BAAwB,MAAkB,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,OAAe,GAAG,OAAe,IAAI,QAAgB,GAAG,SAAiB,GAAG,QAAgB,GAAG,QAAgB,GAAG,QAAgB;AAEzQ,QAAI,CAAC;AAED,aAAO;;AAGX,UAAM;MACF;MACA;MACA;MACA;MACA;QACA;AAEJ,UAAM,eAAe,QAAQ;AAC7B,UAAM,gBAAgB,SAAS;AAE/B,UAAM,YAAY,QAAQ;AAC1B,UAAM,aAAa,SAAS;AAC5B,UAAM,YAAY,QAAQ;AAE1B,UAAM,SAAS,QAAQ;AACvB,UAAM,SAAS,QAAQ;AAEvB,QAAI,gBAAgB;AAEpB,UAAM,SAAS;AAIf,aAAS,KAAK,GAAG,KAAK,QAAQ;AAE1B,YAAM,KAAK,KAAK,gBAAgB;AAEhC,eAAS,KAAK,GAAG,KAAK,QAAQ;AAE1B,cAAM,KAAK,KAAK,eAAe;AAI/B,eAAQ,KAAM,KAAK;AACnB,eAAQ,KAAM,KAAK;AACnB,eAAQ,KAAM;AAGd,iBAAS,KAAK,IAAI,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAIvD,eAAQ,KAAM;AACd,eAAQ,KAAM;AACd,eAAQ,KAAM,QAAQ,IAAI,IAAI;AAG9B,gBAAQ,KAAK,OAAO,IAAI,OAAO,IAAI,OAAO;AAI1C,YAAI,KAAK,KAAK;AACd,YAAI,KAAK,IAAK,KAAK;AAInB,yBAAiB;;;AAUzB,aAAS,KAAK,GAAG,KAAK,OAAO;AAEzB,eAAS,KAAK,GAAG,KAAK,OAAO;AAEzB,cAAM,IAAI,mBAAmB,KAAK,SAAS;AAC3C,cAAM,IAAI,mBAAmB,KAAK,SAAU,MAAK;AACjD,cAAM,IAAI,mBAAoB,MAAK,KAAK,SAAU,MAAK;AACvD,cAAM,IAAI,mBAAoB,MAAK,KAAK,SAAS;AAIjD,gBAAQ,KAAK,GAAG,GAAG;AACnB,gBAAQ,KAAK,GAAG,GAAG;;;AAK3B,SAAK,oBAAoB;AAEzB,WAAO;;;;AChGX,AAIO,wBAAsB,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB,GAAG,QAAgB,GAAG,gBAAwB,GAAG,iBAAyB,GAAG,gBAAwB;AAE/M,UAAM,OAAO;AAEb,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,OAAO,QAAQ,OAAO,eAAe;AACnF,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,QAAQ,CAAC,OAAO,eAAe;AACnF,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,OAAO,QAAQ,eAAe;AACjF,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,OAAO,CAAC,QAAQ,eAAe;AACnF,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,QAAQ,OAAO,eAAe;AAClF,mBAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,OAAO,QAAQ,CAAC,OAAO,eAAe;AAEpF,WAAO;;;;ACfX;IAyCI,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY;AA7BvD,kBAAe;AACf,kBAAe;AAYf,wBAAsB;AACtB,gCAA8B;AAE9B,wBAAsB;AACtB,gCAA8B;AAC9B,+BAA6B;AAE7B,mBAAgB;AAChB,wBAAqB;AAMrB,qBAAmB;AAIf,WAAK,WAAW;AAEhB,WAAK,SAAS,IAAI;AAElB,WAAK,YAAY,IAAI,sBAAqB,MAAM,GAAG,GAAG;AAItD,WAAK,QAAQ,aAAY;;IAK7B;AAEI,aAAQ,KAAK,WAAW,KAAK;;IAGjC,QAAS;AAEL,aAAQ,MAAK,QAAQ,UAAU;;IAGnC,WAAY;AAER,UAAI,KAAK,QAAQ;AAEb,aAAK,SAAS;;AAGlB,aAAO;;IAGX,SAAU,MAAc;AAEpB,UAAI,CAAC,KAAK,QAAQ;AAEd,aAAK,SAAS;AACd,aAAK,aAAa,cAAa;;AAGnC,UAAI,CAAC,KAAK,QAAQ;AAEd,aAAK,SAAS;;AAGlB,aAAO;;IAGX,OAAQ,OAAe;AAEnB,UAAI,KAAK;AAEL,cAAM,WAAW,KAAK;AAEtB,iBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,gBAAM,QAAQ,SAAS;AAEvB,cAAI,SAAS,MAAM;AAEf,kBAAM,OAAO,OAAO;;;;AAKhC,WAAK,WAAW,OAAO;;IAI3B,WAAY,OAAe;;IAO3B,SAAkC;;IAKlC,aAAsC;;QAMlC;AAEA,aAAO,KAAK,SAAS;;IAGzB,QAAS;AAEL,UAAI;;;AASJ,WAAK,MAAM,cAAc;AAEzB,WAAK,UAAU;AAIf,WAAK,OAAO;AAEZ,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,WAAW;;;;;AC7JxB;IAqBI,YAAa,UAAyB;AAJtC,qBAAmB;AAMf,YAAM;QACF,UAAU,CAAE,GAAG,GAAG;QAClB,UAAU,CAAE,GAAG,GAAG;QAClB,WAAW,CAAE,GAAG,GAAG;QACnB,QAAQ;UACR;AAEJ,YAAM,WAAW,MAAM,KAAK;AAE5B,WAAK,UAAU,IAAI,YAAY,UAAU,UAAU;AACnD,WAAK,UAAU,IAAI,YAAY,UAAU,UAAU;AACnD,WAAK,WAAW,IAAI,YAAY,UAAU,UAAU;AAEpD,WAAK,SAAS;;QAGd;AAEA,aAAO,KAAK;;QAGZ,MAAO;AAEP,WAAK,SAAS,MAAM,OAAO,GAAG;AAE9B,WAAK,UAAU;;IAGX;AAEJ,WAAK,UAAU;;IAGnB,YAAa;AAKT,aAAO,WAAW,oBAAoB,KAAK,QAAQ;AACnD,aAAO,WAAW,oBAAoB,KAAK,QAAQ;AACnD,aAAO,WAAW,qBAAqB,KAAK,SAAS;AACrD,aAAO,WAAW,kBAAkB,KAAK,SAAS;;IAGtD;AAEI,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,WAAK,SAAS;;;;;ACvEtB,AAIO,qBAAqC,SAAkB,QAAkC;AAE5F,UAAM,SAAQ,QAAQ,SAAS;AAE/B,aAAS,QAAQ;AAEb,UAAI,CAAC,SAAS,WAAU,MAAM;AAE1B;;AAGJ,YAAM,QAAQ;AACd,YAAM,aAAa;;AAGvB,WAAO;;;;ACnBX,AAMO,uBAAuC,KAAuB,WAAmC;AAEpG,QAAI,CAAC;AAGD,eAAS,QAAQ;AAEb,cAAM,UAAU;AAChB,cAAM,QAAQ;AACd,cAAM,aAAa;;;AAKvB,UAAI;AAEJ,UAAI,eAAe;AAEf,kBAAU;;AAIV,kBAAU,wBAAuB,MAAM,IAAI;;AAG/C,UAAI,CAAC;AAED,gBAAQ,KAAK,wBAAwB;;AAIrC,iBAAS,QAAQ;AAEb,gBAAM,UAAU;;AAGpB,kBAAS,SAAS,QAAO,GAAG;;;AAIpC,WAAO;;;;AC9CX,sBAY0B;IAWtB,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,UAAqB,WAAqB,IAAI;AAEpG,YAAM,GAAG,GAAG;AAThB,wBAAsB;AAKtB,uBAAqB;AAMjB,WAAK,WAAW;AAChB,WAAK,WAAW;AAEhB,WAAK,WAAW;;IAGpB,WAAY,KAAuB;AAE/B,kBAAW,KAAK,QAAO;AAEvB,aAAO;;IAGX,SAAU;AAEN,gBAAS,KAAK,SAAS,KAAK;AAE5B,aAAO;;IAGX,YAAa;AAET,WAAK,WAAW;AAEhB,aAAO;;IAGX,SAAkC;AAE9B,YAAM,SAAS,WAAW,cAAc;AAExC,aAAO,WAAW,gBAAgB,KAAK,UAAU,MAAM;AACvD,aAAO,WAAW,iBAAiB,KAAK,UAAU,OAAO;AAEzD,UAAI,KAAK;AAEL,cAAM,eAAe,YAAe,YAAY,KAAK;AAErD,eAAO,WAAW,YAAY;;AAGlC,WAAK,SAAS,YAAY;AAE1B,kBAAY,YAAY,KAAK,SAAS;;IAG1C,QAAS;AAEL,YAAM,QAAQ;AAEd,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,WAAK,aAAa;;;;;ACjF1B,oBAIyB;IAErB,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB,GAAG,QAAgB,GAAG,gBAAwB,GAAG,iBAAyB,GAAG,gBAAwB;AAE/L,YAAM,OAAO,aAAY,GAAG,GAAG,GAAG,OAAO,QAAQ,OAAO,eAAe,gBAAgB;AAEvF,YAAM,WAAW,IAAI,UAAS;AAE9B,YAAM,GAAG,GAAG,GAAG;;;;;ACZvB,AAMA,uBAAsB,KAAc,MAAiB,OAAe,YAAoB,WAAmB,cAAsB,gBAAwB,YAAoB;AAGzK,UAAM;MACF;MACA;MACA;MACA;QACA;AAEJ,UAAM,KAAK,IAAI;AACf,UAAM,SAAS,IAAI;AAEnB,UAAM,SAAU,QAAQ,OAAQ,YAAY;AAC5C,UAAM,OAAQ,QAAQ,OAAQ,IAAI;AAGlC,UAAM,mBAAmB;AAMzB,aAAS,IAAI,GAAG,KAAK,gBAAgB;AAGjC,eAAS,KAAK,GAAG,aAAa,MAAM;AAGpC,cAAQ,KAAK,GAAG,MAAM;AAGtB,UAAI,KAAK,KAAK;AAGd;;AAIJ,UAAM,iBAAiB;AAIvB,aAAS,IAAI,GAAG,KAAK,gBAAgB;AAEjC,YAAM,IAAI,IAAI;AACd,YAAM,QAAQ,IAAI,cAAc;AAEhC,YAAM,WAAW,KAAK,IAAI;AAC1B,YAAM,WAAW,KAAK,IAAI;AAG1B,aAAO,IAAI,SAAS;AACpB,aAAO,IAAI,aAAa;AACxB,aAAO,IAAI,SAAS;AAEpB,eAAS,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAGzC,cAAQ,KAAK,GAAG,MAAM;AAGtB,SAAG,IAAK,WAAW,MAAO;AAC1B,SAAG,IAAK,WAAW,MAAM,OAAQ;AACjC,UAAI,KAAK,GAAG,GAAG,GAAG;AAGlB;;AAKJ,aAAS,IAAI,GAAG,IAAI,gBAAgB;AAEhC,YAAM,IAAI,mBAAmB;AAC7B,YAAM,IAAI,iBAAiB;AAE3B,UAAI;AAGA,gBAAQ,KAAK,GAAG,IAAI,GAAG;;AAKvB,gBAAQ,KAAK,IAAI,GAAG,GAAG;;;AAI/B,WAAO;;AAGJ,6BAA2B,YAAoB,GAAG,eAAuB,GAAG,SAAiB,GAAG,iBAAyB,GAAG,iBAAyB,GAAG,YAAqB,OAAO,aAAqB,GAAG,cAAsB,KAAK,KAAK;AAE/O,UAAM,OAAO;AAGb,UAAM;MACF;MACA;MACA;MACA;QACA;AAGJ,QAAI,QAAQ;AAEZ,UAAM,aAAa;AACnB,UAAM,aAAa,SAAS;AAE5B,UAAM,SAAS,IAAI;AACnB,UAAM,SAAS,IAAI;AAGnB,UAAM,QAAS,gBAAe,aAAa;AAI3C,aAAS,IAAI,GAAG,KAAK,gBAAgB;AAEjC,YAAM,WAAW;AAEjB,YAAM,IAAI,IAAI;AAId,YAAM,SAAS,IAAK,gBAAe,aAAa;AAEhD,eAAS,IAAI,GAAG,KAAK,gBAAgB;AAEjC,cAAM,IAAI,IAAI;AAEd,cAAM,QAAQ,IAAI,cAAc;AAEhC,cAAM,WAAW,KAAK,IAAI;AAC1B,cAAM,WAAW,KAAK,IAAI;AAG1B,eAAO,IAAI,SAAS;AACpB,eAAO,IAAI,CAAE,IAAI,SAAS;AAC1B,eAAO,IAAI,SAAS;AAEpB,iBAAS,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAGzC,eAAO,IAAI,UAAU,OAAO;AAE5B,kBAAU,QAAQ;AAElB,gBAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAGxC,YAAI,KAAK,GAAG,IAAI;AAGhB,iBAAS,KAAK;;AAIlB,iBAAW,KAAK;;AAKpB,aAAS,IAAI,GAAG,IAAI,gBAAgB;AAEhC,eAAS,IAAI,GAAG,IAAI,gBAAgB;AAIhC,cAAM,IAAI,WAAW,GAAG;AACxB,cAAM,IAAI,WAAW,IAAI,GAAG;AAC5B,cAAM,IAAI,WAAW,IAAI,GAAG,IAAI;AAChC,cAAM,IAAI,WAAW,GAAG,IAAI;AAG5B,gBAAQ,KAAK,GAAG,GAAG;AACnB,gBAAQ,KAAK,GAAG,GAAG;;;AAO3B,QAAI,CAAC;AAED,UAAI,YAAY;AAEZ,gBAAQ,YAAY,MAAM,MAAM,OAAO,YAAY,WAAW,cAAc,gBAAgB,YAAY;;AAG5G,UAAI,eAAe;AAEf,oBAAY,OAAO,MAAM,OAAO,YAAY,WAAW,cAAc,gBAAgB,YAAY;;;AAIzG,SAAK,mBAAmB,SAAS;AAEjC,WAAO;;;;AC7MX,AAGO,yBAAuB,SAAiB,GAAG,SAAiB,GAAG,iBAAyB,GAAG,iBAAyB,GAAG,YAAqB,OAAO,aAAqB,GAAG,cAAsB,KAAK,KAAK;AAE9M,WAAO,kBAAiB,GAAG,QAAQ,QAAQ,gBAAgB,gBAAgB,WAAW,YAAY;;;;ACLtG,qBAI0B;IAEtB,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,SAAiB,GAAG,SAAiB,GAAG,iBAAyB,GAAG,iBAAyB,GAAG,YAAqB,OAAO,aAAqB,GAAG,cAAsB,KAAK,KAAK;AAE1O,YAAM,OAAO,cAAa,QAAQ,QAAQ,gBAAgB,gBAAgB,WAAW,YAAY;AAEjG,YAAM,WAAW,IAAI,UAAS;AAE9B,YAAM,GAAG,GAAG,GAAG;;;;;ACZvB;IAkCI,YAAa,UAAsB;AAFnC,qBAAmB;AAIf,YAAM;QACF,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,UAAU,CAAE,GAAG,GAAG;QAClB,UAAU,CAAE,GAAG,GAAG;QAClB,WAAW,CAAE,GAAG,GAAG;UACnB;AAEJ,YAAM,WAAW,MAAM,KAAK;AAE5B,WAAK,WAAW,IAAI,aAAa,UAAU,GAAG,GAAG;AAEjD,WAAK,UAAU,IAAI,YAAY,UAAU,UAAU;AACnD,WAAK,UAAU,IAAI,YAAY,UAAU,UAAU;AACnD,WAAK,WAAW,IAAI,YAAY,UAAU,UAAU;;IAGxD,YAAa;AAIT,aAAO,WAAW,kBAAkB,KAAK,SAAS;AAClD,aAAO,WAAW,iBAAiB,KAAK,QAAQ;AAChD,aAAO,WAAW,iBAAiB,KAAK,QAAQ;AAChD,aAAO,WAAW,kBAAkB,KAAK,SAAS;;IAG9C;AAEJ,WAAK,UAAU;;IAGnB;AAEI,WAAK,SAAS;AAEd,WAAK,QAAQ;AACb,WAAK,QAAQ;AACb,WAAK,SAAS;;;;;AC3EtB,uBAI2B;IAEvB,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB,GAAG,gBAAwB,GAAG,iBAAyB;AAEjJ,YAAM,OAAO,eAAc,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,QAAQ,GAAG,eAAe;AAE3F,YAAM,WAAW,IAAI,UAAS;AAE9B,YAAM,GAAG,GAAG,GAAG;;;;;ACZvB,+BAamC;IAK/B;AAEI;AAEA,WAAK,OAAO;AAEZ,WAAK,aAAa;AAClB,WAAK,qBAAqB;AAC1B,WAAK,oBAAoB;AAEzB,WAAK,SAAS,aAAY;AAE1B,YAAM,QAAQ;AACd,YAAM,SAAS;AACf,YAAM,aAAa;AAInB,YAAM,UAAU,IAAI,SAAQ,MAAM,QAAQ,YAAY,SAAS;AAE/D,YAAM,UAAU,IAAI,kBAAiB;AAErC,cAAQ,UAAU;AAElB,cAAQ,cAAc,mBAAkB,QAAQ;AAChD,cAAQ,cAAc,mBAAkB,QAAQ,aAAa,QAAQ,OAAO,QAAQ;AAEpF,WAAK,UAAU;AACf,WAAK,cAAc,QAAQ;;IAG/B,SAAkC;AAE9B,UAAI,KAAK,cAAc;AAEnB,cAAM;AAEN,YAAI,CAAC,KAAK,qBAAqB,KAAK,QAAQ,aAAY;AAGpD,yBAAe,YAAY,KAAK,aAAa;AAE7C,eAAK,WAAW,aAAY;;AAK5B,yBAAe,YAAY,KAAK,aAAa;AAE7C,eAAK,aAAa;;;;IAK9B,aAAsC;AAElC,YAAM;AAEN,qBAAe;AAEf,wBAAiB,YAAY,KAAK;AAElC,WAAK,WAAW,aAAY;;;;;AChFpC,AAKO,2BAAyB,SAAS,GAAG,gBAAgB,GAAG,iBAAiB,GAAG,WAAW,GAAG,YAAY,KAAK,KAAK,GAAG,aAAa,GAAG,cAAc,KAAK;AAEzJ,oBAAgB,KAAK,IAAI,GAAG,KAAK,MAAM,kBAAkB;AACzD,qBAAiB,KAAK,IAAI,GAAG,KAAK,MAAM,mBAAmB;AAE3D,UAAM,WAAW,KAAK,IAAI,aAAa,aAAa,KAAK;AAEzD,UAAM,OAAO;AAGb,UAAM;MACF;MACA;MACA;MACA;QACA;AAEJ,QAAI,QAAQ;AAEZ,UAAM,OAAO;AAEb,UAAM,SAAS,IAAI;AACnB,UAAM,SAAS,IAAI;AAInB,aAAS,KAAK,GAAG,MAAM,gBAAgB;AAEnC,YAAM,cAAc;AAEpB,YAAM,IAAI,KAAK;AAIf,UAAI,UAAU;AAEd,UAAI,OAAO,KAAK,eAAe;AAE3B,kBAAU,MAAM;iBAEX,OAAO,kBAAkB,YAAY,KAAK;AAE/C,kBAAU,OAAQ;;AAGtB,eAAS,KAAK,GAAG,MAAM,eAAe;AAElC,cAAM,IAAI,KAAK;AAIf,eAAO,IAAI,CAAC,SAAS,KAAK,IAAI,WAAW,IAAI,aAAa,KAAK,IAAI,aAAa,IAAI;AACpF,eAAO,IAAI,SAAS,KAAK,IAAI,aAAa,IAAI;AAC9C,eAAO,IAAI,SAAS,KAAK,IAAI,WAAW,IAAI,aAAa,KAAK,IAAI,aAAa,IAAI;AAEnF,iBAAS,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAIzC,kBAAU,QAAQ;AAElB,gBAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAIxC,YAAI,KAAK,IAAI,SAAS,IAAI;AAE1B,oBAAY,KAAK;;AAGrB,WAAK,KAAK;;AAKd,aAAS,KAAK,GAAG,KAAK,gBAAgB;AAElC,eAAS,KAAK,GAAG,KAAK,eAAe;AAEjC,cAAM,IAAI,KAAM,IAAM,KAAK;AAC3B,cAAM,IAAI,KAAM,IAAM;AACtB,cAAM,IAAI,KAAM,KAAK,GAAK;AAC1B,cAAM,IAAI,KAAM,KAAK,GAAK,KAAK;AAE/B,YAAI,OAAO,KAAK,aAAa;AAEzB,kBAAQ,KAAK,GAAG,GAAG;;AAGvB,YAAI,OAAO,iBAAiB,KAAK,WAAW,KAAK;AAE7C,kBAAQ,KAAK,GAAG,GAAG;;;;AAK/B,SAAK,mBAAmB,SAAS;AAEjC,WAAO;;;;ACvGX,wBAI4B;IAExB,YAAa,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG,SAAS,GAAG,gBAAgB,GAAG,iBAAiB,GAAG,WAAW,GAAG,YAAY,KAAK,KAAK,GAAG,aAAa,GAAG,cAAc,KAAK;AAEnL,YAAM,OAAO,gBAAe,QAAQ,eAAe,gBAAgB,UAAU,WAAW,YAAY;AAEpG,YAAM,WAAW,IAAI,UAAS;AAE9B,YAAM,GAAG,GAAG,GAAG;;;;;ACZvB;;;;;;;;;;;;;;;;ACAA;;;;;AAkBO,gBAAe;AAElB,WAAQ,OAAO,SAAS,IAAK,KAAK,KAAK,OAAO,SAAS,OAAO,SAAS;;;;ACpB3E;;;;;AAoBO,qBAAmB,QAAiB,GAAW;AAGlD,QAAI,OAAO,SAAS,KAAK,KAAK,OAAO,QAAQ,KAAK,OAAO,SAAS,KAAK,OAAO,OAAO,KAAK,OAAO;AAE7F,YAAM,KAAM,QAAO,IAAI,KAAM,QAAO,IAAI;AACxC,YAAM,KAAM,QAAO,IAAI,KAAM,QAAO,IAAI;AAExC,aAAQ,KAAK,MAAQ,OAAO,SAAS,OAAO;;AAI5C,aAAO;;;;;AChCf;;;;;;IAiCI,YAAa,IAAY,GAAG,IAAY,GAAG,SAAiB;AAExD,WAAK,IAAI,GAAG,GAAG;;IAGnB,IAAK,IAAY,GAAG,IAAY,GAAG,SAAiB;AAEhD,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,SAAS;AAEd,aAAO;;IAGX,SAAU,GAAW;AAEjB,aAAO,UAAS,MAAM,GAAG;;QAGzB;AAEA,aAAO,KAAK;;QAGZ,OAAQ;AAER,WAAK,UAAU;AACf,WAAK,YAAY,QAAQ;;QAGzB;AAEA,aAAO,KAAK;;QAGZ,SAAU;AAEV,WAAK,YAAY;AACjB,WAAK,UAAU,QAAQ;;QAGvB;AAEA,aAAO,KAAK,IAAI,KAAK;;QAGrB,KAAM;AAEN,WAAK,IAAI,QAAQ,KAAK;;QAGtB;AAEA,aAAO,KAAK,IAAI,KAAK;;QAGrB,MAAO;AAEP,WAAK,IAAI,QAAQ,KAAK;;QAGtB;AAEA,aAAO,KAAK,IAAI,KAAK;;QAGrB,IAAK;AAEL,WAAK,IAAI,QAAQ,KAAK;;QAGtB;AAEA,aAAO,KAAK,IAAI,KAAK;;QAGrB,OAAQ;AAER,WAAK,IAAI,QAAQ,KAAK;;;;;AC/G9B;;;;;AAkBO,yBAAwB;AAE3B,WAAO,IAAK,MAAK,KAAK,OAAO;;;;ACpBjC;;;;;AAuBO,8BAA6B,QAAiB,QAAe,MAAY,IAAI;AAEhF,WAAO,IAAI,IACP,OAAO,IAAK,OAAO,SAAS,KAAK,IAAI,SACrC,OAAO,IAAK,OAAO,SAAS,KAAK,IAAI;;;;AC3B7C;;;;;AAmBO,iBAAgB;AAEnB,WAAO,IAAI,OAAO,OAAO,GAAG,OAAO,GAAG,OAAO;;;;ACrBjD;;;;;AAqBO,yBAAwB,QAAiB;AAE5C,WAAO,UAAS,QAAQ,MAAM,GAAG,MAAM;;;;ACvB3C;;;;;AAqBO,wBAAuB,QAAiB;AAE3C,WACI,UAAS,QAAQ,KAAK,GAAG,KAAK,MAC9B,UAAS,QAAQ,KAAK,OAAO,KAAK,MAClC,UAAS,QAAQ,KAAK,GAAG,KAAK,WAC9B,UAAS,QAAQ,KAAK,OAAO,KAAK;;;;AC3B1C;;;;;AAsBO,qBAAmB,QAAiB;AAEvC,WAAO,KAAK,IAAI,OAAO,GAAG,OAAO,GAAG,OAAO;;;;ACxB/C;;;;;AAoBO,kBAAiB,QAAiB;AAErC,WACI,OAAO,MAAM,UAAU,KACvB,OAAO,MAAM,UAAU,KACvB,OAAO,WAAW,UAAU;;;;ACzBpC;;;;;AAsBO,qBAAoB,QAAiB,MAAiB,IAAI;AAE7D,WAAO,IAAI,IACP,OAAO,MACP,OAAO,KACP,OAAO,UACP,OAAO;;;;AC5Bf;;;;;AA4BO,oBAAmB,QAAiB,UAAkB,MAAY,IAAI;AAEzE,UAAM,SAAQ,aAAY,UAAU,GAAG,WAAW;AAElD,WAAO,mBAAmB,QAAQ,QAAO;;;;AChC7C;;;;;AA2BO,qBAAoB,QAAiB,MAAc,WAAmB,GAAG,MAAc;AAG1F,QAAI,CAAC;AAED,iBAAW,cAAc,UAAU;;AAGvC,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,YAAM,SAAQ,aAAY,IAAI,UAAU,GAAG,WAAW;AAEtD,UAAI,KAAK,mBAAmB,QAAQ;;AAGxC,WAAO;;;;AC1CX;;;;;AAsBO,kBAAiB,QAAiB,GAAW;AAEhD,WAAO,KAAK;AACZ,WAAO,KAAK;AAEZ,WAAO;;;;AC3BX;;;;;AAsBO,uBAAsB,QAAiB;AAE1C,WAAO,KAAK,MAAM;AAClB,WAAO,KAAK,MAAM;AAElB,WAAO;;;;AC3BX;;;;;AAsBO,kBAAiB,QAAiB,MAAY,IAAI;AAErD,UAAM,IAAI,IAAI,KAAK,KAAK,KAAK;AAC7B,UAAM,IAAI,KAAK,WAAW,KAAK;AAC/B,UAAM,IAAK,IAAI,IAAK,IAAI,IAAI;AAC5B,UAAM,IAAI,IAAI,KAAK,IAAI;AACvB,UAAM,IAAI,IAAI,KAAK,IAAI;AAEvB,WAAO,IAAI,IACP,OAAO,IAAK,IAAI,OAAO,QACvB,OAAO,IAAK,IAAI,OAAO;;;;AChC/B;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAkBO,iBAAe;AAElB,QAAK,QAAQ,SAAS,KAAK,QAAQ,UAAU;AAEzC,aAAO;;AAIX,WAAQ,QAAQ,mBAAmB,QAAQ,mBAAmB,KAAK;;;;AC1BvE;;;;;AAkBO,0BAAwB;AAE3B,UAAM,KAAK,QAAQ,QAAQ;AAC3B,UAAM,KAAK,QAAQ,SAAS;AAC5B,UAAM,IAAI,KAAK,IAAK,KAAK,IAAK,KAAK,KAAK,IAAK,KAAK,IAAK;AAEvD,WAAQ,KAAK,KAAM,MAAK,MAAQ,KAAM,IAAI,IAAM,MAAK,KAAK,KAAK,IAAK,IAAI;;;;ACxB5E;;;;;AAuBO,+BAA6B,SAAmB,QAAe,MAAY,IAAI;AAElF,UAAM,YAAY,QAAQ,QAAQ;AAClC,UAAM,aAAa,QAAQ,SAAS;AAEpC,WAAO,IAAI,IACP,QAAQ,IAAI,YAAY,KAAK,IAAI,SACjC,QAAQ,IAAI,aAAa,KAAK,IAAI;;;;AC9B1C;;;;;AAoBO,qBAAmB,SAAmB,GAAW;AAEpD,QAAI,QAAQ,SAAS,KAAK,QAAQ,UAAU;AAExC,aAAO;;AAIX,QAAI,QAAU,KAAI,QAAQ,KAAK,QAAQ;AACvC,QAAI,QAAU,KAAI,QAAQ,KAAK,QAAQ;AAEvC,aAAS;AACT,aAAS;AAET,WAAQ,QAAQ,QAAQ;;;;AClC5B;;;;;;IAiCI,YAAa,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAE3E,WAAK,IAAI,GAAG,GAAG,OAAO;;IAG1B,IAAK,IAAY,GAAG,IAAY,GAAG,QAAgB,GAAG,SAAiB;AAEnE,WAAK,IAAI;AACT,WAAK,IAAI;AACT,WAAK,QAAQ;AACb,WAAK,SAAS;AAEd,aAAO;;IAcX,SAAU,GAAW;AAEjB,aAAO,UAAS,MAAM,GAAG;;IAW7B;AAEI,aAAO,KAAK,IAAI,KAAK,OAAO,KAAK,UAAU;;IAW/C;AAEI,aAAO,KAAK,IAAI,KAAK,OAAO,KAAK,UAAU;;QAG3C;AAEA,aAAO,KAAK,IAAK,KAAK,QAAQ;;QAG9B,KAAM;AAEN,WAAK,IAAI,QAAS,KAAK,QAAQ;;QAG/B;AAEA,aAAO,KAAK,IAAK,KAAK,QAAQ;;QAG9B,MAAO;AAEP,WAAK,IAAI,QAAS,KAAK,QAAQ;;QAG/B;AAEA,aAAO,KAAK,IAAK,KAAK,SAAS;;QAG/B,IAAK;AAEL,WAAK,IAAI,QAAS,KAAK,SAAS;;QAGhC;AAEA,aAAO,KAAK,IAAK,KAAK,SAAS;;QAG/B,OAAQ;AAER,WAAK,IAAI,QAAS,KAAK,SAAS;;;;;AC/HxC;;;;;AAmBO,kBAAgB;AAEnB,WAAO,IAAI,SAAQ,OAAO,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO;;;;ACrBhE;;;;;AAqBO,0BAAwB,SAAmB;AAE9C,WAAO,UAAS,SAAS,MAAM,GAAG,MAAM;;;;ACvB5C;;;;;AAqBO,yBAAuB,SAAmB;AAE7C,WACI,UAAS,SAAS,KAAK,GAAG,KAAK,MAC/B,UAAS,SAAS,KAAK,OAAO,KAAK,MACnC,UAAS,SAAS,KAAK,GAAG,KAAK,WAC/B,UAAS,SAAS,KAAK,OAAO,KAAK;;;;AC3B3C;;;;;AAsBO,qBAAmB,QAAkB;AAExC,WAAO,KAAK,IAAI,OAAO,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO;;;;ACxB7D;;;;;AAoBO,mBAAiB,SAAmB;AAEvC,WACI,QAAQ,MAAM,UAAU,KACxB,QAAQ,MAAM,UAAU,KACxB,QAAQ,UAAU,UAAU,SAC5B,QAAQ,WAAW,UAAU;;;;AC1BrC;;;;;AAsBO,sBAAoB,SAAmB,MAAiB,IAAI;AAE/D,WAAO,IAAI,IACP,QAAQ,MACR,QAAQ,KACR,QAAQ,OACR,QAAQ;;;;AC5BhB;;;;;AA4BO,qBAAmB,SAAmB,UAAkB,MAAY,IAAI;AAE3E,UAAM,SAAQ,aAAY,UAAU,GAAG,WAAW;AAElD,WAAO,oBAAmB,SAAS,QAAO;;;;AChC9C;;;;;AA6BO,sBAAoB,SAAmB,MAAc,WAAmB,GAAI,MAAc;AAG7F,QAAI,CAAC;AAED,iBAAW,eAAc,WAAW;;AAGxC,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,YAAM,SAAQ,aAAY,IAAI,UAAU,GAAG,WAAW;AAEtD,UAAI,KAAK,oBAAmB,SAAS;;AAGzC,WAAO;;;;AC5CX;;;;;AAsBO,mBAAiB,SAAmB,GAAW;AAElD,YAAQ,KAAK;AACb,YAAQ,KAAK;AAEb,WAAO;;;;AC3BX;;;;;AAsBO,wBAAsB,SAAmB;AAE5C,YAAQ,KAAK,MAAM;AACnB,YAAQ,KAAK,MAAM;AAEnB,WAAO;;;;AC3BX;;;;;AAsBO,mBAAiB,SAAmB,MAAY,IAAI;AAEvD,UAAM,IAAI,KAAK,WAAW,KAAK,KAAK;AACpC,UAAM,IAAI,KAAK,KAAK,KAAK;AAEzB,QAAI,IAAI,QAAQ,IAAM,IAAI,KAAK,IAAI,KAAM,QAAQ,QAAQ;AACzD,QAAI,IAAI,QAAQ,IAAM,IAAI,KAAK,IAAI,KAAM,QAAQ,SAAS;AAE1D,WAAO;;;;AC9BX;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAoBO,0BAAyB,SAAkB;AAE9C,WAAQ,UAAS,SAAS,YAAa,QAAQ,SAAS,QAAQ;;;;ACtBpE;;;;;AAoBO,6BAA4B,QAAiB;AAEhD,UAAM,YAAY,KAAK,QAAQ;AAC/B,UAAM,aAAa,KAAK,SAAS;AAEjC,UAAM,KAAK,KAAK,IAAI,OAAO,IAAI,KAAK,IAAI;AACxC,UAAM,KAAK,KAAK,IAAI,OAAO,IAAI,KAAK,IAAI;AACxC,UAAM,QAAQ,YAAY,OAAO;AACjC,UAAM,QAAQ,aAAa,OAAO;AAElC,QAAI,KAAK,SAAS,KAAK;AAEnB,aAAO;eAEF,MAAM,aAAa,MAAM;AAE9B,aAAO;;AAIP,YAAM,cAAc,KAAK;AACzB,YAAM,cAAc,KAAK;AACzB,YAAM,gBAAgB,cAAc;AACpC,YAAM,gBAAgB,cAAc;AACpC,YAAM,kBAAkB,OAAO,SAAS,OAAO;AAE/C,aAAQ,gBAAgB,iBAAiB;;;;;AC9CjD;;;;;;AAuBO,6BAA4B,SAAkB,SAAkB,MAAc;AAEjF,QAAI,eAAe,SAAS;AAExB,YAAM,KAAK,QAAQ;AACnB,YAAM,KAAK,QAAQ;AACnB,YAAM,KAAK,QAAQ;AAEnB,YAAM,KAAK,QAAQ;AACnB,YAAM,KAAK,QAAQ;AACnB,YAAM,KAAK,QAAQ;AAEnB,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,UAAI,OAAO;AAEP,YAAM,MAAK,KAAO,KAAK,KAAO,KAAK,KAAO,KAAK,MAAQ,KAAK,MAAK;AAEjE,uBAAe;AACf,uBAAe,KAAK;AACpB,uBAAgB,KAAK,KAAO,IAAI,IAAM,IAAI,KAAK,IAAM,KAAK,KAAO,KAAK;AAEtE,iBAAU,eAAe,eAAiB,IAAI,eAAe;AAE7D,YAAI,WAAW;AAEX,cAAI,KAAK,IAAI,MAAK,GAAI,CAAC,eAAgB,KAAI;mBAEtC,SAAS;AAEd,cAAI,KAAK,IAAI,MAAK,GAAI,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;AAChE,cAAI,KAAK,IAAI,MAAK,GAAI,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;;;AAKpE,cAAM,KAAM,MAAK,MAAO,MAAK;AAC7B,cAAM,IAAK,MAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAO,KAAK,MAAK;AAEnF,uBAAgB,KAAK,KAAM;AAC3B,uBAAgB,IAAI,KAAK,KAAO,IAAI,IAAI,KAAO,IAAI;AACnD,uBAAgB,KAAK,KAAO,KAAK,KAAO,IAAI,IAAM,KAAK,KAAO,IAAI,KAAK;AAEvE,iBAAU,eAAe,eAAiB,IAAI,eAAe;AAE7D,YAAI,WAAW;AAEX,cAAK,CAAC,eAAgB,KAAI;AAC1B,cAAI,KAAK,IAAI,MAAK,GAAI,IAAK,IAAI;mBAE1B,SAAS;AAEd,cAAK,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;AAC/C,cAAI,KAAK,IAAI,MAAK,GAAI,IAAK,IAAI;AAE/B,cAAK,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;AAC/C,cAAI,KAAK,IAAI,MAAK,GAAI,IAAK,IAAI;;;;AAK3C,WAAO;;;;ACxFX;;;;;AAWA,QAAM,MAAY,IAAI;AAgBf,yBAAuB,MAAa,QAAiB;AAExD,QAAI,CAAC;AAED,gBAAU;;AAGd,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,QAAI,UAAS,QAAQ,IAAI;AAErB,cAAQ,IAAI,IAAI;AAEhB,aAAO;;AAGX,QAAI,UAAS,QAAQ,IAAI;AAErB,cAAQ,IAAI,IAAI;AAEhB,aAAO;;AAGX,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAEhB,UAAM,MAAM,OAAO,IAAI;AACvB,UAAM,MAAM,OAAO,IAAI;AAGvB,UAAM,QAAS,KAAK,KAAO,KAAK;AAChC,QAAI,KAAK;AACT,QAAI,KAAK;AAET,QAAI,QAAQ;AAER,YAAM,KAAO,OAAM,KAAO,MAAM,MAAO;AAEvC,YAAM;AACN,YAAM;;AAGV,YAAQ,IAAI,KAAK,IAAI,KAAK;AAG1B,UAAM,QAAS,KAAK,KAAO,KAAK;AAEhC,WACI,SAAS,SACP,KAAK,KAAO,KAAK,MAAQ,KAC3B,UAAS,QAAQ,QAAQ,GAAG,QAAQ;;;;AC7E5C;;;;;;AAyBO,4BAA0B,MAAa,QAAiB,MAAc;AAEzE,QAAI,cAAa,MAAM;AAEnB,YAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,YAAM,KAAK,OAAO;AAElB,YAAM,QAAQ,KAAK;AACnB,YAAM,QAAQ,KAAK;AACnB,YAAM,QAAQ,KAAK,OAAO;AAC1B,YAAM,QAAQ,KAAK,OAAO;AAE1B,YAAM,eAAe,QAAQ,QAAQ,QAAQ;AAC7C,YAAM,eAAe,IAAK,SAAQ,QAAQ,QAAQ;AAClD,YAAM,eAAe,QAAQ,QAAQ,QAAQ,QAAQ,KAAK;AAE1D,YAAM,SAAU,eAAe,eAAiB,IAAI,eAAe;AAEnE,UAAI;AACJ,UAAI;AAEJ,UAAI,WAAW;AAEX,cAAM,OAAO,CAAC,eAAgB,KAAI;AAElC,YAAI,KAAK,OAAO;AAChB,YAAI,KAAK,OAAO;AAEhB,YAAI,QAAQ,KAAK,QAAQ;AAErB,cAAI,KAAK,IAAI,MAAK,GAAG;;iBAGpB,SAAS;AAEd,cAAM,QAAS,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;AAEzD,YAAI,KAAK,QAAQ;AACjB,YAAI,KAAK,QAAQ;AAEjB,YAAI,SAAS,KAAK,SAAS;AAEvB,cAAI,KAAK,IAAI,MAAK,GAAG;;AAGzB,cAAM,QAAS,EAAC,eAAe,KAAK,KAAK,WAAY,KAAI;AAEzD,YAAI,KAAK,QAAQ;AACjB,YAAI,KAAK,QAAQ;AAEjB,YAAI,SAAS,KAAK,SAAS;AAEvB,cAAI,KAAK,IAAI,MAAK,GAAG;;;;AAKjC,WAAO;;;;ACnFX;;;;;;AA2BO,gCAA+B,QAAiB,MAAkB,MAAc;AAEnF,QAAI,kBAAkB,QAAQ;AAE1B,YAAM,CAAE,OAAO,OAAO,OAAO,SAAU,UAAS;AAEhD,uBAAgB,OAAO,QAAQ;AAC/B,uBAAgB,OAAO,QAAQ;AAC/B,uBAAgB,OAAO,QAAQ;AAC/B,uBAAgB,OAAO,QAAQ;;AAGnC,WAAO;;;;ACvCX;;;;;AAyBO,uBAAqB,OAAc,OAAc;AAEpD,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAC3B,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAE3C,UAAM,OAAQ,MAAK,MAAO,MAAK,MAAO,MAAK,MAAO,MAAK;AACvD,UAAM,OAAQ,MAAK,MAAO,MAAK,MAAO,MAAK,MAAO,MAAK;AACvD,UAAM,QAAS,MAAK,MAAO,MAAK,MAAO,MAAK,MAAO,MAAK;AAMxD,QAAI,UAAU;AAEV,aAAO;;AAKX,UAAM,KAAK,OAAO;AAClB,UAAM,KAAK,OAAO;AAKlB,QAAI,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM;AAEvC,UAAI;AAEA,YAAI,IACA,KAAM,KAAM,MAAK,KACjB,KAAM,KAAM,MAAK;;AAIzB,aAAO;;AAGX,WAAO;;;;AChEX;;;;;AA4BO,4BAA0B,MAAa;AAE1C,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAC3B,UAAM,CAAE,GAAG,GAAG,OAAO,UAAW;AAEhC,QAAI,IAAI;AAKR,QAAK,MAAM,KAAK,MAAM,SAAS,MAAM,KAAK,MAAM,UAC3C,MAAM,KAAK,MAAM,SAAS,MAAM,KAAK,MAAM;AAE5C,aAAO;;AAGX,QAAI,KAAK,KAAK,MAAM;AAGhB,UAAI,KAAM,MAAK,MAAO,KAAI,MAAO,MAAK;AAEtC,UAAI,IAAI,KAAK,KAAK;AAEd,eAAO;;eAGN,KAAK,SAAS,MAAM;AAGzB,UAAI,KAAM,MAAK,MAAO,SAAQ,MAAO,MAAK;AAE1C,UAAI,KAAK,KAAK,KAAK;AAEf,eAAO;;;AAIf,QAAI,KAAK,KAAK,MAAM;AAGhB,UAAI,KAAM,MAAK,MAAO,KAAI,MAAO,MAAK;AAEtC,UAAI,KAAK,KAAK,KAAK;AAEf,eAAO;;eAGN,KAAK,UAAU,MAAM;AAG1B,UAAI,KAAM,MAAK,MAAO,UAAS,MAAO,MAAK;AAE3C,UAAI,KAAK,KAAK,KAAK;AAEf,eAAO;;;AAIf,WAAO;;;;ACtFX;;;;;;AA2BO,8BAA6B,MAAa,MAAkB,MAAc;AAE7E,QAAI,iBAAgB,MAAM;AAEtB,YAAM,CAAE,OAAO,OAAO,OAAO,SAAU,UAAS;AAEhD,YAAM,SAAS,CAAE,IAAI,SAAQ,IAAI,SAAQ,IAAI,SAAQ,IAAI;AAEzD,YAAM,UAAU;QACZ,YAAW,OAAO,MAAM,OAAO;QAC/B,YAAW,OAAO,MAAM,OAAO;QAC/B,YAAW,OAAO,MAAM,OAAO;QAC/B,YAAW,OAAO,MAAM,OAAO;;AAGnC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ;AAEhC,YAAI,QAAQ;AAER,cAAI,KAAK,OAAO;;;;AAK5B,WAAO;;;;ACnDX;;;;;AA4BO,oCAAmC,OAAmB,OAAmB,MAAiB,IAAI;AAEjG,QAAI,sBAAqB,OAAO;AAE5B,YAAM,IAAI,KAAK,IAAI,MAAM,GAAG,MAAM;AAClC,YAAM,IAAI,KAAK,IAAI,MAAM,GAAG,MAAM;AAElC,aAAO,IAAI,IACP,GACA,GACA,KAAK,IAAI,MAAM,OAAO,MAAM,SAAS,GACrC,KAAK,IAAI,MAAM,QAAQ,MAAM,UAAU;;;;;ACvCnD;;;;;;AA2BO,mCAAkC,OAAmB,OAAmB,MAAc;AAEzF,QAAI,sBAAqB,OAAO;AAE5B,YAAM,CAAE,OAAO,OAAO,OAAO,SAAU,UAAS;AAEhD,yBAAmB,OAAO,OAAO;AACjC,yBAAmB,OAAO,OAAO;AACjC,yBAAmB,OAAO,OAAO;AACjC,yBAAmB,OAAO,OAAO;;AAGrC,WAAO;;;;ACvCX,AAGO,qBAAmB;AAEtB,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,UAAM,QAAQ,IAAI,MAAK,IAAI,IAAI,IAAI;AACnC,UAAM,QAAQ,IAAI,MAAK,IAAI,IAAI,IAAI;AACnC,UAAM,QAAQ,IAAI,MAAK,IAAI,IAAI,IAAI;AAEnC,WAAO,CAAE,OAAO,OAAO;;;;ACX3B;;;;;AAsBO,sBAAmB,UAAqB,GAAW;AAEtD,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,UAAM,MAAM,KAAK;AACjB,UAAM,MAAM,KAAK;AAEjB,UAAM,MAAM,KAAK;AACjB,UAAM,MAAM,KAAK;AAEjB,UAAM,MAAM,IAAI;AAChB,UAAM,MAAM,IAAI;AAEhB,UAAM,QAAS,MAAM,MAAQ,MAAM;AACnC,UAAM,QAAS,MAAM,MAAQ,MAAM;AACnC,UAAM,QAAS,MAAM,MAAQ,MAAM;AACnC,UAAM,QAAS,MAAM,MAAQ,MAAM;AACnC,UAAM,QAAS,MAAM,MAAQ,MAAM;AAGnC,UAAM,IAAM,QAAQ,QAAU,QAAQ;AACtC,UAAM,MAAO,MAAM,IAAK,IAAK,IAAI;AACjC,UAAM,IAAM,SAAQ,QAAU,QAAQ,SAAU;AAChD,UAAM,IAAM,SAAQ,QAAU,QAAQ,SAAU;AAEhD,WAAQ,KAAK,KAAK,KAAK,KAAM,IAAI,IAAI;;;;AC/CzC;;;;;AA8BO,0BAAwB,UAAqB,QAAgB,cAAuB,OAAO,MAAc;AAE5G,QAAI,OAAO;AAEX,WAAO,QAAQ;AAEX,UAAI;AAEA;;AAGJ,YAAM,CAAE,GAAG,KAAM;AAEjB,UAAI,WAAS,UAAU,GAAG;AAEtB,YAAI,KAAK,IAAI,MAAK,GAAG;AAErB,YAAI;AAEA,iBAAO;;;;AAKnB,WAAO;;;;ACtDX;;;;;AA0BO,gCAA8B,MAAkB;AAInD,QACI,SAAS,OAAO,KAAK,SACrB,SAAS,QAAQ,KAAK,KACtB,SAAS,MAAM,KAAK,UACpB,SAAS,SAAS,KAAK;AAEvB,aAAO;;AAGX,UAAM,CAAE,MAAM,MAAM,QAAS,UAAiB;AAI9C,QAAI,WAAS,MAAM,KAAK,IAAI,KAAK,OAAO,WAAS,MAAM,KAAK,IAAI,KAAK;AAEjE,aAAO;;AAGX,QAAI,WAAS,MAAM,KAAK,IAAI,KAAK,OAAO,WAAS,MAAM,KAAK,IAAI,KAAK;AAEjE,aAAO;;AAGX,QAAI,WAAS,MAAM,KAAK,IAAI,KAAK,OAAO,WAAS,MAAM,KAAK,IAAI,KAAK;AAEjE,aAAO;;AAKX,UAAM,CAAE,OAAO,OAAO,OAAO,SAAU,UAAkB;AAEzD,QAAI,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM;AAElG,aAAO;;AAGX,QAAI,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM;AAElG,aAAO;;AAGX,QAAI,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM,UAAU,YAAW,MAAM;AAElG,aAAO;;AAKX,UAAM,SAAS,eAAc,UAAU,WAAU,OAAO;AAExD,WAAQ,OAAO,SAAS;;;;ACjF5B;;;;;;AA2BO,kCAAiC,MAAkB,UAAqB,MAAc;AAEzF,QAAI,qBAAoB,MAAM;AAE1B,YAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,yBAAmB,OAAO,MAAM;AAChC,yBAAmB,OAAO,MAAM;AAChC,yBAAmB,OAAO,MAAM;;AAGpC,WAAO;;;;ACtCX;;;;;AAyBO,6BAA2B,UAAqB;AAInD,QACI,SAAS,OAAO,OAAO,SACvB,SAAS,QAAQ,OAAO,QACxB,SAAS,MAAM,OAAO,UACtB,SAAS,SAAS,OAAO;AAEzB,aAAO;;AAGX,QAAI,WAAS,UAAU,OAAO,GAAG,OAAO;AAEpC,aAAO;;AAGX,UAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,WACI,cAAa,OAAO,WACpB,cAAa,OAAO,WACpB,cAAa,OAAO;;;;AChD5B;;;;;;AA4BO,+BAA8B,UAAqB,QAAiB,MAAc;AAErF,QAAI,kBAAiB,UAAU;AAE3B,YAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,uBAAgB,OAAO,QAAQ;AAC/B,uBAAgB,OAAO,QAAQ;AAC/B,uBAAgB,OAAO,QAAQ;;AAGnC,WAAO;;;;ACvCX;;;;;AAyBO,2BAAyB,UAAqB;AAEjD,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAG3B,QAAI,WAAS,UAAU,IAAI,OAAO,WAAS,UAAU,IAAI;AAErD,aAAO;;AAGX,UAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAGzC,WACI,YAAW,OAAO,SAClB,YAAW,OAAO,SAClB,YAAW,OAAO;;;;ACzC1B;;;;;;AA4BO,6BAA4B,UAAqB,MAAa,MAAc;AAE/E,QAAI,gBAAe,UAAU;AAEzB,YAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,YAAM,SAAS,CAAE,IAAI,SAAQ,IAAI,SAAQ,IAAI;AAE7C,YAAM,UAAU;QACZ,YAAW,OAAO,MAAM,OAAO;QAC/B,YAAW,OAAO,MAAM,OAAO;QAC/B,YAAW,OAAO,MAAM,OAAO;;AAGnC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ;AAEhC,YAAI,QAAQ;AAER,cAAI,KAAK,OAAO;;;;AAK5B,WAAO;;;;ACnDX;;;;;AAoBO,sBAAoB,UAAqB,MAAc;AAE1D,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,QAAI,KACA,IAAI,MAAK,IAAI,KACb,IAAI,MAAK,IAAI,KACb,IAAI,MAAK,IAAI;AAGjB,WAAO;;;;AC9BX;;;;;AAyBO,+BAA6B,WAAsB;AAGtD,QACI,UAAU,OAAO,UAAU,SAC3B,UAAU,QAAQ,UAAU,QAC5B,UAAU,MAAM,UAAU,UAC1B,UAAU,SAAS,UAAU;AAE7B,aAAO;;AAGX,UAAM,CAAE,QAAQ,QAAQ,UAAW,UAAS;AAC5C,UAAM,CAAE,QAAQ,QAAQ,UAAW,UAAS;AAG5C,QACI,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ,WACnB,YAAW,QAAQ;AAGnB,aAAO;;AAKX,UAAM,UAAU,eAAc,WAAW,WAAU,YAAY;AAE/D,QAAI,QAAQ,SAAS;AAEjB,aAAO;;AAKX,UAAM,UAAU,eAAc,WAAW,WAAU,YAAY;AAE/D,WAAQ,QAAQ,SAAS;;;;ACrE7B;;;;;;AA2BO,iCAAgC,WAAsB,WAAsB,MAAc;AAE7F,QAAI,oBAAmB,WAAW;AAE9B,YAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,wBAAkB,WAAW,OAAO;AACpC,wBAAkB,WAAW,OAAO;AACpC,wBAAkB,WAAW,OAAO;;AAGxC,WAAO;;;;ACtCX;;;;;;AAwBO,uBAAsB,OAAa,MAAa,gBAAwB;AAE3E,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAC3B,UAAM,CAAE,GAAG,IAAI,GAAG,MAAO;AAEzB,UAAM,KAAQ,MAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK;AAEzD,QAAI,OAAO;AAEP,aAAO;;AAGX,UAAM,IAAO,OAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK,OAAQ;AAGhE,QAAI,IAAI;AAGJ,aAAQ,KAAK,KAAO,MAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK,QAAS;eAElE,KAAK,KAAO,KAAK;AAGvB,YAAM,IAAO,OAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK,OAAQ;AAEhE,aAAQ,KAAK,IAAI,KAAK,KAAK,KAAK,OAAO;;AAKvC,aAAQ,KAAK,KAAO,MAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK,QAAS;;;;;ACtDhF;;;;;AAqBO,8BAA6B,OAAa;AAE7C,QAAI,CAAC,YAAY,OAAO;AAEpB,aAAO;;AAGX,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAC3B,UAAM,CAAE,GAAG,KAAM;AAEjB,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,OAAO,KAAK,IAAI,IAAI;AAE1B,WAAS,KAAK,QAAQ,KAAK,QAAU,MAAK,QAAQ,KAAK;;;;ACpC3D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAkBO,iBAAgB;AAEnB,WAAO,KAAK,MAAM,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK;;;;ACpBxD;;;;;AAuBO,2BAA0B,MAAa,WAAmB,GAAG,UAAkB;AAElF,QAAI,KAAK,KAAK,MAAM,KAAK;AACzB,QAAI,KAAK,KAAK,MAAM,KAAK;AACzB,UAAM,KAAK,KAAK,MAAM,KAAK;AAC3B,UAAM,KAAK,KAAK,MAAM,KAAK;AAE3B,UAAM,KAAK,KAAK,IAAI,KAAK;AACzB,UAAM,KAAK,KAAK,IAAI,KAAK;AACzB,UAAM,KAAM,KAAK,KAAM,IAAI;AAC3B,UAAM,KAAM,KAAK,KAAM,IAAI;AAC3B,QAAI,MAAM,KAAK;AAEf,YAAQ,KAAK,IAAI,MAAK,IAAI;AAE1B,QAAI,IAAI;AAER,WAAO,CAAG,QAAO,MAAQ,OAAO;AAE5B,YAAM,KAAK,OAAO;AAElB,UAAI,KAAK,CAAC;AAEN,eAAO;AACP,cAAM;;AAGV,UAAI,KAAK;AAEL,eAAO;AACP,cAAM;;AAGV,UAAI,IAAI,aAAa;AAEjB,gBAAQ,KAAK,IAAI,MAAK,IAAI;;AAG9B;;AAGJ,WAAO;;;;AChEX;;;;;AAoBO,oBAAmB,MAAa,GAAW;AAE9C,UAAM,KAAK,IAAM,MAAK,KAAK,KAAK,MAAM;AACtC,UAAM,KAAK,IAAM,MAAK,KAAK,KAAK,MAAM;AAEtC,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,WAAO;;;;AC/BX;;;;;AAmBO,kBAAgB;AAEnB,WAAO,IAAI,MAAK,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO;;;;ACrB5D;;;;;AAqBO,qBAAmB,QAAe;AAErC,WAAO,KAAK,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO;;;;ACvB5D;;;;;AAmBO,mBAAiB,MAAa;AAEjC,WACI,KAAK,OAAO,UAAU,MACtB,KAAK,OAAO,UAAU,MACtB,KAAK,OAAO,UAAU,MACtB,KAAK,OAAO,UAAU;;;;ACzB9B;;;;;AAkBO,mBAAiB;AAEpB,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,WAAO,KAAK,KAAM,MAAK,MAAO,MAAK,MAAO,MAAK,MAAO,MAAK;;;;ACtB/D;;;;;AA4BO,kBAAiB,MAAa,MAAc,QAAgB;AAE/D,UAAM,SAAS,QAAO;AAEtB,UAAM,QAAQ,KAAK,KAAK,KAAK;AAC7B,UAAM,QAAQ,KAAK,KAAK,KAAK;AAE7B,QAAI;AAEA,WAAK,KAAK,KAAK,KAAK,QAAQ,SAAS;AACrC,WAAK,KAAK,KAAK,KAAK,QAAQ,SAAS;;AAGzC,QAAI;AAEA,WAAK,KAAK,KAAK,KAAK,QAAQ,SAAS;AACrC,WAAK,KAAK,KAAK,KAAK,QAAQ,SAAS;;AAGzC,WAAO;;;;AC/CX;;;;;AAsBO,uBAAsB,MAAa,MAAY,IAAI;AAEtD,QAAI,IAAK,MAAK,KAAK,KAAK,MAAM;AAC9B,QAAI,IAAK,MAAK,KAAK,KAAK,MAAM;AAE9B,WAAO;;;;AC3BX;;;;;;AAwBO,2BAA0B,MAAa,OAAa,MAAY,IAAI;AAEvE,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,UAAM,KAAQ,MAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK;AAEzD,QAAI,OAAO;AAEP,aAAO;;AAGX,UAAM,IAAO,QAAM,IAAI,MAAO,MAAK,MAAS,OAAM,IAAI,MAAO,MAAK,OAAQ;AAE1E,QAAI,IAAI,KAAM,IAAK,MAAK;AACxB,QAAI,IAAI,KAAM,IAAK,MAAK;AAExB,WAAO;;;;ACxCX;;;;;AA0BO,qBAAoB,MAAa,MAAY,IAAI;AAEpD,UAAM,IAAI,MAAM,QAAQ,WAAW;AAEnC,QAAI,IAAI,KAAK,IAAI;AACjB,QAAI,IAAI,KAAK,IAAI;AAEjB,WAAO;;;;ACjCX;;;;;AAuBO,qBAAmB,MAAa,UAAkB,MAAY,IAAI;AAErE,QAAI,IAAI,KAAK,KAAM,MAAK,KAAK,KAAK,MAAM;AACxC,QAAI,IAAI,KAAK,KAAM,MAAK,KAAK,KAAK,MAAM;AAExC,WAAO;;;;AC5BX;;;;;AA8BO,sBAAoB,MAAa,UAAkB,WAAmB,GAAG,MAAc;AAG1F,QAAI,CAAC;AAED,iBAAW,QAAO,QAAQ;;AAG9B,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,YAAM,WAAW,IAAI;AAErB,YAAM,IAAI,KAAM,MAAK,MAAM;AAC3B,YAAM,IAAI,KAAM,MAAK,MAAM;AAE3B,UAAI,KAAK,IAAI,MAAK,GAAG;;AAGzB,WAAO;;;;AClDX;;;;;;AAuBO,+BAA8B,MAAa;AAE9C,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,UAAM,KAAQ,MAAK,MAAO,MAAK,MAAS,MAAK,MAAO,MAAK;AAEzD,QAAI,OAAO;AAEP,aAAO;;AAGX,UAAM,IAAO,OAAK,MAAM,KAAM,MAAK,MAAS,MAAK,MAAM,KAAM,MAAK,OAAQ;AAE1E,WAAO,KAAK,IAAI,KAAK,KAAK,KAAK;;;;ACpCnC;;;;;AAkBO,kBAAiB;AAEpB,WAAO,KAAK,IAAI,KAAK,KAAK,KAAK;;;;ACpBnC;;;;;AAqBO,uBAAsB;AAEzB,UAAM,SAAQ,MAAM,QAAQ,WAAW;AAEvC,WAAO,MAAK,QAAO,CAAC,KAAK,IAAI,KAAK;;;;ACzBtC;;;;;AAoBO,mBAAkB;AAErB,WAAO,KAAK,IAAI,MAAM,QAAQ,WAAW;;;;ACtB7C;;;;;AAqBO,mBAAkB;AAErB,WAAO,KAAK,IAAI,MAAM,QAAQ,WAAW;;;;ACvB7C;;;;;AAsBO,mBAAiB,MAAa,GAAW;AAE5C,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,SAAK,MAAM;AACX,SAAK,MAAM;AAEX,WAAO;;;;AC9BX;;;;;AAkBO,qBAAoB;AAEvB,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,WAAO,CAAG,OAAK,MAAO,MAAK;;;;ACtB/B;;;;;AAsBO,mBAAiB,MAAa,MAAY,IAAI;AAEjD,UAAM,IAAI,KAAK;AAEf,QAAI,IAAI,KAAK,KAAK,IAAK,MAAK,KAAK,KAAK;AACtC,QAAI,IAAI,KAAK,KAAK,IAAK,MAAK,KAAK,KAAK;AAEtC,WAAO;;;;AC7BX;;;;;AAuBO,wBAAuB,OAAc;AAExC,WAAQ,IAAI,YAAY,SAAS,KAAK,KAAK,MAAM;;;;ACzBrD;;;;;AAuBO,2BAAyB,MAAa,GAAW,GAAW;AAE/D,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,QAAI,KAAK,KAAK,KAAK;AACnB,QAAI,KAAK,KAAK,KAAK;AAEnB,SAAK,KAAK,KAAK,IAAI,KAAK,IAAI;AAC5B,SAAK,KAAK,KAAK,IAAI,KAAK,IAAI;AAE5B,SAAK,KAAK,KAAK;AACf,SAAK,KAAK,KAAK;AAEf,SAAK,KAAK,KAAK,IAAI,KAAK,IAAI;AAC5B,SAAK,KAAK,KAAK,IAAI,KAAK,IAAI;AAE5B,WAAO;;;;ACxCX;;;;;AAsBO,kBAAiB,MAAa;AAEjC,UAAM,IAAK,MAAK,KAAK,KAAK,MAAM;AAChC,UAAM,IAAK,MAAK,KAAK,KAAK,MAAM;AAEhC,WAAO,gBAAe,MAAM,GAAG,GAAG;;;;AC3BtC;;;;;AAwBO,6BAA4B,MAAa,OAAa;AAEzD,WAAO,gBAAe,MAAM,MAAM,GAAG,MAAM,GAAG;;;;AC1BlD;;;;;AAwBO,sBAAqB,MAAa,GAAW,GAAW,QAAe;AAE1E,SAAK,KAAK;AACV,SAAK,KAAK;AAEV,SAAK,KAAK,IAAK,KAAK,IAAI,UAAS;AACjC,SAAK,KAAK,IAAK,KAAK,IAAI,UAAS;AAEjC,WAAO;;;;AChCX;;;;;AAkBO,iBAAgB;AAEnB,UAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,WAAQ,MAAK,MAAO,MAAK;;;;ACtB7B;;;;;AAkBO,iBAAgB;AAEnB,WAAO,KAAK,IAAI,KAAK,KAAK,KAAK;;;;ACpBnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AAkBO,iBAAe;AAElB,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,WAAO,KAAK,IAAM,OAAK,MAAO,MAAK,MAAO,MAAK,MAAO,MAAK,OAAO;;;;ACtBtE;;;;;;IAmCI,YAAa,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa;AAEtG,WAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;IAGjC,IAAK,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa,GAAG,KAAa;AAE9F,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,WAAK,KAAK;AACV,WAAK,KAAK;AAEV,aAAO;;IAGX,SAAU,GAAW;AAEjB,aAAO,WAAS,MAAM,GAAG;;QAGzB;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK;;QAGvC,KAAM;AAEN,UAAI,OAAO;AAEX,UAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAEtC,eAAO,KAAK,KAAK;iBAEZ,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAE3C,eAAO,KAAK,KAAK;;AAIjB,eAAO,KAAK,KAAK;;AAGrB,WAAK,MAAM;AACX,WAAK,MAAM;AACX,WAAK,MAAM;;QAGX;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK;;QAGvC,MAAO;AAEP,UAAI,OAAO;AAEX,UAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAEtC,eAAO,KAAK,KAAK;iBAEZ,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAE3C,eAAO,KAAK,KAAK;;AAIjB,eAAO,KAAK,KAAK;;AAGrB,WAAK,MAAM;AACX,WAAK,MAAM;AACX,WAAK,MAAM;;QAGX;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK;;QAGvC,IAAK;AAEL,UAAI,OAAO;AAEX,UAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAEtC,eAAO,KAAK,KAAK;iBAEZ,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAE3C,eAAO,KAAK,KAAK;;AAIjB,eAAO,KAAK,KAAK;;AAGrB,WAAK,MAAM;AACX,WAAK,MAAM;AACX,WAAK,MAAM;;QAGX;AAEA,aAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK;;QAGvC,OAAQ;AAER,UAAI,OAAO;AAEX,UAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAEtC,eAAO,KAAK,KAAK;iBAEZ,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK;AAE3C,eAAO,KAAK,KAAK;;AAIjB,eAAO,KAAK,KAAK;;AAGrB,WAAK,MAAM;AACX,WAAK,MAAM;AACX,WAAK,MAAM;;;;;ACpKnB;;;;;AAqBO,4BAA2B,GAAW,GAAW;AAEpD,UAAM,SAAS,SAAU,MAAK,KAAK,KAAK;AAExC,UAAM,KAAK;AACX,UAAM,KAAK;AAEX,UAAM,KAAK,IAAK,SAAS;AACzB,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAK,SAAS;AACzB,UAAM,KAAK,IAAI;AAEf,WAAO,IAAI,UAAS,IAAI,IAAI,IAAI,IAAI,IAAI;;;;AClC5C;;;;;AAuBO,sBAAqB,GAAW,GAAW,OAAe,SAAiB;AAG9E,UAAM,KAAK;AACX,UAAM,KAAK;AAEX,UAAM,KAAK;AACX,UAAM,KAAK,IAAI;AAEf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK;AAEX,WAAO,IAAI,UAAS,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACnC5C;;;;;AA6BO,qBAAmB,UAAqB,MAAY,IAAI;AAE3D,WAAO,IAAI,IACN,UAAS,KAAK,SAAS,KAAK,SAAS,MAAM,GAC3C,UAAS,KAAK,SAAS,KAAK,SAAS,MAAM;;;;ACjCpD;;;;;AAsBO,oBAAiB,UAAqB,GAAW;AAEpD,aAAS,MAAM;AACf,aAAS,MAAM;AAEf,aAAS,MAAM;AACf,aAAS,MAAM;AAEf,aAAS,MAAM;AACf,aAAS,MAAM;AAEf,WAAO;;;;ACjCX;;;;;AAoCO,qBAAmB,UAAqB,GAAW,GAAW,aAA6B;AAG9F,UAAM,SAAS,WAAW;AAG1B,UAAM,QAAQ,IAAI,OAAO;AACzB,UAAM,QAAQ,IAAI,OAAO;AAEzB,WAAO,SAAO,UAAU,OAAO;;;;AC7CnC;;;;;AAyBA,eAAc,KAAa,KAAa,KAAa;AAEjD,WAAQ,MAAM,MAAQ,MAAM;;AAoBzB,wBAAuB,UAAqB,MAAY,IAAI;AAE/D,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,SAAS;AAEpB,UAAM,KAAK,SAAS,KAAK;AACzB,UAAM,KAAK,SAAS,KAAK;AAEzB,UAAM,KAAK,SAAS,KAAK;AACzB,UAAM,KAAK,SAAS,KAAK;AAEzB,UAAM,QAAQ,IAAI,IAAI,IAAI,IAAI,IAAI;AAClC,UAAM,OAAO,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK;AAC3D,UAAM,OAAO,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK;AAE3D,WAAO,IAAI,IACP,KAAK,OAAO,OACZ,KAAK,OAAO;;;;AChEpB;;;;;AAyBO,wBAAuB,UAAqB,MAAc,IAAI;AAEjE,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,UAAM,IAAI,KAAK;AACf,UAAM,IAAI,KAAK;AACf,UAAM,IAAI,KAAK;AACf,UAAM,IAAI,KAAK;AACf,UAAM,IAAI,IAAK,MAAK,MAAM,IAAK,MAAK;AACpC,UAAM,IAAI,IAAK,MAAK,MAAM,IAAK,MAAK;AACpC,UAAM,IAAI,IAAK,KAAK,MAAK,MAAM,IAAK,MAAK;AAKzC,QAAI,KAAK,IAAI,KAAK;AAEd,YAAM,OAAO,KAAK,IAAI,IAAI,IAAI;AAC9B,YAAM,OAAO,KAAK,IAAI,IAAI,IAAI;AAE9B,YAAM,KAAM,MAAK,IAAI,IAAI,IAAI,MAAM,QAAQ;AAC3C,YAAM,KAAM,MAAK,IAAI,IAAI,IAAI,MAAM,QAAQ;AAE3C,aAAO,IAAI,IACP,OAAO,IACP,OAAO,IACP,KAAK,KAAK,KAAK,KAAK,KAAK;;AAK7B,YAAM,KAAM,KAAI,IAAI,IAAI,KAAK;AAC7B,YAAM,KAAM,KAAI,IAAI,IAAI,KAAK;AAE7B,YAAM,KAAK,KAAK;AAChB,YAAM,KAAK,KAAK;AAEhB,aAAO,IAAI,IACP,IACA,IACA,KAAK,KAAK,KAAK,KAAK,KAAK;;;;;ACjErC;;;;;AAoBO,kBAAgB;AAEnB,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,WAAO,IAAI,UAAS,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACxB5C;;;;;AAqBO,0BAAwB,UAAqB;AAEhD,WAAO,WAAS,UAAU,MAAM,GAAG,MAAM;;;;ACvB7C;;;;;AAqBO,sBAAmB,QAAmB;AAEzC,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,WAAO,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;;;;ACzBxC;;;;;AAmBO,mBAAiB,UAAqB;AAEzC,WACI,SAAS,OAAO,UAAU,MAC1B,SAAS,OAAO,UAAU,MAC1B,SAAS,OAAO,UAAU,MAC1B,SAAS,OAAO,UAAU,MAC1B,SAAS,OAAO,UAAU,MAC1B,SAAS,OAAO,UAAU;;;;AC3BlC;;;;;AAyBO,sBAAmB,UAAqB,UAAkB,MAAY,IAAI;AAE7E,UAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,QAAI,YAAY,KAAK,YAAY;AAE7B,aAAO,IAAI,IACP,MAAM,IACN,MAAM;;AAId,UAAM,UAAU,QAAO;AACvB,UAAM,UAAU,QAAO;AACvB,UAAM,UAAU,QAAO;AAEvB,UAAM,YAAY,UAAU,UAAU;AAEtC,QAAI,IAAI,YAAY;AACpB,QAAI,gBAAgB;AAIpB,QAAI,IAAI;AAGJ,sBAAgB,IAAI;AAEpB,YAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,aAAO,IAAI,IACP,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;eAGhB,IAAI,UAAU;AAGnB,WAAK,UAAU;AACf,sBAAgB,IAAI;AAEpB,YAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,aAAO,IAAI,IACP,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;;AAMrB,WAAK;AACL,sBAAgB,IAAI;AAEpB,YAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,aAAO,IAAI,IACP,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;;;;;ACnF7B;;;;;AA0BO,sBAAoB,UAAqB,UAAkB,UAAkB,MAAc;AAE9F,UAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,UAAM,UAAU,QAAO;AACvB,UAAM,UAAU,QAAO;AACvB,UAAM,UAAU,QAAO;AAEvB,UAAM,YAAY,UAAU,UAAU;AAGtC,QAAI,CAAC;AAED,iBAAW,YAAY;;AAG3B,aAAS,IAAI,GAAG,IAAI,UAAU;AAE1B,UAAI,IAAI,YAAa,KAAI;AACzB,UAAI,gBAAgB;AACpB,UAAI;AAEJ,UAAI,IAAI;AAGJ,wBAAgB,IAAI;AAEpB,cAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,gBAAQ,IAAI,MACR,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;iBAGhB,IAAI,UAAU;AAGnB,aAAK,UAAU;AACf,wBAAgB,IAAI;AAEpB,cAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,gBAAQ,IAAI,MACR,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;;AAMrB,aAAK;AACL,wBAAgB,IAAI;AAEpB,cAAM,CAAE,IAAI,IAAI,IAAI,MAAO;AAE3B,gBAAQ,IAAI,MACR,KAAM,MAAK,MAAM,eACjB,KAAM,MAAK,MAAM;;AAIzB,UAAI,KAAK;;AAGb,WAAO;;;;AC1FX;;;;;AASA,qBAAoB,IAAY,IAAY,IAAY;AAEpD,UAAM,IAAI,KAAK;AACf,UAAM,IAAI,KAAK;AACf,UAAM,YAAa,IAAI,IAAM,IAAI;AAEjC,WAAO,KAAK,KAAK;;AAkBd,oBAAmB,UAAqB,MAAY,IAAI;AAE3D,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,UAAM,KAAK,UAAU,IAAI,IAAI,IAAI;AACjC,UAAM,KAAK,UAAU,IAAI,IAAI,IAAI;AACjC,UAAM,KAAK,UAAU,IAAI,IAAI,IAAI;AAEjC,UAAM,IAAI,KAAK,KAAK;AAEpB,WAAO,IAAI,IACN,MAAK,KAAK,KAAK,KAAK,KAAK,MAAM,GAC/B,MAAK,KAAK,KAAK,KAAK,KAAK,MAAM;;;;AC7CxC;;;;;AAqBO,sBAAoB;AAEvB,UAAM,CAAE,OAAO,OAAO,SAAU,UAAS;AAEzC,WAAQ,QAAO,SAAS,QAAO,SAAS,QAAO;;;;ACzBnD;;;;;AAsBO,mBAAiB,UAAqB,MAAY,IAAI;AAEzD,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAGnC,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAEhB,UAAM,KAAK,KAAK;AAChB,UAAM,KAAK,KAAK;AAGhB,QAAI,IAAI,KAAK;AACb,QAAI,IAAI,KAAK;AAGb,QAAI,IAAI,KAAK;AAET,UAAI,IAAI;AACR,UAAI,IAAI;;AAGZ,WAAO,IAAI,IACP,KAAO,MAAK,IAAM,KAAK,IACvB,KAAO,MAAK,IAAM,KAAK;;;;AC9C/B;;;;;AAuBO,2BAAyB,UAAqB,GAAW,GAAW;AAEvE,UAAM,CAAE,IAAI,IAAI,IAAI,IAAI,IAAI,MAAO;AAEnC,UAAM,IAAI,KAAK,IAAI;AACnB,UAAM,IAAI,KAAK,IAAI;AAEnB,WAAO,SAAS,IACX,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI,GAC7B,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI,GAC7B,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI,GAC7B,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI,GAC7B,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI,GAC7B,MAAK,KAAK,IAAK,MAAK,KAAK,IAAI;;;;ACpCtC;;;;;AAuBO,mBAAiB,UAAqB;AAEzC,UAAM,QAAQ,SAAS;AAEvB,WAAO,gBAAe,UAAU,MAAM,GAAG,MAAM,GAAG;;;;AC3BtD;;;;;AAwBO,8BAA4B,UAAqB,OAAa;AAEjE,WAAO,gBAAe,UAAU,MAAM,GAAG,MAAM,GAAG;;;;AC1BtD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA,AAKO,yBAAwB,SAAiB,GAAG,OAAe,KAAK,iBAAyB,GAAG,kBAA0B,GAAG,MAAc,KAAK,KAAK;AAEpJ,UAAM,OAAO;AAEb,UAAM;MACF;MACA;MACA;MACA;QACA;AAIJ,UAAM,SAAS,IAAI;AACnB,UAAM,SAAS,IAAI;AACnB,UAAM,SAAS,IAAI;AAInB,aAAS,IAAI,GAAG,KAAK,gBAAgB;AAEjC,eAAS,IAAI,GAAG,KAAK,iBAAiB;AAElC,cAAM,IAAI,IAAI,kBAAkB;AAChC,cAAM,IAAI,IAAI,iBAAiB,KAAK,KAAK;AAGzC,eAAO,IAAK,UAAS,OAAO,KAAK,IAAI,MAAM,KAAK,IAAI;AACpD,eAAO,IAAK,UAAS,OAAO,KAAK,IAAI,MAAM,KAAK,IAAI;AACpD,eAAO,IAAI,OAAO,KAAK,IAAI;AAE3B,iBAAS,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAGzC,eAAO,IAAI,SAAS,KAAK,IAAI;AAC7B,eAAO,IAAI,SAAS,KAAK,IAAI;AAE7B,iBAAS,QAAQ,QAAQ;AACzB,kBAAU,QAAQ;AAElB,gBAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,OAAO;AAGxC,YAAI,KAAK,IAAI;AACb,YAAI,KAAK,IAAI;;;AAKrB,aAAS,IAAI,GAAG,KAAK,gBAAgB;AAEjC,eAAS,IAAI,GAAG,KAAK,iBAAiB;AAIlC,cAAM,IAAK,mBAAkB,KAAK,IAAI,IAAI;AAC1C,cAAM,IAAK,mBAAkB,KAAM,KAAI,KAAK,IAAI;AAChD,cAAM,IAAK,mBAAkB,KAAM,KAAI,KAAK;AAC5C,cAAM,IAAK,mBAAkB,KAAK,IAAI;AAGtC,gBAAQ,KAAK,GAAG,GAAG;AACnB,gBAAQ,KAAK,GAAG,GAAG;;;AAI3B,SAAK,mBAAmB,SAAS;AAEjC,WAAO;;;;ACzEX;;;;;;;;;;;ACAA;IA0CI,YAAa;AA9Bb,qBAAmB;AAGnB,oBAAkB;AAGlB,qBAAmB;AAGnB,wBAAqB;AAGrB,uBAAqB;AAGrB,sBAAmB;AAGnB,yBAAsB;AAGtB,oBAAiB;AAWb,WAAK,QAAQ;AACb,WAAK,SAAS,IAAI;;IAGtB;AAEI,aAAO,KAAK;;IAGhB,KAAM;AAEF,UAAI,CAAC,KAAK;AAEN;;AAGJ,UAAI,KAAK;AAEL,cAAM;;AAGV,WAAK,WAAW,MAAM;AACtB,WAAK,UAAU,MAAM;AACrB,WAAK,SAAS,MAAM;AAEpB,UAAI,KAAK,UAAU,KAAK;AAEpB,aAAK,cAAc,MAAM;AAEzB,cAAM,QAAQ,KAAK,cAAc,KAAK;AAGtC,YAAI,SAAS,KAAK;AAEd,eAAK,MAAM,WAAW;AAEtB,cAAI,KAAK;AAEL,iBAAK,aAAa;;;;AAO1B,aAAK,SAAS;AAEd,aAAK,WAAW,MAAM;AACtB,aAAK,cAAc,MAAM;AAEzB,aAAK,MAAM,WAAW;AAEtB,YAAI,KAAK;AAEL,eAAK,aAAa;;;;IAK9B,GAAI;AAEA,UAAI,CAAC,KAAK;AAEN;;AAGJ,UAAI,KAAK;AAEL,cAAM;;AAGV,WAAK,WAAW,MAAM;AACtB,WAAK,UAAU,MAAM;AACrB,WAAK,SAAS,MAAM;AAEpB,UAAI,KAAK;AAGL,aAAK,SAAS;AACd,aAAK,SAAS,MAAM;AACpB,aAAK,cAAc,MAAM;AAEzB,aAAK,MAAM,SAAS;AAEpB,YAAI,KAAK;AAEL,eAAK,WAAW;;;;IAK5B;AAEI,WAAK,SAAS;AACd,WAAK,cAAc,KAAK;AACxB,WAAK,SAAS,KAAK;;IAGvB;AAEI,WAAK,eAAe;AACpB,WAAK,aAAa;AAElB,WAAK,OAAO;;;;;ACnJpB,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd;IAmBI,YAAa,iBAA2B;AAEpC,YAAM;QACF,OAAO;QACP,QAAQ;QACR,KAAK;QACL,OAAO;QACP,QAAQ;UACR;AAEJ,YAAM,OAAO,gBAAgB;AAE7B,UAAI;AAEA,aAAK,OAAO,IAAI,IAAI;AAEpB,aAAK,IAAI,KAAK,KAAK,OAAO,KAAK;;AAGnC,UAAI;AAEA,aAAK,QAAQ,IAAI,IAAI;AAErB,aAAK,IAAI,KAAK,MAAM,OAAO,KAAK;;AAGpC,UAAI;AAEA,aAAK,KAAK,IAAI,IAAI;AAElB,aAAK,IAAI,KAAK,GAAG,OAAO,KAAK;;AAGjC,UAAI;AAEA,aAAK,OAAO,IAAI,IAAI;AAEpB,aAAK,IAAI,KAAK,KAAK,OAAO,KAAK;;AAGnC,UAAI;AAEA,aAAK,QAAQ,IAAI,IAAI;AAErB,aAAK,IAAI,KAAK,MAAM,OAAO,KAAK;;;;;;AC/D5C,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,wBAE6B;IAEzB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,sBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,wBAE6B;IAEzB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,yBAE8B;IAE1B;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,yBAE8B;IAE1B;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,sBAE2B;IAEvB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd;IAmBI,YAAa,iBAA2B;AAEpC,YAAM;QACF,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,QAAQ;UACR;AAEJ,YAAM,OAAO,gBAAgB;AAE7B,UAAI;AAEA,aAAK,IAAI,IAAI,IAAI;AAEjB,aAAK,IAAI,KAAK,EAAE,OAAO,KAAK;;AAGhC,UAAI;AAEA,aAAK,IAAI,IAAI,IAAI;AAEjB,aAAK,IAAI,KAAK,EAAE,OAAO,KAAK;;AAGhC,UAAI;AAEA,aAAK,IAAI,IAAI,IAAI;AAEjB,aAAK,IAAI,KAAK,EAAE,OAAO,KAAK;;AAGhC,UAAI;AAEA,aAAK,IAAI,IAAI,IAAI;AAEjB,aAAK,IAAI,KAAK,EAAE,OAAO,KAAK;;AAGhC,UAAI;AAEA,aAAK,QAAQ,IAAI,IAAI;AAErB,aAAK,IAAI,KAAK,MAAM,OAAO,KAAK;;;;;;AC/D5C,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd,qBAE0B;IAEtB;AAEI,YAAM;;;;;ACNd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,AAEO,8BAA6B;AAEhC,QAAI,IAAI;AAEJ,aAAO,IAAI,cAAc,IAAI;;AAI7B,aAAO,IAAI,SAAS,IAAI;;;;;ACVhC,yBAI8B;IA4B1B;AAEI;AArBJ,2BAA6C;QACzC,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,UAAU;QACV,KAAK;QACL,QAAQ;QACR,KAAK;QACL,MAAM;QACN,KAAK;QACL,KAAK;QACL,UAAU;QACV,UAAU;QACV,SAAS;QACT,QAAQ;;AAQR,WAAK,iBAAiB,CAAC,UAA+B,KAAK,UAAU;AACrE,WAAK,eAAe,CAAC,UAA+B,KAAK,QAAQ;AACjE,WAAK,cAAc,MAAY,KAAK;AAEpC,aAAO,iBAAiB,WAAW,KAAK;AACxC,aAAO,iBAAiB,SAAS,KAAK;AACtC,aAAO,iBAAiB,QAAQ,KAAK;AAErC,WAAK,OAAO,IAAI;;IAGpB,WAAY;AAER,WAAK,QAAQ;AAET,aAAK,KAAK,IAAI,IAAI,YAAY;;;IAItC;AAEI,WAAK,KAAK;;IAGN;AAGJ,WAAK,KAAK,QAAQ;AAEd,YAAI;;;IAIJ,YAAa;AAEjB,UAAI,KAAK,cAAc,eAAe;AAElC,eAAO,KAAK,cAAc;;AAI1B,eAAO;;;IAIP,UAAW;AAEf,YAAM,QAAQ,KAAK,YAAY,MAAM;AAErC,UAAI,KAAK,KAAK,IAAI;AAEd,cAAM,MAAM,KAAK,KAAK,IAAI;AAE1B,YAAI,KAAK;;AAIb,WAAK,MAAM,aAAa,OAAO;AAG/B,WAAK,MAAM,WAAW;;IAGlB,QAAS;AAEb,YAAM,QAAQ,KAAK,YAAY,MAAM;AAErC,UAAI,KAAK,KAAK,IAAI;AAEd,cAAM,MAAM,KAAK,KAAK,IAAI;AAE1B,YAAI,GAAG;;AAIX,WAAK,MAAM,WAAW,OAAO;AAG7B,WAAK,MAAM,SAAS;;IAGxB;AAEI,aAAO,oBAAoB,WAAW,KAAK;AAC3C,aAAO,oBAAoB,SAAS,KAAK;AACzC,aAAO,oBAAoB,QAAQ,KAAK;AAExC,WAAK,MAAM;;;;;AC3HnB,AAEO,4BAA2B,SAAiB;AAE/C,SAAK,QAAQ;AAET,UAAI,aAAa;;AAGrB,WAAO;;;;ACTX;;;;;;;;;;ACAA,sBAQ2B;IAuBvB,YAAa;AAET;AAvBJ,yBAAuB;AACvB,qBAAmB;AACnB,2BAAyB;AAEzB,8BAA4B;AAMpB,wBAAqB;AAezB,WAAK,mBAAmB,CAAC,UAA4B,KAAK,YAAY;AACtE,WAAK,iBAAiB,CAAC,UAA4B,KAAK,UAAU;AAClE,WAAK,mBAAmB,CAAC,UAA4B,KAAK,YAAY;AACtE,WAAK,oBAAoB,CAAC,UAAiC,KAAK,aAAa;AAC7E,WAAK,qBAAqB,CAAC,UAA4B,KAAK,mBAAmB;AAC/E,WAAK,cAAc,MAAY,KAAK;AAEpC,WAAK,aAAa,IAAI;AACtB,WAAK,WAAW,IAAI;AACpB,WAAK,aAAa,IAAI;AAEtB,UAAI,CAAC;AAED,iBAAS,cAAa,MAAM,SAAS;;AAGzC,aAAO,iBAAiB,aAAa,KAAK;AAC1C,aAAO,iBAAiB,WAAW,KAAK;AACxC,aAAO,iBAAiB,SAAS,KAAK,mBAAmB,CAAE,SAAS;AACpE,aAAO,iBAAiB,eAAe,KAAK;AAE5C,aAAO,iBAAiB,WAAW,KAAK;AACxC,aAAO,iBAAiB,aAAa,KAAK;AAC1C,aAAO,iBAAiB,QAAQ,KAAK;AAErC,WAAK,SAAS;;IAGV;;IAIA,YAAa;AAEjB,WAAK,gBAAgB;AAErB,WAAK,cAAe,MAAM,WAAW;AACrC,WAAK,UAAW,MAAM,WAAW;AACjC,WAAK,gBAAiB,MAAM,WAAW;AAEvC,WAAK,MAAM,eAAe,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,MAAM,QAAQ;;IAG1E,UAAW;AAEf,WAAK,gBAAgB;AAErB,WAAK,cAAc,CAAE,OAAM,WAAW;AACtC,WAAK,UAAU,CAAE,OAAM,WAAW;AAClC,WAAK,gBAAgB,CAAE,OAAM,WAAW;AAExC,WAAK,MAAM,aAAa,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,MAAM,QAAQ;;IAGxE,YAAa;AAEjB,WAAK,gBAAgB;AAErB,WAAK,MAAM,eAAe,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG;;IAG5D,aAAc;AAElB,WAAK,MAAM,SAAS,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ;;IAG1D,mBAAoB;AAExB,UAAI,KAAK;AAEL,cAAM;;AAGV,WAAK,MAAM,eAAe;;IAG9B,gBAAiB;AAEb,aAAO,KAAK,WAAW,IAAI,MAAM,SAAS,MAAM;;IAGpD,uBAAgD,SAAW;AAEvD,YAAM,WAAW,QAAO;AAExB,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ;AAEjC,cAAM,QAAQ,SAAS;AAEvB,YAAI,CAAC,MAAM,WAAW,CAAC,MAAM,MAAM;AAE/B;;AAGJ,gBAAQ,KAAK;AAEb,YAAI,MAAM,MAAM,mBAAmB,MAAM;AAErC,eAAK,uBAAuB,OAAO;;;;IAK/C,aAAsC,QAAW,IAAY;AAEzD,UAAI,OAAO,MAAM;AAEb,YAAI,OAAO,MAAM,QAAQ,SAAS,IAAI;AAElC,iBAAO;;;AAKX,eAAO,OAAO,UAAU,OAAO,SAAS,IAAI;;AAGhD,aAAO;;IAGX,WAAoC;AAEhC,YAAM,SAAS,KAAK,WAAW;AAC/B,YAAM,SAAS,KAAK,WAAW;AAC/B,YAAM,QAAQ,KAAK;AAEnB,eAAS,IAAY,GAAG,IAAI,SAAS,QAAQ;AAEzC,cAAM,SAAS,SAAS;AAExB,YAAI,CAAC,OAAO;AAGR;;AAGJ,cAAM,MAAM,QAAO,OAAO,MAAM,OAAO,gBAAgB,OAAO,UAAU;AAExE,uBAAc,KAAK,QAAQ,QAAQ;AAEnC,YAAI,KAAK,aAAa,QAAQ,MAAM,GAAG,MAAM;AAEzC,eAAK,SAAS,IAAI,MAAM,GAAG,MAAM;AAEjC,iBAAO;;;AAIf,aAAO;;IAGX,gBAAyC,SAAW,UAAmB;AAEnE,YAAM,SAAwB;AAE9B,UAAI,CAAC,QAAO;AAER,eAAO;;AAIX,YAAM,aAA4B;AAClC,YAAM,cAAc,QAAO;AAE3B,UAAI,eAAe,YAAY;AAE3B,mBAAW,KAAK;;AAGpB,UAAI,YAAY,mBAAmB,QAAO;AAEtC,aAAK,uBAAuB,SAAQ;;AAGxC,eAAS,IAAY,WAAW,SAAS,GAAG,KAAK,GAAG;AAEhD,cAAM,SAAS,WAAW;AAE1B,YAAI,KAAK,QAAQ;AAEb,iBAAO,KAAK;AAEZ,cAAI;AAEA;;;;AAKZ,aAAO;;IAGX;AAEI,YAAM,SAAS,KAAK;AAEpB,aAAO,oBAAoB,aAAa,KAAK;AAC7C,aAAO,oBAAoB,WAAW,KAAK;AAC3C,aAAO,oBAAoB,SAAS,KAAK;AACzC,aAAO,oBAAoB,eAAe,KAAK;AAE/C,aAAO,oBAAoB,WAAW,KAAK;AAC3C,aAAO,oBAAoB,aAAa,KAAK;AAC7C,aAAO,oBAAoB,QAAQ,KAAK;;;;;AC9OhD;;;;;;ACAA,AAEO,6BAAoD;AAEvD,aAAS,QAAQ;AAEb,YAAM,MAAM,UAAU;;AAG1B,WAAO;;;;ACTX;;;;;;;;ACAA,AAOO,wBAAsB,SAAkB;AAE3C,QAAI;AAEJ,QAAI,MAAM,QAAQ,KAAK;AAGnB,eAAS,KAAK,SAAS,GAAG;eAErB,MAAM,QAAQ,KAAK;AAGxB,eAAS,KAAK;eAET,KAAK,eAAe;AAGzB,eAAS,OAAO,OAAO,KAAK;;AAI5B,cAAQ,KAAK;;AAGjB,QAAI;AAEA,UAAI;AAEJ,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ;AAE/B,cAAM,MAAM,OAAO;AAGnB,mBAAW,QAAQ,SAAS,IAAI,UAAU,IAAI,MAAM,GAAG,IAAI,MAAM,GAAG,IAAI,MAAM,GAAG,IAAI,MAAM;AAG3F,YAAI,IAAI;AAEJ,mBAAS,QACL,IAAI,WAAW,GACf,IAAI,WAAW,GACf,IAAI,iBAAiB,GACrB,IAAI,iBAAiB,GACrB,IAAI,iBAAiB,GACrB,IAAI,iBAAiB;;AAKzB,mBAAS,cAAc,IAAI,WAAW,GAAG,IAAI,WAAW;;AAG5D,YAAI,IAAI;;AAMR,YAAI,IAAI;AAEJ,mBAAS,SAAS,IAAI,OAAO,GAAG,IAAI,OAAO;;;;;;;ACnE3D;IAmBI,YAAa,KAAa,MAAa;AAbvC,0BAA2C;AAC3C,yBAAkC;AAOlC,uBAAqB;AACrB,uBAAqB;AAMjB,WAAK,MAAM;AACX,WAAK,MAAM;AACX,WAAK,SAAS;;;;;ACvBtB,AAEO,kBAAiB,KAAa,MAAa,WAAmB;AAEjE,QAAI,CAAC;AAED,aAAM,MAAM;;AAGhB,QAAK,6CAA8C,KAAK;AAEpD,aAAO;eAEF;AAEL,aAAO,OAAO,UAAU,OAAO,OAAO;;AAItC,aAAO;;;;;ACnBf,AAEO,0BAAyB;AAE5B,SAAK,OAAO,IAAI;AAEhB,QAAI,KAAK;AAEL,WAAK,KAAK,cAAc,KAAK;;AAGjC,WAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,WAAK,KAAK,SAAS;AAEf,YAAI,KAAK,KAAK;AAEV,eAAK,KAAK,SAAS;AACnB,eAAK,KAAK,UAAU;AACpB,kBAAQ;;;AAIhB,WAAK,KAAK,UAAU,CAAC;AAEjB,YAAI,KAAK,KAAK;AAEV,eAAK,KAAK,SAAS;AACnB,eAAK,KAAK,UAAU;AACpB,eAAK,QAAQ;AACb,iBAAO;;;AAIf,WAAK,KAAK,MAAM,KAAK;AAIrB,UAAI,KAAK,KAAK,YAAY,KAAK,KAAK,SAAS,KAAK,KAAK;AAEnD,aAAK,KAAK,SAAS;AACnB,aAAK,KAAK,UAAU;AACpB,gBAAQ;;;;;;AC1CpB,AAMO,sBAAoB,KAAa,MAAc;AAElD,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,UAAI,KAAK;AAEL,aAAK,cAAc,KAAK,OAAO;;AAGnC,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,iBAAiB,wBAAuB;AAE9C,YAAI,eAAe,IAAI,KAAK;AAExB,kBAAQ;;AAIR,yBAAe,MAAM,KAAK;AAEtB,2BAAe,IAAI,MAAK,KAAK,MAAK,MAA0B;AAE5D,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;AC3CX,QAAM,SAAS,IAAI;AAEZ,QAAM,QAAQ;IAEjB,KAAK,CAAC;AAEF,UAAI,CAAC,OAAO,IAAI;AAEZ,eAAO,IAAI,MAAM,IAAI;;AAGzB,aAAO,OAAO,IAAI;;IAGtB,UAAU,CAAC,OAAe;AAEtB,UAAI,OAAO,IAAI;AAEX,eAAO,OAAO,IAAI,OAAO,IAAI;;;;;;AClBzC,AAEO,qBAAoB;AAEvB,UAAM,MAAM,IAAI;AAEhB,QAAI,KAAK,OAAO,KAAK,KAAK;AAE1B,QAAI,eAAe,KAAK;AAExB,WAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,UAAI,SAAS;AAET,aAAK,OAAO,IAAI;AAChB,aAAK,YAAY;AAEjB,gBAAQ;;AAGZ,UAAI,UAAU;AAEV,aAAK,YAAY;AAEjB,eAAO;;AAIX,UAAI;;;;;AC5BZ,AAKO,qBAAmB,KAAa;AAEnC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK;AAEpD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,kBAAK,OAAO,KAAK,MAAM,MAAK;AAE5B,gBAAI,CAAC,MAAK;AAEN,oBAAM,IAAI,MAAK,KAAK,MAAK;;AAG7B,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;AC1CX,AAQO,qBAAoB,KAAa,YAAqB,UAAmB;AAE5E,UAAM,OAAO,UAAS,KAAK;AAC3B,UAAM,QAAQ,WAAU,KAAK,YAAY;AAEzC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAGR,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK;AACpD,YAAM,MAAM,OAAO,MAAM,KAAK,MAAM,KAAK,QAAQ,KAAK;AAEtD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,aAAK,YAAY;AAEjB,aAAK,OAAO,KAAK;AAEb,gBAAM,OAAO,KAAK;AAId,yBAAY,wBAAuB,MAAM,IAAI,MAAM,KAAK;AAExD,oBAAQ;aAET,MAAM;AAEL,mBAAO;;WAGZ,MAAM;AAEL,iBAAO;;;;AAKnB,WAAO;;;;AC/CX,AAeA,oBAAmB,MAAW;AAE1B,WAAO,SAAS,KAAK,aAAa,YAAY;;AAwB3C,6BAA2B,SAAkB,KAAkB;AAElE,UAAM,WAAW;AACjB,UAAM,WAAW;AAEjB,UAAM,OAAO,IAAI,qBAAqB,QAAQ;AAC9C,UAAM,SAAS,IAAI,qBAAqB,UAAU;AAElD,UAAM,OAAmB;MACrB,MAAM,KAAK,aAAa;MACxB,MAAM,SAAS,MAAM;MACrB,YAAY,SAAS,QAAQ,gBAAgB;MAC7C,OAAO;;AAGX,UAAM,UAAU,IAAI,qBAAqB;AAUzC,aAAS,IAAY,GAAG,IAAI,QAAQ,QAAQ;AAExC,YAAM,OAAO,QAAQ;AAErB,YAAM,WAAW,SAAS,MAAM;AAChC,YAAM,IAAI,SAAS,MAAM;AACzB,YAAM,IAAI,SAAS,MAAM;AACzB,YAAM,QAAQ,SAAS,MAAM;AAC7B,YAAM,SAAS,SAAS,MAAM;AAiB9B,WAAK,MAAM,YACX;QACI;QACA;QACA;QACA;QAGA,SAAS,SAAS,MAAM;QACxB,SAAS,SAAS,MAAM;QACxB,UAAU,SAAS,MAAM,cAAc;QAEvC,SAAS;;AAGb,cAAQ,SAAS,UAAU,GAAG,GAAG,OAAO;;AAmB5C,UAAM,WAAW,IAAI,qBAAqB;AAE1C,aAAS,IAAY,GAAG,IAAI,SAAS,QAAQ;AAEzC,YAAM,OAAO,SAAS;AAEtB,YAAM,QAAQ,SAAS,MAAM;AAC7B,YAAM,SAAS,SAAS,MAAM;AAC9B,YAAM,SAAS,SAAS,MAAM;AAE9B,WAAK,MAAM,QAAQ,QAAQ,SAAS;;AAGxC,WAAO;;;;AC1IX,AAMO,oBAAkB,KAAa;AAElC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,kBAAM,MAAM,SAAS,MAAK;AAE1B,gBAAI,QAAQ;AAER,oBAAK,OAAO;AAEZ,kBAAI,CAAC,MAAK;AAEN,sBAAM,IAAI,MAAK,KAAK;;AAGxB,sBAAQ;;AAIR,qBAAO;;aAGZ,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;ACpDX,AAQO,0BAAyB,KAAa,YAAqB,aAAsB;AAEpF,UAAM,MAAM,SAAQ,KAAK;AACzB,UAAM,QAAQ,WAAU,KAAK,YAAY;AAEzC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAGR,UAAI,MAAM,OAAO,IAAI,KAAK,IAAI,KAAK,QAAQ,KAAK;AAChD,YAAM,MAAM,OAAO,MAAM,KAAK,MAAM,KAAK,QAAQ,KAAK;AAEtD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,YAAI,YAAY;AAEhB,YAAI,OAAO,KAAK;AAEZ,gBAAM,OAAO,KAAK;AAGd,kBAAM,UAAU,wBAAuB,MAAM,IAAI;AAEjD,kBAAM,WAAW,kBAAiB,SAAS,IAAI;AAE/C,oBAAQ,OAAO;AAEf,oBAAQ;aAET,MAAM;AAEL,mBAAO;;WAGZ,MAAM;AAEL,iBAAO;;;;AAKnB,WAAO;;;;AClDX,AAKO,mBAAkB,KAAa;AAElC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,gBAAI,CAAC,MAAK;AAEN,oBAAM,IAAI,MAAK,KAAK,MAAK;;AAG7B,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;ACxCX,AAaO,4BAA2B,KAAa,MAAc;AAEzD,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,UAAM;MACF,WAAW;MACX,UAAU;MACV,MAAM;MACN,mBAAmB;QACnB;AAEJ,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK;AAEpD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,kBAAM,OAAO,KAAK,MAAM,MAAK;AAE7B,kBAAM,OAAO,IAAI,UAAS;cACtB,UAAU,KAAK;cACf,SAAS,KAAK;cACd,KAAK,KAAK;cACV;;AAGJ,kBAAK,OAAO;AAEZ,gBAAI,CAAC,MAAK;AAEN,oBAAM,IAAI,MAAK,KAAK;;AAGxB,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;AClEX,AAKO,mBAAkB,KAAa;AAElC,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,gBAAI,CAAC,MAAK;AAEN,oBAAM,IAAI,MAAK,KAAK,MAAK;;AAG7B,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;ACxCX,AAOO,2BAA0B,KAAa,MAAc,UAAmB;AAE3E,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,QAAQ,MAAM,IAAI;AAExB,YAAI,CAAC,KAAK,aAAa,MAAM,IAAI,KAAK;AAElC,kBAAQ;;AAIR,oBAAU,MAAM,KAAK;AAEjB,kBAAM,SAAS,iBAAiB,MAAK,MAAM;AAE3C,kBAAK,OAAO;AAEZ,gBAAI,CAAC,MAAK;AAEN,kBAAI,OAAM,MAAK;AAEf,qBAAO,QAAQ,CAAC,OAAO;AAEnB,oBAAI,QAAQ;AAER,yBAAM,MAAK,MAAM,MAAM;;AAG3B,sBAAM,OAAO,IAAI,UAAS,MAAM;AAEhC,sBAAM,IAAI,MAAK;;;AAKvB,oBAAQ;aAET,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;AC3DX,AAGO,8BAA4B,SAAkB,GAAW,GAAW,OAAe,QAAgB;AAEtG,UAAM;MACF,aAAa;MACb,WAAW;MACX,SAAS;MACT,UAAU;QACV;AAEJ,QAAI;MACA,cAAc;MACd,aAAa;QACb;AAEJ,QAAI,CAAC;AAED,oBAAc;;AAIlB,QAAI,eAAe;AAEf,YAAM,IAAI,MAAM;;AAGpB,UAAM,MAAc,KAAK,MAAO,SAAQ,SAAS,WAAY,cAAa;AAC1E,UAAM,SAAiB,KAAK,MAAO,UAAS,SAAS,WAAY,eAAc;AAC/E,QAAI,QAAgB,MAAM;AAE1B,QAAI,UAAU;AAEV,cAAQ,KAAK;;AAGjB,QAAI,aAAa,SAAS,aAAa,CAAC;AAEpC,mBAAa;;AAGjB,QAAI,aAAa;AAGb,mBAAa,QAAQ;;AAGzB,QAAI,aAAa;AAEb,cAAQ,aAAc,YAAW;;AAGrC,QAAI,KAAa;AACjB,QAAI,KAAa;AACjB,QAAI,KAAa;AACjB,QAAI,KAAa;AAEjB,aAAS,IAAY,GAAG,IAAI,OAAO;AAE/B,WAAK;AACL,WAAK;AAEL,YAAM,IAAY,KAAK;AACvB,YAAM,IAAY,KAAK;AAEvB,UAAI,IAAI;AAEJ,aAAK,IAAI;;AAGb,UAAI,IAAI;AAEJ,aAAK,IAAI;;AAGb,cAAQ,SAAS,GAAG,IAAI,IAAI,IAAI,IAAI,aAAa,IAAI,cAAc;AAEnE,YAAM,aAAa;AAEnB,UAAI,KAAK,aAAa;AAElB,aAAK;AACL,cAAM,cAAc;;;;;;ACnFhC,AAQO,2BAA0B,KAAa,MAAa,aAA2B;AAElF,UAAM,OAAO,IAAI,KAAK,KAAK;AAE3B,SAAK,OAAO;AAER,WAAK,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK;AAEnD,UAAI,KAAK;AAEL,aAAK,cAAc,KAAK,OAAO;;AAGnC,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,cAAM,iBAAiB,wBAAuB;AAE9C,YAAI,eAAe,IAAI,KAAK;AAExB,kBAAQ;;AAIR,yBAAe,MAAM,KAAK;AAEtB,kBAAM,UAAU,eAAe,IAAI,MAAK,KAAK,MAAK,MAA0B;AAE5E,gBAAI;AAEA,iCAAkB,SAAS,GAAG,GAAG,QAAQ,OAAO,QAAQ,QAAQ;AAEhE,sBAAQ;;AAIR,qBAAO;;aAGZ,MAAM;AAEL,mBAAO;;;;;AAMvB,WAAO;;;;ACtDX;;;;;;;;;;;;;;;ACAA,wBAI4B;IAmBxB;AAEI;AAnBJ,qBAAkB;AAClB,kBAAe;AACf,yBAAsB;AAGtB,kCAA+B;AAE/B,uBAAqB;AAcjB,WAAK;;IAGT;AAEI,WAAK,YAAY;AAEjB,WAAK,QAAQ,IAAI;AACjB,WAAK,WAAW,IAAI;AACpB,WAAK,YAAY,IAAI;AAErB,WAAK,WAAW;;IAGpB,OAAQ;AAEJ,WAAK,QAAQ;AAET,eAAO,SAAS;AAEhB,aAAK,MAAM,IAAI;;AAGnB,aAAO;;IAGX;AAEI,UAAI,KAAK;AAEL,eAAO;;AAGX,aAAO,IAAI,QAAQ,CAAC,SAAS;AAEzB,aAAK,UAAU;AACf,aAAK,WAAW;AAEhB,YAAI,KAAK,MAAM,OAAO;AAElB,eAAK,YAAY;AAEjB,eAAK,aAAa;AAClB,eAAK,UAAU;AAIf,eAAK,MAAM;AAEX,eAAK;;AAIL,eAAK,WAAW;AAEhB,eAAK,MAAM;AAEX;;;;IAuCZ;AAEI,UAAI,QAAQ,KAAK,MAAM;AAEvB,UAAI,KAAK,yBAAyB;AAE9B,gBAAQ,KAAK,IAAI,OAAO,KAAK,wBAAwB,KAAK,SAAS;;AAKvE,UAAI;AAIA,cAAM,WAAW,KAAK,MAAM;AAE5B,eAAO,QAAQ;AAEX,gBAAM,OAAO,SAAS,OAAO;AAI7B,eAAK,SAAS,IAAI;AAElB,eAAK,MAAM,OAAO;AAElB,eAAK,OACA,KACG,CAAC,UAAe,KAAK,aAAa,QAErC,MACG,CAAC,UAAe,KAAK,UAAU;AAGvC;;iBAGC,KAAK,SAAS,SAAS;AAI5B,aAAK;;;IAMb;AAEI,UAAI,CAAC,KAAK;AAEN;;AAGJ,WAAK,YAAY;AAEjB,WAAK,MAAM,YAAY,KAAK;AAE5B,WAAK;AAEL,WAAK,UAAU;;IAGX,eAAgB;AAEpB,WAAK,SAAS,OAAO;AACrB,WAAK,UAAU,IAAI;AAEnB,YAAM,iBAAiB,KAAK,UAAU;AACtC,YAAM,cAAc,KAAK,MAAM,OAAO,KAAK,SAAS;AAEpD,UAAI,iBAAiB;AAEjB,aAAK,WAAW,iBAAkB,kBAAiB;;AAGvD,WAAK,MAAM,YAAY,KAAK,UAAU,gBAAgB;AAEtD,WAAK;;IAGD,aAAc;AAElB,WAAK,MAAM,gBAAgB;AAE3B,WAAK,eAAe;;IAGhB,UAAW;AAEf,WAAK,MAAM,aAAa;AAExB,WAAK,eAAe;;IAGxB;AAEI,aAAO,KAAK,MAAM,OAAO,KAAK,SAAS;;IAG3C,WAAY,OAAc;AAEtB,UAAI,SAAQ,MAAM,KAAI,OAAO,QAAQ;AAEjC,eAAM,KAAI,OAAO;;AAGrB,WAAK,UAAU;AAEf,aAAO;;IAGX,QAAS,OAAe;AAEpB,UAAI,SAAS,MAAM,KAAK,OAAO,QAAQ;AAEnC,eAAO,KAAK,OAAO;;AAGvB,WAAK,OAAO;AAEZ,aAAO;;IAGX,QAAS;AAEL,WAAK,cAAc;AAEnB,aAAO;;IAGX,wBAAyB;AAErB,WAAK,uBAAuB;AAE5B,aAAO;;;;;ACnQf;;;;;;;;ACAA,AAEO,QAAM,eAAe,IAAI,UAAS;IACrC,SAAS,CAAE,GAAG,GAAG;IACjB,SAAS,CAAE,MAAM,MAAM;IACvB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,cAAc,IAAI,UAAS;IACpC,SAAS,CAAE,MAAM,MAAM;IACvB,SAAS,CAAE,MAAM,MAAM;IACvB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,QAAQ,IAAI,UAAS;IAC9B,SAAS,CAAE,UAAU,UAAU;IAC/B,SAAS,CAAE,UAAU,UAAU;IAC/B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,SAAS,IAAI,UAAS;IAC/B,SAAS,CAAE,QAAQ,QAAQ;IAC3B,SAAS,CAAE,OAAO,QAAQ;IAC1B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,SAAS,IAAI,UAAS;IAC/B,SAAS,CAAE,MAAM,MAAM;IACvB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,SAAS,IAAI,UAAS;IAC/B,SAAS,CAAE,SAAS,QAAQ;IAC5B,SAAS,CAAE,QAAQ,SAAS;IAC5B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,cAAc,IAAI,UAAS;IACpC,SAAS,CAAE,GAAG,KAAK;IACnB,SAAS,CAAE,GAAG,YAAY;IAC1B,UAAU,CAAE,YAAY,YAAY;IACpC,OAAO;;;;ACNX,AAEO,QAAM,aAAa,IAAI,UAAS;IACnC,SAAS,CAAE,GAAG,MAAM;IACpB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,MAAM,KAAK;IACvB,OAAO;;;;ACNX,AAEO,QAAM,UAAU,IAAI,UAAS;IAChC,SAAS,CAAE,QAAQ,QAAQ;IAC3B,SAAS,CAAE,SAAS,SAAS;IAC7B,UAAU,CAAE,OAAO,UAAU;IAC7B,OAAO;;;;ACNX,AAEO,QAAM,OAAO,IAAI,UAAS;IAC7B,SAAS,CAAE,SAAS,QAAQ;IAC5B,SAAS,CAAE,SAAS,SAAS;IAC7B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,eAAe,IAAI,UAAS;IACrC,SAAS,CAAE,GAAG,GAAG;IACjB,SAAS,CAAE,KAAK,MAAM;IACtB,UAAU,CAAE,MAAM,MAAM;IACxB,OAAO;;;;ACNX,AAEO,QAAM,cAAc,IAAI,UAAS;IACpC,SAAS,CAAE,GAAG,MAAM;IACpB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,MAAM,KAAK;IACvB,OAAO;;;;ACNX,AAEO,QAAM,OAAO,IAAI,UAAS;IAC7B,SAAS,CAAE,OAAO,QAAQ;IAC1B,SAAS,CAAE,MAAM,MAAM;IACvB,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,WAAW,IAAI,UAAS;IACjC,SAAS,CAAE,SAAS,MAAM;IAC1B,SAAS,CAAE,SAAS,MAAM;IAC1B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,QAAQ,IAAI,UAAS;IAC9B,SAAS,CAAE,MAAM,SAAS;IAC1B,SAAS,CAAE,GAAG,OAAO;IACrB,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,aAAa,IAAI,UAAS;IACnC,SAAS,CAAE,GAAG,GAAG;IACjB,SAAS,CAAE,KAAK,GAAG;IACnB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,YAAY,IAAI,UAAS;IAClC,SAAS,CAAE,MAAM,GAAG;IACpB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,KAAK,MAAM;IACvB,OAAO;;;;ACNX,AAEO,QAAM,OAAO,IAAI,UAAS;IAC7B,SAAS,CAAE,QAAQ,SAAS;IAC5B,SAAS,CAAE,SAAS,SAAS;IAC7B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,SAAS,IAAI,UAAS;IAC/B,SAAS,CAAE,SAAS,SAAS;IAC7B,SAAS,CAAE,SAAS,SAAS;IAC7B,UAAU,CAAE,UAAU,UAAU;IAChC,OAAO;;;;ACNX,AAEO,QAAM,YAAY,IAAI,UAAS;IAClC,SAAS,CAAE,KAAK,SAAS;IACzB,SAAS,CAAE,OAAO,SAAS;IAC3B,UAAU,CAAE,UAAU,SAAS;IAC/B,OAAO;;;;ACNX,AAEO,QAAM,eAAe,IAAI,UAAS;IACrC,SAAS,CAAE,GAAG,GAAG;IACjB,SAAS,CAAE,MAAM,MAAM;IACvB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,cAAc,IAAI,UAAS;IACpC,SAAS,CAAE,MAAM,MAAM;IACvB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,gBAAgB,IAAI,UAAS;IACtC,SAAS,CAAE,GAAG,GAAG;IACjB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX,AAEO,QAAM,eAAe,IAAI,UAAS;IACrC,SAAS,CAAE,MAAM,MAAM;IACvB,SAAS,CAAE,KAAK,KAAK;IACrB,UAAU,CAAE,KAAK,KAAK;IACtB,OAAO;;;;ACNX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;AASO,QAAM,SAAS;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACzBJ;;;;;AASO,QAAM,MAAM;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACzBJ;;;;;AASO,QAAM,MAAM;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACzBJ;;;;;AASO,QAAM,MAAM;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACzBJ;;;;;AASO,QAAM,MAAM;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACzBJ;;;;;AAQO,QAAM,QAAQ;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;;ACxBJ;;;;;;;;;;;;;;;;ACAA;;;;;;;;ACAA,AAGO,uBAAsB,QAAgB,QAAgB,QAAgB,IAAI,SAAiB,IAAI,OAAe,GAAG,OAAe;AAEnI,UAAM,MAAM,aAAa,OAAO;AAEhC,UAAM,WAAW,QAAQ;AACzB,UAAM,YAAY,SAAS;AAE3B,QAAI,YAAY;AAChB,QAAI,SAAS,GAAG,GAAG,OAAO;AAE1B,QAAI,YAAY;AAEhB,aAAS,IAAY,GAAG,IAAI,MAAM;AAE9B,eAAS,IAAa,IAAI,GAAI,IAAI,MAAM,KAAK;AAEzC,YAAI,SAAS,IAAI,UAAU,IAAI,WAAW,UAAU;;;AAI5D,WAAO,IAAI,SAAQ,IAAI;;;;ACvB3B;;;;;AAmFO,wBAAuB;AAE1B,UAAM;MACF,OAAO;MACP,UAAU;MACV,aAAa;MACb,cAAc;MACd,YAAY;MACZ,aAAa;QACb;AAEJ,QAAI;MACA,SAAS;MACT,eAAe;MACf,cAAc;QACd;AAEJ,UAAM,QAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,GAAG,SAAS;AACnD,UAAM,SAAS,KAAK,MAAM,KAAK,IAAI,KAAK,SAAS;AAEjD,QAAI,CAAC;AAED,eAAS,aAAa,OAAO,QAAQ;AACrC,qBAAe;AACf,oBAAc;;AAGlB,QAAI;AAEA,aAAO,QAAQ;AACf,aAAO,SAAS;;AAGpB,UAAM,MAAM,OAAO,WAAW;AAE9B,QAAI;AAEA,UAAI,UAAU,GAAG,GAAG,OAAO;;AAI/B,QAAI;AAEA,gBAAU,QAAQ;;AAItB,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ;AAE7B,YAAM,MAAM,KAAK;AAEjB,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ;AAE5B,cAAM,IAAY,IAAI;AAEtB,YAAI,MAAM,OAAO,MAAM;AAEnB,cAAI,YAAY,QAAQ,SAAS,OAAO,EAAE;AAC1C,cAAI,SAAS,IAAI,YAAY,IAAI,aAAa,YAAY;;;;AAMtE,QAAI;AAEA,iBAAW,QAAQ;;AAGvB,WAAO,IAAI,SAAQ;;;;ACxJvB,8BAOmC;IAM/B,YAAa,UAAyB,QAAgB,KAAK,SAAiB;AAExE,YAAM,MAAM,OAAO;AAEnB,WAAK,WAAW;;IAepB;AASI,aAAO;;IAGX;AAQI,aAAO;;IAGX,UAAW;AAIP,eAAS,IAAI,GAAG,MAAM,QAAQ,QAAQ,IAAI,KAAK;;AAK/C,aAAO;;IAGX;AAEI,YAAM,WAAW,KAAK;AAItB,eAAS;AAET,aAAO;;IAGX,QAAS;AAEL,WAAK;AACL,WAAK,UAAU;AACf,WAAK;AAEL,aAAO;;;;;ACpFf,AAGO,6BAA4B,SAAgB,iBAAiB,QAAgB,IAAI,SAAiB;AAErG,UAAM,MAAM,aAAa,OAAO;AAEhC,QAAI,YAAY;AAChB,QAAI,SAAS,GAAG,GAAG,OAAO;AAE1B,WAAO,IAAI,SAAQ,IAAI;;;;ACV3B;;;;;;;;;;ACAA,AAGO,qBAAoB,SAAmB;AAE1C,UAAM,SAAkB;AAExB,WAAO,QAAQ,CAAC;AAEZ,aAAO,KAAK,QAAQ,SAAS;;AAGjC,WAAO;;;;ACZX,AAYO,4BAA2B,SAAmB;AAEjD,UAAM;MACF,SAAS;MACT,QAAQ;MACR,UAAU;MACV,SAAS;QACT;AAEJ,QAAI,MAAM,QAAO;AAEjB,UAAM,SAAkB;AAExB,UAAM,OAAgB,QAAQ,MAAO,IAAI;AAGzC,WAAO;AAEP,aAAS,IAAY,OAAO,MAAM,KAAK,KAAK;AAExC,YAAM,WAAY,SAAS,EAAE,WAAW,SAAS,SAAS,OAAO;AAEjE,aAAO,KAAK,QAAQ,SAAS;;AAGjC,WAAO;;;;ACrCX,AAEO,qBAAoB,WAAoB;AAE3C,cAAS,QAAQ;AAEb,UAAI,QAAQ;AAER,gBAAQ,QAAQ,UAAU;;;AAIlC,WAAO;;;;ACZX;IASI;AAEI,WAAK,WAAW,IAAI;AAEpB,WAAK;AAEL,8BAAuB,IAAI;;IAGvB;AAEJ,WAAK,IAAI,WAAW,IAAI,SAAQ,aAAa,IAAI,IAAI;AAErD,YAAM,UAAU,aAAa,IAAI;AAEjC,cAAQ,cAAc;AACtB,cAAQ,OAAO,GAAG;AAClB,cAAQ,OAAO,IAAI;AACnB,cAAQ;AACR,cAAQ,WAAW,KAAK,KAAK,IAAI;AAEjC,WAAK,IAAI,aAAa,IAAI,SAAQ,QAAQ;AAE1C,YAAM,QAAQ,aAAa,IAAI;AAE/B,YAAM,YAAY;AAClB,YAAM,SAAS,GAAG,GAAG,IAAI;AAEzB,WAAK,IAAI,WAAW,IAAI,SAAQ,MAAM;;IAG1C,IAAK;AAED,YAAM,YAAW,KAAK;AAEtB,UAAI,UAAS,IAAI;AAEb,eAAO,UAAS,IAAI;;AAIpB,eAAO,UAAS,IAAI;;;IAI5B,IAAK;AAED,aAAO,KAAK,SAAS,IAAI;;IAG7B,IAAK,KAAa,QAAoC;AAElD,UAAI;AACJ,YAAM,YAAW,KAAK;AAEtB,UAAI,CAAC,UAAS,IAAI;AAEd,YAAI,kBAAkB;AAElB,oBAAU;;AAIV,oBAAU,IAAI,SAAQ,QAAQ,GAAG,GAAG;;AAGxC,gBAAQ,MAAM;AAEd,kBAAS,IAAI,KAAK;;AAGtB,aAAO;;;;;AChFf;;;;;;;;;;;;;;;ACAA,AAAO;;;;ACAP,AAKO,qBAAmB,OAAc;AAEpC,UAAM;MACF,WAAW;MACX,SAAS;MACT,QAAQ;MACR,UAAU;MACV,WAAW;MACX,WAAW;MACX,aAAa;QACb;AAEJ,UAAM,QAAqB;MACvB,SAAS;MACT;MACA;MACA;MACA,QAAQ;MACR;MACA;MACA;MACA;;AAGJ,UAAM,SAAS,CAAC;AAEZ,UAAI,MAAM,QAAQ;AAEd,cAAM,SAAS;AAEf,YAAI,MAAM,QAAQ;AAEd,gBAAM,QAAQ;;AAId,iBAAO;;;AAIf,UAAI,MAAM,UAAU;AAEhB,cAAM;AACN,cAAM,QAAQ;;AAGlB,UAAI,MAAM,UAAU;AAEhB,cAAM,WAAW;AAEjB,cAAM,SAAS,OAAO,MAAM,UAAU,MAAM;AAE5C,YAAI,MAAM,WAAW;AAEjB,cAAI,MAAM,SAAS;AAEf,kBAAM;AAEN,kBAAM,UAAU,MAAM;AAEtB,kBAAM,SAAS,MAAM;;AAIrB,kBAAM,UAAU;AAEhB,kBAAM;;;;AAKlB,aAAQ,MAAM,YAAY;;AAG9B,UAAM,OAAO,IAAI;;;;AC/ErB,AAGO,0BAAyB,OAAc,OAAe;AAEzD,cAAS,OACL;MACI,UAAU;MACV;MACA,YAAY;;;;;ACTxB;IAuBI,YAAa;AAET,WAAK,QAAQ;AAEb,WAAK,YAAY;AAEjB,WAAK,SAAS,IAAI;;IAGtB,OAAQ,OAAe;AAEnB,WAAK,MAAM;AAEX,eAAS,KAAK;AAEd,WAAK,OAAO,QAAQ;AAEhB,YAAI,MAAM,OAAO;AAEb,eAAK,OAAO,OAAO;;;;;;;AC1CnC;;;;;;;;;ACAA,AAGO,QAAM,mBAA2B;;;ACHxC,AAEO,QAAM,qBAA6B;;;ACF1C;;;;;;;ACAA,AAGO,qCAAmC,OAAoB;AAE1D,eAAW;AACX,eAAW;AAEX,QAAI,MAAM,KAAK,cAAc,WAAW;AAEpC,iBAAW;;AAGf,UAAM,SAAS,QAAQ;AAEnB,UAAI,MAAM,SAAS,SAAS;AAExB,kCAAyB,OAAO;;;;;;ACjB5C,AAGO,6BAA2B;AAE9B,QAAI,QAAO,KAAK,QAAQ,aAAY;AAEhC,aAAO;;AAGX,UAAM,QAAQ,CAAE;AAEhB,WAAO,MAAM,SAAS;AAElB,YAAM,QAAQ,MAAM;AAEpB,UAAI,MAAM,KAAK,QAAQ,aAAY;AAE/B,eAAO;;AAGX,YAAM,cAAc,MAAM,SAAS;AAEnC,UAAI,cAAc;AAEd,iBAAS,IAAI,GAAG,IAAI,aAAa;AAE7B,gBAAM,KAAK,MAAM,SAAS;;;;AAKtC,UAAM,SAAS;AAEf,WAAO;;;;AClCX,AAIO,+BAA6B,cAA6B;AAE7D,iBAAa,QAAQ;AAEjB,UAAI,eAAe,kBAAiB;AAGhC,cAAM,KAAK,SAAS,aAAY;;AAMhC,cAAM,SAAS,SAAS;;;;;;ACjBpC,AAGO,kCAAgC,cAA6B,SAAqB,SAAwB;AAE7G,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,OAAO,QAAO,SAAS;AAE7B,UAAI,KAAK;AAEL,cAAM,WAA0B;AAEhC,cAAM,QAAQ,CAAE,MAAM;AAEtB,eAAO,KAAK;AAEZ,YAAI,KAAK,sBAAsB,KAAK,cAAc;AAE9C,cAAI,KAAK;AAEL,yBAAa,KAAK;;AAGtB,iCAAsB,cAAc,MAAM;;;;AAKtD,WAAO;;;;AC7BX,AAMO,4BAA0B;AAE7B,UAAM,eAA8B;AACpC,UAAM,QAAuB;AAG7B,UAAM,UAAU,uBAAsB,cAAc,OAAO;AAE3D,UAAM,aAAa,MAAM;AAKzB,QAAI,aAAa,SAAS;AAEtB,0BAAmB,cAAc,MAAM,OAAO;;AAIlD,YAAQ,QAAQ;AAEZ,UAAI,MAAM,SAAS,SAAS;AAExB,kCAAyB,OAAO;;AAIhC,mBAAW;AACX,mBAAW;AAEX,YAAI,MAAM,KAAK,cAAc,WAAW;AAEpC,qBAAW;;;;AAKvB,UAAM,aAAa;AAEnB,QAAI,MAAM;AAEN,iBAAW;AAEX,YAAM,eAAe;;;;;ACjD7B,AAGO,4BAA0B,iBAAmC;AAEhE,oBAAgB,kBAAkB,gBAAgB;AAClD,oBAAgB,kBAAkB,gBAAgB;AAElD,QAAI,gBAAgB,OAAO;AAEvB,sBAAgB;;AAGpB,oBAAgB,UAAU,KAAK;;;;ACbnC,AAEO,iCAA+B,YAA8B;AAEhE,eAAW,YAAY;AACvB,eAAW,aAAa;AACxB,eAAW,cAAc;AACzB,eAAW,gBAAgB;;;;ACP/B,0BAsB+B;IAgB3B,YAAa;AAET;AAZJ,0BAAwB;AAExB,kBAAgB;AAYZ,WAAK,OAAO;AACZ,WAAK,QAAQ;AACb,WAAK,QAAQ;AAEb,WAAK,SAAS,IAAI;AAElB,WAAK,aAAa;AAElB,WAAK,kBAAkB,GAAG,OAAO,UAAU,CAAC,OAAe,SAAiB,KAAK,OAAO,OAAO;AAC/F,WAAK,kBAAkB,GAAG,OAAO,UAAU,CAAC,eAAiC,KAAK,OAAO;AACzF,WAAK,oBAAoB,GAAG,OAAO,YAAY,MAAM,KAAK;AAC1D,WAAK,OAAO,WAAW,MAAM,KAAK;;IAGtC,OAAQ,OAAe;AAEnB,UAAI,CAAC,KAAK;AAEN;;AAGJ,WAAK,MAAuB,aAAa,OAAO,MAAM;AAEtD,YAAM,OAAO,OAAO;;IAGxB,WAAY,OAAe;AAEvB,WAAK,MAAuB,iBAAiB,OAAO,MAAM;;IAG9D,OAAQ;AAEJ,YAAM,aAAa,KAAK;AAExB,4BAAqB,YAAY,gBAAgB;AAEjD,UAAI,CAAC,KAAK,cAAc,CAAC,KAAK;AAE1B;;AAGJ,uBAAgB;AAEhB,WAAK,MAAkB,kBAAkB,YAAY;AAErD,uBAAgB,iBAAiB;AAEjC,WAAK,OAAO,cAAc;;IAG9B,SAAkC;AAE9B,YAAM,gBAAgB,WAAW;AACjC,YAAM,UAAS,KAAK;AAEpB,UAAI,CAAC,iBAAiB,CAAC,YAAY,QAAO,gBAAgB,cAAc;AAEpE,cAAM;;AAGV,YAAM,YAAY;AAElB,WAAK,WAAW,QAAQ;AAEpB,YAAI,MAAM,SAAS,SAAS;AAExB,eAAK,WAAW,OAAO;;AAIvB,gBAAM,KAAK,SAAS;;;;IAKhC,WAAY,OAAoB;AAE5B,YAAM,KAAK,SAAS;AAEpB,YAAM,SAAS,QAAQ;AAEnB,YAAI,MAAM,SAAS,SAAS;AAExB,eAAK,WAAW,OAAO;;AAIvB,gBAAM,KAAK,SAAS;;;AAI5B,YAAM,KAAK,aAAa;;IAI5B,aAAsC;;IAKtC;AAEI,YAAM,QAAQ,KAAK;AAEnB,UAAI,OAAO,UAAU,KAAK;AAC1B,UAAI,OAAO,UAAU,KAAK;AAC1B,UAAI,OAAO,YAAY,KAAK;AAM5B,qBAAe;AAEf,WAAK,MAAkB,oBAAoB;AAE3C,4BAAqB,KAAK,YAAY;AAEtC,UAAI,KAAK;AAEL,aAAK,OAAO;;;IAIpB,QAAS;AAEL,YAAM,QAAQ;AAEd,WAAK,MAAuB,cAAc;AAE1C,4BAAqB,KAAK,YAAY;AAEtC,UAAI,KAAK;AAEL,aAAK,OAAO;;AAGhB,WAAK,OAAO;AAEZ,WAAK,SAAS;AACd,WAAK,aAAa;AAClB,WAAK,SAAS;;;;;ACxLtB,AAIO,iCAAgC,OAAmB;AAEtD,WAAO;MACH;MACA;MACA,WAAW;MACX,YAAY;MACZ,aAAa;MACb,eAAe;;;;;ACZvB,4BAYiC;IAI7B,YAAa;AAET,YAAM;AAEN,WAAK,OAAO;AAEZ,WAAK,SAAS,IAAI;AAElB,WAAK,aAAa,sBAAsB,MAAM,KAAK;;;;;ACxB3D,sBAY2B;IAMvB,YAAa;AAET,YAAM;AAJV,8BAA4B;AAMxB,WAAK,OAAO;AAEZ,WAAK,SAAS,IAAI;AAElB,WAAK,aAAa,sBAAsB,MAAM,KAAK;;;;;AC1B3D;;;;;;;;;;;;;;;;;ACAA,AAGO,QAAM,qBAA6B;;;ACH1C,AAEO,QAAM,uBAA+B;;;ACF5C;;;;;;;ACAA,AAGO,qCAAmC,OAAsB;AAE5D,eAAW;AACX,eAAW;AAEX,QAAI,MAAM,KAAK,cAAc,WAAW;AAEpC,iBAAW;;AAGf,UAAM,SAAS,QAAQ;AAEnB,UAAI,MAAM,SAAS,SAAS;AAExB,kCAAyB,OAAO;;;;;;ACjB5C,AAGO,4BAA2B;AAE9B,QAAI,QAAO,KAAK,QAAQ,aAAY;AAEhC,aAAO;;AAGX,UAAM,QAAQ,CAAE;AAEhB,WAAO,MAAM,SAAS;AAElB,YAAM,QAAQ,MAAM;AAEpB,UAAI,MAAM,KAAK,QAAQ,aAAY;AAE/B,eAAO;;AAGX,YAAM,cAAc,MAAM,SAAS;AAEnC,UAAI,cAAc;AAEd,iBAAS,IAAI,GAAG,IAAI,aAAa;AAE7B,gBAAM,KAAK,MAAM,SAAS;;;;AAKtC,UAAM,SAAS;AAEf,WAAO;;;;AClCX,AAIO,+BAA6B,cAA+B;AAE/D,iBAAa,QAAQ;AAEjB,UAAI,eAAe,iBAAiB;AAGhC,cAAM,KAAK,SAAS,aAAY;;AAMhC,cAAM,SAAS,SAAS;;;;;;ACjBpC,AAGO,kCAAgC,cAA+B,SAAuB,SAA0B;AAEnH,aAAS,IAAI,GAAG,IAAI,QAAO,aAAa;AAEpC,YAAM,OAAO,QAAO,SAAS;AAE7B,UAAI,KAAK;AAEL,cAAM,WAA4B;AAElC,cAAM,QAAQ,CAAE,MAAM;AAEtB,eAAO,KAAK;AAEZ,YAAI,KAAK,sBAAsB,KAAK,cAAc;AAE9C,cAAI,KAAK;AAEL,yBAAa,KAAK;;AAGtB,iCAAsB,cAAc,MAAM;;;;AAKtD,WAAO;;;;AC7BX,AAMO,4BAA0B;AAE7B,UAAM,eAAgC;AACtC,UAAM,QAAyB;AAG/B,UAAM,UAAU,uBAAsB,cAAc,OAAO;AAE3D,UAAM,aAAa,MAAM;AAKzB,QAAI,aAAa,SAAS;AAEtB,0BAAmB,cAAc,MAAM,OAAO;;AAIlD,YAAQ,QAAQ;AAEZ,UAAI,MAAM,SAAS,SAAS;AAExB,kCAAyB,OAAO;;AAIhC,mBAAW;AACX,mBAAW;AAEX,YAAI,MAAM,KAAK,cAAc,WAAW;AAEpC,qBAAW;;;;AAKvB,UAAM,aAAa;AAEnB,QAAI,MAAM;AAEN,iBAAW;AAEX,YAAM,eAAe;;;;;ACjD7B,AAGO,4BAA0B,iBAAmC;AAEhE,oBAAgB,kBAAkB,gBAAgB;AAClD,oBAAgB,kBAAkB,gBAAgB;AAElD,QAAI,gBAAgB,OAAO;AAEvB,sBAAgB;;AAGpB,oBAAgB,UAAU,KAAK;;;;ACbnC,AAEO,mCAAiC,YAAgC;AAEpE,eAAW,YAAY;AACvB,eAAW,aAAa;AACxB,eAAW,cAAc;AACzB,eAAW,gBAAgB;;;;ACP/B,4BAoBiC;IAe7B,YAAa;AAET;AAXJ,0BAAwB;AAExB,kBAAgB;AAWZ,WAAK,OAAO;AACZ,WAAK,QAAQ;AACb,WAAK,QAAQ;AAEb,WAAK,SAAS,IAAI;AAElB,WAAK,aAAa;AAElB,WAAK,kBAAkB,GAAG,OAAO,UAAU,CAAC,OAAe,SAAiB,KAAK,OAAO,OAAO;AAC/F,WAAK,kBAAkB,GAAG,OAAO,UAAU,CAAC,eAAiC,KAAK,OAAO;AACzF,WAAK,oBAAoB,GAAG,OAAO,YAAY,MAAM,KAAK;AAC1D,WAAK,OAAO,WAAW,MAAM,KAAK;;IAGtC,OAAQ,OAAe;AAEnB,UAAI,CAAC,KAAK;AAEN;;AAGJ,WAAK,MAAuB,aAAa,OAAO,MAAM;AAEtD,YAAM,OAAO,OAAO;;IAGxB,WAAY,OAAe;AAEvB,WAAK,MAAuB,iBAAiB,OAAO,MAAM;;IAG9D,OAAQ;AAEJ,YAAM,aAAa,KAAK;AAExB,8BAAuB,YAAY,gBAAgB;AAEnD,UAAI,CAAC,KAAK,cAAc,CAAC,KAAK;AAE1B;;AAGJ,uBAAgB;AAEhB,WAAK,MAAoB,oBAAoB,YAAY;AAEzD,uBAAgB,iBAAiB;;IAQrC,WAAY,OAAsB;AAE9B,YAAM,KAAK,SAAS;AAEpB,YAAM,SAAS,QAAQ;AAEnB,YAAI,MAAM,SAAS,SAAS;AAExB,eAAK,WAAW,OAAO;;AAIvB,gBAAM,KAAK,SAAS;;;AAI5B,YAAM,KAAK,aAAa;;IAG5B;AAEI,YAAM,QAAQ,KAAK;AAEnB,UAAI,OAAO,UAAU,KAAK;AAC1B,UAAI,OAAO,UAAU,KAAK;AAC1B,UAAI,OAAO,YAAY,KAAK;AAM5B,uBAAiB;AAEjB,WAAK,MAAoB,sBAAsB;AAE/C,8BAAuB,KAAK,YAAY;;IAQ5C,QAAS;AAEL,YAAM,QAAQ;AAEd,WAAK,MAAuB,cAAc;AAE1C,8BAAuB,KAAK,YAAY;AAOxC,WAAK,OAAO;AAEZ,WAAK,SAAS;AACd,WAAK,aAAa;AAClB,WAAK,SAAS;;;;;ACzJtB,AAIO,mCAAkC,OAAiB;AAEtD,WAAO;MACH;MACA;MACA,WAAW;MACX,YAAY;MACZ,aAAa;MACb,eAAe;;;;;ACZvB,AAAO,QAAM,qBACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA,AAAO,QAAM,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAlC,mCAOwC;IAEpC;AAEI;AAEA,YAAM,WAAW,IAAI,aAAa,IAAI,KAAK;AAC3C,YAAM,WAAW,CAAE,GAAG,GAAG;AAEzB,YAAM,UAAS;QACX,gBAAgB;QAChB,cAAc;QACd,YAAY;UACR,iBAAiB,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;UAC7E,eAAe,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;UAC3E,eAAe,CAAE,MAAM,GAAG,MAAe,OAAO,YAAY,OAAO,QAAQ;;QAE/E,UAAU;UACN,uBAAuB;UACvB,eAAe;UACf,cAAc;UACd,iBAAiB;UAEjB,UAAU;UAEV,gBAAgB;UAChB,eAAe;UACf,eAAe;UACf,gBAAgB;UAEhB,kBAAkB;UAClB,kBAAkB;UAClB,mBAAmB;UACnB,gBAAgB;;;AAIxB,WAAK,WAAW;;;;;AC5CxB;IA0DI,YAAa,MAAc,IAAI,OAAe,KAAK,MAAc;AA3BjE,qBAAmB;AAEnB,yBAAsB;AACtB,yBAAsB;AAEtB,2BAAwB;AACxB,2BAAwB,KAAK;AAE7B,6BAA0B;AAC1B,6BAA0B;AAE1B,yBAAuB;AAEvB,qBAAkB;AAClB,sBAAmB;AACnB,wBAAqB;AAQb,kBAAe;AACf,oBAAiB;AACjB,mBAAgB;AAIpB,WAAK,OAAO;AAEZ,WAAK,OAAO;AACZ,WAAK,QAAQ;AACb,WAAK,OAAO;AAEZ,WAAK,SAAS,IAAI;AAClB,WAAK,aAAa,IAAI;AACtB,WAAK,mBAAmB,IAAI;AAC5B,WAAK,uBAAuB,IAAI;AAEhC,WAAK,WAAW,IAAI,aAAa,MAAM,KAAK;AAC5C,WAAK,WAAW,IAAI;AAEpB,YAAM,OAAO,cAAa;AAE1B,YAAM,WAAW,KAAK;AAEtB,WAAK,WAAW,IAAI,UAAU,GAAG,GAAG,SAAS,OAAO,SAAS;AAE7D,WAAK,WAAW;AAEhB,WAAK,UAAU;AACf,WAAK,KAAK;AACV,WAAK,QAAQ;AAEb,WAAK,QAAQ,IAAI;AAEjB,WAAK;;IAGT;AAEI,YAAM,UAAS,KAAK;AACpB,YAAM,OAAO,KAAK;AAElB,gCAA0B,KAAK,UAAU,KAAK,UAAU,CAAC,KAAK,SAAS;AAEvE,wBAAkB,SAAS,SAAQ,KAAK;AACxC,wBAAkB,IAAI,SAAQ,KAAK;AACnC,wBAAkB,OAAO,SAAQ,KAAK;AAEtC,aAAO,SAAQ;AAEf,eAAS,KAAK,kBAAkB,MAAM,KAAK;AAE3C,aAAO;;IAGX,KAAM;AAEF,YAAM,MAAM,KAAK;AAEjB,UAAI,CAAC,KAAK;AAEN,oBAAY,KAAK,KAAK,OAAO,QAAQ;;AAGzC,aAAO;;IAGX,KAAM;AAEF,YAAM,MAAM,KAAK;AACjB,YAAM,KAAK,KAAK;AAEhB,UAAI,KAAK;AAEL,YAAI,KAAK,GAAG,IAAI;;AAIhB,oBAAY,KAAK,IAAI,QAAQ;;AAGjC,aAAO;;IAGX,KAAM;AAEF,YAAM,MAAM,KAAK;AAEjB,UAAI,KAAK;AAEL,YAAI,KAAK;;AAIT,oBAAY,KAAK,KAAK,SAAS,QAAQ;;AAG3C,aAAO;;IAGX,MAAO,GAAW;AAEd,WAAK,MAAM,IAAI,GAAG;;IAGtB,IAAK,GAAW;AAEZ,YAAM,KAAK,IAAI,KAAK,MAAM;AAC1B,YAAM,KAAK,IAAI,KAAK,MAAM;AAC1B,YAAM,WAAW,KAAK;AAEtB,WAAK,KAAK,CAAC,KAAM,MAAK,UAAU,SAAS;AACzC,WAAK,KAAK,KAAM,MAAK,UAAU,SAAS;AAExC,WAAK,MAAM,IAAI,GAAG;;IAGtB,OAAQ,GAAW;AAEf,YAAM,KAAK,IAAI,KAAK,MAAM;AAC1B,YAAM,KAAK,IAAI,KAAK,MAAM;AAC1B,YAAM,WAAW,KAAK;AAEtB,WAAK,SAAS,KAAK,KAAM,MAAK,aAAa,SAAS;AACpD,WAAK,SAAS,KAAK,KAAM,MAAK,aAAa,SAAS;AAEpD,WAAK,MAAM,IAAI,GAAG;AAElB,WAAK;;IAGT,KAAM;AAEF,WAAK,KAAK,MAAM,OAAO,IAAI,KAAM,MAAK,WAAW,KAAK,SAAS;;IA8BnE,eAAgB;AAEZ,UAAI,CAAC;AAED,cAAM,WAAW,KAAK;AAEtB,gBAAQ,SAAS,QAAQ,SAAS;;AAGtC,WAAK,SAAS;AAEd,aAAO,KAAK;;IAGhB;AAEI,kBAAY,SAAS,KAAK,OAAO,KAAK,QAAQ,KAAK,OAAO,KAAK,MAAM,KAAK;AAE1E,aAAO;;QAGP;AAEA,aAAO,KAAK;;QAGZ,IAAK;AAEL,WAAK,OAAO,MAAM,OAAO,GAAG;AAE5B,WAAK;;QAGL;AAEA,aAAO,KAAK;;QAGZ,KAAM;AAEN,UAAI,QAAQ;AAER,aAAK,QAAQ;AAEb,aAAK;;;QAIT;AAEA,aAAO,KAAK;;QAGZ,IAAK;AAEL,UAAI,QAAQ;AAER,aAAK,OAAO;AAEZ,aAAK;;;QAIT;AAEA,aAAO,KAAK;;QAGZ,IAAK;AAEL,WAAK,OAAO;AAEZ,2BAAqB,OAAO,KAAK,QAAQ,KAAK,OAAO,KAAK;;QAG1D;AAEA,aAAO,KAAK;;QAGZ,MAAO;AAEP,WAAK,SAAS;AAEd,2BAAqB,KAAK,MAAM,OAAO,KAAK,OAAO,KAAK;;QAGxD;AAEA,aAAO,KAAK;;QAGZ,KAAM;AAEN,WAAK,QAAQ;AAEb,2BAAqB,KAAK,MAAM,KAAK,QAAQ,OAAO,KAAK;;;;;ACzTjE,wBAc6B;IAUzB,YAAa,OAAe,IAAY,GAAG,IAAY,GAAG,IAAY,GAAG;AAErE,YAAM;AAJV,8BAA4B;AAMxB,WAAK,OAAO;AAEZ,WAAK,SAAS,IAAI;AAElB,WAAK,OAAO,SAAS,IAAI,GAAG,GAAG;AAE/B,WAAK,QAAQ,IAAI,OAAM;AAEvB,WAAK,SAAS,IAAI;AAElB,WAAK,aAAa,wBAAwB,MAAM,KAAK;;IAGzD,SAAkC;AAE9B,YAAM;AAEN,YAAM,SAAS,KAAK;AACpB,YAAM,UAAS,KAAK;AACpB,YAAM,MAAK,WAAW,SAAS;AAM/B,gBAAU,YAAY,QAAQ;AAE9B,aAAO,WAAW,yBAAyB,QAAO,qBAAqB;AACvE,aAAO,WAAW,mBAAmB,QAAO,SAAS;AAErD,WAAK,MAAM,YAAY;AAKvB,UAAG,OAAO,IAAG;AAKb,WAAK,WAAW,QAAQ;AAEpB,YAAI,MAAM,SAAS,SAAS;AAExB,eAAK,WAAW,OAAO;;AAIvB,gBAAM,KAAK,SAAS;;;;IAKhC,aAAsC;AAElC,YAAM,MAAK,WAAW,SAAS;AAI/B,UAAG,QAAQ,IAAG;AACd,UAAG,QAAQ,IAAG;AAMd,gBAAU;;;;;AC9FlB;;;;;;;;;;;;;;;;ACAA,AAEO;AAEH,WAAO;MACH,WAAW;MACX,gBAAgB;MAChB,gBAAgB;MAChB,iBAAiB;MACjB,WAAW;;;;;ACTnB,AAEO,gCAA+B,YAA8B,YAAoB;AAEpF,eAAW,YAAY;AACvB,eAAW,iBAAiB;AAC5B,eAAW,iBAAiB;AAC5B,eAAW,kBAAkB;AAC7B,eAAW,UAAU,SAAS;;;;ACRlC,AAEA,MAAI;AAEG,QAAM,wBACb;IACI,KAAK;AAED,aAAO;;IAGX,KAAK,CAAC;AAEF,kBAAW;;;;;ACbnB;IAyBI;AAVA,oBAA+B,IAAI;AAGnC,wBAAqB;AAGrB,mBAAiB;AAEjB,0BAAiC;AAI7B,WAAK,OAAO,cAAa;AAEzB,4BAAqB,IAAI;AAEzB,WAAK,KAAK,MAAM,QAAQ,MAAM,KAAK;;IAGvC;AAEI,kBAAY,QAAQ,WAAS,IAAI;;IAGrC,OAAQ,OAAe;AAEnB,iBAAW,SAAS,KAAK,OAAO;AAE5B,aAAK,OAAO,UAAU,OAAO;;;IAIrC,OAAQ;AAEJ,YAAM,UAAU,KAAK;AAErB,2BAAqB,SAAS;AAE9B,iBAAW,SAAS,KAAK,OAAO;AAE5B,aAAK,OAAO,UAAU;;AAG1B,UAAI,KAAK;AAGL,gBAAQ;AAGR,aAAK,QAAQ;;AAGjB,aAAO;;;;;ACnEf,qBAS0B;IAoBtB,eAAgB;AAEZ;AApBK,qBAAkB;AAE3B,sBAAoB;AACpB,sBAAoB;AAEpB,wBAAsB;AACtB,wBAAsB;AAEtB,sBAAmB;AACnB,qBAAkB;AAGlB,mBAAgB;AAUZ,oBAAa,IAAI;AAEjB,uBAAiB,MAAM,KAAK,KAAK;;IAGrC,KAAM;AAGF,eAAS,QAAQ,aAAW;AAE5B,YAAM,WAAW;AAEjB,WAAK,WAAW,IAAI;AACpB,WAAK,iBAAiB,IAAI;AAC1B,WAAK,eAAe,IAAI;AAIxB,YAAM,UAAS;AAEf,UAAI;AAEA,iBAAS,KAAK,SAAS,QAAQ;;AAGnC,WAAK,WAAW;AAEhB;AAEA,WAAK,MAAM;AAEX,WAAK,WAAW,YAAY;AAE5B,WAAK,KAAK,KAAK;;IAGnB;AAEI,WAAK,WAAW;;IAGpB;AAEI,WAAK,WAAW;AAEhB,WAAK,WAAW,YAAY;;IAGhC,KAAM;AAGF,YAAM,QAAQ,OAAO,KAAK;AAE1B,WAAK,WAAW;AAChB,WAAK,WAAW;AAEhB,UAAI,CAAC,KAAK;AAEN,YAAI,KAAK;AAEL,eAAK,aAAa,OAAO,OAAO;AAEhC,eAAK,MAAM,UAAU,OAAO;;AAGhC,YAAI,KAAK;AAEL,eAAK,SAAS,OAAO,KAAK,aAAa,OAAO,KAAK;;;AAK3D,WAAK;AAEL,oBAAa,SAAS,KAAK;AAC3B,oBAAa,WAAW,KAAK;AAE7B,4BAAsB,SAAO,KAAK,KAAK;;IAG3C;;;;;ACjHJ,AAEO,0BAA8D,SAAsB,UAAoB;AAE3G,QAAI,OAAO,UAAU,eAAe,KAAK,SAAQ;AAE7C,aAAO,QAAO;;AAId,aAAO;;;;;ACVf,AAKO,mBAAkB,OAAe,UAAgC;AAEpE,UAAM,eAAe,sBAAqB;AAE1C,UAAM,OAAO,aAAa,OAAO;AACjC,UAAM,aAAa,aAAa;AAChC,UAAM,aAAc,SAAS;AAE7B,QAAI,OAAO,YAAW;AAElB,YAAM,MAAM;eAEP,WAAW,CAAC,WAAU;AAE3B,YAAM,MAAM,eAAe,SAAQ,OAAO,UAAU,WAAW;;AAGnE,QAAI,aAAa,OAAO,IAAI,MAAM;AAE9B,cAAQ,KAAK,+BAA+B,MAAM;;AAIlD,mBAAa,OAAO,IAAI,MAAM,KAAK;AAEnC,mBAAa,QAAQ;AAErB,mBAAa;;;;;AChCrB;IAgBI,YAAa;AAET,WAAK,OAAO,cAAa;AACzB,WAAK,SAAS,IAAI;AAElB,cAAQ,MAAM;;;",
  "names": []
}
